{"version":3,"sources":["webpack:///webpack/bootstrap 899f6941ff0e43209af8","webpack:///./~/react/index.js","webpack:///./public/styles/App.css","webpack:///./~/flatten-js/index.js","webpack:///./src/actions/action-types.js","webpack:///./src/models/layers.js","webpack:///./public/easeljs-NEXT.combined.js","webpack:///./src/models/graphics.js","webpack:///./src/utils.js","webpack:///./~/fbjs/lib/emptyFunction.js","webpack:///./src/models/job.js","webpack:///./src/models/model.js","webpack:///./~/fbjs/lib/invariant.js","webpack:///./~/flatten-interval-tree/index.js","webpack:///./~/object-assign/index.js","webpack:///./src/components/modalPopupComponent.js","webpack:///./src/models/parserODB.js","webpack:///./~/fbjs/lib/emptyObject.js","webpack:///./~/flatten-interval-tree/utils/constants.js","webpack:///./~/lodash/_Symbol.js","webpack:///./~/lodash/isPlainObject.js","webpack:///./~/promise/lib/core.js","webpack:///./~/react-dom/index.js","webpack:///./~/react-fontawesome/lib/index.js","webpack:///./~/redux/lib/compose.js","webpack:///./~/redux/lib/createStore.js","webpack:///./~/redux/lib/index.js","webpack:///./~/redux/lib/utils/warning.js","webpack:///./~/@alexbol99/collision_distance/index.js","webpack:///./~/asap/browser-raw.js","webpack:///./src/App.js","webpack:///./src/components/asideComponent.js","webpack:///./src/components/canvasComponent.js","webpack:///./src/components/headerComponent.js","webpack:///./src/components/imageComponent.js","webpack:///./src/components/layerComponent.js","webpack:///./src/components/layerListElement.js","webpack:///./src/components/layerListToolbarComponent.js","webpack:///./src/components/layersListComponent.js","webpack:///./src/components/mainComponent.js","webpack:///./src/components/shapeComponent.js","webpack:///./src/components/stageComponent.js","webpack:///./src/components/statusComponent.js","webpack:///./src/components/toolbarComponent.js","webpack:///./src/forms/aboutPopup.js","webpack:///./src/forms/layerEditForm.js","webpack:///./src/index.js","webpack:///./src/middleware/aabb_demo.js","webpack:///./src/middleware/boolean_test.js","webpack:///./src/middleware/collision_demo.js","webpack:///./src/middleware/demo.js","webpack:///./src/middleware/log.js","webpack:///./src/middleware/pasteData.js","webpack:///./src/middleware/readFiles.js","webpack:///./src/middleware/skeleton_recognition.js","webpack:///./src/middleware/stageController.js","webpack:///./src/models/distance.js","webpack:///./src/models/layer.js","webpack:///./src/models/parseCSV.js","webpack:///./src/models/parsePGM.js","webpack:///./src/models/parser.js","webpack:///./src/models/parserXML.js","webpack:///./src/models/stage.js","webpack:///./src/reducer.js","webpack:///./src/tools/aabbDemoTool.js","webpack:///./src/tools/collisionDistanceDemoTool.js","webpack:///./src/tools/displayCoordsTool.js","webpack:///./src/tools/measurePointsTool.js","webpack:///./src/tools/measureShapesTool.js","webpack:///./~/fbjs/lib/EventListener.js","webpack:///./~/fbjs/lib/ExecutionEnvironment.js","webpack:///./~/fbjs/lib/containsNode.js","webpack:///./~/fbjs/lib/focusNode.js","webpack:///./~/fbjs/lib/getActiveElement.js","webpack:///./~/fbjs/lib/isNode.js","webpack:///./~/fbjs/lib/isTextNode.js","webpack:///./~/fbjs/lib/shallowEqual.js","webpack:///./~/flatten-interval-tree/classes/interval.js","webpack:///./~/flatten-interval-tree/classes/node.js","webpack:///./~/flatten-js/algorithms/distance.js","webpack:///./~/flatten-js/algorithms/ray_shooting.js","webpack:///./~/flatten-js/classes/arc.js","webpack:///./~/flatten-js/classes/box.js","webpack:///./~/flatten-js/classes/circle.js","webpack:///./~/flatten-js/classes/edge.js","webpack:///./~/flatten-js/classes/face.js","webpack:///./~/flatten-js/classes/line.js","webpack:///./~/flatten-js/classes/matrix.js","webpack:///./~/flatten-js/classes/point.js","webpack:///./~/flatten-js/classes/polygon.js","webpack:///./~/flatten-js/classes/ray.js","webpack:///./~/flatten-js/classes/segment.js","webpack:///./~/flatten-js/classes/vector.js","webpack:///./~/flatten-js/data_structures/planar_set.js","webpack:///./~/flatten-js/utils/errors.js","webpack:///./~/flatten-js/utils/utils.js","webpack:///./~/lodash/_baseGetTag.js","webpack:///./~/lodash/_freeGlobal.js","webpack:///./~/lodash/_getPrototype.js","webpack:///./~/lodash/_getRawTag.js","webpack:///./~/lodash/_objectToString.js","webpack:///./~/lodash/_overArg.js","webpack:///./~/lodash/_root.js","webpack:///./~/lodash/isObjectLike.js","webpack:///./~/promise/lib/es6-extensions.js","webpack:///./~/promise/lib/rejection-tracking.js","webpack:///./~/prop-types/factoryWithThrowingShims.js","webpack:///./~/prop-types/index.js","webpack:///./~/prop-types/lib/ReactPropTypesSecret.js","webpack:///./~/react-dom/cjs/react-dom.production.min.js","webpack:///./~/react-fontawesome/lib/screen-reader-styles.js","webpack:///./~/react-scripts/config/polyfills.js","webpack:///./~/react-scripts/~/whatwg-fetch/fetch.js","webpack:///./~/react/cjs/react.production.min.js","webpack:///./~/redux/lib/applyMiddleware.js","webpack:///./~/redux/lib/bindActionCreators.js","webpack:///./~/redux/lib/combineReducers.js","webpack:///./~/symbol-observable/index.js","webpack:///./~/symbol-observable/lib/index.js","webpack:///./~/symbol-observable/lib/ponyfill.js","webpack:///./public/icons/WidthOn.png","webpack:///./public/icons/editContourVertextOnOff.png","webpack:///./public/icons/measureContour.png","webpack:///./public/icons/measurePoints.png","webpack:///(webpack)/buildin/module.js"],"names":["NEW_STAGE_CREATED","STAGE_RESIZED","WINDOW_HASH_CHANGED","NEW_SHAPE_PASTED","TOGGLE_UNITS_CLICKED","TOGGLE_WIDTH_MODE_CLICKED","TOGGLE_DISPLAY_VERTICES_CLICKED","TOGGLE_DISPLAY_LABELS_CLICKED","MOUSE_MOVED_ON_STAGE","MOUSE_DOWN_ON_STAGE","MOUSE_UP_ON_STAGE","MOUSE_WHEEL_MOVE_ON_STAGE","MOUSE_ROLL_OVER_SHAPE","MOUSE_ROLL_OUT_SHAPE","MOUSE_CLICKED_ON_SHAPE","PAN_TO_COORDINATE","PAN_AND_ZOOM_TO_SHAPE","LAYER_LIST_PANEL_PRESSED","ADD_LAYER_PRESSED","DELETE_LAYER_BUTTON_PRESSED","SORT_LAYERS_BUTTON_PRESSED","TOGGLE_DISPLAY_LAYER_PRESSED","TOGGLE_AFFECTED_LAYER_PRESSED","OPEN_LAYER_EDIT_FORM_PRESSED","SUBMIT_LAYER_EDIT_FORM_PRESSED","ESCAPE_LAYER_EDIT_FORM_PRESSED","LAYERS_LIST_ARROW_DOWN_PRESSED","LAYERS_LIST_ARROW_UP_PRESSED","TOGGLE_WATCH_EXPAND_CLICKED","FILENAME_LIST_SELECTED","INPUT_FILE_LOADED","DATA_FROM_BUFFER_PASTED","PAN_BY_DRAG_BUTTON_CLICKED","MEASURE_POINTS_BUTTON_PRESSED","MEASURE_SHAPES_BUTTON_PRESSED","SHOW_ABOUT_POPUP_BUTTON_PRESSED","CLOSE_ABOUT_POPUP_BUTTON_PRESSED","AABB_DEMO_URI","AABB_DEMO_NEXT_DIST_STEP","AABB_TREE_NEXT_LEVEL","COLLISION_DEMO_URI","COLLISION_DEMO_BUTTON_PRESSED","SKELETON_RECOGNITION_URI","SKELETON_RECOGNITION_BUTTON_PRESSED","colors","Layers","stage","layers","layer","name","getNewName","length","displayed","affected","defaultName","inc","comparator","find","lay","currentAffectedLayer","getAffected","color","col","newLayers","filter","l","slice","sort","l1","l2","name1","toUpperCase","name2","graphics","createjs","Point","Segment","Circle","Arc","Polygon","Box","shape","style","undefined","graphics_point","graphics_segment","graphics_arc","graphics_circle","graphics_box","graphics_polygon","point","radius","fill","Graphics","beginFill","command","circle","drawCircle","x","y","segment","strokeStyle","ignoreScale","stroke","setStrokeStyle","beginStroke","moveTo","ps","lineTo","pe","endStroke","arc","pc","r","startAngle","endAngle","counterClockwise","box","drawRect","xmin","ymin","xmax","ymax","setGraphicsEdgeSegment","setGraphicsEdgeArc","setGraphicsEdge","edge","setGraphicsFace","face","first","start","polygon","faces","Utils","is_equal","obj1","obj2","equal","Object","keys","key","Job","filename","title","profiles","materials","shapes","b","merge","defaultStyle","alpha","Model","geom","label","model","assign","modalRoot","document","getElementById","Modal","props","el","createElement","appendChild","removeChild","createPortal","children","parseODB","vector","inch2pixels","mils2pixels","InchToPixels","str","Math","round","Number","MilsToPixels","parsePolygon","lines","i","line","terms","split","end_of_face","push","clone","cwStr","CW","CCW","slope","EQ","PI","parseLine","apertures","ap_key","ap_value","aperture","parseArc","job","arrayOfLines","match","substr","termArr","polarity","addFace","odbLine","odbArc","ActionTypes","App","state","store","getState","subscribe","setState","handlePaste","bind","handleHashChange","event","dispatch","type","data","clipboardData","nextProps","e","window","onhashchange","AsideComponent","onToggleWatchExpandButtonClicked","onSelectShapeClicked","height","refs","aside","clientHeight","CanvasComponent","handleMouseMove","handleMouseDown","handleMouseUp","handleMouseLeave","handleMouseWheel","handleMouseWheelFox","canvas","focus","onMouseMove","stageX","stageY","onMouseDown","stopPropagation","preventDefault","onMouseUp","blur","body","delta","detail","wheelDelta","onMouseWheelMove","offsetX","offsetY","layerX","layerY","on","addEventListener","onStageCreated","HeaderComponent","app","ImageComponent","params","bitmap","Bitmap","uri","addChild","labelShape","trim","html","innerText","position","top","left","DOMElement","handleMouseOver","handleMouseOut","handleClick","onMouseOver","onMouseOut","onClick","showLabel","htmlElement","display","dx","zoomFactor","resolution","dy","font","unscale","tx","offsetLeft","ty","offsetTop","setTransform","width","ratio","image","naturalWidth","naturalHeight","scaleX","scaleY","center","regX","regY","displayLabels","redrawLabels","redraw","nextState","off","LayerComponent","map","index","hoveredShape","firstMeasuredShape","secondMeasuredShape","widthOn","displayVertices","LayerListElement","activeElement","nodeName","elem","layerName","hex","opacity","g","percent","replace","parseInt","substring","result","rgba","bgcolor","onLayerClicked","onLayerDoubleClicked","flex","marginRight","onAffectedBoxClicked","marginLeft","cursor","padding","backgroundColor","edited","onSubmitLayerEditForm","onEscapeLayerEditForm","LayerListToolbarComponent","openJobButtonClicked","notImplemented","click","alert","onAddLayerButtonClicked","onEditLayerButtonClicked","onDeleteLayerButtonClicked","onSortLayersButtonClicked","LayersListComponent","param","onLayerListClicked","onAddLayerSelected","onEditLayerSelected","onDeleteLayerSelected","onSortLayersSelected","handleKeyDown","newLayer","target","parentElement","id","code","layersComponent","maxHeight","overflow","MainComponent","handleMouseWheelMove","registerStage","toggleUnits","onMouseRollOverShape","onMouseRollOutShape","onClickOnShape","resizeStage","handleFileSelect","setHomeView","toggleWidthMode","toggleDisplayVertices","toggleDisplayLabels","showAboutPopup","closeAboutPopup","onMeasurePointsButtonPressed","onMeasureBetweenShapesButtonPressed","onPanByDragPressed","handleKeyUp","aabbToolNext","nextAabbDistStep","onCollisionDemoButtonPressed","onSkeletonRecognitionButtonPressed","mouse","startX","startY","panByMouseStop","File","FileReader","FileList","files","onresize","units","aabbDemoTool","aabbDemoToolActivated","collisionDistanceDemoTool","showCollisionDemoToolButton","showSkeletonRecognitionButton","originX","originY","measureShapesTool","firstMeasuredLayer","secondMeasuredLayer","distance","shortestSegment","firstMeasuredShapeLevel","secondMeasuredShapeLevel","tree","min_stop","collisionDistanceDemoToolActivated","divisor","decimals","measurePointsActive","version","build","ShapeComponent","Shape","vertexShapes","vertices","vertex","vertexShape","mouseEnabled","isEmpty","hovered","selected","redrawVertices","clear","StageComponent","getContext","origin","update","layerComponents","displayCoordsTool","coordX","coordY","measuredLayersDisplayed","aabbDdemoTool","selectedEdgesTree","minStop","collisionDemoTool","components","StatusComponent","message","end","dist","format","num","toFixed","textAlign","margin","ToolbarComponent","fontSize","marginTop","marginBottom","onFileSelected","onHomeButtonPressed","onToggleWidthModePressed","onToggleVerticesPressed","onToggleLabelsPressed","onAabbToolNext","onShowAboutPopupPressed","onUnitClicked","AboutPopup","dragX","dragY","onCloseButtonPressed","onCloseAboutPopupPressed","ev","elementDrag","clientX","clientY","element","closeDragElement","onmouseup","onmousemove","dragMouseDown","LayerEditForm","form","value","layerTitle","setFocus","onCancelLayerEditForm","render","aabb_demo","action","location","href","next","zoomHome","panToCoordinate","zoomToLimits","boolean_test","polygon1","polygon2","add","Vector","translate","vec","newPolygon","arc_trans","collision_demo","xhr","XMLHttpRequest","url","open","onreadystatechange","readyState","status","text","responseText","parser","parseToPolygon","trPolygon","send","demo","log","console","pasteData","importDataToNewLayer","items","item","getAsString","string","shapesArray","parse","readAsText","reader","file","onload","theFile","namesplitted","extension","edges","size","setAffected","getNextColor","readAsImage","readAsDataURL","readFile","readFiles","Algorithmia","Window","skeleton_recognition","currentLayer","input","nx","ny","client","algorithm","algo","pipe","then","output","error","row","seg","stageController","resize","panByMouseStart","panByMouseMove","bIn","zoomByMouse","Distance","box1","box2","mindist_x","max","mindist_y","mindist","maxdist","level","node","box2box_minmax","Edge","insert","LT","new_level_left","isNil","new_level_right","right","new_level","LE","set","IntervalTree","root","squared_min_stop","POSITIVE_INFINITY","minmax_tree_process_level","min_dist_and_segment","min_dist_and_segment_new","stop","minmax_tree_calc_distance","sqrt","low","shortest_segment","PlanarSet","minmax_tree","Layer","newShape","shapeToggle","expanded","parseCSV","micron2pixels","micronToPixels","px","py","parseImage","pgmResolution","microns2pixels","sizeX","toPixels","yStr","xStr","Parser","watchArray","indexOf","parenth","psArr","peArr","pcArr","search","nedgesTerm","nedgesStr","nedges","j","parseToSegment","parseToArc","points","pointArr","parseToPoints","parseToSegmentsArcs","parseXML","parseEdges","edgesXML","getAttribute","polygonsXML","islands","getElementsByTagName","island","holes","hole","parseSegment","segmentXML","parseCurve","curveXML","parsePoint","pointXML","DOMParser","xmlDoc","parseFromString","titles","firstChild","nodeValue","profilesXML","profileXML","materialXML","shapeXML","segmentsXML","curvesXML","curve","pointsXML","Stage","Touch","enable","mouseMoveOutside","enableMouseOver","clientWidth","oldOrigin","scalar","scalingFactor","canvasX","canvasY","worldX","worldY","W2C_X","W2C_Y","newOrigin","deltaX","deltaY","curRatio","min","focusX","focusY","C2W_X","C2W_Y","zoomIn","zoomOut","newFocusX","newFocusY","panBy","zoom","minX","minY","maxX","maxY","unitsList","defaultAppState","bg","applySkeletonRecognition","defaultMeasureShapesTool","measureShapesActive","measureShapesFirstClick","defaultAabbDemoToolState","defaultCollisionDistanceDemoToolState","defaultMouseState","curUnitsId","findIndex","newUnits","curLayer","curLayerId","delete","toggleDisplayed","addShapesArray","toggleExpanded","setEdited","setNameAndTitle","nextLayer","newCurLayer","newNextLayer","shape1","shape2","firstShapeNewLevel","secondShapeNewLevel","reducer","AabbDemoTool","boxShapes","edgeShapes","drawTreeLevel","drawSelectedEdges","nodeGraphics","_this","forEach","interval","draw","CollisionDistanceDemoTool","collision","apply","polygon3","clean","DisplayCoordsTool","mainCanvas","MeasurePointsTool","endX","endY","measureStarted","measureCanvas","originalEvent","onMousewheelMove","context","pllX","pllY","abs","W2C_Scalar","beginPath","rect","lineWidth","textX","textY","textHeight","textWidth","backX","backY","measurement","measureText","fillStyle","globalAlpha","fillRect","fillText","MeasureShapesTool","Text","redrawLabel"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtCA;;AAEA;AACA;AACA,EAAC;AACD;AACA;;;;;;;ACNA,0C;;;;;;ACAA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,WAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA,6BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACvDA;;;AAGA;AACO,KAAMA,gDAAoB,mBAA1B;AACA,KAAMC,wCAAgB,eAAtB;AACA,KAAMC,oDAAsB,qBAA5B;;AAEA,KAAMC,8CAAmB,kBAAzB;;AAEA,KAAMC,sDAAuB,sBAA7B;AACA,KAAMC,gEAA4B,2BAAlC;AACA,KAAMC,4EAAkC,iCAAxC;AACA,KAAMC,wEAAgC,+BAAtC;;AAEA,KAAMC,sDAAuB,sBAA7B;AACA,KAAMC,oDAAsB,qBAA5B;AACA,KAAMC,gDAAoB,mBAA1B;AACA,KAAMC,gEAA4B,2BAAlC;;AAEA,KAAMC,wDAAwB,uBAA9B;AACA,KAAMC,sDAAuB,sBAA7B;AACA,KAAMC,0DAAyB,wBAA/B;;AAEP;AACO,KAAMC,gDAAoB,mBAA1B;AACA,KAAMC,wDAAwB,uBAA9B;;AAEA,KAAMC,8DAA2B,0BAAjC;AACA,KAAMC,gDAAoB,mBAA1B;AACA,KAAMC,oEAA8B,6BAApC;AACA,KAAMC,kEAA6B,4BAAnC;;AAEA,KAAMC,sEAA+B,8BAArC;AACA,KAAMC,wEAA8B,+BAApC;AACA,KAAMC,sEAA+B,8BAArC;AACA,KAAMC,0EAAiC,gCAAvC;AACA,KAAMC,0EAAiC,gCAAvC;;AAEA,KAAMC,0EAAiC,gCAAvC;AACA,KAAMC,sEAA+B,8BAArC;;AAEA,KAAMC,oEAA8B,6BAApC;;AAEA,KAAMC,0DAAyB,wBAA/B;AACA,KAAMC,gDAAoB,mBAA1B;AACA,KAAMC,4DAA0B,yBAAhC;;AAEP;AACO,KAAMC,kEAA6B,4BAAnC;AACA,KAAMC,wEAAgC,+BAAtC;AACA,KAAMC,wEAAgC,+BAAtC;AACA,KAAMC,4EAAkC,iCAAxC;;AAEA,KAAMC,8EAAmC,kCAAzC;;AAEP;AACO,KAAMC,wCAAgB,eAAtB;AACA,KAAMC,8DAA2B,0BAAjC;AACA,KAAMC,sDAAuB,sBAA7B;;AAEP;AACO,KAAMC,kDAAqB,oBAA3B;AACA,KAAMC,wEAAgC,+BAAtC;;AAEP;AACO,KAAMC,8DAA2B,0BAAjC;AACA,KAAMC,oFAAoC,qCAA1C,C;;;;;;;;;;;;;sjBCnEP;;;;AAIA;;;;AAEA,KAAMC,SAAS,CACX,SADW,EAEX,SAFW,EAGX,SAHW,EAIX,SAJW,EAKX,SALW,EAMX,SANW,EAOX,SAPW,EAQX,SARW,EASX,SATW,EAUX,SAVW,EAWX,SAXW,EAYX,SAZW,EAaX,SAbW,EAcX,SAdW,EAeX,SAfW,EAgBX,SAhBW,EAiBX,SAjBW,EAkBX,SAlBW,EAmBX,SAnBW,EAoBX,SApBW,EAqBX,SArBW,EAsBX,SAtBW,EAuBX,SAvBW,CAAf;;KA0BaC,M,WAAAA,M;;;;;;;kCAEOC,K,EAAOC,M,EAAQ;AAC3B,iBAAIC,QAAQ,iBAAUF,KAAV,CAAZ;AACAE,mBAAMC,IAAN,GAAaJ,OAAOK,UAAP,CAAkBH,MAAlB,CAAb;AACA,iBAAIA,OAAOI,MAAP,KAAkB,CAAtB,EAAyB;AAAE;AACvB;AACAH,uBAAMI,SAAN,GAAkB,KAAlB;AACAJ,uBAAMK,QAAN,GAAiB,KAAjB;AACH;AACD,oBAAOL,KAAP;AACH;;;oCAMiBD,M,EAAQ;AACtB,iBAAIE,OAAOJ,OAAOS,WAAlB;AACA,iBAAIC,MAAM,CAAV;AACA,iBAAIC,aAAa,SAAbA,UAAa,CAACR,KAAD;AAAA,wBAAWA,MAAMC,IAAN,KAAeA,IAA1B;AAAA,cAAjB;AACA,oBAAOF,OAAOU,IAAP,CAAYD,UAAZ,CAAP,EAAiC;AAC7BP,wBAAOJ,OAAOS,WAAP,GAAqBC,GAA5B;AACAA;AACH;AACD,oBAAON,IAAP;AACH;;;qCAEkBF,M,EAAQ;AACvB,oBAAOA,OAAOU,IAAP,CAAY,UAACC,GAAD;AAAA,wBAASA,IAAIL,QAAb;AAAA,cAAZ,CAAP;AACH;;;qCAEkBN,M,EAAQC,K,EAAO;AAC9B,iBAAIW,uBAAuBd,OAAOe,WAAP,CAAmBb,MAAnB,CAA3B;AACA,iBAAIY,oBAAJ,EAA0B;AACtBA,sCAAqBN,QAArB,GAAgC,KAAhC;AACH;AACDL,mBAAMK,QAAN,GAAiB,IAAjB;AACH;;;sCAEmBN,M,EAAQ;AACxB,iBAAIc,QAAQ,EAAZ;;AADwB,wCAEfC,GAFe;AAGpB,qBAAI,CAACf,OAAOU,IAAP,CAAY,UAACT,KAAD;AAAA,4BACbA,MAAMI,SAAN,IAAmBJ,MAAMa,KAAN,KAAgBC,GADtB;AAAA,kBAAZ,CAAL,EAC6C;AACzCD,6BAAQC,GAAR;AACA;AACH;AAPmB;;AAAA;AAAA;AAAA;;AAAA;AAExB,sCAAgBlB,MAAhB,8HAAwB;AAAA,yBAAfkB,GAAe;;AAAA,sCAAfA,GAAe;;AAAA,2CAIhB;AAEP;AARuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AASxB,oBAAOD,KAAP;AACH;;;iCAEad,M,EAAQC,K,EAAO;AACzB;AACA,iBAAIe,YAAYhB,OAAOiB,MAAP,CAAc;AAAA,wBAAKC,MAAMjB,KAAX;AAAA,cAAd,CAAhB;AACA,oBAAOe,SAAP;AACH;;;8BAEWhB,M,EAAQ;AAChB,iBAAIgB,YAAYhB,OAAOmB,KAAP,EAAhB;AACAH,uBAAUI,IAAV,CAAgB,UAASC,EAAT,EAAaC,EAAb,EAAiB;AAC7B,qBAAIC,QAAQF,GAAGnB,IAAH,CAAQsB,WAAR,EAAZ;AACA,qBAAIC,QAAQH,GAAGpB,IAAH,CAAQsB,WAAR,EAAZ;AACA,qBAAID,QAAQE,KAAZ,EAAmB;AACf,4BAAO,CAAC,CAAR;AACH;AACD,qBAAIF,QAAQE,KAAZ,EAAmB;AACf,4BAAO,CAAP;AACH;AACD,wBAAO,CAAP;AACH,cAVD;AAWA,oBAAOT,SAAP;AACH;;;6BA3DwB;AACrB,oBAAO,OAAP;AACH;;;;;;;;;;AC/CL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAmD;AACnD;AACA;AACA,8CAA6C;AAC7C,2DAA0D;AAC1D;AACA;AACA,YAAW,SAAS;AACpB,YAAW,SAAS;AACpB,aAAY,SAAS;AACrB;AACA;AACA;;AAEA,gBAAe,6BAA6B;AAC5C;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA6B;AAC7B;AACA;AACA,YAAW,SAAS;AACpB,YAAW,OAAO;AAClB,aAAY,SAAS;AACrB;AACA;AACA;;AAEA;AACA;AACA,0DAAyD;AACzD;AACA,mEAAkE,4BAA4B;AAC9F;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB;AACA,aAAY,OAAO;AACnB;AACA;AACA;;AAEA,gCAA+B,OAAO;AACtC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;;AAGA;AACA,EAAC;;AAED;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB,qDAAqD,2BAA2B,EAAE,GAAG;AAC1G;AACA,2DAA0D,2BAA2B,EAAE;AACvF,8DAA6D,0BAA0B,EAAE;AACzF,MAAK;AACL,KAAI;AACJ;AACA;AACA,YAAW,SAAS;AACpB,YAAW,OAAO;AAClB;AACA,aAAY,SAAS;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,OAAM,gCAAgC,YAAY;AAClD;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,QAAQ;AACpB,aAAY,QAAQ;AACpB;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAO,qCAAqC,YAAY;AACxD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAoB,qCAAqC,YAAY;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAoB,sCAAsC,YAAY;AACtE,QAAO,+CAA+C,YAAY;AAClE;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAoB,+CAA+C,YAAY;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAoB,6BAA6B,YAAY;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAW,uCAAuC,YAAY;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,YAAW,yCAAyC,YAAY;AAChE;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,YAAW,yCAAyC,YAAY;AAChE,OAAM,kDAAkD,YAAY;AACpE;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,cAAa,MAAM;AACnB;AACA;AACA;AACA,yBAAwB,oBAAoB;AAC5C;AACA;;AAEA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA,EAAC;;AAED;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,uBAAsB,2CAA2C,YAAY;AAC7E;AACA;AACA;AACA;AACA;AACA,sCAAqC,mCAAmC,YAAY;AACpF;AACA,OAAM,oCAAoC,YAAY;AACtD,OAAM,oDAAoD,YAAY;AACtE;AACA,wDAAuD,wDAAwD;AAC/G;AACA,kBAAiB,6BAA6B,YAAY;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA,yBAAwB,iDAAiD,YAAY;AACrF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uEAAsE,mCAAmC;AACzG;AACA;AACA;AACA,4CAA2C;AAC3C,WAAU;AACV;AACA;AACA,4CAA2C;AAC3C,WAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qDAAoD;AACpD,4CAA2C;AAC3C;AACA;AACA;AACA,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,kBAAkB;AAC9B;AACA,aAAY,QAAQ;AACpB,cAAa,kBAAkB;AAC/B;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,aAAY,sDAAsD;AAClE,yBAAwB;AACxB,cAAa,8BAA8B;AAC3C,SAAQ,oBAAoB;AAC5B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM,6BAA6B,YAAY;AAC/C;AACA;AACA;AACA;AACA,mEAAkE,QAAQ;AAC1E;AACA;AACA,mCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,kBAAkB;AAC9B;AACA,aAAY,OAAO;AACnB,aAAY,QAAQ;AACpB,aAAY,EAAE;AACd,aAAY,QAAQ;AACpB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,kBAAkB;AAC9B,aAAY,QAAQ;AACpB;AACA;AACA;AACA,oBAAmB,QAAQ;AAC3B;AACA,cAAa,QAAQ;AACrB,6BAA4B,KAAK;AACjC;AACA,gBAAe,yBAAyB,EAAE;AAC1C,WAAU,iBAAiB;AAC3B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAM,mCAAmC,YAAY;AACrD;AACA;AACA,aAAY,OAAO;AACnB,aAAY,kBAAkB;AAC9B,aAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB;AACA;AACA,eAAc,iDAAiD;AAC/D;AACA,0BAAyB,+BAA+B;AACxD,iCAAgC,sCAAsC;AACtE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,wBAAwB;AACpC;AACA;AACA;AACA,aAAY,QAAQ;AACpB,aAAY,QAAQ;AACpB,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA,2DAA0D,aAAa;AACvE;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA,QAAO,wBAAwB,EAAE,aAAa;;AAE9C;AACA;AACA,IAAG;AACH;AACA,wBAAuB,6BAA6B;AACpD;;AAEA;AACA,eAAc,sCAAsC;AACpD;AACA;AACA;AACA,aAAY,qCAAqC;AACjD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,OAAO;AACnB,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,0BAAyB,iDAAiD,YAAY;AACtF;AACA;AACA,aAAY,OAAO;AACnB,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA,mCAAkC,aAAa;AAC/C;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,aAAY,eAAe;AAC3B,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA,SAAQ,+BAA+B,EAAE;AACzC,SAAQ,oCAAoC,EAAE;AAC9C;;AAEA,sBAAqB;AACrB,iBAAgB,8CAA8C;AAC9D;AACA,yBAAwB,yBAAyB;AACjD,WAAU,aAAa;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB,oCAAoC;AAC7D;;;AAGA;AACA,EAAC;;AAED;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,oGAAmG;AACnG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,oEAAmE,wCAAwC,YAAY;AACvH,+DAA8D,oCAAoC,YAAY;AAC9G;AACA;AACA;AACA;AACA;AACA,qBAAoB,wCAAwC,YAAY;AACxE;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,wBAAuB,+BAA+B,YAAY,WAAW,kCAAkC;AAC/G;AACA;AACA,qBAAoB,wCAAwC,YAAY;AACxE;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,OAAM,uCAAuC,YAAY;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,QAAQ;AACpB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;;;AAGA;AACA;AACA;AACA,OAAM,wCAAwC,YAAY,IAAI,oCAAoC,YAAY;AAC9G,OAAM,4CAA4C,YAAY;AAC9D;AACA;AACA,YAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;;AAEA;AACA;AACA,4FAA2F,kCAAkC,YAAY;AACzI,OAAM,+BAA+B,YAAY,QAAQ,oCAAoC,YAAY;AACzG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C;AAC7C;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;;;AAGA;AACA;AACA,eAAc,yCAAyC,YAAY;AACnE;AACA;AACA;AACA,aAAY,OAAO;AACnB;AACA;AACA;AACA,yBAAwB,QAAQ;AAChC;AACA;AACA;AACA;;AAEA;AACA,eAAc,yCAAyC,YAAY;AACnE;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAc,0CAA0C,YAAY;AACpE;AACA;AACA;AACA,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAc,0CAA0C,YAAY;AACpE;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA,eAAc,qDAAqD;AACnE,gBAAe;AACf,IAAG;AACH,GAAE,YAAY,gBAAgB;;;AAG9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,QAAQ;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA0C,0CAA0C,YAAY;AAChG,mGAAkG,2CAA2C;AAC7I;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA,oCAAmC,WAAW;;AAE9C;AACA;AACA,gBAAe,SAAS,OAAO,iBAAiB;AAChD;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA,oCAAmC,WAAW;;AAE9C;AACA;AACA;AACA;;AAEA;AACA,6FAA4F,0BAA0B;AACtH;AACA;AACA;AACA;AACA,aAAY,QAAQ;AACpB;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA,sBAAqB,+BAA+B,YAAY,mDAAmD,kCAAkC;AACrJ;AACA;AACA;AACA,qBAAoB,QAAQ;AAC5B,eAAc,OAAO;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY,QAAQ;AACpB;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAgC,QAAQ,EAAE;;AAE1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2CAA0C,yBAAyB;;AAEnE;AACA,uCAAsC,qBAAqB;AAC3D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA,EAAC;;AAED;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,iBAAiB;AAC7B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA,6BAA4B,uEAAuE,EAAE;AACrG;AACA;;;AAGA;AACA;AACA;AACA,4BAA2B,uBAAuB,YAAY;AAC9D;AACA;AACA;AACA,6BAA4B,QAAQ;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA,EAAC;;AAED;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,eAAc,8BAA8B,YAAY,OAAO,sBAAsB,YAAY;AACjG;AACA,aAAY,OAAO;AACnB,aAAY,QAAQ;AACpB,aAAY,QAAQ;AACpB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,WAAW;AACvB,aAAY,OAAO;AACnB,aAAY,QAAQ;AACpB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,cAAc;AAC1B;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA,kCAAiC;;;AAGjC;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,aAAY,qBAAqB;AACjC,aAAY,qBAAqB;AACjC,cAAa;AACb,IAAG;AACH,GAAE,aAAa;;;AAGf;AACA;AACA;AACA;AACA,cAAa,WAAW;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;;;AAGA;AACA,EAAC;;AAED;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA0B;;;AAG1B;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY,SAAS;AACrB,cAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,SAAS;AACrB,cAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA,uC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA,0DAAyD,uDAAuD;AAChH,oBAAmB,uCAAuC,YAAY;AACtE;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,oBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,OAAO;AACnB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,SAAS;AACrB,cAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,eAAe;AAC3B,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,cAAa,OAAO;AACpB;AACA;AACA;AACA,wBAAuB,aAAa;AACpC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,yBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,SAAS;AACrB,cAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA,EAAC;;AAED;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY,QAAQ;AACpB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,SAAS;AACrB,cAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA,aAAY,QAAQ;AACpB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,SAAS;AACrB,cAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,aAAa;AAC1B;AACA;AACA;AACA;;AAEA;;AAEA;AACA,EAAC;;AAED;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,MAAM;AAClB,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;;;AAGA;AACA,EAAC;;AAED;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA,qCAAoC,6BAA6B;AACjE,uCAAsC,+BAA+B;AACrE,oBAAmB,wBAAwB,YAAY;AACvD,oBAAmB,yBAAyB,YAAY;AACxD;AACA;;AAEA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,UAAU;AACtB,cAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,UAAU;AACtB,cAAa,UAAU;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY,UAAU;AACtB,cAAa,UAAU;AACvB;AACA;AACA;AACA,qBAAoB,aAAa;AACjC,qBAAoB,aAAa;AACjC,kCAAiC,0BAA0B;AAC3D,mCAAkC,2BAA2B;AAC7D;AACA;;AAEA;AACA;AACA;AACA,aAAY,UAAU;AACtB,cAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,UAAU;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;;;AAGA;AACA,EAAC;;AAED;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA,6EAA4E,0BAA0B,YAAY;AAClH,OAAM,uBAAuB,YAAY;AACzC,0BAAyB,mCAAmC,YAAY,MAAM,mCAAmC,YAAY;AAC7H;AACA;AACA;AACA;AACA;AACA,2DAA0D,sCAAsC,YAAY;AAC5G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,iBAAiB;AAC7B,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,QAAQ;AACpB;AACA,aAAY,cAAc;AAC1B;AACA;AACA,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA,kCAAiC,QAAQ;;;AAGzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gCAA+B;AAC/B;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAc,8CAA8C,YAAY;AACxE;AACA,aAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA,gCAA+B,QAAQ;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB,sBAAsB;AACxC,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,oBAAmB,sBAAsB,mBAAmB;AAC5D;AACA;AACA;AACA;;AAEA;AACA,eAAc,8CAA8C,YAAY;AACxE;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA,cAAa;AACb,IAAG;AACH,GAAE,aAAa;;;AAGf;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG,OAAO;AACV;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA,EAAC;;AAED;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA,wFAAuF,8BAA8B;AACrH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;;;AAGA;AACA,EAAC;;AAED;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sFAAqF;AACrF;AACA;AACA;AACA;AACA,gBAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM,+CAA+C,YAAY;AACjE;AACA;AACA;AACA,qGAAoG,kCAAkC;AACtI,8BAA6B,uBAAuB,YAAY;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,oBAAoB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mJAAkJ;AAClJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA8B,8CAA8C,YAAY;AACxF,4BAA2B,uBAAuB,YAAY;AAC9D,4BAA2B,oCAAoC,YAAY;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAO,0CAA0C,YAAY;AAC7D;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,kCAAiC;;;AAGjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;;AAEA;AACA,0GAAyG,mCAAmC;AAC5I;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;;AAEA;AACA;AACA,sDAAqD,2CAA2C;AAChG;AACA;AACA,aAAY,OAAO;AACnB;AACA;;;AAGA;AACA;AACA,eAAc,gDAAgD,YAAY;AAC1E;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA,iBAAgB;AAChB,IAAG;AACH,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,uBAAsB,UAAU;AAChC,UAAS,2BAA2B;AACpC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,cAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,cAAa,OAAO;AACpB;AACA;AACA;AACA,0DAAyD,cAAc;AACvE;AACA;;AAEA;AACA,iBAAgB,0BAA0B,YAAY;AACtD;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,UAAU;AACtB,cAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA,sBAAqB,QAAQ;;AAE7B;;AAEA;AACA;AACA;AACA,aAAY,KAAK;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAwB,0BAA0B,yBAAyB,EAAE,EAAE;AAC/E,yBAAwB,2BAA2B,0BAA0B,EAAE,EAAE;AACjF;AACA;AACA;;AAEA;AACA,6BAA4B;AAC5B,IAAG;AACH;AACA;AACA,wBAAuB,IAAI;AAC3B;AACA,wBAAuB,+HAA+H;AACtJ;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA8B,yBAAyB;AACvD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB;AAChB;AACA,kCAAiC;AACjC;AACA,MAAK,+BAA+B;AACpC,4BAA2B,wBAAwB;AACnD;AACA;AACA;AACA;AACA,qBAAoB,UAAU;AAC9B;AACA;AACA;AACA,MAAK,OAAO;AACZ;AACA;AACA;AACA;AACA;AACA,yDAAwD,kBAAkB,EAAE;AAC5E,sEAAqE,kBAAkB,EAAE;AACzF,uBAAsB,gBAAgB;AACtC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,+CAA8C,QAAQ;;AAEtD;;AAEA,6CAA4C;AAC5C;AACA;;AAEA;AACA,mCAAkC,eAAe;AACjD;;AAEA;AACA;AACA;AACA;AACA,oCAAmC,eAAe;AAClD;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA,EAAC;;AAED;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,oHAAmH,8BAA8B;AACjJ,4CAA2C,sBAAsB,YAAY;AAC7E;AACA;AACA;AACA,wFAAuF,gCAAgC,YAAY;AACnI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM,0CAA0C,YAAY;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU,gCAAgC,YAAY;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA6B,gCAAgC,YAAY;AACzE,2BAA0B,gCAAgC,YAAY;AACtE,gCAA+B,6BAA6B,YAAY,KAAK,+BAA+B,YAAY;AACxH,0BAAyB,uCAAuC,YAAY;AAC5E,8BAA6B,0CAA0C,YAAY;AACnF,yBAAwB,8BAA8B,YAAY;AAClE,8BAA6B,mCAAmC,YAAY;AAC5E,yBAAwB,+BAA+B,YAAY;AACnE,6BAA4B,mCAAmC,YAAY;AAC3E,0BAAyB,iDAAiD,YAAY;AACtF,8BAA6B,iDAAiD,YAAY;AAC1F,0BAAyB,yCAAyC,YAAY;AAC9E,8BAA6B,iCAAiC,YAAY;AAC1E,+BAA8B,wCAAwC,YAAY,KAAK,uCAAuC,YAAY;AAC1I,6BAA4B,qCAAqC,YAAY;AAC7E,0BAAyB,mDAAmD,YAAY;AACxF,8BAA6B,mDAAmD,YAAY;AAC5F,0BAAyB,2CAA2C,YAAY;AAChF,8BAA6B,mCAAmC,YAAY;AAC5E,0BAAyB,kCAAkC,YAAY;AACvE,8BAA6B,uCAAuC,YAAY;AAChF,0BAAyB,8CAA8C,YAAY;AACnF,8BAA6B,oCAAoC,YAAY;AAC7E,0BAAyB,qCAAqC,YAAY;AAC1E,8BAA6B,sCAAsC,YAAY;AAC/E,yBAAwB,oCAAoC,YAAY;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAkB;;AAElB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;;AAGA;AACA;AACA,8BAA6B,mCAAmC,YAAY;AAC5E;AACA;AACA,YAAW;AACX;AACA;AACA;;AAEA;AACA,mDAAkD,oCAAoC,YAAY;AAClG;AACA;AACA;AACA;AACA,YAAW;AACX;AACA,sBAAqB;;AAErB;AACA,qDAAoD,wCAAwC,YAAY;AACxG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;;AAEA;AACA,uDAAsD,wCAAwC,YAAY;AAC1G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,eAAc,+CAA+C,YAAY;AACzE;AACA;AACA,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA,mBAAkB;AAClB,IAAG;AACH,GAAE;;;AAGF;AACA;AACA;AACA;AACA,cAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,yBAAyB;AACrC,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA,+CAA8C,KAAK;AACnD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,yBAAyB;AACrC;AACA;AACA;AACA;AACA,gDAA+C,KAAK;AACpD;AACA,6CAA4C,iBAAiB;AAC7D;AACA;;;AAGA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wCAAuC,gCAAgC,YAAY;AACnF;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,QAAQ;AACpB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,OAAO;AACnB;AACA,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,MAAM;AAClB;AACA,aAAY,MAAM;AAClB;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,MAAM;AAClB;AACA,aAAY,MAAM;AAClB;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY,wDAAwD;AACpE;AACA,aAAY,OAAO;AACnB;AACA;AACA,aAAY,SAAS;AACrB;AACA,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,gBAAgB;AAC5B;AACA;AACA,aAAY,gBAAgB;AAC5B;AACA;AACA,aAAY,OAAO;AACnB;AACA,aAAY,QAAQ;AACpB;AACA,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAqB,wCAAwC;AAC7D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,MAAM;AAClB;AACA;AACA,aAAY,OAAO;AACnB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,OAAO;AACnB;AACA,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,MAAM;AAClB;AACA,aAAY,MAAM;AAClB;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,MAAM;AAClB;AACA,aAAY,MAAM;AAClB;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAY,wDAAwD;AACpE;AACA,aAAY,OAAO;AACnB;AACA,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA,gGAA+F,0CAA0C;AACzI;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,SAAS;AACtB;AACA;AACA;;AAEA;AACA;AACA,iGAAgG,8BAA8B;AAC9H;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,SAAS;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA,qFAAoF,oCAAoC,YAAY;AACpI;AACA;AACA,aAAY,OAAO,gFAAgF,oCAAoC;AACvI;AACA,aAAY,OAAO,+EAA+E,oCAAoC;AACtI;AACA,aAAY,OAAO;AACnB;AACA,aAAY,OAAO;AACnB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA,aAAY,OAAO;AACnB;AACA,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAM,8BAA8B,YAAY;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B;AAC/B;AACA;AACA,SAAQ;AACR;AACA;AACA,aAAY,OAAO;AACnB,aAAY,QAAQ;AACpB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA,sBAAqB,qCAAqC;AAC1D;AACA,cAAa,OAAO,EAAE;AACtB;AACA;AACA,+BAA8B;AAC9B,iBAAgB,MAAM;AACtB;AACA;AACA;AACA,0BAAyB,0CAA0C;AACnE;AACA,eAAc,gBAAgB;AAC9B,WAAU,gBAAgB;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kEAAiE,0CAA0C,YAAY;AACvH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wEAAuE,+BAA+B;AACtG;AACA;AACA;AACA,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,QAAQ;AACpB,cAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,OAAO;AACnB;AACA,cAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,MAAM;AAClB;AACA,aAAY,MAAM;AAClB;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,MAAM;AAClB;AACA,aAAY,MAAM;AAClB;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,wDAAwD;AACpE;AACA,aAAY,OAAO;AACnB;AACA;AACA,aAAY,SAAS;AACrB;AACA,cAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,gBAAgB;AAC5B;AACA;AACA,aAAY,gBAAgB;AAC5B;AACA;AACA,aAAY,OAAO;AACnB;AACA,aAAY,QAAQ;AACpB;AACA,cAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,MAAM;AAClB;AACA;AACA,aAAY,OAAO;AACnB,cAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,OAAO;AACnB;AACA,cAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,MAAM;AAClB;AACA,aAAY,MAAM;AAClB;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,MAAM;AAClB;AACA,aAAY,MAAM;AAClB;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,wDAAwD;AACpE;AACA,aAAY,OAAO;AACnB;AACA,cAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,OAAO,gFAAgF,oCAAoC;AACvI;AACA,aAAY,OAAO,+EAA+E,oCAAoC;AACtI;AACA,aAAY,OAAO;AACnB;AACA,aAAY,OAAO;AACnB,cAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA,aAAY,OAAO;AACnB;AACA,cAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,OAAO;AACnB,cAAa,SAAS;AACtB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,+BAA8B;AAC9B;;AAEA;AACA;AACA,iBAAgB,KAAK,OAAO,yBAAyB;;AAErD,qBAAoB,wBAAwB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oCAAmC,gCAAgC,YAAY,OAAO,gCAAgC,YAAY,6BAA6B,yBAAyB,YAAY,OAAO,gCAAgC,YAAY;AACvP;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,yBAAyB;AACrC;AACA;AACA,cAAa;AACb,GAAE,kCAAkC,2BAA2B;;AAE/D;AACA,oCAAmC,gCAAgC,YAAY,OAAO,gCAAgC,YAAY;AAClI;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,yBAAyB;AACrC;AACA;AACA,cAAa;AACb,GAAE,kCAAkC,4BAA4B;;;AAGhE;AACA,oCAAmC,+BAA+B,YAAY,OAAO,gCAAgC,YAAY;AACjI;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,yBAAyB;AACrC;AACA;AACA,gBAAe;AACf,gBAAe;AACf;AACA,GAAE,kCAAkC,4DAA4D;;AAEhG;AACA,oCAAmC,6BAA6B,YAAY,OAAO,gCAAgC,YAAY;AAC/H;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,yBAAyB;AACrC;AACA;AACA,cAAa;AACb;AACA,gCAA+B;AAC/B;AACA,GAAE,kCAAkC,0FAA0F;;AAE9H;AACA,oCAAmC,0CAA0C,YAAY,OAAO,gCAAgC,YAAY;AAC5I;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,yBAAyB;AACrC;AACA;AACA,kBAAiB;AACjB,cAAa;AACb,GAAE,kCAAkC,0DAA0D;;AAE9F;AACA,oCAAmC,uCAAuC,YAAY,OAAO,gCAAgC,YAAY;AACzI;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,yBAAyB;AACrC;AACA;AACA,oBAAmB;AACnB,oBAAmB;AACnB,cAAa;AACb,GAAE,kCAAkC,+EAA+E;;AAEnH;AACA,oCAAmC,8BAA8B,YAAY,OAAO,gCAAgC,YAAY;AAChI;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,yBAAyB;AACrC;AACA;AACA,cAAa;AACb,cAAa;AACb,GAAE,kCAAkC,0CAA0C;;AAE9E;AACA,oCAAmC,mCAAmC,YAAY,OAAO,gCAAgC,YAAY;AACrI;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,yBAAyB;AACrC;AACA;AACA,GAAE,kCAAkC,iBAAiB;;AAErD;AACA,wDAAuD,yBAAyB,YAAY,OAAO,gCAAgC,YAAY;AAC/I;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,yBAAyB;AACrC;AACA;AACA,GAAE,kCAAkC,iBAAiB;;AAErD;AACA,oCAAmC,mCAAmC,YAAY,OAAO,gCAAgC,YAAY;AACrI;AACA;AACA,aAAY,OAAO;AACnB,aAAY,SAAS;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,yBAAyB;AACrC;AACA;AACA;AACA;AACA,GAAE;AACF;AACA,qBAAoB,QAAQ;AAC5B;AACA;AACA,aAAY,YAAY,2DAA2D;AACnF;AACA,aAAY,eAAe;AAC3B;AACA;AACA,yDAAwD,oCAAoC,YAAY;AACxG,WAAU,iDAAiD,YAAY;AACvE;AACA,aAAY,MAAM;AAClB;AACA,aAAY,MAAM;AAClB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,KAAK;AAClB;AACA;AACA;AACA,iCAAgC,KAAK,OAAO,sCAAsC;AAClF,cAAa;AACb;AACA;AACA;AACA,yDAAwD,oCAAoC,YAAY;AACxG,WAAU,iDAAiD,YAAY;AACvE;AACA,aAAY,MAAM;AAClB,aAAY,MAAM;AAClB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,KAAK;AAClB;AACA;AACA;AACA,iCAAgC,KAAK,OAAO,sCAAsC;AAClF,cAAa;AACb;AACA;AACA;AACA,yDAAwD,oCAAoC,YAAY;AACxG,WAAU,yCAAyC,YAAY;AAC/D;AACA,aAAY,wDAAwD;AACpE,aAAY,OAAO;AACnB,cAAa,KAAK;AAClB;AACA;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,oCAAmC,qCAAqC,YAAY,OAAO,gCAAgC,YAAY;AACvI;AACA;AACA,aAAY,OAAO;AACnB,aAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,yBAAyB;AACrC;AACA;AACA;AACA;AACA,GAAE;AACF;AACA,qBAAoB,QAAQ;AAC5B;AACA,0BAAyB,YAAY,+BAA+B;AACpE;AACA,0BAAyB,eAAe;AACxC;AACA;AACA,yDAAwD,sCAAsC,YAAY;AAC1G,WAAU,mDAAmD,YAAY;AACzE;AACA,aAAY,MAAM;AAClB,aAAY,MAAM;AAClB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,KAAK;AAClB;AACA;AACA;AACA,yDAAwD,sCAAsC,YAAY;AAC1G,WAAU,mDAAmD,YAAY;AACzE;AACA,aAAY,MAAM;AAClB,aAAY,MAAM;AAClB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,KAAK;AAClB;AACA;AACA;AACA,qDAAoD,sCAAsC,YAAY;AACtG,WAAU,2CAA2C,YAAY;AACjE;AACA,aAAY,iBAAiB;AAC7B,aAAY,OAAO;AACnB,cAAa,KAAK;AAClB;AACA;AACA;;AAEA;AACA,oCAAmC,wCAAwC,YAAY,OAAO,gCAAgC,YAAY;AAC1I;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,yBAAyB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oCAAmC,uCAAuC,YAAY,OAAO,gCAAgC,YAAY;AACzI;AACA;AACA,aAAY,MAAM;AAClB,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,yBAAyB;AACrC;AACA;AACA;AACA;AACA,GAAE;AACF,yBAAwB;AACxB,iEAAgE;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;;AAEA;AACA,oCAAmC,8CAA8C,YAAY,OAAO,gCAAgC,YAAY;AAChJ;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,yBAAyB;AACrC;AACA;AACA,cAAa;AACb,cAAa;AACb,4BAA2B;AAC3B,4BAA2B;AAC3B,GAAE;AACF;AACA;AACA;AACA;;AAEA,iBAAgB,iBAAiB;AACjC,mBAAkB,WAAW;AAC7B,iBAAgB,iBAAiB;AACjC,mBAAkB,WAAW;AAC7B,iBAAgB,iBAAiB;AACjC,mBAAkB,WAAW;AAC7B,iBAAgB,iBAAiB;AACjC,mBAAkB,WAAW;;AAE7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oCAAmC,oCAAoC,YAAY,OAAO,gCAAgC,YAAY;AACtI;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,yBAAyB;AACrC;AACA;AACA,cAAa;AACb;AACA,GAAE,kCAAkC,oDAAoD;;AAExF;AACA,oCAAmC,qCAAqC,YAAY,OAAO,gCAAgC,YAAY;AACvI;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,yBAAyB;AACrC;AACA;AACA,cAAa;AACb,cAAa;AACb,GAAE;AACF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oCAAmC,sCAAsC,YAAY,OAAO,gCAAgC,YAAY;AACxI;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,yBAAyB;AACrC;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wCAAuC;;;AAGvC;AACA,EAAC;;AAED;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,OAAM,0BAA0B,YAAY,IAAI,uBAAuB,YAAY,QAAQ,sBAAsB,YAAY;AAC7H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA,uGAAsG,2CAA2C;AACjJ;AACA;AACA,aAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA,kHAAiH,4BAA4B;AAC7I;AACA;AACA,aAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA,aAAY,0BAA0B,YAAY;AAClD,uEAAsE,+CAA+C;AACrH;AACA;AACA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,8DAA6D,uCAAuC,YAAY;AAChH;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA,2BAA0B,0BAA0B,YAAY,MAAM,sBAAsB,YAAY;AACxG;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA,kDAAiD,4CAA4C,YAAY;AACzG;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA,kCAAiC,4CAA4C,YAAY;AACzF;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA,QAAO,2CAA2C,YAAY;AAC9D;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA,QAAO,yCAAyC,YAAY;AAC5D;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA,4GAA2G,sBAAsB;AACjI,WAAU,4BAA4B,YAAY;AAClD;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA,yFAAwF,+CAA+C,YAAY;AACnJ;AACA;AACA;AACA;AACA;AACA,oBAAmB,0BAA0B,YAAY;AACzD,mCAAkC,8BAA8B,YAAY;AAC5E;AACA,mGAAkG,sBAAsB,YAAY;AACpI;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA,2DAA0D,sCAAsC,YAAY;AAC5G;AACA;AACA,aAAY;AACZ;AACA;AACA;;;AAGA;AACA;AACA,iBAAgB,4BAA4B;AAC5C;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA,iBAAgB,4BAA4B;AAC5C;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA,iBAAgB,4BAA4B;AAC5C;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;;AAEA;AACA,uFAAsF,qCAAqC;AAC3H;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA,4CAA2C;;AAE3C;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;;AAEA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA,8FAA6F;AAC7F;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAM,2BAA2B,YAAY;AAC7C;AACA;AACA;;AAEA;AACA;AACA,eAAc,2BAA2B,YAAY;AACrD;AACA;AACA;;AAEA;AACA;AACA,eAAc,2BAA2B,YAAY;AACrD;AACA;AACA;;AAEA;AACA;AACA,OAAM,sCAAsC,YAAY,aAAa,6CAA6C,YAAY;AAC9H,eAAc,2BAA2B,YAAY;AACrD;AACA;AACA;;AAEA;AACA;AACA,OAAM,sCAAsC,YAAY,aAAa,4CAA4C,YAAY;AAC7H,eAAc,2BAA2B,YAAY;AACrD;AACA;AACA;;AAEA;AACA,gCAA+B,8CAA8C,YAAY;AACzF,yDAAwD,0BAA0B,YAAY;AAC9F;AACA;AACA;AACA,kEAAiE,gCAAgC,YAAY;AAC7G;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAuC,sCAAsC,YAAY;AACzF,eAAc,2BAA2B,YAAY;AACrD;AACA;AACA;;AAEA;AACA,gCAA+B,6CAA6C,YAAY;AACxF,yDAAwD,0BAA0B,YAAY;AAC9F;AACA;AACA;AACA,8EAA6E,+BAA+B;AAC5G;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAuC,sCAAsC,YAAY;AACzF,eAAc,2BAA2B,YAAY;AACrD;AACA;AACA;;AAEA;AACA,eAAc,8CAA8C,YAAY;AACxE;AACA;AACA;AACA;AACA;AACA;AACA,qFAAoF,4CAA4C,YAAY;AAC5I,qDAAoD,0BAA0B,YAAY,MAAM,0BAA0B,YAAY;AACtI,2BAA0B,iDAAiD,YAAY;AACvF;AACA;AACA;;AAEA;AACA,eAAc,8CAA8C,YAAY;AACxE;AACA;AACA;AACA;AACA;AACA;AACA,qFAAoF,8CAA8C,YAAY;AAC9I,mDAAkD,0BAA0B,YAAY,MAAM,0BAA0B,YAAY;AACpI,2BAA0B,iDAAiD,YAAY;AACvF;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,mCAAkC,6BAA6B,YAAY;AAC3E;AACA,OAAM,2BAA2B,YAAY;AAC7C;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,MAAM;AAClB;AACA;AACA;;;AAGA;AACA;AACA,eAAc,6CAA6C,YAAY;AACvE;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,qBAAoB,cAAc;AAClC,6BAA4B,UAAU;AACtC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW;AACX;AACA;;AAEA;AACA;AACA;AACA,gBAAe,4BAA4B;AAC3C;AACA;AACA,YAAW;AACX;AACA;;AAEA;AACA,oBAAmB,8CAA8C,YAAY,WAAW,qCAAqC;AAC7H;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA,YAAW,mBAAmB;AAC9B;AACA,qBAAoB,sDAAsD;AAC1E,sBAAqB;AACrB,KAAI;AACJ;AACA,sBAAqB,oBAAoB,EAAE;AAC3C,2BAA0B,mCAAmC,EAAE;AAC/D;AACA,IAAG;AACH,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,yBAAyB;AACrC,aAAY,QAAQ;AACpB;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mEAAkE,mCAAmC,YAAY;AACjH;AACA,aAAY,yBAAyB;AACrC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA6B,qDAAqD;AAClF,kBAAiB,kCAAkC;AACnD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC,uBAAuB,YAAY;AACpE;AACA;AACA;AACA;AACA;AACA,6FAA4F,4BAA4B,YAAY;AACpI,sFAAqF,wBAAwB,YAAY;AACzH,uEAAsE,mCAAmC,YAAY;AACrH;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6FAA4F,4BAA4B,YAAY;AACpI,qFAAoF,wBAAwB,YAAY;AACxH;AACA;AACA,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qCAAoC,oCAAoC,YAAY;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,eAAe;AAC3B,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,eAAe;AAC3B,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAM,4CAA4C,YAAY,OAAO,4CAA4C,YAAY;AAC7H;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,cAAc;AAC1B,aAAY,eAAe;AAC3B,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,SAAS;AACrB;AACA,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uEAAsE,sBAAsB,YAAY;AACxG,8EAA6E,4CAA4C;AACzH,WAAU,4CAA4C,YAAY;AAClE;AACA,aAAY,SAAS,cAAc,yBAAyB,YAAY;AACxE;AACA,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uEAAsE,sBAAsB,YAAY;AACxG;AACA,aAAY,aAAa,aAAa,6BAA6B,YAAY;AAC/E;AACA,cAAa,aAAa;AAC1B;AACA;AACA;AACA,iD;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,iDAAiD;AACpE,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAsD,6CAA6C;AACnG;AACA;AACA,aAAY,OAAO;AACnB,cAAa,cAAc;AAC3B;AACA;AACA;AACA,yBAAwB,oBAAoB;AAC5C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAM,wCAAwC,YAAY;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA0C,2CAA2C;AACrF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uFAAsF;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,UAAU;AACvB;AACA;AACA;AACA,sBAAqB,2CAA2C;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAM,wCAAwC,YAAY;AAC1D;AACA;AACA,uFAAsF;AACtF;AACA;AACA;AACA;AACA,cAAa,UAAU;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA,mBAAkB,kBAAkB,QAAQ;AAC5C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,cAAc;AAC3B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,sBAAqB,0BAA0B,YAAY,OAAO,2BAA2B,YAAY;AACzG;AACA;AACA,wCAAuC,sBAAsB,YAAY;AACzE,oBAAmB,wBAAwB,YAAY;AACvD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,cAAc;AAC1B;AACA,cAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,yBAAyB;AACrC,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,yBAAyB;AACrC,cAAa;AACb;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAY,SAAS;AACrB,aAAY,QAAQ;AACpB,cAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAY,UAAU;AACtB,aAAY,SAAS;AACrB,aAAY,QAAQ;AACpB,cAAa;AACb;AACA;AACA;AACA,iBAAgB,eAAe;AAC/B;AACA;;AAEA,gBAAe,0CAA0C,EAAE;AAC3D,gBAAe,2BAA2B;;AAE1C;AACA;AACA;;AAEA;;AAEA,+BAA8B,UAAU,EAAE,qBAAqB,UAAU;AACzE,qCAAoC,UAAU,EAAE,qBAAqB,UAAU;AAC/E,+BAA8B,UAAU,EAAE,qBAAqB,UAAU;;AAEzE,+BAA8B,UAAU,EAAE,qBAAqB,UAAU;AACzE,qCAAoC,UAAU,EAAE,qBAAqB,UAAU;AAC/E,+BAA8B,UAAU,EAAE,qBAAqB,UAAU;;AAEzE;AACA;;AAEA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,gCAA+B,KAAK;AACpC,yCAAwC,aAAa;AACrD;AACA;AACA;;AAEA;AACA,EAAC;;AAED;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,qCAAoC,uBAAuB,YAAY;AACvE;AACA;AACA;AACA;AACA,qBAAoB,sBAAsB,YAAY;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO,mCAAmC,YAAY,IAAI,sCAAsC,YAAY;AAC5G,QAAO,uCAAuC,YAAY;AAC1D;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,eAAc,+CAA+C,YAAY;AACzE;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA,kBAAiB;AACjB,IAAG;AACH,GAAE;;;AAGF;AACA;AACA;AACA,2CAA0C,wCAAwC,YAAY;AAC9F;AACA;AACA;AACA,2BAA0B;;AAE1B;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,yBAAyB;AACrC,aAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA,mDAAkD,aAAa;;AAE/D;AACA;AACA,8BAA6B,KAAK;AAClC;AACA,6BAA4B,UAAU;;AAEtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,cAAc;AAC1B,cAAa,cAAc;AAC3B;AACA;AACA,uBAAsB,cAAc;AACpC;AACA;AACA,iBAAgB,KAAK,OAAO,6BAA6B;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,8BAA8B;AAC9C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,cAAc;AAC1B,aAAY,OAAO;AACnB,cAAa,cAAc;AAC3B;AACA;AACA;AACA,6BAA4B;AAC5B,iDAAgD,uBAAuB;AACvE;AACA,iBAAgB,OAAO,OAAO,uCAAuC;AACrE;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,8BAA8B;AAC9C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,cAAc;AAC1B,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA,iBAAgB,KAAK,OAAO,+CAA+C;AAC3E;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA,iBAAgB,KAAK,OAAO,qBAAqB;AACjD,2BAA0B,YAAY,EAAE;AACxC;AACA,iBAAgB,KAAK,OAAO,0CAA0C;AACtE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,wBAAwB;AAC/C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,cAAa,cAAc;AAC3B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,OAAO;AACnB,cAAa,cAAc;AAC3B;AACA;AACA;AACA,8BAA6B,IAAI;AACjC,8BAA6B,gBAAgB;AAC7C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAmC,UAAU;AAC7C,oCAAmC,WAAW;AAC9C;AACA;AACA;AACA;AACA;AACA,aAAY,SAAS;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,cAAc;AAC1B,cAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA,oBAAmB,QAAQ;AAC3B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY,cAAc;AAC1B,aAAY,cAAc;AAC1B;AACA;AACA;AACA;AACA,8BAA6B,IAAI;AACjC,4BAA2B,YAAY;AACvC,4BAA2B,YAAY;AACvC,2CAA0C,OAAO;AACjD;AACA,cAAa,QAAQ,EAAE;AACvB;AACA;AACA;;AAEA;AACA;AACA,aAAY,cAAc;AAC1B,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA,yDAAwD,QAAQ;AAChE,gBAAe,IAAI;AACnB,2BAA0B,OAAO;AACjC;AACA,4BAA2B,QAAQ;AACnC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY,cAAc;AAC1B,cAAa,QAAQ;AACrB;AACA;AACA;AACA,wBAAuB,aAAa;AACpC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,2DAA0D,oDAAoD;AAC9G;AACA;AACA,wFAAuF,8CAA8C,YAAY;AACjJ;AACA;AACA;AACA;AACA,2DAA0D,oDAAoD;AAC9G,aAAY,uCAAuC,YAAY;AAC/D;AACA,2BAA0B,8CAA8C,YAAY;AACpF;AACA;AACA;AACA;AACA,qCAAoC,+CAA+C,YAAY,OAAO,4CAA4C,YAAY;AAC9J;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAiB,+CAA+C,YAAY;AAC5E;AACA,sBAAqB,+CAA+C,YAAY;AAChF;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY,QAAQ;AACpB;AACA,cAAa,UAAU;AACvB;AACA;AACA;AACA,mBAAkB,wBAAwB;AAC1C;AACA;;AAEA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA,sCAAqC,MAAM;AAC3C;AACA,4CAA2C,qBAAqB;AAChE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY,UAAU;AACtB;AACA;AACA,2BAA0B,uBAAuB;AACjD;AACA,wCAAuC,KAAK;AAC5C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,QAAQ;AACpB,cAAa,QAAQ;AACrB;AACA;AACA,qDAAoD,cAAc;AAClE;AACA,eAAc,qBAAqB;AACnC;AACA,iBAAgB,gCAAgC;AAChD;AACA;;AAEA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,MAAM;AAClB,aAAY,QAAQ;AACpB,aAAY,QAAQ;AACpB,aAAY,OAAO;AACnB,cAAa;AACb;AACA;AACA;AACA;AACA,sDAAqD,aAAa;AAClE;AACA;;AAEA;AACA;AACA,kBAAiB,MAAM;AACvB;AACA;AACA,+FAA8F,UAAU;AACxG,mDAAkD,UAAU;;AAE5D;AACA;AACA;AACA,0BAAyB,uDAAuD;AAChF,KAAI;AACJ,uEAAsE,UAAU;;AAEhF;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,+BAA8B,UAAU;AACxC;AACA;AACA,eAAc,iBAAiB;AAC/B,WAAU,sDAAsD;AAChE;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAY,cAAc;AAC1B,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA,4DAA2D,aAAa;;AAExE;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,6BAA4B,cAAc;AAC1C;AACA;;AAEA;AACA;;AAEA;AACA;AACA,aAAY,SAAS;AACrB,aAAY,QAAQ;AACpB,cAAa;AACb;AACA;AACA;AACA;AACA,gBAAe,+DAA+D;;AAE9E;AACA;AACA,gBAAe,2BAA2B;;AAE1C;AACA,gBAAe,KAAK;AACpB;AACA,8DAA6D,UAAU;AACvE,eAAc,8DAA8D;AAC5E,UAAS,uBAAuB;AAChC;AACA;AACA;;;AAGA;AACA,EAAC;;AAED;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA,iCAAgC,0BAA0B,YAAY,qCAAqC,2BAA2B;AACtI;AACA;AACA;AACA,mEAAkE,uBAAuB,YAAY;AACrG,kCAAiC,6BAA6B,YAAY;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,oCAAoC;AAChD;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;;AAEA;AACA;AACA,QAAO,0CAA0C,YAAY;AAC7D;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAO,6CAA6C,YAAY,QAAQ,2BAA2B;AACnG;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY;AACZ;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAc,2BAA2B,YAAY;AACrD;AACA;AACA;;AAEA;AACA,uFAAsF,2BAA2B;AACjH;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAkB,6CAA6C,YAAY;AAC3E,eAAc,2BAA2B,YAAY;AACrD;AACA;AACA;;AAEA;AACA;AACA,8EAA6E,2BAA2B;AACxG;AACA;AACA;AACA;;AAEA;AACA;AACA,8EAA6E,2BAA2B;AACxG;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA,yBAAwB,mCAAmC;AAC3D,eAAc,yBAAyB;AACvC;AACA;;AAEA;AACA;AACA,gBAAe;AACf,IAAG;AACH,GAAE,aAAa;;;AAGf;AACA;AACA,kEAAiE,2BAA2B;AAC5F,cAAa,4CAA4C,YAAY;AACrE;AACA;AACA;AACA,aAAY,OAAO,iEAAiE,uBAAuB,YAAY;AACvH;AACA;AACA,sBAAqB,QAAQ;AAC7B,2BAA0B,kBAAkB;AAC5C,gEAA+D,QAAQ;AACvE;AACA;AACA;AACA;AACA,YAAW,4CAA4C;AACvD,UAAS,gEAAgE;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,yFAAwF,6BAA6B;AACrH,cAAa,4CAA4C,YAAY;AACrE;AACA;AACA;AACA;AACA,wDAAuD,iCAAiC,YAAY;AACpG,SAAQ,kCAAkC,YAAY;AACtD;AACA;AACA;AACA;AACA;AACA,qCAAoC,+BAA+B;AACnE;AACA;AACA,2BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA,8BAA6B;AAC7B,2CAA0C;AAC1C;AACA;AACA;AACA,aAAY,OAAO;AACnB;AACA;AACA,qFAAoF,QAAQ;AAC5F;AACA;AACA;AACA,mCAAkC,sBAAsB;AACxD;AACA;AACA;AACA;AACA;;AAEA;AACA,kDAAiD,6BAA6B,YAAY,iBAAiB,yCAAyC;AACpJ,8FAA6F,uBAAuB;AACpH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,kBAAkB;AAC7C;;AAEA;AACA,2CAA0C,yCAAyC,YAAY;AAC/F;AACA;AACA;AACA,sBAAqB,QAAQ;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB;AACA,aAAY,OAAO;AACnB;AACA,cAAa,OAAO;AACpB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,qEAAoE,8CAA8C;AAClH,WAAU,6CAA6C,YAAY,0BAA0B,6CAA6C;AAC1I,WAAU,4CAA4C,YAAY;AAClE;AACA;AACA;AACA;AACA;AACA;AACA,oCAAmC;AACnC;AACA;AACA,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA0B,gBAAgB;AAC1C,6BAA4B,QAAQ;AACpC;AACA,sDAAqD,oBAAoB,EAAE;AAC3E;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,QAAQ;AACpB;AACA;AACA,wBAAuB,eAAe;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,qBAAoB,oBAAoB,yBAAyB;AACjE,uBAAsB,oBAAoB,2BAA2B;AACrE,sBAAqB,8BAA8B,6BAA6B;AAChF,uBAAsB,8BAA8B,2BAA2B;;AAE/E;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,aAAY,YAAY;AACxB;AACA;AACA;AACA,QAAO,oCAAoC,EAAE;AAC7C,gBAAe,WAAW,kFAAkF;;AAE5G;AACA;;AAEA,oFAAmF;AACnF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,OAAO;AACnB;AACA;AACA;AACA,eAAc,iCAAiC,SAAS;AACxD;AACA;;AAEA;AACA;AACA;AACA,aAAY,WAAW;AACvB;AACA;AACA,UAAS,kBAAkB;AAC3B;AACA;;AAEA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,MAAM;AAClB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,MAAM;AAClB;AACA;AACA,gDAA+C,QAAQ,EAAE;AACzD,sBAAqB,QAAQ;AAC7B;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,MAAM;AAClB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,WAAW;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,MAAM;AAClB,aAAY,QAAQ;AACpB,aAAY,MAAM;AAClB;AACA;AACA;AACA,gDAA+C,QAAQ,EAAE;;AAEzD;AACA,0CAAyC,2DAA2D;;AAEpG,gBAAe,yEAAyE,gBAAgB;;AAExG,2BAA0B,4DAA4D;AACtF;;AAEA;AACA,qCAAoC,+BAA+B;AACnE;AACA,IAAG,OAAO,iBAAiB;;AAE3B;AACA;;AAEA;AACA;AACA;AACA,aAAY,WAAW;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,MAAM;AAClB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,MAAM;AAClB;AACA;AACA,+BAA8B,oBAAoB;AAClD,qDAAoD,6BAA6B,EAAE;;AAEnF,uBAAsB,kDAAkD;AACxE;AACA,gBAAe,sEAAsE;;AAErF,oBAAmB,2EAA2E,eAAe;AAC7G;;AAEA;AACA;;AAEA;AACA;AACA,aAAY,QAAQ;AACpB,aAAY,MAAM;AAClB,aAAY,MAAM;AAClB;AACA;AACA;AACA,gDAA+C,QAAQ,EAAE;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oHAAmH,QAAQ;;AAE3H;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAiB,mBAAmB;AACpC;AACA;AACA;AACA,+BAA8B,0CAA0C;;AAExE;AACA,0BAAyB,KAAK;AAC9B,gCAA+B,OAAO;AACtC;AACA;;AAEA;AACA;AACA;;AAEA,2BAA0B,UAAU;AACpC;AACA;;AAEA,wBAAuB,UAAU;AACjC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,aAAY,WAAW;AACvB,aAAY,MAAM;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,cAAc;AAC1B,aAAY,OAAO;AACnB,aAAY,QAAQ;AACpB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,WAAW;AACvB,aAAY,cAAc;AAC1B;AACA;AACA;AACA,iEAAgE,QAAQ;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA,EAAC;;AAED;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,4CAA2C,0BAA0B,YAAY;AACjF,2CAA0C,sBAAsB,YAAY;AAC5E,SAAQ,sBAAsB,YAAY;AAC1C;AACA,qBAAoB,2BAA2B,YAAY;AAC3D,gBAAe,WAAW;AAC1B;AACA;AACA;AACA,SAAQ,sBAAsB,YAAY,IAAI,uBAAuB,YAAY,QAAQ,qBAAqB;AAC9G;AACA,qDAAoD,oCAAoC,YAAY;AACpG;AACA;AACA;AACA,6DAA4D,4BAA4B,YAAY;AACpG,OAAM,mCAAmC,YAAY;AACrD;AACA,OAAM,6BAA6B,YAAY;AAC/C,yDAAwD,uCAAuC,YAAY;AAC3G;AACA;AACA,qCAAoC,uCAAuC,YAAY;AACvF;AACA;AACA,0FAAyF,uBAAuB;AAChH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ,gCAAgC,YAAY;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,oCAAoC;AAChD;AACA,aAAY,OAAO;AACnB,aAAY,QAAQ;AACpB;AACA,aAAY,QAAQ;AACpB;AACA,aAAY,QAAQ;AACpB;AACA,aAAY,QAAQ;AACpB;AACA;AACA,aAAY,QAAQ;AACpB,iEAAgE,sCAAsC,YAAY;AAClH;AACA;AACA;AACA;;AAEA;AACA,qCAAoC,iCAAiC;AACrE;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oFAAmF,+BAA+B;AAClH;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA,0BAAyB,kCAAkC;AAC3D;AACA;AACA,aAAY;AACZ;AACA;AACA;AACA,8BAA6B;;AAE7B;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY;AACZ,gBAAe;AACf;AACA,uBAAsB;;AAEtB;AACA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA,2DAA0D;;AAE1D;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA,qCAAoC,2CAA2C,YAAY;AAC3F;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA,qCAAoC,sCAAsC,YAAY;AACtF;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA,qCAAoC,0CAA0C,YAAY;AAC1F;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA,qCAAoC,yCAAyC,YAAY;AACzF;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,2CAA0C,8CAA8C;AACxF;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA,+EAA8E,gDAAgD,YAAY;AAC1I;AACA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA,qFAAoF,0CAA0C;AAC9H;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA,qDAAoD,0BAA0B,YAAY;AAC1F,yBAAwB,sBAAsB,YAAY;AAC1D;AACA;AACA,aAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,YAAY;AACzB,cAAa,IAAI;AACjB,cAAa,QAAQ;AACrB;AACA,cAAa,OAAO,8DAA8D;AAClF;AACA;AACA,8CAA6C,aAAa;AAC1D,8BAA6B,aAAa;AAC1C,kCAAiC,oBAAoB;;AAErD;AACA;AACA,oBAAmB,OAAO;AAC1B;AACA,gEAA+D,UAAU;;AAEzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sEAAqE;AACrE;;AAEA;AACA;AACA;AACA,aAAY,cAAc;AAC1B;AACA,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAM,qDAAqD,YAAY;AACvE;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX,eAAc;AACd;AACA;AACA,qBAAoB;;AAEpB;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAc,4CAA4C,YAAY;AACtE;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,uBAAsB,4CAA4C,YAAY;AAC9E;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA,4BAA2B;AAC3B,+BAA8B;AAC9B,mCAAkC;AAClC,kCAAiC;AACjC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA,kCAAiC;AACjC,8BAA6B;AAC7B,sCAAqC;AACrC,qCAAoC;AACpC,yBAAwB;AACxB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA,iCAAgC,OAAO,EAAE;AACzC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA,kFAAiF;AACjF;AACA;AACA;AACA;AACA;AACA,OAAM;AACN,8BAA6B;AAC7B,gCAA+B;AAC/B,gCAA+B;AAC/B,KAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA,qBAAoB;AACpB,2CAA0C;;AAE1C,8BAA6B;AAC7B,oDAAmD;AACnD,QAAO,YAAY;AACnB,MAAK;;AAEL,oCAAmC,aAAa,wBAAwB;AACxE,KAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA,4BAA2B;;AAE3B,oCAAmC;AACnC,qCAAoC;AACpC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA,kCAAiC;AACjC,8BAA6B;AAC7B,2BAA0B;AAC1B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA,+BAA8B;AAC9B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA,qBAAoB;AACpB,sEAAqE;AACrE,+BAA8B;AAC9B,sEAAqE;AACrE,KAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA,qBAAoB;AACpB,oDAAmD;AACnD,0BAAyB;AACzB,KAAI;AACJ;;AAEA;AACA;AACA;AACA,OAAM,qCAAqC,YAAY;AACvD;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa,sBAAsB;;AAEnC;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,gBAAe;AACf,IAAG;AACH,GAAE,aAAa;;;AAGf;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAc,aAAa;;AAE3B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,sBAAqB,QAAQ;AAC7B,2BAA0B,kBAAkB;AAC5C;AACA,wBAAuB,cAAc;;AAErC;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAqB,QAAQ;AAC7B;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,iDAAiD;AAC7D,aAAY,QAAQ;AACpB;AACA,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAY,cAAc;AAC1B;AACA,aAAY,MAAM;AAClB,aAAY,YAAY;AACxB,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,cAAc;AAC3B,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa;AACb;AACA;AACA;AACA;AACA;AACA,2EAA0E,eAAe;AACzF;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,2CAA2C,YAAY;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,yCAAyC;AACtD;AACA;AACA;AACA,eAAc,QAAQ;;AAEtB;AACA;AACA,yCAAwC,OAAO;AAC/C;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA,oDAAmD,OAAO;AAC1D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,kBAAiB,+BAA+B,YAAY;AAC5D;AACA;AACA,oEAAmE,uCAAuC,YAAY;AACtH;AACA,wDAAuD,2CAA2C,YAAY;AAC9G;AACA,aAAY,OAAO;AACnB;AACA;AACA,2BAA0B,aAAa;;AAEvC;AACA;AACA,iBAAgB,KAAK;AACrB;AACA,gBAAe,UAAU;AACzB,+CAA8C;AAC9C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;;AAEA,mCAAkC,WAAW;AAC7C;;AAEA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;;AAEA;AACA,uCAAsC,6BAA6B;;AAEnE;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAY,QAAQ;AACpB,aAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,cAAc;AAC3B,cAAa;AACb;AACA;AACA,iBAAgB,eAAe;;AAE/B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,KAAK;AAClB,cAAa,KAAK;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,mGAAkG;AAClG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,aAAa;AAC1B,cAAa,KAAK;AAClB,cAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mCAAkC,uCAAuC,YAAY;AACrF;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,QAAQ;AACrB;AACA;AACA;;AAEA;AACA;AACA,wBAAuB,aAAa;;AAEpC;AACA;AACA,sBAAqB,aAAa;;AAElC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,sBAAsB;AACnC,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA2D,oCAAoC,YAAY;AAC3G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,WAAW;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAG,OAAO;AACV;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,6BAA4B,QAAQ;AACpC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB;AACA;AACA,cAAa,sBAAsB;AACnC;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,sBAAsB;AACnC,cAAa,OAAO;AACpB;AACA,cAAa,OAAO;AACpB,OAAM,0CAA0C,YAAY,mBAAmB,uBAAuB,YAAY;AAClH,cAAa,OAAO;AACpB,OAAM,4CAA4C,YAAY,mBAAmB,uBAAuB,YAAY;AACpH,cAAa,SAAS;AACtB;AACA,cAAa,aAAa;AAC1B;AACA;AACA,uBAAsB;;AAEtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,oBAAmB,6BAA6B;AAChD;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,uGAAsG,WAAW;AACjH;AACA,cAAa,sBAAsB;AACnC,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa;AACb;AACA;AACA;AACA;AACA,wBAAuB,OAAO;;AAE9B;AACA;AACA;AACA,kBAAiB,2BAA2B;AAC5C,gBAAe,qCAAqC,qDAAqD;AACzG;AACA,wBAAuB,YAAY;AACnC,wBAAuB,aAAa;;AAEpC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,aAAY,sBAAsB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,gCAA+B;AAC/B;AACA,eAAc,qBAAqB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,+BAA8B,KAAK,gBAAgB,iCAAiC;AACpF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,0BAAyB,KAAK,gBAAgB,uBAAuB;AACrE;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,8BAA6B,KAAK,OAAO,gBAAgB;AACzD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,6BAA4B,KAAK,OAAO,eAAe;AACvD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAe,2BAA2B;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,sBAAsB;AAClC,aAAY,MAAM;AAClB,cAAa,aAAa;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kEAAiE;AACjE;AACA,KAAI;AACJ;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY,sBAAsB;AAClC,aAAY,eAAe;AAC3B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,sBAAsB;AAClC,aAAY,aAAa;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;;AAEJ;AACA;AACA;AACA,2BAA0B;AAC1B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,OAAM,uCAAuC,YAAY;AACzD;AACA;AACA,aAAY,QAAQ;AACpB;AACA;AACA;AACA,cAAa,QAAQ;AACrB;;AAEA;AACA;AACA;AACA;AACA,+CAA8C,4BAA4B;AAC1E;AACA,wBAAuB,qCAAqC;AAC5D;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,2BAA0B,wCAAwC;AAClE;AACA,IAAG;AACH;AACA,0BAAyB,gBAAgB;AACzC;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA,0BAAyB,gBAAgB;AACzC;AACA;;AAEA;AACA;AACA;AACA,aAAY,QAAQ;AACpB,aAAY,MAAM;AAClB;AACA;AACA;AACA;;AAEA,+BAA8B,2BAA2B;AACzD,8BAA6B,+BAA+B;;AAE5D,gBAAe,2BAA2B;AAC1C;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;;AAEA,oDAAmD,2BAA2B;AAC9E;;AAEA;AACA;AACA;AACA,aAAY,sBAAsB;AAClC,aAAY,mBAAmB,cAAc,0BAA0B,YAAY;AACnF,aAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA,yBAAwB;AACxB;AACA;;AAEA;AACA;AACA;AACA,aAAY,cAAc;AAC1B;AACA,aAAY,MAAM;AAClB,aAAY,YAAY;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,cAAc;AAC1B,aAAY,MAAM;AAClB,aAAY,YAAY;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,gBAAe,eAAe;AAC9B;;AAEA;AACA;AACA,8BAA6B,UAAU;;AAEvC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY,UAAU,iBAAiB,0BAA0B,YAAY;AAC7E,aAAY,sBAAsB;AAClC,aAAY,SAAS;AACrB,aAAY,OAAO;AACnB,aAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA,2BAA0B,4CAA4C;AACtE;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,kBAAiB,OAAO;AACxB;;AAEA,yCAAwC,UAAU;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,2BAA0B;AAC1B;AACA;;AAEA;AACA,uBAAsB,uCAAuC;AAC7D;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,mDAAkD;AAClD;AACA,KAAI,yCAAyC;AAC7C,0DAAyD;AACzD,0BAAyB,UAAU;AACnC;AACA,KAAI,OAAO;AACX;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,iBAAgB,UAAU;AAC1B;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,2BAA0B,wEAAwE;AAClG;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,mDAAkD;AAClD;AACA;AACA,0BAAyB,mBAAmB;AAC5C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAc;AACd,4BAA2B;AAC3B,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,gDAA+C;AAC/C,8CAA6C;AAC7C,OAAM;AACN,gBAAe;AACf,+BAA8B;AAC9B;AACA;AACA,KAAI,yCAAyC;AAC7C;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,wBAAuB;AACvB,kCAAiC;AACjC;;AAEA;AACA,8DAA6D;AAC7D,wBAAuB;;AAEvB;AACA;AACA,4DAA2D;AAC3D,8DAA6D;AAC7D,8DAA6D;AAC7D,2CAA0C;AAC1C,2CAA0C;AAC1C,8DAA6D;;AAE7D;AACA,0BAAyB;AACzB,4BAA2B;AAC3B,4BAA2B;AAC3B,4BAA2B;AAC3B,4BAA2B;AAC3B,6BAA4B;;AAE5B;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,sBAAsB;AAClC;AACA;AACA;AACA,kCAAiC,QAAQ,EAAE;;AAE3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,kBAAiB,6BAA6B;AAC9C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,sBAAsB;AAClC,aAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,EAAC;;AAED;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mEAAkE,4BAA4B,YAAY;AAC1G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0GAAyG;AACzG;AACA;AACA;AACA;AACA;AACA,aAAY,oCAAoC;AAChD;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,2CAA0C,wCAAwC,YAAY;AAC9F;AACA;AACA;AACA,wBAAuB;;AAEvB;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,yBAAyB;AACrC,aAAY,QAAQ;AACpB;AACA;AACA,cAAa;AACb;AACA;AACA,mDAAkD,aAAa;AAC/D;AACA,sBAAqB,sBAAsB;AAC3C,cAAa,aAAa;AAC1B;AACA;AACA;AACA,iBAAgB,SAAS,QAAQ;AACjC,iBAAgB,QAAQ;AACxB,iBAAgB,SAAS,QAAQ;AACjC,iBAAgB,QAAQ;AACxB;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kEAAiE,oCAAoC;AACrG;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kEAAiE,oCAAoC;AACrG;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kEAAiE,oCAAoC;AACrG;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,aAAa;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,QAAQ;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA,qBAAoB,2BAA2B;AAC/C;AACA,yBAAwB,wCAAwC;AAChE;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;;;AAGA;AACA,EAAC;;AAED;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc,4BAA4B,YAAY;AACtD;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,mCAAmC,YAAY,MAAM,mCAAmC,YAAY;AAChH;AACA;AACA;AACA;AACA;AACA,aAAY,YAAY;AACxB,uCAAsC,4BAA4B,YAAY;AAC9E,aAAY,cAAc;AAC1B;AACA;AACA;;;AAGA;AACA;AACA,oFAAmF,4BAA4B;AAC/G;AACA;AACA,aAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA,kBAAiB,4BAA4B,YAAY;AACzD;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,uCAAsC,iCAAiC,YAAY;AACnF;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,6BAA6B,YAAY;AAC5D;AACA,aAAY;AACZ;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,kCAAiC,oCAAoC;AACrE;AACA;;AAEA;AACA;AACA,2CAA0C,wCAAwC,YAAY;AAC9F;AACA;AACA;AACA,wBAAuB;;;AAGvB;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAY,yBAAyB;AACrC,aAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA,mDAAkD,aAAa;AAC/D;AACA;AACA,YAAW,cAAc;AACzB;AACA,mCAAkC,4GAA4G;AAC9I;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,iFAAgF,4BAA4B;AAC5G,UAAS,mCAAmC,YAAY;AACxD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,uEAAsE,mCAAmC;AACzG,oCAAmC,mCAAmC,YAAY,MAAM,4BAA4B;AACpH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,cAAc;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,cAAc;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAgB,0BAA0B,YAAY;AACtD;AACA;AACA;AACA,gCAA+B,2CAA2C,YAAY;AACtF;AACA,cAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,OAAO;AACnB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,2GAA0G,sBAAsB;AAChI;AACA,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA,6BAA4B,oCAAoC;AAChE;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,2CAA0C,+BAA+B;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,yGAAwG,4BAA4B,YAAY;AAChJ,OAAM,mCAAmC,YAAY;AACrD;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA2C,kCAAkC,gBAAgB;AAC7F;AACA;;AAEA;AACA;AACA;AACA,aAAY,cAAc;AAC1B,aAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;;AAGA;AACA,EAAC;;AAED;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA,qFAAoF,yBAAyB;AAC7G;AACA;AACA;AACA;AACA,qDAAoD,oCAAoC,YAAY;AACpG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,SAAS;AACrB;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kCAAiC;;;AAGjC;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,yBAAyB;AACrC,aAAY,QAAQ;AACpB;AACA,cAAa;AACb;AACA;AACA,mDAAkD,aAAa;AAC/D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY,QAAQ,mCAAmC,yBAAyB,YAAY;AAC5F;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;;;AAGA;AACA,EAAC;;AAED;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA,sFAAqF,4CAA4C;AACjI,wBAAuB,2BAA2B,YAAY;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA,aAAY,OAAO;AACnB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kCAAiC;;;AAGjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB,gDAAgD,kCAAkC;;;AAG3G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB;;AAEnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB;;;AAGnB;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAY,yBAAyB;AACrC,aAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA,mDAAkD,aAAa;;AAE/D;AACA,sBAAqB,uBAAuB,gCAAgC;AAC5E,SAAQ,qBAAqB;;AAE7B;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iDAAgD,2CAA2C,YAAY;AACvG;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA,gCAA+B;AAC/B;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,aAAa;AAC1B,+CAA8C,aAAa;AAC3D,kCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,KAAK;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,aAAY,KAAK;AACjB;AACA,cAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAY,yBAAyB;AACrC,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,yBAAyB;AACrC,aAAY,OAAO;AACnB,aAAY,MAAM;AAClB,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oCAAmC,KAAK;AACxC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,mCAAkC,MAAM;AACxC;AACA;AACA;AACA,mBAAkB,gDAAgD;AAClE,mBAAkB,iBAAiB;AACnC,sBAAqB,UAAU;AAC/B;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA;;AAEA,gBAAe,gDAAgD;AAC/D,gBAAe,iBAAiB;AAChC,yBAAwB,gCAAgC;AACxD,mBAAkB,UAAU;AAC5B;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,eAAe;AAC9B;AACA;;AAEA;AACA;AACA,aAAY,yBAAyB;AACrC,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA,sBAAqB,mDAAmD;AACxE,SAAQ,iDAAiD;AACzD;;;AAGA;AACA;AACA,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA,EAAC;;AAED;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,wDAAuD,gDAAgD;AACvG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,YAAY;AACxB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB;;AAEpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,mDAAkD,QAAQ;AAC1D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAY,WAAW;AACvB,cAAa,WAAW;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,YAAY;AACxB,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,iCAAiC;AAC5C;AACA;AACA;;AAEA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,YAAY;AACxB,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAY,YAAY;AACxB,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAY,YAAY;AACxB,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,QAAQ;;AAExB;AACA,8BAA6B,kCAAkC;AAC/D,gBAAe,iCAAiC;;AAEhD,mCAAkC,KAAK;AACvC;AACA;AACA;AACA;AACA,KAAI;AACJ,4DAA2D,KAAK,EAAE;AAClE;AACA;AACA;AACA;;AAEA;AACA,wBAAuB,UAAU;;AAEjC;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,sCAAsC;AACnF;;;AAGA;AACA,EAAC;;AAED;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA,yEAAwE,0BAA0B,YAAY;AAC9G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA0B,sCAAsC,YAAY;AAC5E;AACA;AACA;AACA;AACA,2CAA0C,iBAAiB,YAAY;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB,IAAI,MAAM,KAAK,UAAU,IAAI;AACnD;AACA;AACA,uBAAsB,KAAK,MAAM,IAAI,UAAU,KAAK;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO,uEAAuE,uBAAuB;AACjH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAsC;;AAEtC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB,WAAW;AACjC;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,gBAAe,UAAU,eAAe;;;AAGxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0DAAyD;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,6BAA6B,YAAY;AAC5D;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAqD,IAAI,MAAM,MAAM;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAqD,WAAW;AAChE,4BAA2B,UAAU;AACrC,4BAA2B,WAAW;AACtC;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB;;AAEzB;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;;AAGA;AACA;AACA,0BAAyB,QAAQ;AACjC;AACA;AACA;AACA;;;AAGA;AACA;AACA,eAAc,0CAA0C,YAAY;AACpE;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAc,gDAAgD,YAAY;AAC1E;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAc,4CAA4C,YAAY;AACtE;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW;AACX;AACA;;AAEA;AACA;AACA;AACA,YAAW;AACX;AACA;;AAEA;AACA;AACA;AACA,YAAW;AACX;AACA;;AAEA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA,aAAY,oBAAoB;AAChC,mBAAkB,0BAA0B;AAC5C,kBAAiB,sBAAsB;AACvC,eAAc;AACd;AACA,IAAG;AACH,GAAE;;;AAGF;AACA;AACA;AACA,2CAA0C,wCAAwC,YAAY;AAC9F;AACA;AACA;AACA,2BAA0B;;AAE1B;AACA;AACA;AACA;AACA;AACA,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAY,yBAAyB;AACrC,aAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA,mDAAkD,aAAa;AAC/D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,cAAc;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,cAAc;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA,mCAAkC,QAAQ,EAAE;;AAE5C;AACA;AACA,2CAA0C,8BAA8B,oBAAoB,EAAE;AAC9F;;AAEA,qBAAoB,QAAQ;;AAE5B;AACA;AACA;AACA,sBAAqB;;AAErB,qBAAoB,kDAAkD;AACtE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,yEAAwE,0BAA0B;AAClG;;AAEA;AACA;AACA,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAY,cAAc;AAC1B;AACA;AACA;AACA;AACA,qBAAoB,QAAQ;AAC5B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA,gBAAe,6FAA6F;AAC5G,yBAAwB,iBAAiB;AACzC,sDAAqD,QAAQ;AAC7D;;AAEA;AACA,uBAAsB;AACtB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iCAAgC,sBAAsB;;AAEtD;AACA,iCAAgC,KAAK;AACrC;AACA,2CAA0C,UAAU,EAAE;AACtD;;AAEA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA,wBAAuB,MAAM;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAY,MAAM;AAClB,aAAY,OAAO;AACnB;AACA;AACA;AACA,gBAAe,QAAQ;AACvB,6BAA4B,KAAK;AACjC;AACA;AACA;AACA,0BAAyB,sBAAsB;AAC/C;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,UAAU;AACtB,aAAY,OAAO;AACnB;AACA;AACA;AACA,oBAAmB,QAAQ;AAC3B;;AAEA;AACA;AACA;AACA;AACA,gGAA+F,gBAAgB;AAC/G;AACA;AACA;;AAEA;AACA;AACA,aAAY,SAAS;AACrB,aAAY,QAAQ;AACpB,cAAa;AACb;AACA;AACA;AACA;AACA;AACA,2BAA0B,oEAAoE;AAC9F;AACA,gBAAe,+DAA+D;AAC9E;AACA;;;AAGA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA,iCAAgC;;AAEhC;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAY,MAAM;AAClB,aAAY,OAAO;AACnB,aAAY,EAAE;AACd;AACA;AACA;AACA,uEAAsE,mCAAmC;AACzG;;AAEA;AACA;AACA,aAAY,MAAM;AAClB,aAAY,UAAU;AACtB,aAAY,OAAO;AACnB;AACA;AACA;;AAEA;AACA;AACA,aAAY,MAAM;AAClB,aAAY,UAAU;AACtB,aAAY,EAAE;AACd,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa;AACb;AACA;AACA;AACA,kCAAiC,iEAAiE;AAClG;;AAEA,EAAC;;AAED;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA,qFAAoF,4BAA4B,YAAY;AAC5H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,oGAAmG,uBAAuB;AAC1H,cAAa,mCAAmC,YAAY;AAC5D,0FAAyF,kCAAkC;AAC3H,mBAAkB,uBAAuB,YAAY;AACrD;AACA;AACA;AACA;AACA,aAAY,YAAY;AACxB,aAAY,cAAc;AAC1B;AACA,cAAa,iBAAiB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,eAAc,aAAa;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,KAAK;AACpB;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAW,KAAK;AAChB;AACA;AACA;;AAEA,iBAAgB;AAChB;AACA,8DAA6D;AAC7D,sCAAqC;AACrC;AACA;AACA,iEAAgE;AAChE,uCAAsC;AACtC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,KAAK;AAChB;AACA;AACA,gBAAe;AACf,mBAAkB,kBAAkB;AACpC;AACA,iCAAgC,IAAI;AACpC;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA,EAAC;;AAED;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA,qDAAoD,4BAA4B,YAAY;AAC5F;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAAyD,qDAAqD;AAC9G,UAAS,sDAAsD,YAAY;AAC3E;AACA,aAAY,OAAO,qBAAqB,+CAA+C,YAAY;AACnG,OAAM,4BAA4B,YAAY;AAC9C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAS,+CAA+C,YAAY,oCAAoC,4BAA4B,YAAY;AAChJ,2FAA0F,uBAAuB;AACjH;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;;AAEA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;;;AAGA;AACA;AACA,2BAA0B,4BAA4B,YAAY;AAClE,YAAW,yCAAyC,YAAY;AAChE;AACA;AACA;AACA;AACA,uGAAsG,0BAA0B;AAChI;AACA;AACA,aAAY,cAAc,qBAAqB,8BAA8B,YAAY;AACzF,aAAY,UAAU,kBAAkB,0BAA0B,YAAY;AAC9E;AACA;AACA,aAAY,OAAO;AACnB,aAAY,SAAS;AACrB,aAAY,OAAO;AACnB,cAAa,OAAO;AACpB;AACA;AACA,oBAAmB,sCAAsC;AACzD;AACA,iCAAgC,2BAA2B;AAC3D,eAAc,aAAa;AAC3B;AACA,6BAA4B,sIAAsI;AAClK;;AAEA;AACA,8DAA6D,4BAA4B,YAAY;AACrG;AACA,aAAY,OAAO;AACnB,aAAY,MAAM;AAClB;AACA,aAAY,OAAO;AACnB;AACA,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA,oBAAmB,sCAAsC;AACzD,6BAA4B;AAC5B;;AAEA;AACA,wBAAuB,0BAA0B,YAAY;AAC7D;AACA;AACA;AACA;AACA;AACA,mEAAkE,kDAAkD;AACpH;AACA;AACA,aAAY,UAAU;AACtB,aAAY,UAAU,kBAAkB,0BAA0B,YAAY;AAC9E,+DAA8D,wCAAwC;AACtG;AACA;AACA,aAAY,OAAO;AACnB,aAAY,SAAS;AACrB;AACA,aAAY,OAAO;AACnB,aAAY,SAAS;AACrB;AACA;AACA;AACA;AACA,oBAAmB,sCAAsC;AACzD;AACA;AACA,iCAAgC,2BAA2B;AAC3D,yBAAwB,QAAQ;;AAEhC;AACA;AACA,YAAW,YAAY;AACvB;AACA,gEAA+D,kCAAkC;AACjG;AACA;AACA;AACA;AACA,eAAc,yBAAyB;AACvC;AACA;AACA,4BAA2B,wBAAwB,EAAE;AACrD,2BAA0B,KAAK;AAC/B;AACA;AACA;AACA;AACA,sBAAqB,OAAO,OAAO,gBAAgB;AACnD;AACA;AACA,mBAAkB,UAAU;AAC5B;AACA,4CAA2C;AAC3C;AACA;AACA;;AAEA;AACA,gBAAe,4BAA4B,YAAY;AACvD;AACA,cAAa,YAAY;AACzB;AACA;AACA;AACA,oBAAmB,sCAAsC;AACzD;AACA;AACA;AACA;AACA;;AAEA;AACA,+BAA8B,4BAA4B,YAAY;AACtE;AACA;AACA;AACA,aAAY,OAAO;AACnB;AACA;AACA,oBAAmB,sCAAsC;AACzD;AACA;AACA;AACA,0CAAyC,cAAc,EAAE;AACzD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,8BAA6B,sCAAsC,EAAE;;AAErE,+DAA8D,yCAAyC;AACvG;AACA;AACA;AACA;AACA,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAY,MAAM;AAClB,aAAY,OAAO;AACnB,aAAY,iBAAiB;AAC7B,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA6B,MAAM;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,yCAAyC;AACzD,6BAA4B,UAAU;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU;AACV;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,iBAAiB,OAAO;AACnD;AACA;AACA;AACA,IAAG;AACH;AACA,2CAA0C,cAAc,EAAE;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;;;AAGA;AACA,EAAC;;AAED;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,mDAAkD,0BAA0B,YAAY;AACxF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,YAAY;AACxB;AACA;AACA;;AAEA,uCAAsC,oDAAoD;AAC1F;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kCAAiC;;;AAGjC;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAY,yBAAyB;AACrC,aAAY,QAAQ;AACpB;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAY,MAAM;AAClB;AACA;AACA;AACA;AACA,YAAW,QAAQ;AACnB;;AAEA;;AAEA;AACA,wCAAuC,+BAA+B;AACtE,wBAAuB,QAAQ;;AAE/B;AACA,iBAAgB;;AAEhB;AACA;AACA;AACA;AACA,oBAAmB,mEAAmE;AACtF;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA,EAAC;;AAED;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,WAAU,oCAAoC,YAAY;AAC1D,OAAM,0CAA0C,YAAY;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA4C,iCAAiC,YAAY;AACzF,8FAA6F,2BAA2B;AACxH;AACA;AACA;AACA;AACA,eAAc,+BAA+B,YAAY;AACzD,gBAAe,gCAAgC,YAAY;AAC3D,gBAAe,2BAA2B,YAAY;AACtD,gBAAe,4BAA4B,YAAY;AACvD,gBAAe,kCAAkC,YAAY,+BAA+B,4BAA4B,YAAY;AACpI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY,UAAU;AACtB,cAAa,UAAU;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY,aAAa;AACzB,aAAY,QAAQ;AACpB,aAAY,cAAc;AAC1B;AACA;;AAEA;AACA;AACA;AACA,aAAY,yBAAyB;AACrC,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,yBAAyB;AACrC,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA,yBAAwB,aAAa;AACrC,yBAAwB,aAAa;AACrC;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,UAAU;AACtB,cAAa;AACb;AACA,wCAAuC,aAAa;;;AAGpD;AACA,EAAC;;AAED;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,6EAA4E,oCAAoC;AAChH,iBAAgB,8BAA8B,YAAY;AAC1D;AACA;AACA,qFAAoF,mDAAmD,YAAY;AACnJ,4CAA2C,uBAAuB,YAAY;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,uBAAuB,YAAY;AACpD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA,2EAA0E;AAC1E;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA,6EAA4E;AAC5E;AACA;AACA,aAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,cAAc;AAC1B,aAAY,UAAU;AACtB,cAAa,UAAU;AACvB;AACA;AACA;AACA,eAAc,mCAAmC;AACjD;AACA;AACA,4BAA2B,eAAe;;AAE1C,eAAc,eAAe;AAC7B;AACA,2BAA0B,UAAU;AACpC;AACA,cAAa,UAAU;AACvB;AACA;AACA,KAAI;AACJ;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAa,oCAAoC,YAAY;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAmD,UAAU,EAAE;AAC/D;AACA;AACA;AACA,sCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA,oDAAmD,YAAY,EAAE;AACjE;AACA;AACA;AACA,sCAAqC;AACrC;AACA;AACA;AACA,OAAM,0CAA0C,YAAY;AAC5D;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA,aAAY,OAAO;AACnB,aAAY,gCAAgC;AAC5C;AACA;AACA;AACA;AACA,eAAc,4BAA4B;AAC1C;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,2BAA0B,iDAAiD,YAAY;AACvF;AACA,qEAAoE,2CAA2C;AAC/G,WAAU,yCAAyC,YAAY;AAC/D;AACA,aAAY,OAAO;AACnB;AACA;AACA,qBAAoB,iDAAiD;;AAErE;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,2BAA2B;AAClD,qBAAoB,iDAAiD;AACrE,qBAAoB,iDAAiD;AACrE,iDAAgD,8DAA8D;AAC9G;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAW,6CAA6C,YAAY;AACpE;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA,sBAAqB,aAAa;AAClC;AACA;AACA,4EAA2E;AAC3E;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,yBAAyB;AACrC,cAAa,QAAQ;AACrB;AACA;AACA,qBAAoB,cAAc;AAClC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAmC;AACnC;;AAEA,KAAI;AACJ,gEAA+D;AAC/D,uEAAsE,kDAAkD;AACxH,+CAA8C;;AAE9C,KAAI;AACJ,oCAAmC;AACnC;AACA,+CAA8C;;AAE9C,KAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA,gBAAe,KAAK;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;AAED;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,6FAA4F,iCAAiC;AAC7H;AACA;AACA,gDAA+C,YAAY;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU,uBAAuB,YAAY;AAC7C;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sDAAqD,+BAA+B;AACpF;AACA;AACA,6BAA4B,OAAO,EAAE;AACrC,6BAA4B,OAAO,EAAE;AACrC,gCAA+B;AAC/B,sBAAqB;AACrB,6BAA4B;;AAE5B,sBAAqB,OAAO,YAAY;AACxC,sBAAqB,OAAO,YAAY;AACxC,wBAAuB;;AAEvB,kBAAiB,KAAK,QAAQ,OAAO;AACrC,mBAAkB,KAAK,QAAQ,OAAO;AACtC,2FAA0F;AAC1F,+EAA8E;AAC9E,QAAO;AACP,OAAM;;AAEN,gCAA+B;AAC/B,MAAK;AACL;;AAEA;AACA,qCAAoC,aAAa;AACjD;AACA;AACA;;AAEA;AACA,kCAAiC;;AAEjC,2BAA0B,oBAAoB;AAC9C,2BAA0B,oBAAoB;AAC9C;AACA,iCAAgC,WAAW;AAC3C;AACA;AACA;AACA,iCAAgC,WAAW;AAC3C;AACA;AACA,6BAA4B,sBAAsB;AAClD;AACA,iCAAgC,WAAW;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,gEAAgE;AAC3F,4BAA2B,gEAAgE;AAC3F;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA,6BAA4B,sBAAsB;;AAElD;AACA;AACA,YAAW,mCAAmC;AAC9C,YAAW,mCAAmC;AAC9C,cAAa,uCAAuC;AACpD,mBAAkB;AAClB,IAAG;AACH,GAAE,YAAY,gBAAgB;;AAE9B;AACA;AACA;AACA,aAAY,OAAO;AACnB,cAAa,cAAc;AAC3B;AACA;AACA;AACA,kBAAiB,YAAY;;AAE7B;AACA;AACA;AACA;AACA,uBAAsB,WAAW;AACjC;AACA;AACA;AACA,8CAA6C,cAAc,EAAE;AAC7D,2DAA0D,4BAA4B,EAAE;AACxF;;AAEA;AACA;AACA;AACA;AACA;AACA,8DAA6D,QAAQ;AACrE;AACA,8BAA6B,EAAE,OAAO,EAAE;AACxC,8BAA6B,EAAE,OAAO,EAAE;AACxC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yBAAwB,aAAa;AACrC;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,cAAa;AACb;AACA,eAAc,UAAU;AACxB;AACA,iBAAgB;AAChB;AACA;;AAEA,cAAa;AACb;AACA,eAAc,UAAU;AACxB;AACA,iBAAgB;AAChB;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,eAAc,UAAU;AACxB;AACA;AACA;AACA;;AAEA;;AAEA,mBAAkB,UAAU;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gBAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,eAAc,OAAO;AACrB;;AAEA;AACA;AACA;AACA;;AAEA;AACA,gBAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,gBAAe,cAAc;AAC7B;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,MAAK;AACL,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,EAAC;;AAED;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,iDAAgD,gCAAgC,YAAY;AAC5F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU,uBAAuB,YAAY;AAC7C;AACA;AACA;AACA,aAAY,mCAAmC;AAC/C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qCAAoC;;AAEpC,sBAAqB;AACrB,qDAAoD;AACpD,8DAA6D;;AAE7D;AACA;AACA,gFAA+E;AAC/E,MAAK;AACL;AACA;AACA;;AAEA;AACA,kCAAiC;;AAEjC;AACA;AACA,0BAAyB,uCAAuC;;AAEhE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,wBAAuB,aAAa;AACpC,+BAA8B,cAAc;;AAE5C;AACA;AACA;AACA,8BAA6B,KAAK,UAAU,2BAA2B;;AAEvE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,wBAAuB,cAAc;AACrC,0DAAyD,aAAa;;AAEtE;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA,EAAC;;AAED;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU,uBAAuB,YAAY;AAC7C;AACA;AACA;AACA,aAAY,mCAAmC;AAC/C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,qCAAoC;;AAEpC,sBAAqB;AACrB,qDAAoD;AACpD,8DAA6D;;AAE7D,2DAA0D;AAC1D,MAAK;AACL;AACA;AACA;;AAEA;AACA,kCAAiC;;AAEjC;AACA;AACA,0BAAyB,uCAAuC;;AAEhE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,yBAAyB;AACrC,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,yBAAyB;AACrC,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,QAAQ;AACrB;AACA;AACA,oBAAmB,aAAa;AAChC;AACA,yBAAwB,aAAa;AACrC,yBAAwB,aAAa;;AAErC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA,EAAC;;AAED;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAA+C,YAAY;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU,uBAAuB,YAAY;AAC7C;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA,aAAY,OAAO;AACnB;AACA,aAAY,OAAO;AACnB;AACA,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mCAAkC;AAClC,+BAA8B;;AAE9B,sBAAqB;AACrB,qDAAoD;;AAEpD,+DAA8D;AAC9D,MAAK;AACL;;AAEA;AACA;;AAEA;AACA,kCAAiC;;;AAGjC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,KAAK;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA,EAAC;;AAED;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA,0EAAyE,kCAAkC,YAAY;AACvH;AACA;AACA;AACA;AACA;AACA;AACA,WAAU,uBAAuB,YAAY,8CAA8C,kCAAkC;AAC7H;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,YAAY;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,YAAY;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,cAAa,YAAY;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,cAAa,YAAY;AACzB;AACA;AACA;AACA,oCAAmC,aAAa;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,cAAa,YAAY;AACzB;AACA;AACA;AACA,oCAAmC,aAAa;AAChD;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,KAAI;AACJ,2FAA0F;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,cAAa,YAAY;AACzB;AACA;AACA;AACA,oCAAmC,aAAa;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,aAAY,OAAO;AACnB,cAAa,YAAY;AACzB;AACA;AACA;AACA,oCAAmC,aAAa;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,MAAM;AAClB,cAAa,YAAY;AACzB;AACA;AACA;AACA;AACA,6CAA4C,aAAa;AACzD;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,YAAY;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,MAAM;AACnB;AACA;AACA;AACA,uCAAsC,KAAK;AAC3C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,MAAM;AAClB,cAAa,YAAY;AACzB;AACA;AACA;AACA;AACA,gBAAe,IAAI;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,aAAY,MAAM;AAClB;AACA;AACA;AACA;;AAEA,YAAW,IAAI;AACf,aAAY,IAAI;AAChB;AACA;AACA,aAAY,IAAI;AAChB;AACA,cAAa,IAAI;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,MAAM;AAClB;AACA;AACA;AACA,uCAAsC,2BAA2B;AACjE;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;;AAGA;AACA,EAAC;;AAED;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,OAAM,4BAA4B,YAAY;AAC9C,oBAAmB,4BAA4B,YAAY;AAC3D;AACA;AACA;AACA;AACA,gDAA+C,YAAY;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU,uBAAuB,YAAY;AAC7C;AACA;AACA;AACA,aAAY,oBAAoB,+EAA+E,4BAA4B;AAC3I;AACA;AACA;AACA;;AAEA;AACA;AACA,6EAA4E,4BAA4B;AACxG;AACA;AACA;AACA;;AAEA;AACA,+BAA8B;AAC9B,qCAAoC;;AAEpC,sBAAqB;AACrB,qDAAoD;;AAEpD,4BAA2B;AAC3B,oCAAmC;AACnC,yFAAwF;AACxF,yFAAwF;AACxF,yFAAwF;AACxF,yFAAwF;;AAExF,mDAAkD;AAClD,MAAK;AACL;AACA;AACA;;AAEA;AACA,kCAAiC;;AAEjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,wC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gBAAe,KAAK;AACpB;AACA;AACA;AACA;AACA,qCAAoC;AACpC,uCAAsC;AACtC,4CAA2C;AAC3C,4CAA2C;AAC3C;AACA;AACA;;AAEA;AACA,EAAC;;AAED;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,sBAAqB,8BAA8B,YAAY;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA,uFAAsF;AACtF;;AAEA;AACA,2DAA0D,sBAAsB,YAAY;AAC5F;AACA,8CAA6C,2BAA2B,YAAY;AACpF,2DAA0D,8CAA8C;AACxG;AACA;AACA,aAAY,MAAM,aAAa,sBAAsB,YAAY;AACjE,aAAY,QAAQ;AACpB,aAAY,QAAQ;AACpB;AACA,cAAa,QAAQ;AACrB;AACA;AACA;AACA,yDAAwD,cAAc;AACtE,uBAAsB,aAAa;;AAEnC;AACA,oBAAmB,WAAW;;AAE9B;AACA;AACA,kCAAiC,0BAA0B;AAC3D,yFAAwF,yBAAyB;AACjH;AACA;;AAEA;AACA;AACA;AACA,aAAY,MAAM,aAAa,sBAAsB,YAAY;AACjE;AACA;AACA;AACA,gBAAe,QAAQ;AACvB,kCAAiC,2BAA2B;AAC5D,yFAAwF,0BAA0B;;AAElH;AACA;;;AAGA;AACA;AACA;AACA;AACA,aAAY,MAAM;AAClB;AACA;AACA;AACA;AACA,0CAAyC,iCAAiC;AAC1E;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,MAAM;AAClB;AACA;AACA;AACA;AACA,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAY,MAAM;AAClB,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB,sCAAqC,sCAAsC;AAC3E;AACA;AACA,kCAAiC,KAAK;AACtC;AACA;AACA,uCAAsC,UAAU;;AAEhD;AACA;AACA,KAAI;AACJ;AACA,KAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,MAAM;AAClB;AACA;AACA;AACA;AACA,0CAAyC,gCAAgC;;AAEzE;AACA;AACA;AACA;AACA;AACA,uCAAsC,qCAAqC;AAC3E,IAAG;AACH;AACA;AACA;AACA;AACA,uCAAsC,mCAAmC;;AAEzE;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,MAAM;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAY,MAAM;AAClB,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB,sCAAqC,wCAAwC;AAC7E;AACA;AACA;;AAEA;AACA,uCAAsC,QAAQ;AAC9C;AACA;AACA,IAAG,oBAAoB;AACvB;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAY,MAAM;AAClB,aAAY,cAAc;AAC1B,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA,0CAAyC,QAAQ;AACjD;AACA,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAY,MAAM;AAClB,aAAY,cAAc;AAC1B,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;AACA,qCAAoC,QAAQ;AAC5C;AACA;;AAEA;AACA;AACA,aAAY,MAAM;AAClB,aAAY,cAAc;AAC1B,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;;AAGA;AACA,EAAC;;AAED;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAgC;;AAEhC;AACA;AACA;AACA;AACA;AACA;AACA,yDAAwD;;AAExD,EAAC;;AAED,2B;;;;;;;;;;;SC5ugBgBU,Q,GAAAA,Q;;AAPhB;;;;AAEA;;KAAYC,Q;;;;;;KAEPC,K,uBAAAA,K;KAAOC,O,uBAAAA,O;KAASC,M,uBAAAA,M;KAAQC,G,uBAAAA,G;KAAKC,O,uBAAAA,O;KAASC,G,uBAAAA,G;;AAE3C;;AACO,UAASP,QAAT,CAAkBQ,KAAlB,EAA4C;AAAA,SAAnBC,KAAmB,uEAAXC,SAAW;;AAC/C,SAAIF,iBAAiBN,KAArB,EAA4B;AACxB,gBAAOS,eAAeH,KAAf,EAAsBC,KAAtB,CAAP;AACH;AACD,SAAID,iBAAiBL,OAArB,EAA8B;AAC1B,gBAAOS,iBAAiBJ,KAAjB,EAAwBC,KAAxB,CAAP;AACH;AACD,SAAID,iBAAiBH,GAArB,EAA0B;AACtB,gBAAOQ,aAAaL,KAAb,EAAoBC,KAApB,CAAP;AACH;AACD,SAAID,iBAAiBJ,MAArB,EAA6B;AACzB,gBAAOU,gBAAgBN,KAAhB,EAAuBC,KAAvB,CAAP;AACH;AACD,SAAID,iBAAiBD,GAArB,EAA0B;AACtB,gBAAOQ,aAAaP,KAAb,EAAoBC,KAApB,CAAP;AACH;AACD,SAAID,iBAAiBF,OAArB,EAA8B;AAC1B,gBAAOU,iBAAiBR,KAAjB,EAAwBC,KAAxB,CAAP;AACH;AACD,YAAO,IAAP;AACH;;AAED;AACA,UAASE,cAAT,CAAwBM,KAAxB,EAA+BR,KAA/B,EAAsC;AAClC,SAAIS,SAAUT,SAASA,MAAMS,MAAhB,GAA0BT,MAAMS,MAAhC,GAAyC,CAAtD;AACA,SAAIC,OAAOV,SAASA,MAAMU,IAAf,GAAsBV,MAAMU,IAA5B,GAAmC,SAA9C;AACA,SAAInB,WAAW,IAAIC,SAASmB,QAAb,EAAf;AACApB,cAASmB,IAAT,GAAgBnB,SAASqB,SAAT,CAAmBF,IAAnB,EAAyBG,OAAzC;AACAtB,cAASuB,MAAT,GAAkBvB,SAASwB,UAAT,CAAoBP,MAAMQ,CAA1B,EAA6BR,MAAMS,CAAnC,EAAsCR,MAAtC,EAA8CI,OAAhE;AACA,YAAOtB,QAAP;AACH;;AAED;AACA,UAASY,gBAAT,CAA0Be,OAA1B,EAAmClB,KAAnC,EAA0C;AACtC,SAAIT,WAAW,IAAIC,SAASmB,QAAb,EAAf;AACA,SAAIQ,cAAcnB,SAASA,MAAMmB,WAAN,KAAsBlB,SAA/B,GAA2CD,MAAMmB,WAAjD,GAA+D,CAAjF;AACA,SAAIC,cAAcpB,SAASA,MAAMoB,WAAN,KAAsBnB,SAA/B,GAA2CD,MAAMoB,WAAjD,GAA+D,IAAjF;AACA,SAAIC,SAASrB,SAASA,MAAMqB,MAAf,GAAwBrB,MAAMqB,MAA9B,GAAuC,OAApD;AACA,YAAO9B,SACF+B,cADE,CACaH,WADb,EACyB,CADzB,EAC2B,CAD3B,EAC6B,EAD7B,EACgCC,WADhC,EAEFG,WAFE,CAEUF,MAFV,EAGFG,MAHE,CAGKN,QAAQO,EAAR,CAAWT,CAHhB,EAGmBE,QAAQO,EAAR,CAAWR,CAH9B,EAIFS,MAJE,CAIKR,QAAQS,EAAR,CAAWX,CAJhB,EAImBE,QAAQS,EAAR,CAAWV,CAJ9B,EAKFW,SALE,EAAP;AAMH;;AAED;AACA,UAASxB,YAAT,CAAsByB,GAAtB,EAA2B7B,KAA3B,EAAkC;AAC9B;AACA;AACA,SAAIT,WAAW,IAAIC,SAASmB,QAAb,EAAf;AACA,SAAIQ,cAAcnB,SAASA,MAAMmB,WAAf,GAA6BnB,MAAMmB,WAAnC,GAAiD,CAAnE;AACA,SAAIC,cAAcpB,SAASA,MAAMoB,WAAN,KAAsBnB,SAA/B,GAA2CD,MAAMoB,WAAjD,GAA+D,IAAjF;AACA,SAAIC,SAASrB,SAASA,MAAMqB,MAAf,GAAwBrB,MAAMqB,MAA9B,GAAuC,OAApD;AACA,YAAO9B,SACF+B,cADE,CACaH,WADb,EACyB,CADzB,EAC2B,CAD3B,EAC6B,EAD7B,EACgCC,WADhC,EAEFG,WAFE,CAEUF,MAFV,EAGFQ,GAHE,CAGEA,IAAIC,EAAJ,CAAOd,CAHT,EAGYa,IAAIC,EAAJ,CAAOb,CAHnB,EAGsBY,IAAIE,CAH1B,EAG6BF,IAAIG,UAHjC,EAG6CH,IAAII,QAHjD,EAG2D,CAACJ,IAAIK,gBAHhE,EAIFN,SAJE,EAAP;AAKH;;AAED;AACA,UAASvB,eAAT,CAAyBS,MAAzB,EAAiCd,KAAjC,EAAwC;AACpC,SAAIT,WAAW,IAAIC,SAASmB,QAAb,EAAf;AACA,SAAIQ,cAAcnB,SAASA,MAAMmB,WAAf,GAA6BnB,MAAMmB,WAAnC,GAAiD,CAAnE;AACA,SAAIE,SAASrB,SAASA,MAAMqB,MAAf,GAAwBrB,MAAMqB,MAA9B,GAAuC,OAApD;AACA;AACA,YAAO9B,SACF+B,cADE,CACaH,WADb,EACyB,CADzB,EAC2B,CAD3B,EAC6B,EAD7B,EACgC,IADhC,EAEFI,WAFE,CAEUF,MAFV,EAGFN,UAHE,CAGSD,OAAOgB,EAAP,CAAUd,CAHnB,EAGsBF,OAAOgB,EAAP,CAAUb,CAHhC,EAGmCH,OAAOiB,CAH1C,EAIFH,SAJE,EAAP;AAKH;;AAED;AACA,UAAStB,YAAT,CAAsB6B,GAAtB,EAA2BnC,KAA3B,EAAkC;AAC9B,SAAIT,WAAW,IAAIC,SAASmB,QAAb,EAAf;AACA,SAAIQ,cAAcnB,SAASA,MAAMmB,WAAf,GAA6BnB,MAAMmB,WAAnC,GAAiD,CAAnE;AACA,SAAIE,SAASrB,SAASA,MAAMqB,MAAf,GAAwBrB,MAAMqB,MAA9B,GAAuC,OAApD;AACA;AACA,YAAO9B,SACF+B,cADE,CACaH,WADb,EACyB,CADzB,EAC2B,CAD3B,EAC6B,EAD7B,EACgC,IADhC,EAEFI,WAFE,CAEUF,MAFV,EAGFe,QAHE,CAGOD,IAAIE,IAHX,EAGiBF,IAAIG,IAHrB,EAG2BH,IAAII,IAAJ,GAASJ,IAAIE,IAHxC,EAG8CF,IAAIK,IAAJ,GAASL,IAAIG,IAH3D,CAAP;AAIH;;AAED,UAASG,sBAAT,CAAgClD,QAAhC,EAA0C2B,OAA1C,EAAmD;AAC/C3B,cAASmC,MAAT,CAAgBR,QAAQS,EAAR,CAAWX,CAA3B,EAA8BE,QAAQS,EAAR,CAAWV,CAAzC;AACH;;AAED,UAASyB,kBAAT,CAA4BnD,QAA5B,EAAsCsC,GAAtC,EAA2C;AACvC;AACA;AACAtC,cAASsC,GAAT,CAAaA,IAAIC,EAAJ,CAAOd,CAApB,EAAuBa,IAAIC,EAAJ,CAAOb,CAA9B,EAAiCY,IAAIE,CAArC,EAAwCF,IAAIG,UAA5C,EAAwDH,IAAII,QAA5D,EAAsE,CAACJ,IAAIK,gBAA3E;AACH;;AAED,UAASS,eAAT,CAAyBpD,QAAzB,EAAmCqD,IAAnC,EAAyC;AACrC,SAAIA,KAAK7C,KAAL,YAAsBL,OAA1B,EAAmC;AAC/B+C,gCAAuBlD,QAAvB,EAAiCqD,KAAK7C,KAAtC;AACH,MAFD,MAGK,IAAI6C,KAAK7C,KAAL,YAAsBH,GAA1B,EAA+B;AAChC8C,4BAAmBnD,QAAnB,EAA6BqD,KAAK7C,KAAlC;AACH;AACJ;;AAED,UAAS8C,eAAT,CAAyBtD,QAAzB,EAAmCuD,IAAnC,EAAyC;AACrC,SAAIrB,KAAKqB,KAAKC,KAAL,CAAWC,KAApB;AACAzD,cAASiC,MAAT,CAAgBC,GAAGT,CAAnB,EAAsBS,GAAGR,CAAzB;;AAFqC;AAAA;AAAA;;AAAA;AAIrC,8BAAiB6B,IAAjB,8HAAuB;AAAA,iBAAdF,IAAc;;AACnBD,6BAAgBpD,QAAhB,EAA0BqD,IAA1B;AACH;AANoC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOxC;;AAED;AACA,UAASrC,gBAAT,CAA0B0C,OAA1B,EAAmCjD,KAAnC,EAA0C;AACtC,SAAIT,WAAW,IAAIC,SAASmB,QAAb,EAAf;AACA,SAAIQ,cAAcnB,SAASA,MAAMmB,WAAf,GAA6BnB,MAAMmB,WAAnC,GAAiD,CAAnE;AACA,SAAIE,SAASrB,SAASA,MAAMqB,MAAf,GAAwBrB,MAAMqB,MAA9B,GAAuC,SAApD;AACA,SAAIX,OAAOV,SAASA,MAAMU,IAAf,GAAsBV,MAAMU,IAA5B,GAAmC,SAA9C;AACAnB,cAAS+B,cAAT,CAAwBH,WAAxB,EAAoC,CAApC,EAAsC,CAAtC,EAAwC,EAAxC,EAA2C,IAA3C;AACA5B,cAAS8B,MAAT,GAAkB9B,SAASgC,WAAT,CAAqBF,MAArB,EAA6BR,OAA/C;AACAtB,cAASmB,IAAT,GAAgBnB,SAASqB,SAAT,CAAmBF,IAAnB,EAAyBG,OAAzC;;AAPsC;AAAA;AAAA;;AAAA;AAStC,+BAAiBoC,QAAQC,KAAzB,mIAAgC;AAAA,iBAAvBJ,IAAuB;;AAC5BD,6BAAgBtD,QAAhB,EAA0BuD,IAA1B;AACH;AAXqC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAatCvD,cAASqC,SAAT;AACA,YAAOrC,QAAP;AACH,G;;;;;;;;;;;ACzID,KAAM4D,QAAQ;AACVC,eAAU,kBAACC,IAAD,EAAOC,IAAP,EAAgB;AACtB,aAAIC,QAAQ,IAAZ;AADsB;AAAA;AAAA;;AAAA;AAEtB,kCAAgBC,OAAOC,IAAP,CAAYH,IAAZ,CAAhB,8HAAmC;AAAA,qBAA1BI,GAA0B;;AAC/B,qBAAIJ,KAAKI,GAAL,MAAcL,KAAKK,GAAL,CAAlB,EAA6B;AACzBH,6BAAQ,KAAR;AACA;AACH;AACJ;AAPqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAQtB,gBAAOA,KAAP;AACH;AAVS,EAAd;;mBAaeJ,K;;;;;;ACbf;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,8CAA6C;AAC7C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gC;;;;;;;;;;;;;;;ACnCA;;;;;;;;KAEKrD,G,uBAAAA,G;;KAEQ6D,G,WAAAA,G;AACT,oBAAc;AAAA;;AACV,cAAKC,QAAL,GAAgB,EAAhB;AACA,cAAKC,KAAL,GAAa,EAAb;AACA,cAAKC,QAAL,GAAgB,EAAhB,CAHU,CAGY;AACtB,cAAKC,SAAL,GAAiB,EAAjB,CAJU,CAIY;AACtB,cAAKC,MAAL,GAAc,EAAd,CALU,CAKY;AACzB;;;;6BAES;AACN,iBAAIC,IAAI,IAAInE,GAAJ,EAAR;AADM;AAAA;AAAA;;AAAA;AAEN,sCAAkB,KAAKgE,QAAvB,8HAAiC;AAAA,yBAAxB/D,KAAwB;;AAC7BkE,uBAAEC,KAAF,CAAQnE,MAAMoC,GAAd;AACH;AAJK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAKN,uCAAkB,KAAK4B,SAAvB,mIAAkC;AAAA,yBAAzBhE,MAAyB;;AAC9BkE,uBAAEC,KAAF,CAAQnE,OAAMoC,GAAd;AACH;AAPK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAQN,uCAAkB,KAAK6B,MAAvB,mIAA+B;AAAA,yBAAtBjE,OAAsB;;AAC3BkE,uBAAEC,KAAF,CAAQnE,QAAMoC,GAAd;AACH;AAVK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAWN,oBAAO8B,CAAP;AACH;;;;;;;;;;;;;;;;;;;;ACxBL,KAAIE,eAAe;AACfhD,kBAAa,CADE;AAEfE,aAAQ,SAFO;AAGfX,WAAM,SAHS;AAIf0D,YAAO;AAJQ,EAAnB;;AAOA;;KACaC,K,WAAAA,K;AACT,sBAA6D;AAAA,aAAjDC,IAAiD,uEAA1CrE,SAA0C;AAAA,aAA/BD,KAA+B,uEAAvBC,SAAuB;AAAA,aAAZsE,KAAY,uEAAJ,EAAI;;AAAA;;AACzD,cAAKD,IAAL,GAAYA,IAAZ;AACA,cAAKtE,KAAL,GAAaA,SAASmE,YAAtB;AACA,cAAKI,KAAL,GAAaA,KAAb;AACH;;;;iCAEO;AACJ,iBAAIC,QAAQ,IAAIH,KAAJ,CAAU,KAAKC,IAAf,EAAqB,KAAKtE,KAA1B,EAAiC,KAAKuE,KAAtC,CAAZ;AACA,oBAAOf,OAAOiB,MAAP,CAAcD,KAAd,EAAqB,IAArB,CAAP;AACH;;;6BAES;AACN,oBAAO,KAAKF,IAAL,CAAUnC,GAAjB;AACH;AACL;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,sDAAqD;AACrD,MAAK;AACL;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA,2BAA0B;AAC1B;AACA;AACA;;AAEA,4B;;;;;;ACpDA;AACA;AACA;AACA;;AAEA;AACA,MAAK,uCAAuC;;AAE5C;;AAEA;AACA;AACA,wDAAuD,2BAA2B;AAClF;AACA;AACA,uBAAsB;AACtB,WAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAiB,KAAK,oDAAoD;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,8BAA6B,UAAU;AACvC;AACA;AACA,kBAAiB,QAAQ,iBAAiB,WAAW;AACrD;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAqB,WAAW;AAChC;AACA;AACA,kBAAiB,QAAQ,iBAAiB,WAAW;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAkC;AAClC;AACA;AACA,mBAAkB;AAClB;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,0EAAyE;AACzE,+DAA8D;AAC9D,6DAA4D;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB,qEAAoE;AACpE;AACA;AACA;AACA;AACA,qEAAoE;AACpE;AACA;AACA;AACA;AACA;AACA,mBAAkB;AAClB,8DAA6D;AAC7D,6DAA4D;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oEAAmE;AACnE;AACA;AACA;AACA;AACA,qEAAoE;AACpE;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,sBAAqB;AACrB,sBAAqB;;AAErB,6EAA4E;AAC5E;AACA;AACA,eAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sCAAqC;AACrC;AACA,YAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAAyC;AACzC;;AAEA,mCAAkC;;AAElC;AACA;AACA;AACA;AACA;AACA,sCAAqC;AACrC,0CAAyC;AACzC;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,4DAA2D;AAC3D;AACA,+DAA8D;AAC9D,8DAA6D;AAC7D,mEAAkE;AAClE;AACA,8DAA6D;AAC7D;AACA;AACA;AACA,uEAAsE;AACtE,4DAA2D;AAC3D,wDAAuD;AACvD;AACA;AACA,2EAA0E;AAC1E,gEAA+D;AAC/D,uEAAsE;AACtE;AACA,kEAAiE;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C;AAC7C;AACA;AACA,mBAAkB;AAClB;AACA,+DAA8D;AAC9D,8DAA6D;AAC7D,mEAAkE;AAClE;AACA,6DAA4D;AAC5D;AACA;AACA;AACA,uEAAsE;AACtE,4DAA2D;AAC3D,wDAAuD;AACvD;AACA;AACA,0EAAyE;AACzE,gEAA+D;AAC/D,wEAAuE;AACvE;AACA,iEAAgE;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C;AAC7C;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,wCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,0BAAyB;;AAEzB;AACA,+BAA8B;AAC9B;AACA,6BAA4B;;AAE5B;AACA,2BAA0B;AAC1B;AACA,eAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB;AACnB,sBAAqB;;AAErB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,0BAAyB;;AAEzB;AACA,gCAA+B;AAC/B;AACA,6BAA4B;;AAE5B,8BAA6B;AAC7B;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB,sBAAqB;;AAErB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;AAC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BA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,G;;;;;;ACTA;;AAEA;AACA;;AAEA;;;;;;;ACLA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB,iBAAiB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC7DA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sDAAqD,cAAc;AACnE;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,qBAAqB;AACxC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;;;;;;ACpNA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;;;;;;;ACrCA;;AAEA;AACA;AACA,EAAC;;AAED,oDAAmD,gBAAgB,sBAAsB,OAAO,2BAA2B,0BAA0B,yDAAyD,2BAA2B,EAAE,EAAE,EAAE,eAAe;;AAE9P,iCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,uCAAsC,uCAAuC,gBAAgB;;AAE7F,+CAA8C,iBAAiB,qBAAqB,oCAAoC,6DAA6D,oBAAoB,EAAE,eAAe;;AAE1N,kDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,kDAAiD,aAAa,uFAAuF,EAAE,uFAAuF;;AAE9O,2CAA0C,+DAA+D,qGAAqG,EAAE,yEAAyE,eAAe,yEAAyE,EAAE,EAAE,uHAAuH;;AAE5e;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,QAAQ;AACnB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,QAAQ;AACnB,YAAW,OAAO;AAClB,YAAW,QAAQ;AACnB,YAAW,OAAO;AAClB,YAAW,QAAQ;AACnB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,QAAQ;AACnB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB;AACA,WAAU;AACV;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,4DAA2D,UAAU,uDAAuD,sDAAsD,sCAAsC;AACxN;AACA,IAAG;;AAEH;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qC;;;;;;AC5IA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,YAAY;AACvB,cAAa,SAAS;AACtB;AACA;AACA;;AAEA;AACA,mEAAkE,aAAa;AAC/E;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH,E;;;;;;ACnCA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,uCAAsC,uCAAuC,kBAAkB;;AAE/F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,SAAS;AACtB;AACA;AACA,cAAa,IAAI;AACjB;AACA;AACA;AACA;AACA;AACA,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB;AACA;AACA,GAAE;AACF;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,IAAI;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,SAAS;AACtB,gBAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,SAAS;AACtB,gBAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAc,yBAAyB;AACvC;;AAEA;AACA;AACA,gBAAe,WAAW;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAiB,OAAO;AACxB;AACA,oBAAmB,aAAa;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAgB;AAChB;AACA,MAAK;AACL;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA,aAAY,yBAAyB;;AAErC;AACA;AACA;AACA;AACA;AACA,IAAG;AACH,E;;;;;;ACpQA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,uCAAsC,uCAAuC,kBAAkB;;AAE/F;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wC;;;;;;AC7CA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,E;;;;;;ACxBA;;AAEA;AACA,MAAK,gDAAgD;;AAErD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mDAAkD;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,yDAAwD;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;;;;;;AC9MA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAgE,kBAAkB;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA4B,oBAAoB;AAChD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;AC9NA;;;;AAEA;;AAEA;;AACA;;AACA;;AACA;;AAEA;;KAAYS,W;;;;;;;;;;;AARZ;;;KAUaC,G,WAAAA,G;;;AACT,kBAAYhD,KAAZ,EAAmB;AAAA;;AAAA,+GACTA,KADS;;AAEf,eAAKiD,KAAL,GAAa,MAAKjD,KAAL,CAAWkD,KAAX,CAAiBC,QAAjB,EAAb;AACA,eAAKnD,KAAL,CAAWkD,KAAX,CAAiBE,SAAjB,CAA2B,YAA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,+B;;;;;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,YAAW,WAAW;AACtB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA,4B;;;;;;ACvBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,aAAa;AACxB,aAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA,mC;;;;;;ACnCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,YAAW,EAAE;AACb,aAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA,yB;;;;;;ACrBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,YAAW,EAAE;AACb,aAAY,QAAQ;AACpB;AACA;AACA;AACA;;AAEA,6B;;;;;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,kBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;;AAEA;AACA;;AAEA,+B;;;;;;AChEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,iCAAgC;AAChC;AACA;AACA;;AAEA,2B;;;;;;ACpDA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,MAAK,uCAAuC;;AAE5C;AACA;AACA;AACA,0BAAyB;AACzB,4BAA2B;AAC3B,8BAA6B;AAC7B;;AAEA,sBAAqB,wBAAwB;;AAE7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACpFA;;AAEA;;AAEA;AACA,UAAS,wDAAwD;;AAEjE,UAAS,OAAO;;AAEhB;AACA;AACA;AACA;AACA;AACA,sBAAqB,iBAAiB;AACtC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAqB,iBAAiB;AACtC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAqB,iBAAiB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAqB,iBAAiB;AACtC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gFAA+E;AAC/E,uDAAsD;AACtD;AACA;AACA;AACA;AACA;AACA;AACA,qCAAoC;AACpC;AACA;AACA,mBAAkB;AAClB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAqB,iBAAiB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA,sDAAqD;AACrD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,sBAAqB,iBAAiB;AACtC;AACA;AACA;AACA;AACA,sDAAqD;AACrD;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAqB,iBAAiB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAqB,iBAAiB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAqB,iBAAiB;AACtC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAqB,iBAAiB;AACtC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAqB,iBAAiB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAqB,iBAAiB;AACtC;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAqB,iBAAiB;AACtC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAqB,iBAAiB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAqB,iBAAiB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB,gBAAgB;AACrC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAuC;AACvC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;;AAEb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,6DAA4D;AAC5D;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,oBAAmB,UAAU;AAC7B,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA;AACA;AACA,G;;;;;;;AC/oBA;;AAEA;AACA,UAAS,wCAAwC;;AAEjD;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;;AAEA,sBAAqB,0BAA0B;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,G;;;;;;ACzHA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA,oBAAmB,MAAM;AACzB,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,QAAQ,yDAAyD,kBAAkB,kCAAkC;AACxI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,MAAM;AACzB,sBAAqB;AACrB;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAmB,MAAM;AACzB,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,MAAM;AACzB;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,MAAM;AACzB,sBAAqB,OAAO;AAC5B,sBAAqB,QAAQ;;AAE7B;AACA;AACA,kBAAiB,SAAS;;AAE1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,0BAAyB,OAAO;AAChC;AACA;AACA;AACA;;AAEA,yCAAwC;AACxC;AACA;AACA,mBAAkB;AAClB;AACA;;AAEA,gCAA+B,sBAAsB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,MAAM;AACzB,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,OAAO;AAC1B;AACA;AACA,sBAAqB;AACrB;AACA,uBAAsB;AACtB;AACA;AACA,kBAAiB,yCAAyC;AAC1D,kFAAiF,IAAI,IAAI,UAAU;AACnG,yDAAwD,GAAG;AAC3D,6EAA4E,UAAU;;AAEtF;AACA;AACA;AACA;AACA;AACA,uCAAsC,aAAa,GAAG;AACtD,iCAAgC,OAAO,GAAG,OAAO,KAAK,aAAa,GAAG,UAAU,GAAG,WAAW,GAAG,WAAW;AAC5G,+BAA8B,kBAAkB,kBAAkB,iBAAiB,UAAU,eAAe,IAAI,OAAO,GAAG,UAAU;AACpI;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,G;;;;;;AC5fA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,IAAI;AACvB,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,IAAI;AACvB,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,IAAI;AACvB,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,IAAI;AACvB,sBAAqB,QAAQ;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,IAAI;AACvB,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,OAAO;AAC1B;AACA;AACA,sBAAqB;AACrB;AACA,uBAAsB;AACtB,kBAAiB,yCAAyC;AAC1D,kFAAiF,IAAI,IAAI,UAAU;AACnG,yDAAwD,GAAG;AAC3D,6EAA4E,UAAU;AACtF;AACA;;AAEA,kCAAiC,UAAU,OAAO,UAAU,UAAU,MAAM,UAAU,OAAO,WAAW,kBAAkB,kBAAkB,iBAAiB,UAAU,eAAe,IAAI,OAAO,GAAG,UAAU;AAC9M;AACA;AACA;;;;;;;ACzLA;AACA;AACA;;AAEA;;AAEA;AACA,UAAS,WAAW;AACpB;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA,oBAAmB,MAAM;AACzB,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,MAAM;AACzB,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,QAAQ;AAC3B,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,MAAM;AACzB,sBAAqB;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,MAAM;AACzB,sBAAqB,OAAO;AAC5B,sBAAqB,QAAQ;;AAE7B;AACA;AACA,kBAAiB,SAAS;AAC1B,kBAAiB,qEAAqE;;AAEtF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,oBAAmB,OAAO;AAC1B;AACA;AACA,sBAAqB;AACrB;AACA,uBAAsB;AACtB,kBAAiB,sDAAsD;AACvE,kFAAiF,IAAI,IAAI,UAAU;AACnG,yDAAwD,GAAG;AAC3D,6EAA4E,UAAU;;AAEtF,qCAAoC,UAAU,QAAQ,UAAU,OAAO,OAAO,YAAY,kBAAkB,kBAAkB,iBAAiB,UAAU,eAAe,kBAAkB,mBAAmB,IAAI,OAAO,GAAG,UAAU;AACrO;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,G;;;;;;AC/OA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA,oBAAmB,MAAM;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,MAAM;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,6BAA4B,iBAAiB,GAAG,iBAAiB;AACjE;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,iCAAgC,WAAW,GAAG,WAAW,KAAK,aAAa,GAAG,UAAU,GAAG,eAAe,GAAG;AAC7G,wBAAuB,WAAW,GAAG,WAAW,KAAK,aAAa,GAAG,UAAU,GAAG,eAAe,GAAG,eAAe;AACnH;AACA;AACA;;AAEA,iCAAgC,MAAM,GAAG,MAAM,KAAK,aAAa,GAAG,UAAU,GAAG,UAAU,GAAG,UAAU;AACxG;AACA;AACA;;AAEA;AACA;AACA,wDAAuD;AACvD;AACA;AACA;AACA;AACA,G;;;;;;AC7NA;AACA;AACA;;AAEA;;AAEA;AACA,UAAS,+BAA+B;AACxC;AACA,+DAA8D,sBAAsB;AACpF,gEAA+D,mBAAmB;AAClF;AACA,yCAAwC,8BAA8B;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAwC;AACxC;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,mCAAkC;AAClC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAAyC;AACzC;AACA;;AAEA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAqC;AACrC,qCAAoC;AACpC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,6DAA4D;AAC5D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA4B;AAC5B;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,4BAA2B,mBAAmB;AAC9C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAwD;AACxD;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAmB,UAAU;AAC7B,oBAAmB,KAAK;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,6BAA4B;AAC5B;;AAEA;AACA;AACA;AACA,oBAAmB,UAAU;AAC7B,oBAAmB,KAAK;AACxB,oBAAmB,KAAK;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gCAA+B;AAC/B;;AAEA;AACA;AACA;AACA,oBAAmB,UAAU;AAC7B,oBAAmB,KAAK;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B;AAC/B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB;AAChB,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,QAAQ;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,sCAAqC;AACrC;AACA,mBAAkB;AAClB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA8C;AAC9C;AACA;AACA,8DAA6D;AAC7D;AACA,qDAAoD;AACpD;AACA;AACA,sDAAqD;AACrD;AACA;AACA;AACA,kDAAiD;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oBAAmB,MAAM;AACzB,sBAAqB;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,gCAA+B,mBAAmB,GAAG,mBAAmB;;AAExE;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,G;;;;;;ACviBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA,oBAAmB,MAAM;AACzB,oBAAmB,aAAa;AAChC;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB,OAAO;AAC5B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,sBAAqB,SAAS;AAC9B;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,oBAAmB,KAAK;AACxB,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,KAAK;AACxB,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,MAAM;AACzB,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,MAAM;AACzB,sBAAqB;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,MAAM;AACzB,sBAAqB;AACrB,sBAAqB;AACrB;AACA;AACA,kBAAiB,SAAS;;AAE1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,IAAI;AACvB,oBAAmB,OAAO;AAC1B;AACA,4BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oDAAmD;AACnD,qDAAoD;;AAEpD,oDAAmD;AACnD;AACA;AACA,yDAAwD;AACxD;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC7SA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,SAAS;AAC5B,sBAAqB,SAAS;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB,QAAQ;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACnIA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,0EAAyE,aAAa;AACtF,oBAAmB,MAAM;AACzB,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,8CAA6C;AAC7C,gEAA+D,aAAa;AAC5E,oBAAmB,MAAM;AACzB,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,MAAM;AACzB,sBAAqB;AACrB;AACA,iCAAgC,SAAS;AACzC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,cAAc;AACjC,sBAAqB;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,KAAK;AACxB,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,2CAA0C;AAC1C;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAmB,KAAK;AACxB,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,MAAM;AACzB,sBAAqB,OAAO;AAC5B,sBAAqB,QAAQ;AAC7B;AACA;AACA,kBAAiB,SAAS;;AAE1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,MAAM;AACzB,sBAAqB;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA,uBAAsB;AACtB,kBAAiB,4CAA4C;AAC7D,kFAAiF,IAAI,IAAI,UAAU;AACnG,yDAAwD,GAAG;AAC3D,6EAA4E,UAAU;AACtF,qCAAoC,OAAO,QAAQ,OAAO,OAAO,OAAO,YAAY,kBAAkB,kBAAkB,iBAAiB,UAAU,cAAc,IAAI,OAAO,GAAG,UAAU;AACzL;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC/PA;AACA;AACA;;AAEA;;AAEA;AACA,UAAS,2BAA2B;AACpC,UAAS,UAAU;AACnB;AACA;AACA,+EAA8E,mBAAmB;AACjG,mDAAkD,mBAAmB;AACrE,eAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,2BAA2B;AAC9C;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,KAAK;AACxB,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,KAAK;AACxB,oBAAmB,KAAK;AACxB,oBAAmB,KAAK;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAqC,sBAAsB;AAC3D;AACA,4CAA2C;AAC3C;AACA,2CAA0C;AAC1C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oBAAmB,KAAK;AACxB,oBAAmB,MAAM;AACzB,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAmB,MAAM;AACzB,sBAAqB;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,MAAM;AACzB,sBAAqB;AACrB;AACA;AACA,kBAAiB,SAAS;;AAE1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,MAAM;AACzB,sBAAqB,QAAQ;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB,QAAQ;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA,uBAAsB;AACtB,kBAAiB,gEAAgE;AACjF,iFAAgF,IAAI,IAAI,UAAU;AAClG,yDAAwD,GAAG;AAC3D,6EAA4E,UAAU;;AAEtF,6CAA4C,kBAAkB,kBAAkB,iBAAiB,UAAU,oBAAoB,eAAe,sBAAsB,kBAAkB,mBAAmB,IAAI,OAAO,GAAG,UAAU;AACjO;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,G;;;;;;AC1TA;;AAEA;AACA,UAAS,+CAA+C;AACxD;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA,oBAAmB,MAAM;AACzB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB,IAAI;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB,MAAM;AAC3B;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB,OAAO;AAC5B;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,YAAY;AAC/B,sBAAqB,MAAM;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,G;;;;;;ACnIA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA,oBAAmB,MAAM;AACzB,oBAAmB,MAAM;AACzB;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,IAAI;AACvB,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,MAAM;AACzB,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,MAAM;AACzB;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,MAAM;AACzB,sBAAqB,OAAO;AAC5B,sBAAqB,QAAQ;AAC7B;AACA;AACA,kBAAiB,SAAS;;AAE1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAmB,MAAM;AACzB,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,MAAM;AACzB,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB,QAAQ;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA0B;AAC1B;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,oBAAmB,OAAO;AAC1B;AACA;AACA,sBAAqB;AACrB;AACA,uBAAsB;AACtB,kBAAiB,mCAAmC;AACpD,kFAAiF,IAAI,IAAI,UAAU;AACnG,yDAAwD,GAAG;AAC3D,6EAA4E,UAAU;;AAEtF,mCAAkC,aAAa,QAAQ,aAAa,QAAQ,WAAW,QAAQ,WAAW,YAAY,kBAAkB,kBAAkB,iBAAiB,IAAI,OAAO,GAAG,UAAU;;AAEnM;AACA;;AAEA;AACA;AACA;AACA;AACA,G;;;;;;ACreA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA,oBAAmB,MAAM;AACzB,oBAAmB,MAAM;AACzB;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA,6DAA4D;AAC5D;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC3NA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,MAAM;AACzB,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAwB;AACxB;;AAEA;AACA;AACA,oBAAmB,MAAM;AACzB,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,oBAAmB,IAAI;AACvB,sBAAqB;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,MAAM;AACzB,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACrGA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACNA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA,MAAK;AACL;AACA,iBAAgB;AAChB;AACA;AACA;AACA,MAAK;AACL;AACA,iBAAgB;AAChB;AACA;AACA;AACA,MAAK;AACL;AACA,iBAAgB;AAChB;AACA;AACA;AACA,MAAK;AACL;AACA,iBAAgB;AAChB;AACA;AACA;AACA,MAAK;AACL;AACA,iBAAgB;AAChB;AACA;AACA;AACA;AACA;;;;;;;AC7CA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC3BA;AACA;;AAEA;;;;;;;;ACHA;;AAEA;AACA;;AAEA;;;;;;;ACLA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC7CA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;;;;;;ACrBA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB,YAAW,SAAS;AACpB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACdA;;AAEA;AACA;;AAEA;AACA;;AAEA;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5BA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,iBAAiB;AACpC;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;;AAEA;;AAEA;AACA;AACA;;;;;;;AC1GA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,6BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA,IAAG;AACH,E;;;;;;AChHA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACzDA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;;;;;;;AC3BA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;;;;;;ACXA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,cAAa,8BAAwB,wBAA8B;AACnE,eAAc,4DAA4D,oFAAoF,IAAI,2DAA2D,4HAA4H,6BAA6B,g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yBAAyB,uDAAuD,kCAAkC,sBAAsB,oCAAoC,qBAAqB,6DAA6D,6BAA6B,2BAA2B,EAAE,SAAS;AACla,wHAAuH,2IAA2I,IAAI,+JAA+J,EAAE;;;;;;;AC/Pva;;AAEA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qC;;;;;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;;;;;ACzBA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,QAAO;;AAEP,MAAK;AACL;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,yCAAwC,mBAAmB;AAC3D;AACA;;AAEA;AACA;AACA,mCAAkC,oBAAoB;AACtD;AACA;;AAEA;AACA;AACA,yCAAwC,4BAA4B;AACpE;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,oBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA,wDAAuD;AACvD,UAAS;AACT;AACA,UAAS;AACT,+EAA8E;AAC9E;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,+BAA8B,uBAAuB;AACrD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA,wCAAuC,0BAA0B;AACjE;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,gCAA+B,0BA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A,oCAAmC,aAAa;AAChD;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA,kBAAiB,wBAAwB;AACzC;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAoB,8BAA8B;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;AC9IA;;;;;;;ACAA;;AAEA;AACA;AACA,EAAC;;AAED;;AAEA;;AAEA,uCAAsC,uCAAuC,kBAAkB;;AAE/F,UAAS;;;AAGT;AACA;AACA,EAAC;AACD;AACA,EAAC;AACD;AACA,EAAC;AACD;AACA,EAAC;AACD;AACA;;AAEA;AACA,6B;;;;;;;AC5BA;;AAEA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,GAAE;AACF;AACA;;AAEA;AACA,G;;;;;;ACtBA,kCAAiC,whE;;;;;;ACAjC,kCAAiC,wwC;;;;;;ACAjC,kCAAiC,owB;;;;;;ACAjC,kCAAiC,wlB;;;;;;ACAjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"static/js/main.561f6a39.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/debug-viewer/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 899f6941ff0e43209af8","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react/index.js\n// module id = 1\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/styles/App.css\n// module id = 2\n// module chunks = 0","/**\n * Created by Alex Bol on 2/18/2017.\n */\n'use strict';\n\nlet Utils = require(\"./utils/utils\");\nlet Errors = require(\"./utils/errors\");\n\n/**\n * FlattenJS - library for 2d geometry\n * @type {Flatten}\n */\nlet Flatten = class Flatten {\n    constructor() {\n        this.DP_TOL = Utils.DP_TOL;\n        this.CCW = true;\n        this.CW = false;\n        this.ORIENTATION = {CCW:-1, CW:1, NOT_ORIENTABLE: 0};\n        this.PIx2 = 2 * Math.PI;\n        this.PI_2 = 0.5 * Math.PI;\n        this.INSIDE = 1;\n        this.OUTSIDE = 0;\n        this.BOUNDARY = 2;\n        this.CONTAINS = 3;\n        this.INTERLACE = 4;\n        this.CLIP_INSIDE = 1;\n        this.CLIP_OUTSIDE = 0;\n        this.BOOLEAN_UNION = 1;\n        this.BOOLEAN_INTERSECT = 2;\n        this.BOOLEAN_SUBTRACT = 3;\n        this.OVERLAP_SAME = 1;\n        this.OVERLAP_OPPOSITE = 2;\n        this.Utils = Utils;\n        this.Errors = Errors;\n    }\n};\n\nlet f = new Flatten();\n\nrequire(\"./classes/matrix\")(f);\nrequire(\"./data_structures/planar_set\")(f);\nrequire(\"./classes/point\")(f);\nrequire(\"./classes/vector\")(f);\nrequire(\"./classes/line\")(f);\nrequire(\"./classes/circle\")(f);\nrequire(\"./classes/segment\")(f);\nrequire(\"./classes/arc\")(f);\nrequire(\"./classes/box\")(f);\nrequire(\"./classes/edge\")(f);\nrequire(\"./classes/face\")(f);\nrequire(\"./classes/ray\")(f);\nrequire(\"./algorithms/ray_shooting\")(f);\nrequire(\"./classes/polygon\")(f);\nrequire(\"./algorithms/distance\")(f);\n\nmodule.exports = f;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/flatten-js/index.js\n// module id = 3\n// module chunks = 0","/**\n * Created by alexanderbol on 13/04/2017.\n */\n// export const MAIN_CANVAS_MOUNTED = \"MAIN_CANVAS_MOUNTED\";\nexport const NEW_STAGE_CREATED = \"NEW_STAGE_CREATED\";\nexport const STAGE_RESIZED = \"STAGE_RESIZED\";\nexport const WINDOW_HASH_CHANGED = \"WINDOW_HASH_CHANGED\";\n\nexport const NEW_SHAPE_PASTED = \"NEW_SHAPE_PASTED\";\n\nexport const TOGGLE_UNITS_CLICKED = \"TOGGLE_UNITS_CLICKED\";\nexport const TOGGLE_WIDTH_MODE_CLICKED = \"TOGGLE_WIDTH_MODE_CLICKED\";\nexport const TOGGLE_DISPLAY_VERTICES_CLICKED = \"TOGGLE_DISPLAY_VERTICES_CLICKED\";\nexport const TOGGLE_DISPLAY_LABELS_CLICKED = \"TOGGLE_DISPLAY_LABELS_CLICKED\";\n\nexport const MOUSE_MOVED_ON_STAGE = \"MOUSE_MOVED_ON_STAGE\";\nexport const MOUSE_DOWN_ON_STAGE = \"MOUSE_DOWN_ON_STAGE\";\nexport const MOUSE_UP_ON_STAGE = \"MOUSE_UP_ON_STAGE\";\nexport const MOUSE_WHEEL_MOVE_ON_STAGE = \"MOUSE_WHEEL_MOVE_ON_STAGE\";\n\nexport const MOUSE_ROLL_OVER_SHAPE = \"MOUSE_ROLL_OVER_SHAPE\";\nexport const MOUSE_ROLL_OUT_SHAPE = \"MOUSE_ROLL_OUT_SHAPE\";\nexport const MOUSE_CLICKED_ON_SHAPE = \"MOUSE_CLICKED_ON_SHAPE\";\n\n// export const HOME_BUTTON_CLICKED = \"HOME_BUTTON_CLICKED\";\nexport const PAN_TO_COORDINATE = \"PAN_TO_COORDINATE\";\nexport const PAN_AND_ZOOM_TO_SHAPE = \"PAN_AND_ZOOM_TO_SHAPE\";\n\nexport const LAYER_LIST_PANEL_PRESSED = \"LAYER_LIST_PANEL_PRESSED\";\nexport const ADD_LAYER_PRESSED = \"ADD_LAYER_PRESSED\";\nexport const DELETE_LAYER_BUTTON_PRESSED = \"DELETE_LAYER_BUTTON_PRESSED\";\nexport const SORT_LAYERS_BUTTON_PRESSED = \"SORT_LAYERS_BUTTON_PRESSED\";\n\nexport const TOGGLE_DISPLAY_LAYER_PRESSED = \"TOGGLE_DISPLAY_LAYER_PRESSED\";\nexport const TOGGLE_AFFECTED_LAYER_PRESSED=\"TOGGLE_AFFECTED_LAYER_PRESSED\";\nexport const OPEN_LAYER_EDIT_FORM_PRESSED = \"OPEN_LAYER_EDIT_FORM_PRESSED\";\nexport const SUBMIT_LAYER_EDIT_FORM_PRESSED = \"SUBMIT_LAYER_EDIT_FORM_PRESSED\";\nexport const ESCAPE_LAYER_EDIT_FORM_PRESSED = \"ESCAPE_LAYER_EDIT_FORM_PRESSED\";\n\nexport const LAYERS_LIST_ARROW_DOWN_PRESSED = \"LAYERS_LIST_ARROW_DOWN_PRESSED\";\nexport const LAYERS_LIST_ARROW_UP_PRESSED = \"LAYERS_LIST_ARROW_UP_PRESSED\";\n\nexport const TOGGLE_WATCH_EXPAND_CLICKED = \"TOGGLE_WATCH_EXPAND_CLICKED\";\n\nexport const FILENAME_LIST_SELECTED = \"FILENAME_LIST_SELECTED\";\nexport const INPUT_FILE_LOADED = \"INPUT_FILE_LOADED\";\nexport const DATA_FROM_BUFFER_PASTED = \"DATA_FROM_BUFFER_PASTED\";\n\n/** Toolbar buttons **/\nexport const PAN_BY_DRAG_BUTTON_CLICKED = \"PAN_BY_DRAG_BUTTON_CLICKED\";\nexport const MEASURE_POINTS_BUTTON_PRESSED = \"MEASURE_POINTS_BUTTON_PRESSED\";\nexport const MEASURE_SHAPES_BUTTON_PRESSED = \"MEASURE_SHAPES_BUTTON_PRESSED\";\nexport const SHOW_ABOUT_POPUP_BUTTON_PRESSED = \"SHOW_ABOUT_POPUP_BUTTON_PRESSED\";\n\nexport const CLOSE_ABOUT_POPUP_BUTTON_PRESSED = \"CLOSE_ABOUT_POPUP_BUTTON_PRESSED\";\n\n/** AABB Distance Measurement Demo **/\nexport const AABB_DEMO_URI = \"AABB_DEMO_URI\";\nexport const AABB_DEMO_NEXT_DIST_STEP = \"AABB_DEMO_NEXT_DIST_STEP\";\nexport const AABB_TREE_NEXT_LEVEL = \"AABB_TREE_NEXT_LEVEL\";\n\n/** Collision demo **/\nexport const COLLISION_DEMO_URI = \"COLLISION_DEMO_URI\";\nexport const COLLISION_DEMO_BUTTON_PRESSED = \"COLLISION_DEMO_BUTTON_PRESSED\";\n\n/** Skeleton recognition demo **/\nexport const SKELETON_RECOGNITION_URI = \"SKELETON_RECOGNITION_URI\";\nexport const SKELETON_RECOGNITION_BUTTON_PRESSED=\"SKELETON_RECOGNITION_BUTTON_PRESSED\";\n\n\n// WEBPACK FOOTER //\n// ./src/actions/action-types.js","/**\n * Created by alexanderbol on 20/04/2017.\n */\n\nimport { Layer } from '../models/layer';\n\nconst colors = [\n    \"#FF0303\",\n    \"#4AA403\",\n    \"#540080\",\n    \"#FFFF40\",\n    \"#FF0080\",\n    \"#AED424\",\n    \"#545400\",\n    \"#FFA980\",\n    \"#A95480\",\n    \"#A9A9FF\",\n    \"#00FF00\",\n    \"#FFEE76\",\n    \"#A40576\",\n    \"#4385C8\",\n    \"#1CC826\",\n    \"#BDBD00\",\n    \"#48316E\",\n    \"#14616E\",\n    \"#8040BD\",\n    \"#DC7676\",\n    \"#924845\",\n    \"#A90000\",\n    \"#FFA900\"\n];\n\nexport class Layers {\n\n    static newLayer(stage, layers) {\n        let layer = new Layer(stage);\n        layer.name = Layers.getNewName(layers);\n        if (layers.length === 0) { // first layer\n            // layer.color = Layers.getNextColor(layers);\n            layer.displayed = false;\n            layer.affected = false;\n        }\n        return layer;\n    }\n\n    static get defaultName() {\n        return \"layer\";\n    }\n\n    static getNewName(layers) {\n        let name = Layers.defaultName;\n        let inc = 1;\n        let comparator = (layer) => layer.name === name;\n        while (layers.find(comparator) ) {\n            name = Layers.defaultName + inc;\n            inc++;\n        }\n        return name;\n    }\n\n    static getAffected(layers) {\n        return layers.find((lay) => lay.affected);\n    }\n\n    static setAffected(layers, layer) {\n        let currentAffectedLayer = Layers.getAffected(layers);\n        if (currentAffectedLayer) {\n            currentAffectedLayer.affected = false;\n        }\n        layer.affected = true;\n    }\n\n    static getNextColor(layers) {\n        let color = \"\";\n        for (let col of colors) {\n            if (!layers.find((layer) =>\n                layer.displayed && layer.color === col)) {\n                color = col;\n                break;\n            }\n        }\n        return color;\n    }\n\n    static delete(layers, layer) {\n        // let index = layers.findIndex((l) => l === layer);\n        let newLayers = layers.filter(l => l !== layer);\n        return newLayers;\n    }\n\n    static sort(layers) {\n        let newLayers = layers.slice();\n        newLayers.sort( function(l1, l2) {\n            let name1 = l1.name.toUpperCase();\n            let name2 = l2.name.toUpperCase();\n            if (name1 < name2) {\n                return -1;\n            }\n            if (name1 > name2) {\n                return 1;\n            }\n            return 0;\n        });\n        return newLayers;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/layers.js","/*!\n* EaselJS\n* Visit http://createjs.com/ for documentation, updates and examples.\n*\n* Copyright (c) 2010 gskinner.com, inc.\n*\n* Permission is hereby granted, free of charge, to any person\n* obtaining a copy of this software and associated documentation\n* files (the \"Software\"), to deal in the Software without\n* restriction, including without limitation the rights to use,\n* copy, modify, merge, publish, distribute, sublicense, and/or sell\n* copies of the Software, and to permit persons to whom the\n* Software is furnished to do so, subject to the following\n* conditions:\n*\n* The above copyright notice and this permission notice shall be\n* included in all copies or substantial portions of the Software.\n*\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n* OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n* HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n* FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n* OTHER DEALINGS IN THE SOFTWARE.\n*/\n\n\n//##############################################################################\n// extend.js\n//##############################################################################\nlet createjs = {};\nthis.createjs = this.createjs||{};\n\n/**\n * @class Utility Methods\n */\n\n/**\n * Sets up the prototype chain and constructor property for a new class.\n *\n * This should be called right after creating the class constructor.\n *\n * \tfunction MySubClass() {}\n * \tcreatejs.extend(MySubClass, MySuperClass);\n * \tMySubClass.prototype.doSomething = function() { }\n *\n * \tvar foo = new MySubClass();\n * \tconsole.log(foo instanceof MySuperClass); // true\n * \tconsole.log(foo.prototype.constructor === MySubClass); // true\n *\n * @method extend\n * @param {Function} subclass The subclass.\n * @param {Function} superclass The superclass to extend.\n * @return {Function} Returns the subclass's new prototype.\n */\ncreatejs.extend = function(subclass, superclass) {\n\t\"use strict\";\n\n\tfunction o() { this.constructor = subclass; }\n\to.prototype = superclass.prototype;\n\treturn (subclass.prototype = new o());\n};\n\n//##############################################################################\n// promote.js\n//##############################################################################\n\nthis.createjs = this.createjs||{};\n\n/**\n * @class Utility Methods\n */\n\n/**\n * Promotes any methods on the super class that were overridden, by creating an alias in the format `prefix_methodName`.\n * It is recommended to use the super class's name as the prefix.\n * An alias to the super class's constructor is always added in the format `prefix_constructor`.\n * This allows the subclass to call super class methods without using `function.call`, providing better performance.\n *\n * For example, if `MySubClass` extends `MySuperClass`, and both define a `draw` method, then calling `promote(MySubClass, \"MySuperClass\")`\n * would add a `MySuperClass_constructor` method to MySubClass and promote the `draw` method on `MySuperClass` to the\n * prototype of `MySubClass` as `MySuperClass_draw`.\n *\n * This should be called after the class's prototype is fully defined.\n *\n * \tfunction ClassA(name) {\n * \t\tthis.name = name;\n * \t}\n * \tClassA.prototype.greet = function() {\n * \t\treturn \"Hello \"+this.name;\n * \t}\n *\n * \tfunction ClassB(name, punctuation) {\n * \t\tthis.ClassA_constructor(name);\n * \t\tthis.punctuation = punctuation;\n * \t}\n * \tcreatejs.extend(ClassB, ClassA);\n * \tClassB.prototype.greet = function() {\n * \t\treturn this.ClassA_greet()+this.punctuation;\n * \t}\n * \tcreatejs.promote(ClassB, \"ClassA\");\n *\n * \tvar foo = new ClassB(\"World\", \"!?!\");\n * \tconsole.log(foo.greet()); // Hello World!?!\n *\n * @method promote\n * @param {Function} subclass The class to promote super class methods on.\n * @param {String} prefix The prefix to add to the promoted method names. Usually the name of the superclass.\n * @return {Function} Returns the subclass.\n */\ncreatejs.promote = function(subclass, prefix) {\n\t\"use strict\";\n\n\tvar subP = subclass.prototype, supP = (Object.getPrototypeOf&&Object.getPrototypeOf(subP))||subP.__proto__;\n\tif (supP) {\n\t\tsubP[(prefix+=\"_\") + \"constructor\"] = supP.constructor; // constructor is not always innumerable\n\t\tfor (var n in supP) {\n\t\t\tif (subP.hasOwnProperty(n) && (typeof supP[n] == \"function\")) { subP[prefix + n] = supP[n]; }\n\t\t}\n\t}\n\treturn subclass;\n};\n\n//##############################################################################\n// indexOf.js\n//##############################################################################\n\nthis.createjs = this.createjs||{};\n\n/**\n * @class Utility Methods\n */\n\n/**\n * Finds the first occurrence of a specified value searchElement in the passed in array, and returns the index of\n * that value.  Returns -1 if value is not found.\n *\n *      var i = createjs.indexOf(myArray, myElementToFind);\n *\n * @method indexOf\n * @param {Array} array Array to search for searchElement\n * @param searchElement Element to find in array.\n * @return {Number} The first index of searchElement in array.\n */\ncreatejs.indexOf = function (array, searchElement){\n\t\"use strict\";\n\n\tfor (var i = 0,l=array.length; i < l; i++) {\n\t\tif (searchElement === array[i]) {\n\t\t\treturn i;\n\t\t}\n\t}\n\treturn -1;\n};\n\n//##############################################################################\n// UID.js\n//##############################################################################\n\nthis.createjs = this.createjs||{};\n\n(function() {\n\t\"use strict\";\n\n\n// constructor:\n\t/**\n\t * Global utility for generating sequential unique ID numbers. The UID class uses a static interface (ex. <code>UID.get()</code>)\n\t * and should not be instantiated.\n\t * @class UID\n\t * @static\n\t **/\n\tfunction UID() {\n\t\tthrow \"UID cannot be instantiated\";\n\t}\n\n\n// private static properties:\n\t/**\n\t * @property _nextID\n\t * @type Number\n\t * @protected\n\t **/\n\tUID._nextID = 0;\n\n\n// public static methods:\n\t/**\n\t * Returns the next unique id.\n\t * @method get\n\t * @return {Number} The next unique id\n\t * @static\n\t **/\n\tUID.get = function() {\n\t\treturn UID._nextID++;\n\t};\n\n\n\tcreatejs.UID = UID;\n}());\n\n//##############################################################################\n// deprecate.js\n//##############################################################################\n\nthis.createjs = this.createjs||{};\n\n/**\n * @class Utility Methods\n */\n\n/**\n * Wraps deprecated methods so they still be used, but throw warnings to developers.\n *\n *\tobj.deprecatedMethod = createjs.deprecate(\"Old Method Name\", obj._fallbackMethod);\n *\n * The recommended approach for deprecated properties is:\n *\n *\ttry {\n *\t\tObj\tect.defineProperties(object, {\n *\t\t\treadyOnlyProp: { get: createjs.deprecate(\"readOnlyProp\", function() { return this.alternateProp; }) },\n *\t\t\treadWriteProp: {\n *\t\t\t\tget: createjs.deprecate(\"readOnlyProp\", function() { return this.alternateProp; }),\n *\t\t\t\tset: createjs.deprecate(\"readOnlyProp\", function(val) { this.alternateProp = val; })\n *\t\t});\n *\t} catch (e) {}\n *\n * @method deprecate\n * @param {Function} [fallbackMethod=null] A method to call when the deprecated method is used. See the example for how\n * @param {String} [name=null] The name of the method or property to display in the console warning.\n * to deprecate properties.\n * @return {Function} If a fallbackMethod is supplied, returns a closure that will call the fallback method after\n * logging the warning in the console.\n */\ncreatejs.deprecate = function(fallbackMethod, name) {\n\t\"use strict\";\n\treturn function() {\n\t\tvar msg = \"Deprecated property or method '\"+name+\"'. See docs for info.\";\n\t\tconsole && (console.warn ? console.warn(msg) : console.log(msg));\n\t\treturn fallbackMethod && fallbackMethod.apply(this, arguments);\n\t}\n};\n\n//##############################################################################\n// Event.js\n//##############################################################################\n\nthis.createjs = this.createjs||{};\n\n(function() {\n\t\"use strict\";\n\n// constructor:\n\t/**\n\t * Contains properties and methods shared by all events for use with\n\t * {{#crossLink \"EventDispatcher\"}}{{/crossLink}}.\n\t * \n\t * Note that Event objects are often reused, so you should never\n\t * rely on an event object's state outside of the call stack it was received in.\n\t * @class Event\n\t * @param {String} type The event type.\n\t * @param {Boolean} bubbles Indicates whether the event will bubble through the display list.\n\t * @param {Boolean} cancelable Indicates whether the default behaviour of this event can be cancelled.\n\t * @constructor\n\t **/\n\tfunction Event(type, bubbles, cancelable) {\n\t\t\n\t\n\t// public properties:\n\t\t/**\n\t\t * The type of event.\n\t\t * @property type\n\t\t * @type String\n\t\t **/\n\t\tthis.type = type;\n\t\n\t\t/**\n\t\t * The object that generated an event.\n\t\t * @property target\n\t\t * @type Object\n\t\t * @default null\n\t\t * @readonly\n\t\t*/\n\t\tthis.target = null;\n\t\n\t\t/**\n\t\t * The current target that a bubbling event is being dispatched from. For non-bubbling events, this will\n\t\t * always be the same as target. For example, if childObj.parent = parentObj, and a bubbling event\n\t\t * is generated from childObj, then a listener on parentObj would receive the event with\n\t\t * target=childObj (the original target) and currentTarget=parentObj (where the listener was added).\n\t\t * @property currentTarget\n\t\t * @type Object\n\t\t * @default null\n\t\t * @readonly\n\t\t*/\n\t\tthis.currentTarget = null;\n\t\n\t\t/**\n\t\t * For bubbling events, this indicates the current event phase:<OL>\n\t\t * \t<LI> capture phase: starting from the top parent to the target</LI>\n\t\t * \t<LI> at target phase: currently being dispatched from the target</LI>\n\t\t * \t<LI> bubbling phase: from the target to the top parent</LI>\n\t\t * </OL>\n\t\t * @property eventPhase\n\t\t * @type Number\n\t\t * @default 0\n\t\t * @readonly\n\t\t*/\n\t\tthis.eventPhase = 0;\n\t\n\t\t/**\n\t\t * Indicates whether the event will bubble through the display list.\n\t\t * @property bubbles\n\t\t * @type Boolean\n\t\t * @default false\n\t\t * @readonly\n\t\t*/\n\t\tthis.bubbles = !!bubbles;\n\t\n\t\t/**\n\t\t * Indicates whether the default behaviour of this event can be cancelled via\n\t\t * {{#crossLink \"Event/preventDefault\"}}{{/crossLink}}. This is set via the Event constructor.\n\t\t * @property cancelable\n\t\t * @type Boolean\n\t\t * @default false\n\t\t * @readonly\n\t\t*/\n\t\tthis.cancelable = !!cancelable;\n\t\n\t\t/**\n\t\t * The epoch time at which this event was created.\n\t\t * @property timeStamp\n\t\t * @type Number\n\t\t * @default 0\n\t\t * @readonly\n\t\t*/\n\t\tthis.timeStamp = (new Date()).getTime();\n\t\n\t\t/**\n\t\t * Indicates if {{#crossLink \"Event/preventDefault\"}}{{/crossLink}} has been called\n\t\t * on this event.\n\t\t * @property defaultPrevented\n\t\t * @type Boolean\n\t\t * @default false\n\t\t * @readonly\n\t\t*/\n\t\tthis.defaultPrevented = false;\n\t\n\t\t/**\n\t\t * Indicates if {{#crossLink \"Event/stopPropagation\"}}{{/crossLink}} or\n\t\t * {{#crossLink \"Event/stopImmediatePropagation\"}}{{/crossLink}} has been called on this event.\n\t\t * @property propagationStopped\n\t\t * @type Boolean\n\t\t * @default false\n\t\t * @readonly\n\t\t*/\n\t\tthis.propagationStopped = false;\n\t\n\t\t/**\n\t\t * Indicates if {{#crossLink \"Event/stopImmediatePropagation\"}}{{/crossLink}} has been called\n\t\t * on this event.\n\t\t * @property immediatePropagationStopped\n\t\t * @type Boolean\n\t\t * @default false\n\t\t * @readonly\n\t\t*/\n\t\tthis.immediatePropagationStopped = false;\n\t\t\n\t\t/**\n\t\t * Indicates if {{#crossLink \"Event/remove\"}}{{/crossLink}} has been called on this event.\n\t\t * @property removed\n\t\t * @type Boolean\n\t\t * @default false\n\t\t * @readonly\n\t\t*/\n\t\tthis.removed = false;\n\t}\n\tvar p = Event.prototype;\n\n// public methods:\n\t/**\n\t * Sets {{#crossLink \"Event/defaultPrevented\"}}{{/crossLink}} to true if the event is cancelable.\n\t * Mirrors the DOM level 2 event standard. In general, cancelable events that have `preventDefault()` called will\n\t * cancel the default behaviour associated with the event.\n\t * @method preventDefault\n\t **/\n\tp.preventDefault = function() {\n\t\tthis.defaultPrevented = this.cancelable&&true;\n\t};\n\n\t/**\n\t * Sets {{#crossLink \"Event/propagationStopped\"}}{{/crossLink}} to true.\n\t * Mirrors the DOM event standard.\n\t * @method stopPropagation\n\t **/\n\tp.stopPropagation = function() {\n\t\tthis.propagationStopped = true;\n\t};\n\n\t/**\n\t * Sets {{#crossLink \"Event/propagationStopped\"}}{{/crossLink}} and\n\t * {{#crossLink \"Event/immediatePropagationStopped\"}}{{/crossLink}} to true.\n\t * Mirrors the DOM event standard.\n\t * @method stopImmediatePropagation\n\t **/\n\tp.stopImmediatePropagation = function() {\n\t\tthis.immediatePropagationStopped = this.propagationStopped = true;\n\t};\n\t\n\t/**\n\t * Causes the active listener to be removed via removeEventListener();\n\t * \n\t * \t\tmyBtn.addEventListener(\"click\", function(evt) {\n\t * \t\t\t// do stuff...\n\t * \t\t\tevt.remove(); // removes this listener.\n\t * \t\t});\n\t * \n\t * @method remove\n\t **/\n\tp.remove = function() {\n\t\tthis.removed = true;\n\t};\n\t\n\t/**\n\t * Returns a clone of the Event instance.\n\t * @method clone\n\t * @return {Event} a clone of the Event instance.\n\t **/\n\tp.clone = function() {\n\t\treturn new Event(this.type, this.bubbles, this.cancelable);\n\t};\n\t\n\t/**\n\t * Provides a chainable shortcut method for setting a number of properties on the instance.\n\t *\n\t * @method set\n\t * @param {Object} props A generic object containing properties to copy to the instance.\n\t * @return {Event} Returns the instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t*/\n\tp.set = function(props) {\n\t\tfor (var n in props) { this[n] = props[n]; }\n\t\treturn this;\n\t};\n\n\t/**\n\t * Returns a string representation of this object.\n\t * @method toString\n\t * @return {String} a string representation of the instance.\n\t **/\n\tp.toString = function() {\n\t\treturn \"[Event (type=\"+this.type+\")]\";\n\t};\n\n\tcreatejs.Event = Event;\n}());\n\n//##############################################################################\n// EventDispatcher.js\n//##############################################################################\n\nthis.createjs = this.createjs||{};\n\n(function() {\n\t\"use strict\";\n\n\n// constructor:\n\t/**\n\t * EventDispatcher provides methods for managing queues of event listeners and dispatching events.\n\t *\n\t * You can either extend EventDispatcher or mix its methods into an existing prototype or instance by using the\n\t * EventDispatcher {{#crossLink \"EventDispatcher/initialize\"}}{{/crossLink}} method.\n\t * \n\t * Together with the CreateJS Event class, EventDispatcher provides an extended event model that is based on the\n\t * DOM Level 2 event model, including addEventListener, removeEventListener, and dispatchEvent. It supports\n\t * bubbling / capture, preventDefault, stopPropagation, stopImmediatePropagation, and handleEvent.\n\t * \n\t * EventDispatcher also exposes a {{#crossLink \"EventDispatcher/on\"}}{{/crossLink}} method, which makes it easier\n\t * to create scoped listeners, listeners that only run once, and listeners with associated arbitrary data. The \n\t * {{#crossLink \"EventDispatcher/off\"}}{{/crossLink}} method is merely an alias to\n\t * {{#crossLink \"EventDispatcher/removeEventListener\"}}{{/crossLink}}.\n\t * \n\t * Another addition to the DOM Level 2 model is the {{#crossLink \"EventDispatcher/removeAllEventListeners\"}}{{/crossLink}}\n\t * method, which can be used to listeners for all events, or listeners for a specific event. The Event object also \n\t * includes a {{#crossLink \"Event/remove\"}}{{/crossLink}} method which removes the active listener.\n\t *\n\t * <h4>Example</h4>\n\t * Add EventDispatcher capabilities to the \"MyClass\" class.\n\t *\n\t *      EventDispatcher.initialize(MyClass.prototype);\n\t *\n\t * Add an event (see {{#crossLink \"EventDispatcher/addEventListener\"}}{{/crossLink}}).\n\t *\n\t *      instance.addEventListener(\"eventName\", handlerMethod);\n\t *      function handlerMethod(event) {\n\t *          console.log(event.target + \" Was Clicked\");\n\t *      }\n\t *\n\t * <b>Maintaining proper scope</b><br />\n\t * Scope (ie. \"this\") can be be a challenge with events. Using the {{#crossLink \"EventDispatcher/on\"}}{{/crossLink}}\n\t * method to subscribe to events simplifies this.\n\t *\n\t *      instance.addEventListener(\"click\", function(event) {\n\t *          console.log(instance == this); // false, scope is ambiguous.\n\t *      });\n\t *      \n\t *      instance.on(\"click\", function(event) {\n\t *          console.log(instance == this); // true, \"on\" uses dispatcher scope by default.\n\t *      });\n\t * \n\t * If you want to use addEventListener instead, you may want to use function.bind() or a similar proxy to manage\n\t * scope.\n\t *\n\t * <b>Browser support</b>\n\t * The event model in CreateJS can be used separately from the suite in any project, however the inheritance model\n\t * requires modern browsers (IE9+).\n\t *      \n\t *\n\t * @class EventDispatcher\n\t * @constructor\n\t **/\n\tfunction EventDispatcher() {\n\t\n\t\n\t// private properties:\n\t\t/**\n\t\t * @protected\n\t\t * @property _listeners\n\t\t * @type Object\n\t\t **/\n\t\tthis._listeners = null;\n\t\t\n\t\t/**\n\t\t * @protected\n\t\t * @property _captureListeners\n\t\t * @type Object\n\t\t **/\n\t\tthis._captureListeners = null;\n\t}\n\tvar p = EventDispatcher.prototype;\n\n// static public methods:\n\t/**\n\t * Static initializer to mix EventDispatcher methods into a target object or prototype.\n\t * \n\t * \t\tEventDispatcher.initialize(MyClass.prototype); // add to the prototype of the class\n\t * \t\tEventDispatcher.initialize(myObject); // add to a specific instance\n\t * \n\t * @method initialize\n\t * @static\n\t * @param {Object} target The target object to inject EventDispatcher methods into. This can be an instance or a\n\t * prototype.\n\t **/\n\tEventDispatcher.initialize = function(target) {\n\t\ttarget.addEventListener = p.addEventListener;\n\t\ttarget.on = p.on;\n\t\ttarget.removeEventListener = target.off =  p.removeEventListener;\n\t\ttarget.removeAllEventListeners = p.removeAllEventListeners;\n\t\ttarget.hasEventListener = p.hasEventListener;\n\t\ttarget.dispatchEvent = p.dispatchEvent;\n\t\ttarget._dispatchEvent = p._dispatchEvent;\n\t\ttarget.willTrigger = p.willTrigger;\n\t};\n\t\n\n// public methods:\n\t/**\n\t * Adds the specified event listener. Note that adding multiple listeners to the same function will result in\n\t * multiple callbacks getting fired.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *      displayObject.addEventListener(\"click\", handleClick);\n\t *      function handleClick(event) {\n\t *         // Click happened.\n\t *      }\n\t *\n\t * @method addEventListener\n\t * @param {String} type The string type of the event.\n\t * @param {Function | Object} listener An object with a handleEvent method, or a function that will be called when\n\t * the event is dispatched.\n\t * @param {Boolean} [useCapture] For events that bubble, indicates whether to listen for the event in the capture or bubbling/target phase.\n\t * @return {Function | Object} Returns the listener for chaining or assignment.\n\t **/\n\tp.addEventListener = function(type, listener, useCapture) {\n\t\tvar listeners;\n\t\tif (useCapture) {\n\t\t\tlisteners = this._captureListeners = this._captureListeners||{};\n\t\t} else {\n\t\t\tlisteners = this._listeners = this._listeners||{};\n\t\t}\n\t\tvar arr = listeners[type];\n\t\tif (arr) { this.removeEventListener(type, listener, useCapture); }\n\t\tarr = listeners[type]; // remove may have deleted the array\n\t\tif (!arr) { listeners[type] = [listener];  }\n\t\telse { arr.push(listener); }\n\t\treturn listener;\n\t};\n\t\n\t/**\n\t * A shortcut method for using addEventListener that makes it easier to specify an execution scope, have a listener\n\t * only run once, associate arbitrary data with the listener, and remove the listener.\n\t * \n\t * This method works by creating an anonymous wrapper function and subscribing it with addEventListener.\n\t * The wrapper function is returned for use with `removeEventListener` (or `off`).\n\t * \n\t * <b>IMPORTANT:</b> To remove a listener added with `on`, you must pass in the returned wrapper function as the listener, or use\n\t * {{#crossLink \"Event/remove\"}}{{/crossLink}}. Likewise, each time you call `on` a NEW wrapper function is subscribed, so multiple calls\n\t * to `on` with the same params will create multiple listeners.\n\t * \n\t * <h4>Example</h4>\n\t * \n\t * \t\tvar listener = myBtn.on(\"click\", handleClick, null, false, {count:3});\n\t * \t\tfunction handleClick(evt, data) {\n\t * \t\t\tdata.count -= 1;\n\t * \t\t\tconsole.log(this == myBtn); // true - scope defaults to the dispatcher\n\t * \t\t\tif (data.count == 0) {\n\t * \t\t\t\talert(\"clicked 3 times!\");\n\t * \t\t\t\tmyBtn.off(\"click\", listener);\n\t * \t\t\t\t// alternately: evt.remove();\n\t * \t\t\t}\n\t * \t\t}\n\t * \n\t * @method on\n\t * @param {String} type The string type of the event.\n\t * @param {Function | Object} listener An object with a handleEvent method, or a function that will be called when\n\t * the event is dispatched.\n\t * @param {Object} [scope] The scope to execute the listener in. Defaults to the dispatcher/currentTarget for function listeners, and to the listener itself for object listeners (ie. using handleEvent).\n\t * @param {Boolean} [once=false] If true, the listener will remove itself after the first time it is triggered.\n\t * @param {*} [data] Arbitrary data that will be included as the second parameter when the listener is called.\n\t * @param {Boolean} [useCapture=false] For events that bubble, indicates whether to listen for the event in the capture or bubbling/target phase.\n\t * @return {Function} Returns the anonymous function that was created and assigned as the listener. This is needed to remove the listener later using .removeEventListener.\n\t **/\n\tp.on = function(type, listener, scope, once, data, useCapture) {\n\t\tif (listener.handleEvent) {\n\t\t\tscope = scope||listener;\n\t\t\tlistener = listener.handleEvent;\n\t\t}\n\t\tscope = scope||this;\n\t\treturn this.addEventListener(type, function(evt) {\n\t\t\t\tlistener.call(scope, evt, data);\n\t\t\t\tonce&&evt.remove();\n\t\t\t}, useCapture);\n\t};\n\n\t/**\n\t * Removes the specified event listener.\n\t *\n\t * <b>Important Note:</b> that you must pass the exact function reference used when the event was added. If a proxy\n\t * function, or function closure is used as the callback, the proxy/closure reference must be used - a new proxy or\n\t * closure will not work.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *      displayObject.removeEventListener(\"click\", handleClick);\n\t *\n\t * @method removeEventListener\n\t * @param {String} type The string type of the event.\n\t * @param {Function | Object} listener The listener function or object.\n\t * @param {Boolean} [useCapture] For events that bubble, indicates whether to listen for the event in the capture or bubbling/target phase.\n\t **/\n\tp.removeEventListener = function(type, listener, useCapture) {\n\t\tvar listeners = useCapture ? this._captureListeners : this._listeners;\n\t\tif (!listeners) { return; }\n\t\tvar arr = listeners[type];\n\t\tif (!arr) { return; }\n\t\tfor (var i=0,l=arr.length; i<l; i++) {\n\t\t\tif (arr[i] == listener) {\n\t\t\t\tif (l==1) { delete(listeners[type]); } // allows for faster checks.\n\t\t\t\telse { arr.splice(i,1); }\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t};\n\t\n\t/**\n\t * A shortcut to the removeEventListener method, with the same parameters and return value. This is a companion to the\n\t * .on method.\n\t * \n\t * <b>IMPORTANT:</b> To remove a listener added with `on`, you must pass in the returned wrapper function as the listener. See \n\t * {{#crossLink \"EventDispatcher/on\"}}{{/crossLink}} for an example.\n\t *\n\t * @method off\n\t * @param {String} type The string type of the event.\n\t * @param {Function | Object} listener The listener function or object.\n\t * @param {Boolean} [useCapture] For events that bubble, indicates whether to listen for the event in the capture or bubbling/target phase.\n\t **/\n\tp.off = p.removeEventListener;\n\n\t/**\n\t * Removes all listeners for the specified type, or all listeners of all types.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *      // Remove all listeners\n\t *      displayObject.removeAllEventListeners();\n\t *\n\t *      // Remove all click listeners\n\t *      displayObject.removeAllEventListeners(\"click\");\n\t *\n\t * @method removeAllEventListeners\n\t * @param {String} [type] The string type of the event. If omitted, all listeners for all types will be removed.\n\t **/\n\tp.removeAllEventListeners = function(type) {\n\t\tif (!type) { this._listeners = this._captureListeners = null; }\n\t\telse {\n\t\t\tif (this._listeners) { delete(this._listeners[type]); }\n\t\t\tif (this._captureListeners) { delete(this._captureListeners[type]); }\n\t\t}\n\t};\n\n\t/**\n\t * Dispatches the specified event to all listeners.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *      // Use a string event\n\t *      this.dispatchEvent(\"complete\");\n\t *\n\t *      // Use an Event instance\n\t *      var event = new createjs.Event(\"progress\");\n\t *      this.dispatchEvent(event);\n\t *\n\t * @method dispatchEvent\n\t * @param {Object | String | Event} eventObj An object with a \"type\" property, or a string type.\n\t * While a generic object will work, it is recommended to use a CreateJS Event instance. If a string is used,\n\t * dispatchEvent will construct an Event instance if necessary with the specified type. This latter approach can\n\t * be used to avoid event object instantiation for non-bubbling events that may not have any listeners.\n\t * @param {Boolean} [bubbles] Specifies the `bubbles` value when a string was passed to eventObj.\n\t * @param {Boolean} [cancelable] Specifies the `cancelable` value when a string was passed to eventObj.\n\t * @return {Boolean} Returns false if `preventDefault()` was called on a cancelable event, true otherwise.\n\t **/\n\tp.dispatchEvent = function(eventObj, bubbles, cancelable) {\n\t\tif (typeof eventObj == \"string\") {\n\t\t\t// skip everything if there's no listeners and it doesn't bubble:\n\t\t\tvar listeners = this._listeners;\n\t\t\tif (!bubbles && (!listeners || !listeners[eventObj])) { return true; }\n\t\t\teventObj = new createjs.Event(eventObj, bubbles, cancelable);\n\t\t} else if (eventObj.target && eventObj.clone) {\n\t\t\t// redispatching an active event object, so clone it:\n\t\t\teventObj = eventObj.clone();\n\t\t}\n\t\t\n\t\t// TODO: it would be nice to eliminate this. Maybe in favour of evtObj instanceof Event? Or !!evtObj.createEvent\n\t\ttry { eventObj.target = this; } catch (e) {} // try/catch allows redispatching of native events\n\n\t\tif (!eventObj.bubbles || !this.parent) {\n\t\t\tthis._dispatchEvent(eventObj, 2);\n\t\t} else {\n\t\t\tvar top=this, list=[top];\n\t\t\twhile (top.parent) { list.push(top = top.parent); }\n\t\t\tvar i, l=list.length;\n\n\t\t\t// capture & atTarget\n\t\t\tfor (i=l-1; i>=0 && !eventObj.propagationStopped; i--) {\n\t\t\t\tlist[i]._dispatchEvent(eventObj, 1+(i==0));\n\t\t\t}\n\t\t\t// bubbling\n\t\t\tfor (i=1; i<l && !eventObj.propagationStopped; i++) {\n\t\t\t\tlist[i]._dispatchEvent(eventObj, 3);\n\t\t\t}\n\t\t}\n\t\treturn !eventObj.defaultPrevented;\n\t};\n\n\t/**\n\t * Indicates whether there is at least one listener for the specified event type.\n\t * @method hasEventListener\n\t * @param {String} type The string type of the event.\n\t * @return {Boolean} Returns true if there is at least one listener for the specified event.\n\t **/\n\tp.hasEventListener = function(type) {\n\t\tvar listeners = this._listeners, captureListeners = this._captureListeners;\n\t\treturn !!((listeners && listeners[type]) || (captureListeners && captureListeners[type]));\n\t};\n\t\n\t/**\n\t * Indicates whether there is at least one listener for the specified event type on this object or any of its\n\t * ancestors (parent, parent's parent, etc). A return value of true indicates that if a bubbling event of the\n\t * specified type is dispatched from this object, it will trigger at least one listener.\n\t * \n\t * This is similar to {{#crossLink \"EventDispatcher/hasEventListener\"}}{{/crossLink}}, but it searches the entire\n\t * event flow for a listener, not just this object.\n\t * @method willTrigger\n\t * @param {String} type The string type of the event.\n\t * @return {Boolean} Returns `true` if there is at least one listener for the specified event.\n\t **/\n\tp.willTrigger = function(type) {\n\t\tvar o = this;\n\t\twhile (o) {\n\t\t\tif (o.hasEventListener(type)) { return true; }\n\t\t\to = o.parent;\n\t\t}\n\t\treturn false;\n\t};\n\n\t/**\n\t * @method toString\n\t * @return {String} a string representation of the instance.\n\t **/\n\tp.toString = function() {\n\t\treturn \"[EventDispatcher]\";\n\t};\n\n\n// private methods:\n\t/**\n\t * @method _dispatchEvent\n\t * @param {Object | Event} eventObj\n\t * @param {Object} eventPhase\n\t * @protected\n\t **/\n\tp._dispatchEvent = function(eventObj, eventPhase) {\n\t\tvar l, arr, listeners = (eventPhase <= 2) ? this._captureListeners : this._listeners;\n\t\tif (eventObj && listeners && (arr = listeners[eventObj.type]) && (l=arr.length)) {\n\t\t\ttry { eventObj.currentTarget = this; } catch (e) {}\n\t\t\ttry { eventObj.eventPhase = eventPhase|0; } catch (e) {}\n\t\t\teventObj.removed = false;\n\t\t\t\n\t\t\tarr = arr.slice(); // to avoid issues with items being removed or added during the dispatch\n\t\t\tfor (var i=0; i<l && !eventObj.immediatePropagationStopped; i++) {\n\t\t\t\tvar o = arr[i];\n\t\t\t\tif (o.handleEvent) { o.handleEvent(eventObj); }\n\t\t\t\telse { o(eventObj); }\n\t\t\t\tif (eventObj.removed) {\n\t\t\t\t\tthis.off(eventObj.type, o, eventPhase==1);\n\t\t\t\t\teventObj.removed = false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (eventPhase === 2) { this._dispatchEvent(eventObj, 2.1); }\n\t};\n\n\n\tcreatejs.EventDispatcher = EventDispatcher;\n}());\n\n//##############################################################################\n// Ticker.js\n//##############################################################################\n\nthis.createjs = this.createjs||{};\n\n(function() {\n\t\"use strict\";\n\n\n// constructor:\n\t/**\n\t * The Ticker provides a centralized tick or heartbeat broadcast at a set interval. Listeners can subscribe to the tick\n\t * event to be notified when a set time interval has elapsed.\n\t *\n\t * Note that the interval that the tick event is called is a target interval, and may be broadcast at a slower interval\n\t * when under high CPU load. The Ticker class uses a static interface (ex. `Ticker.framerate = 30;`) and\n\t * can not be instantiated.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *      createjs.Ticker.addEventListener(\"tick\", handleTick);\n\t *      function handleTick(event) {\n\t *          // Actions carried out each tick (aka frame)\n\t *          if (!event.paused) {\n\t *              // Actions carried out when the Ticker is not paused.\n\t *          }\n\t *      }\n\t *\n\t * @class Ticker\n\t * @uses EventDispatcher\n\t * @static\n\t **/\n\tfunction Ticker() {\n\t\tthrow \"Ticker cannot be instantiated.\";\n\t}\n\n\n// constants:\n\t/**\n\t * In this mode, Ticker uses the requestAnimationFrame API, but attempts to synch the ticks to target framerate. It\n\t * uses a simple heuristic that compares the time of the RAF return to the target time for the current frame and\n\t * dispatches the tick when the time is within a certain threshold.\n\t *\n\t * This mode has a higher variance for time between frames than {{#crossLink \"Ticker/TIMEOUT:property\"}}{{/crossLink}},\n\t * but does not require that content be time based as with {{#crossLink \"Ticker/RAF:property\"}}{{/crossLink}} while\n\t * gaining the benefits of that API (screen synch, background throttling).\n\t *\n\t * Variance is usually lowest for framerates that are a divisor of the RAF frequency. This is usually 60, so\n\t * framerates of 10, 12, 15, 20, and 30 work well.\n\t *\n\t * Falls back to {{#crossLink \"Ticker/TIMEOUT:property\"}}{{/crossLink}} if the requestAnimationFrame API is not\n\t * supported.\n\t * @property RAF_SYNCHED\n\t * @static\n\t * @type {String}\n\t * @default \"synched\"\n\t * @readonly\n\t **/\n\tTicker.RAF_SYNCHED = \"synched\";\n\n\t/**\n\t * In this mode, Ticker passes through the requestAnimationFrame heartbeat, ignoring the target framerate completely.\n\t * Because requestAnimationFrame frequency is not deterministic, any content using this mode should be time based.\n\t * You can leverage {{#crossLink \"Ticker/getTime\"}}{{/crossLink}} and the {{#crossLink \"Ticker/tick:event\"}}{{/crossLink}}\n\t * event object's \"delta\" properties to make this easier.\n\t *\n\t * Falls back on {{#crossLink \"Ticker/TIMEOUT:property\"}}{{/crossLink}} if the requestAnimationFrame API is not\n\t * supported.\n\t * @property RAF\n\t * @static\n\t * @type {String}\n\t * @default \"raf\"\n\t * @readonly\n\t **/\n\tTicker.RAF = \"raf\";\n\n\t/**\n\t * In this mode, Ticker uses the setTimeout API. This provides predictable, adaptive frame timing, but does not\n\t * provide the benefits of requestAnimationFrame (screen synch, background throttling).\n\t * @property TIMEOUT\n\t * @static\n\t * @type {String}\n\t * @default \"timeout\"\n\t * @readonly\n\t **/\n\tTicker.TIMEOUT = \"timeout\";\n\n\n// static events:\n\t/**\n\t * Dispatched each tick. The event will be dispatched to each listener even when the Ticker has been paused using\n\t * {{#crossLink \"Ticker/paused:property\"}}{{/crossLink}}.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *      createjs.Ticker.addEventListener(\"tick\", handleTick);\n\t *      function handleTick(event) {\n\t *          console.log(\"Paused:\", event.paused, event.delta);\n\t *      }\n\t *\n\t * @event tick\n\t * @param {Object} target The object that dispatched the event.\n\t * @param {String} type The event type.\n\t * @param {Boolean} paused Indicates whether the ticker is currently paused.\n\t * @param {Number} delta The time elapsed in ms since the last tick.\n\t * @param {Number} time The total time in ms since Ticker was initialized.\n\t * @param {Number} runTime The total time in ms that Ticker was not paused since it was initialized. For example,\n\t * \tyou could determine the amount of time that the Ticker has been paused since initialization with `time-runTime`.\n\t * @since 0.6.0\n\t */\n\n\n// public static properties:\n\t/**\n\t * Specifies the timing api (setTimeout or requestAnimationFrame) and mode to use. See\n\t * {{#crossLink \"Ticker/TIMEOUT:property\"}}{{/crossLink}}, {{#crossLink \"Ticker/RAF:property\"}}{{/crossLink}}, and\n\t * {{#crossLink \"Ticker/RAF_SYNCHED:property\"}}{{/crossLink}} for mode details.\n\t * @property timingMode\n\t * @static\n\t * @type {String}\n\t * @default Ticker.TIMEOUT\n\t **/\n\tTicker.timingMode = null;\n\n\t/**\n\t * Specifies a maximum value for the delta property in the tick event object. This is useful when building time\n\t * based animations and systems to prevent issues caused by large time gaps caused by background tabs, system sleep,\n\t * alert dialogs, or other blocking routines. Double the expected frame duration is often an effective value\n\t * (ex. maxDelta=50 when running at 40fps).\n\t * \n\t * This does not impact any other values (ex. time, runTime, etc), so you may experience issues if you enable maxDelta\n\t * when using both delta and other values.\n\t * \n\t * If 0, there is no maximum.\n\t * @property maxDelta\n\t * @static\n\t * @type {number}\n\t * @default 0\n\t */\n\tTicker.maxDelta = 0;\n\t\n\t/**\n\t * When the ticker is paused, all listeners will still receive a tick event, but the <code>paused</code> property\n\t * of the event will be `true`. Also, while paused the `runTime` will not increase. See {{#crossLink \"Ticker/tick:event\"}}{{/crossLink}},\n\t * {{#crossLink \"Ticker/getTime\"}}{{/crossLink}}, and {{#crossLink \"Ticker/getEventTime\"}}{{/crossLink}} for more\n\t * info.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *      createjs.Ticker.addEventListener(\"tick\", handleTick);\n\t *      createjs.Ticker.paused = true;\n\t *      function handleTick(event) {\n\t *          console.log(event.paused,\n\t *          \tcreatejs.Ticker.getTime(false),\n\t *          \tcreatejs.Ticker.getTime(true));\n\t *      }\n\t *\n\t * @property paused\n\t * @static\n\t * @type {Boolean}\n\t * @default false\n\t **/\n\tTicker.paused = false;\n\n\n// mix-ins:\n\t// EventDispatcher methods:\n\tTicker.removeEventListener = null;\n\tTicker.removeAllEventListeners = null;\n\tTicker.dispatchEvent = null;\n\tTicker.hasEventListener = null;\n\tTicker._listeners = null;\n\tcreatejs.EventDispatcher.initialize(Ticker); // inject EventDispatcher methods.\n\tTicker._addEventListener = Ticker.addEventListener;\n\tTicker.addEventListener = function() {\n\t\t!Ticker._inited&&Ticker.init();\n\t\treturn Ticker._addEventListener.apply(Ticker, arguments);\n\t};\n\n\n// private static properties:\n\t/**\n\t * @property _inited\n\t * @static\n\t * @type {Boolean}\n\t * @private\n\t **/\n\tTicker._inited = false;\n\n\t/**\n\t * @property _startTime\n\t * @static\n\t * @type {Number}\n\t * @private\n\t **/\n\tTicker._startTime = 0;\n\n\t/**\n\t * @property _pausedTime\n\t * @static\n\t * @type {Number}\n\t * @private\n\t **/\n\tTicker._pausedTime=0;\n\n\t/**\n\t * The number of ticks that have passed\n\t * @property _ticks\n\t * @static\n\t * @type {Number}\n\t * @private\n\t **/\n\tTicker._ticks = 0;\n\n\t/**\n\t * The number of ticks that have passed while Ticker has been paused\n\t * @property _pausedTicks\n\t * @static\n\t * @type {Number}\n\t * @private\n\t **/\n\tTicker._pausedTicks = 0;\n\n\t/**\n\t * @property _interval\n\t * @static\n\t * @type {Number}\n\t * @private\n\t **/\n\tTicker._interval = 50;\n\n\t/**\n\t * @property _lastTime\n\t * @static\n\t * @type {Number}\n\t * @private\n\t **/\n\tTicker._lastTime = 0;\n\n\t/**\n\t * @property _times\n\t * @static\n\t * @type {Array}\n\t * @private\n\t **/\n\tTicker._times = null;\n\n\t/**\n\t * @property _tickTimes\n\t * @static\n\t * @type {Array}\n\t * @private\n\t **/\n\tTicker._tickTimes = null;\n\n\t/**\n\t * Stores the timeout or requestAnimationFrame id.\n\t * @property _timerId\n\t * @static\n\t * @type {Number}\n\t * @private\n\t **/\n\tTicker._timerId = null;\n\t\n\t/**\n\t * True if currently using requestAnimationFrame, false if using setTimeout. This may be different than timingMode\n\t * if that property changed and a tick hasn't fired.\n\t * @property _raf\n\t * @static\n\t * @type {Boolean}\n\t * @private\n\t **/\n\tTicker._raf = true;\n\t\n\n// static getter / setters:\n\t/**\n\t * Use the {{#crossLink \"Ticker/interval:property\"}}{{/crossLink}} property instead.\n\t * @method _setInterval\n\t * @private\n\t * @static\n\t * @param {Number} interval\n\t **/\n\tTicker._setInterval = function(interval) {\n\t\tTicker._interval = interval;\n\t\tif (!Ticker._inited) { return; }\n\t\tTicker._setupTick();\n\t};\n\t// Ticker.setInterval is @deprecated. Remove for 1.1+\n\tTicker.setInterval = createjs.deprecate(Ticker._setInterval, \"Ticker.setInterval\");\n\n\t/**\n\t * Use the {{#crossLink \"Ticker/interval:property\"}}{{/crossLink}} property instead.\n\t * @method _getInterval\n\t * @private\n\t * @static\n\t * @return {Number}\n\t **/\n\tTicker._getInterval = function() {\n\t\treturn Ticker._interval;\n\t};\n\t// Ticker.getInterval is @deprecated. Remove for 1.1+\n\tTicker.getInterval = createjs.deprecate(Ticker._getInterval, \"Ticker.getInterval\");\n\n\t/**\n\t * Use the {{#crossLink \"Ticker/framerate:property\"}}{{/crossLink}} property instead.\n\t * @method _setFPS\n\t * @private\n\t * @static\n\t * @param {Number} value\n\t **/\n\tTicker._setFPS = function(value) {\n\t\tTicker._setInterval(1000/value);\n\t};\n\t// Ticker.setFPS is @deprecated. Remove for 1.1+\n\tTicker.setFPS = createjs.deprecate(Ticker._setFPS, \"Ticker.setFPS\");\n\n\t/**\n\t * Use the {{#crossLink \"Ticker/framerate:property\"}}{{/crossLink}} property instead.\n\t * @method _getFPS\n\t * @static\n\t * @private\n\t * @return {Number}\n\t **/\n\tTicker._getFPS = function() {\n\t\treturn 1000/Ticker._interval;\n\t};\n\t// Ticker.getFPS is @deprecated. Remove for 1.1+\n\tTicker.getFPS = createjs.deprecate(Ticker._getFPS, \"Ticker.getFPS\");\n\n\t/**\n\t * Indicates the target time (in milliseconds) between ticks. Default is 50 (20 FPS).\n\t * Note that actual time between ticks may be more than specified depending on CPU load.\n\t * This property is ignored if the ticker is using the `RAF` timing mode.\n\t * @property interval\n\t * @static\n\t * @type {Number}\n\t **/\n\t \n\t/**\n\t * Indicates the target frame rate in frames per second (FPS). Effectively just a shortcut to `interval`, where\n\t * `framerate == 1000/interval`.\n\t * @property framerate\n\t * @static\n\t * @type {Number}\n\t **/\n\ttry {\n\t\tObject.defineProperties(Ticker, {\n\t\t\tinterval: { get: Ticker._getInterval, set: Ticker._setInterval },\n\t\t\tframerate: { get: Ticker._getFPS, set: Ticker._setFPS }\n\t\t});\n\t} catch (e) { console.log(e); }\n\n\n// public static methods:\n\t/**\n\t * Starts the tick. This is called automatically when the first listener is added.\n\t * @method init\n\t * @static\n\t **/\n\tTicker.init = function() {\n\t\tif (Ticker._inited) { return; }\n\t\tTicker._inited = true;\n\t\tTicker._times = [];\n\t\tTicker._tickTimes = [];\n\t\tTicker._startTime = Ticker._getTime();\n\t\tTicker._times.push(Ticker._lastTime = 0);\n\t\tTicker.interval = Ticker._interval;\n\t};\n\t\n\t/**\n\t * Stops the Ticker and removes all listeners. Use init() to restart the Ticker.\n\t * @method reset\n\t * @static\n\t **/\n\tTicker.reset = function() {\n\t\tif (Ticker._raf) {\n\t\t\tvar f = window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || window.oCancelAnimationFrame || window.msCancelAnimationFrame;\n\t\t\tf&&f(Ticker._timerId);\n\t\t} else {\n\t\t\tclearTimeout(Ticker._timerId);\n\t\t}\n\t\tTicker.removeAllEventListeners(\"tick\");\n\t\tTicker._timerId = Ticker._times = Ticker._tickTimes = null;\n\t\tTicker._startTime = Ticker._lastTime = Ticker._ticks = Ticker._pausedTime = 0;\n\t\tTicker._inited = false;\n\t};\n\n\t/**\n\t * Returns the average time spent within a tick. This can vary significantly from the value provided by getMeasuredFPS\n\t * because it only measures the time spent within the tick execution stack. \n\t * \n\t * Example 1: With a target FPS of 20, getMeasuredFPS() returns 20fps, which indicates an average of 50ms between \n\t * the end of one tick and the end of the next. However, getMeasuredTickTime() returns 15ms. This indicates that \n\t * there may be up to 35ms of \"idle\" time between the end of one tick and the start of the next.\n\t *\n\t * Example 2: With a target FPS of 30, {{#crossLink \"Ticker/framerate:property\"}}{{/crossLink}} returns 10fps, which\n\t * indicates an average of 100ms between the end of one tick and the end of the next. However, {{#crossLink \"Ticker/getMeasuredTickTime\"}}{{/crossLink}}\n\t * returns 20ms. This would indicate that something other than the tick is using ~80ms (another script, DOM\n\t * rendering, etc).\n\t * @method getMeasuredTickTime\n\t * @static\n\t * @param {Number} [ticks] The number of previous ticks over which to measure the average time spent in a tick.\n\t * Defaults to the number of ticks per second. To get only the last tick's time, pass in 1.\n\t * @return {Number} The average time spent in a tick in milliseconds.\n\t **/\n\tTicker.getMeasuredTickTime = function(ticks) {\n\t\tvar ttl=0, times=Ticker._tickTimes;\n\t\tif (!times || times.length < 1) { return -1; }\n\n\t\t// by default, calculate average for the past ~1 second:\n\t\tticks = Math.min(times.length, ticks||(Ticker._getFPS()|0));\n\t\tfor (var i=0; i<ticks; i++) { ttl += times[i]; }\n\t\treturn ttl/ticks;\n\t};\n\n\t/**\n\t * Returns the actual frames / ticks per second.\n\t * @method getMeasuredFPS\n\t * @static\n\t * @param {Number} [ticks] The number of previous ticks over which to measure the actual frames / ticks per second.\n\t * Defaults to the number of ticks per second.\n\t * @return {Number} The actual frames / ticks per second. Depending on performance, this may differ\n\t * from the target frames per second.\n\t **/\n\tTicker.getMeasuredFPS = function(ticks) {\n\t\tvar times = Ticker._times;\n\t\tif (!times || times.length < 2) { return -1; }\n\n\t\t// by default, calculate fps for the past ~1 second:\n\t\tticks = Math.min(times.length-1, ticks||(Ticker._getFPS()|0));\n\t\treturn 1000/((times[0]-times[ticks])/ticks);\n\t};\n\n\t/**\n\t * Returns the number of milliseconds that have elapsed since Ticker was initialized via {{#crossLink \"Ticker/init\"}}.\n\t * Returns -1 if Ticker has not been initialized. For example, you could use\n\t * this in a time synchronized animation to determine the exact amount of time that has elapsed.\n\t * @method getTime\n\t * @static\n\t * @param {Boolean} [runTime=false] If true only time elapsed while Ticker was not paused will be returned.\n\t * If false, the value returned will be total time elapsed since the first tick event listener was added.\n\t * @return {Number} Number of milliseconds that have elapsed since Ticker was initialized or -1.\n\t **/\n\tTicker.getTime = function(runTime) {\n\t\treturn Ticker._startTime ? Ticker._getTime() - (runTime ? Ticker._pausedTime : 0) : -1;\n\t};\n\n\t/**\n\t * Similar to the {{#crossLink \"Ticker/getTime\"}}{{/crossLink}} method, but returns the time on the most recent {{#crossLink \"Ticker/tick:event\"}}{{/crossLink}}\n\t * event object.\n\t * @method getEventTime\n\t * @static\n\t * @param runTime {Boolean} [runTime=false] If true, the runTime property will be returned instead of time.\n\t * @returns {number} The time or runTime property from the most recent tick event or -1.\n\t */\n\tTicker.getEventTime = function(runTime) {\n\t\treturn Ticker._startTime ? (Ticker._lastTime || Ticker._startTime) - (runTime ? Ticker._pausedTime : 0) : -1;\n\t};\n\t\n\t/**\n\t * Returns the number of ticks that have been broadcast by Ticker.\n\t * @method getTicks\n\t * @static\n\t * @param {Boolean} pauseable Indicates whether to include ticks that would have been broadcast\n\t * while Ticker was paused. If true only tick events broadcast while Ticker is not paused will be returned.\n\t * If false, tick events that would have been broadcast while Ticker was paused will be included in the return\n\t * value. The default value is false.\n\t * @return {Number} of ticks that have been broadcast.\n\t **/\n\tTicker.getTicks = function(pauseable) {\n\t\treturn  Ticker._ticks - (pauseable ? Ticker._pausedTicks : 0);\n\t};\n\n\n// private static methods:\n\t/**\n\t * @method _handleSynch\n\t * @static\n\t * @private\n\t **/\n\tTicker._handleSynch = function() {\n\t\tTicker._timerId = null;\n\t\tTicker._setupTick();\n\n\t\t// run if enough time has elapsed, with a little bit of flexibility to be early:\n\t\tif (Ticker._getTime() - Ticker._lastTime >= (Ticker._interval-1)*0.97) {\n\t\t\tTicker._tick();\n\t\t}\n\t};\n\n\t/**\n\t * @method _handleRAF\n\t * @static\n\t * @private\n\t **/\n\tTicker._handleRAF = function() {\n\t\tTicker._timerId = null;\n\t\tTicker._setupTick();\n\t\tTicker._tick();\n\t};\n\n\t/**\n\t * @method _handleTimeout\n\t * @static\n\t * @private\n\t **/\n\tTicker._handleTimeout = function() {\n\t\tTicker._timerId = null;\n\t\tTicker._setupTick();\n\t\tTicker._tick();\n\t};\n\n\t/**\n\t * @method _setupTick\n\t * @static\n\t * @private\n\t **/\n\tTicker._setupTick = function() {\n\t\tif (Ticker._timerId != null) { return; } // avoid duplicates\n\n\t\tvar mode = Ticker.timingMode;\n\t\tif (mode == Ticker.RAF_SYNCHED || mode == Ticker.RAF) {\n\t\t\tvar f = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame;\n\t\t\tif (f) {\n\t\t\t\tTicker._timerId = f(mode == Ticker.RAF ? Ticker._handleRAF : Ticker._handleSynch);\n\t\t\t\tTicker._raf = true;\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tTicker._raf = false;\n\t\tTicker._timerId = setTimeout(Ticker._handleTimeout, Ticker._interval);\n\t};\n\n\t/**\n\t * @method _tick\n\t * @static\n\t * @private\n\t **/\n\tTicker._tick = function() {\n\t\tvar paused = Ticker.paused;\n\t\tvar time = Ticker._getTime();\n\t\tvar elapsedTime = time-Ticker._lastTime;\n\t\tTicker._lastTime = time;\n\t\tTicker._ticks++;\n\t\t\n\t\tif (paused) {\n\t\t\tTicker._pausedTicks++;\n\t\t\tTicker._pausedTime += elapsedTime;\n\t\t}\n\t\t\n\t\tif (Ticker.hasEventListener(\"tick\")) {\n\t\t\tvar event = new createjs.Event(\"tick\");\n\t\t\tvar maxDelta = Ticker.maxDelta;\n\t\t\tevent.delta = (maxDelta && elapsedTime > maxDelta) ? maxDelta : elapsedTime;\n\t\t\tevent.paused = paused;\n\t\t\tevent.time = time;\n\t\t\tevent.runTime = time-Ticker._pausedTime;\n\t\t\tTicker.dispatchEvent(event);\n\t\t}\n\t\t\n\t\tTicker._tickTimes.unshift(Ticker._getTime()-time);\n\t\twhile (Ticker._tickTimes.length > 100) { Ticker._tickTimes.pop(); }\n\n\t\tTicker._times.unshift(time);\n\t\twhile (Ticker._times.length > 100) { Ticker._times.pop(); }\n\t};\n\n\t/**\n\t * @method _getTime\n\t * @static\n\t * @private\n\t **/\n\tvar w=window, now=w.performance.now || w.performance.mozNow || w.performance.msNow || w.performance.oNow || w.performance.webkitNow;\n\tTicker._getTime = function() {\n\t\treturn ((now&&now.call(w.performance))||(new Date().getTime())) - Ticker._startTime;\n\t};\n\n\n\tcreatejs.Ticker = Ticker;\n}());\n\n//##############################################################################\n// VideoBuffer.js\n//##############################################################################\n\nthis.createjs = this.createjs||{};\n\n(function() {\n\t\"use strict\";\n\n\n// constructor:\n\t/**\n\t * When an HTML video seeks, including when looping, there is an indeterminate period before a new frame is available.\n\t * This can result in the video blinking or flashing when it is drawn to a canvas. The VideoBuffer class resolves\n\t * this issue by drawing each frame to an off-screen canvas and preserving the prior frame during a seek.\n\t * \n\t * \tvar myBuffer = new createjs.VideoBuffer(myVideo);\n\t * \tvar myBitmap = new Bitmap(myBuffer);\n\t * \n\t * @class VideoBuffer\n\t * @param {HTMLVideoElement} video The HTML video element to buffer.\n\t * @constructor\n\t **/\n\tfunction VideoBuffer(video) {\n\t\t\n\t// private properties:\n\t\t/**\n\t\t * Used by Bitmap to determine when the video buffer is ready to be drawn. Not intended for general use.\n\t\t * @property readyState\n\t\t * @protected\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t **/\n\t\tthis.readyState = video.readyState;\n\t\t\n\t\t/**\n\t\t * @property _video\n\t\t * @protected\n\t\t * @type {HTMLVideoElement}\n\t\t * @default 0\n\t\t **/\n\t\tthis._video = video;\n\t\t\n\t\t/**\n\t\t * @property _canvas\n\t\t * @protected\n\t\t * @type {HTMLCanvasElement}\n\t\t * @default 0\n\t\t **/\n\t\tthis._canvas = null;\n\t\t\n\t\t/**\n\t\t * @property _lastTime\n\t\t * @protected\n\t\t * @type {Number}\n\t\t * @default -1\n\t\t **/\n\t\tthis._lastTime = -1;\n\t\t\n\t\tif (this.readyState < 2) { video.addEventListener(\"canplaythrough\", this._videoReady.bind(this)); } //once:true isn't supported everywhere, but its a non-critical optimization here.\n\t}\n\tvar p = VideoBuffer.prototype;\n\t\n\t\n// public methods:\n\t/**\n\t * Gets an HTML canvas element showing the current video frame, or the previous frame if in a seek / loop.\n\t * Primarily for use by {{#crossLink \"Bitmap\"}}{{/crossLink}}.\n\t * @method getImage\n\t **/\n\tp.getImage = function() {\n\t\tif (this.readyState < 2) { return; }\n\t\tvar canvas=this._canvas, video = this._video;\n\t\tif (!canvas) {\n\t\t\tcanvas = this._canvas = createjs.createCanvas?createjs.createCanvas():document.createElement(\"canvas\");\n\t\t\tcanvas.width = video.videoWidth;\n\t\t\tcanvas.height = video.videoHeight;\n\t\t}\n\t\tif (video.readyState >= 2 && video.currentTime !== this._lastTime) {\n\t\t\tvar ctx = canvas.getContext(\"2d\");\n\t\t\tctx.clearRect(0,0,canvas.width,canvas.height);\n\t\t\tctx.drawImage(video,0,0,canvas.width,canvas.height);\n\t\t\tthis._lastTime = video.currentTime;\n\t\t}\n\t\treturn canvas;\n\t};\n\t\n// private methods:\n\t/**\n\t * @method _videoReady\n\t * @protected\n\t **/\n\tp._videoReady = function() {\n\t\tthis.readyState = 2;\n\t};\n\n\n\tcreatejs.VideoBuffer = VideoBuffer;\n}());\n\n//##############################################################################\n// MouseEvent.js\n//##############################################################################\n\nthis.createjs = this.createjs||{};\n\n(function() {\n\t\"use strict\";\n\n\n// constructor:\n\t/**\n\t * Passed as the parameter to all mouse/pointer/touch related events. For a listing of mouse events and their properties,\n\t * see the {{#crossLink \"DisplayObject\"}}{{/crossLink}} and {{#crossLink \"Stage\"}}{{/crossLink}} event listings.\n\t * @class MouseEvent\n\t * @param {String} type The event type.\n\t * @param {Boolean} bubbles Indicates whether the event will bubble through the display list.\n\t * @param {Boolean} cancelable Indicates whether the default behaviour of this event can be cancelled.\n\t * @param {Number} stageX The normalized x position relative to the stage.\n\t * @param {Number} stageY The normalized y position relative to the stage.\n\t * @param {MouseEvent} nativeEvent The native DOM event related to this mouse event.\n\t * @param {Number} pointerID The unique id for the pointer.\n\t * @param {Boolean} primary Indicates whether this is the primary pointer in a multitouch environment.\n\t * @param {Number} rawX The raw x position relative to the stage.\n\t * @param {Number} rawY The raw y position relative to the stage.\n\t * @param {DisplayObject} relatedTarget The secondary target for the event.\n\t * @extends Event\n\t * @constructor\n\t **/\n\tfunction MouseEvent(type, bubbles, cancelable, stageX, stageY, nativeEvent, pointerID, primary, rawX, rawY, relatedTarget) {\n\t\tthis.Event_constructor(type, bubbles, cancelable);\n\t\t\n\t\t\n\t// public properties:\n\t\t/**\n\t\t * The normalized x position on the stage. This will always be within the range 0 to stage width.\n\t\t * @property stageX\n\t\t * @type Number\n\t\t*/\n\t\tthis.stageX = stageX;\n\t\n\t\t/**\n\t\t * The normalized y position on the stage. This will always be within the range 0 to stage height.\n\t\t * @property stageY\n\t\t * @type Number\n\t\t **/\n\t\tthis.stageY = stageY;\n\t\n\t\t/**\n\t\t * The raw x position relative to the stage. Normally this will be the same as the stageX value, unless\n\t\t * stage.mouseMoveOutside is true and the pointer is outside of the stage bounds.\n\t\t * @property rawX\n\t\t * @type Number\n\t\t*/\n\t\tthis.rawX = (rawX==null)?stageX:rawX;\n\t\n\t\t/**\n\t\t * The raw y position relative to the stage. Normally this will be the same as the stageY value, unless\n\t\t * stage.mouseMoveOutside is true and the pointer is outside of the stage bounds.\n\t\t * @property rawY\n\t\t * @type Number\n\t\t*/\n\t\tthis.rawY = (rawY==null)?stageY:rawY;\n\t\n\t\t/**\n\t\t * The native MouseEvent generated by the browser. The properties and API for this\n\t\t * event may differ between browsers. This property will be null if the\n\t\t * EaselJS property was not directly generated from a native MouseEvent.\n\t\t * @property nativeEvent\n\t\t * @type HtmlMouseEvent\n\t\t * @default null\n\t\t **/\n\t\tthis.nativeEvent = nativeEvent;\n\t\n\t\t/**\n\t\t * The unique id for the pointer (touch point or cursor). This will be either -1 for the mouse, or the system\n\t\t * supplied id value.\n\t\t * @property pointerID\n\t\t * @type {Number}\n\t\t */\n\t\tthis.pointerID = pointerID;\n\t\n\t\t/**\n\t\t * Indicates whether this is the primary pointer in a multitouch environment. This will always be true for the mouse.\n\t\t * For touch pointers, the first pointer in the current stack will be considered the primary pointer.\n\t\t * @property primary\n\t\t * @type {Boolean}\n\t\t */\n\t\tthis.primary = !!primary;\n\t\t\n\t\t/**\n\t\t * The secondary target for the event, if applicable. This is used for mouseout/rollout\n\t\t * events to indicate the object that the mouse entered from, mouseover/rollover for the object the mouse exited,\n\t\t * and stagemousedown/stagemouseup events for the object that was the under the cursor, if any.\n\t\t * \n\t\t * Only valid interaction targets will be returned (ie. objects with mouse listeners or a cursor set).\n\t\t * @property relatedTarget\n\t\t * @type {DisplayObject}\n\t\t */\n\t\tthis.relatedTarget = relatedTarget;\n\t}\n\tvar p = createjs.extend(MouseEvent, createjs.Event);\n\n\t// TODO: deprecated\n\t// p.initialize = function() {}; // searchable for devs wondering where it is. REMOVED. See docs for details.\n\t\n\t\n// getter / setters:\n\t/**\n\t * Returns the x position of the mouse in the local coordinate system of the current target (ie. the dispatcher).\n\t * @property localX\n\t * @type {Number}\n\t * @readonly\n\t */\n\tp._get_localX = function() {\n\t\treturn this.currentTarget.globalToLocal(this.rawX, this.rawY).x;\n\t};\n\t\n\t/**\n\t * Returns the y position of the mouse in the local coordinate system of the current target (ie. the dispatcher).\n\t * @property localY\n\t * @type {Number}\n\t * @readonly\n\t */\n\tp._get_localY = function() {\n\t\treturn this.currentTarget.globalToLocal(this.rawX, this.rawY).y;\n\t};\n\t\n\t/**\n\t * Indicates whether the event was generated by a touch input (versus a mouse input).\n\t * @property isTouch\n\t * @type {Boolean}\n\t * @readonly\n\t */\n\tp._get_isTouch = function() {\n\t\treturn this.pointerID !== -1;\n\t};\n\t\n\t\n\ttry {\n\t\tObject.defineProperties(p, {\n\t\t\tlocalX: { get: p._get_localX },\n\t\t\tlocalY: { get: p._get_localY },\n\t\t\tisTouch: { get: p._get_isTouch }\n\t\t});\n\t} catch (e) {} // TODO: use Log\n\n\n// public methods:\n\t/**\n\t * Returns a clone of the MouseEvent instance.\n\t * @method clone\n\t * @return {MouseEvent} a clone of the MouseEvent instance.\n\t **/\n\tp.clone = function() {\n\t\treturn new MouseEvent(this.type, this.bubbles, this.cancelable, this.stageX, this.stageY, this.nativeEvent, this.pointerID, this.primary, this.rawX, this.rawY);\n\t};\n\n\t/**\n\t * Returns a string representation of this object.\n\t * @method toString\n\t * @return {String} a string representation of the instance.\n\t **/\n\tp.toString = function() {\n\t\treturn \"[MouseEvent (type=\"+this.type+\" stageX=\"+this.stageX+\" stageY=\"+this.stageY+\")]\";\n\t};\n\n\n\tcreatejs.MouseEvent = createjs.promote(MouseEvent, \"Event\");\n}());\n\n//##############################################################################\n// Matrix2D.js\n//##############################################################################\n\nthis.createjs = this.createjs||{};\n\n(function() {\n\t\"use strict\";\n\n\n// constructor:\n\t/**\n\t * Represents an affine transformation matrix, and provides tools for constructing and concatenating matrices.\n\t *\n\t * This matrix can be visualized as:\n\t *\n\t * \t[ a  c  tx\n\t * \t  b  d  ty\n\t * \t  0  0  1  ]\n\t *\n\t * Note the locations of b and c.\n\t *\n\t * @class Matrix2D\n\t * @param {Number} [a=1] Specifies the a property for the new matrix.\n\t * @param {Number} [b=0] Specifies the b property for the new matrix.\n\t * @param {Number} [c=0] Specifies the c property for the new matrix.\n\t * @param {Number} [d=1] Specifies the d property for the new matrix.\n\t * @param {Number} [tx=0] Specifies the tx property for the new matrix.\n\t * @param {Number} [ty=0] Specifies the ty property for the new matrix.\n\t * @constructor\n\t **/\n\tfunction Matrix2D(a, b, c, d, tx, ty) {\n\t\tthis.setValues(a,b,c,d,tx,ty);\n\t\t\n\t// public properties:\n\t\t// assigned in the setValues method.\n\t\t/**\n\t\t * Position (0, 0) in a 3x3 affine transformation matrix.\n\t\t * @property a\n\t\t * @type Number\n\t\t **/\n\t\n\t\t/**\n\t\t * Position (0, 1) in a 3x3 affine transformation matrix.\n\t\t * @property b\n\t\t * @type Number\n\t\t **/\n\t\n\t\t/**\n\t\t * Position (1, 0) in a 3x3 affine transformation matrix.\n\t\t * @property c\n\t\t * @type Number\n\t\t **/\n\t\n\t\t/**\n\t\t * Position (1, 1) in a 3x3 affine transformation matrix.\n\t\t * @property d\n\t\t * @type Number\n\t\t **/\n\t\n\t\t/**\n\t\t * Position (2, 0) in a 3x3 affine transformation matrix.\n\t\t * @property tx\n\t\t * @type Number\n\t\t **/\n\t\n\t\t/**\n\t\t * Position (2, 1) in a 3x3 affine transformation matrix.\n\t\t * @property ty\n\t\t * @type Number\n\t\t **/\n\t}\n\tvar p = Matrix2D.prototype;\n\n// constants:\n\t/**\n\t * Multiplier for converting degrees to radians. Used internally by Matrix2D.\n\t * @property DEG_TO_RAD\n\t * @static\n\t * @final\n\t * @type Number\n\t * @readonly\n\t **/\n\tMatrix2D.DEG_TO_RAD = Math.PI/180;\n\n\n// static public properties:\n\t/**\n\t * An identity matrix, representing a null transformation.\n\t * @property identity\n\t * @static\n\t * @type Matrix2D\n\t * @readonly\n\t **/\n\tMatrix2D.identity = null; // set at bottom of class definition.\n\t\n\n// public methods:\n\t/**\n\t * Sets the specified values on this instance. \n\t * @method setValues\n\t * @param {Number} [a=1] Specifies the a property for the new matrix.\n\t * @param {Number} [b=0] Specifies the b property for the new matrix.\n\t * @param {Number} [c=0] Specifies the c property for the new matrix.\n\t * @param {Number} [d=1] Specifies the d property for the new matrix.\n\t * @param {Number} [tx=0] Specifies the tx property for the new matrix.\n\t * @param {Number} [ty=0] Specifies the ty property for the new matrix.\n\t * @return {Matrix2D} This instance. Useful for chaining method calls.\n\t*/\n\tp.setValues = function(a, b, c, d, tx, ty) {\n\t\t// don't forget to update docs in the constructor if these change:\n\t\tthis.a = (a == null) ? 1 : a;\n\t\tthis.b = b || 0;\n\t\tthis.c = c || 0;\n\t\tthis.d = (d == null) ? 1 : d;\n\t\tthis.tx = tx || 0;\n\t\tthis.ty = ty || 0;\n\t\treturn this;\n\t};\n\n\t/**\n\t * Appends the specified matrix properties to this matrix. All parameters are required.\n\t * This is the equivalent of multiplying `(this matrix) * (specified matrix)`.\n\t * @method append\n\t * @param {Number} a\n\t * @param {Number} b\n\t * @param {Number} c\n\t * @param {Number} d\n\t * @param {Number} tx\n\t * @param {Number} ty\n\t * @return {Matrix2D} This matrix. Useful for chaining method calls.\n\t **/\n\tp.append = function(a, b, c, d, tx, ty) {\n\t\tvar a1 = this.a;\n\t\tvar b1 = this.b;\n\t\tvar c1 = this.c;\n\t\tvar d1 = this.d;\n\t\tif (a != 1 || b != 0 || c != 0 || d != 1) {\n\t\t\tthis.a  = a1*a+c1*b;\n\t\t\tthis.b  = b1*a+d1*b;\n\t\t\tthis.c  = a1*c+c1*d;\n\t\t\tthis.d  = b1*c+d1*d;\n\t\t}\n\t\tthis.tx = a1*tx+c1*ty+this.tx;\n\t\tthis.ty = b1*tx+d1*ty+this.ty;\n\t\treturn this;\n\t};\n\n\t/**\n\t * Prepends the specified matrix properties to this matrix.\n\t * This is the equivalent of multiplying `(specified matrix) * (this matrix)`.\n\t * All parameters are required.\n\t * @method prepend\n\t * @param {Number} a\n\t * @param {Number} b\n\t * @param {Number} c\n\t * @param {Number} d\n\t * @param {Number} tx\n\t * @param {Number} ty\n\t * @return {Matrix2D} This matrix. Useful for chaining method calls.\n\t **/\n\tp.prepend = function(a, b, c, d, tx, ty) {\n\t\tvar a1 = this.a;\n\t\tvar c1 = this.c;\n\t\tvar tx1 = this.tx;\n\n\t\tthis.a  = a*a1+c*this.b;\n\t\tthis.b  = b*a1+d*this.b;\n\t\tthis.c  = a*c1+c*this.d;\n\t\tthis.d  = b*c1+d*this.d;\n\t\tthis.tx = a*tx1+c*this.ty+tx;\n\t\tthis.ty = b*tx1+d*this.ty+ty;\n\t\treturn this;\n\t};\n\n\t/**\n\t * Appends the specified matrix to this matrix.\n\t * This is the equivalent of multiplying `(this matrix) * (specified matrix)`.\n\t * @method appendMatrix\n\t * @param {Matrix2D} matrix\n\t * @return {Matrix2D} This matrix. Useful for chaining method calls.\n\t **/\n\tp.appendMatrix = function(matrix) {\n\t\treturn this.append(matrix.a, matrix.b, matrix.c, matrix.d, matrix.tx, matrix.ty);\n\t};\n\n\t/**\n\t * Prepends the specified matrix to this matrix.\n\t * This is the equivalent of multiplying `(specified matrix) * (this matrix)`.\n\t * For example, you could calculate the combined transformation for a child object using:\n\t * \n\t * \tvar o = myDisplayObject;\n\t * \tvar mtx = o.getMatrix();\n\t * \twhile (o = o.parent) {\n\t * \t\t// prepend each parent's transformation in turn:\n\t * \t\to.prependMatrix(o.getMatrix());\n\t * \t}\n\t * @method prependMatrix\n\t * @param {Matrix2D} matrix\n\t * @return {Matrix2D} This matrix. Useful for chaining method calls.\n\t **/\n\tp.prependMatrix = function(matrix) {\n\t\treturn this.prepend(matrix.a, matrix.b, matrix.c, matrix.d, matrix.tx, matrix.ty);\n\t};\n\n\t/**\n\t * Generates matrix properties from the specified display object transform properties, and appends them to this matrix.\n\t * For example, you can use this to generate a matrix representing the transformations of a display object:\n\t * \n\t * \tvar mtx = new createjs.Matrix2D();\n\t * \tmtx.appendTransform(o.x, o.y, o.scaleX, o.scaleY, o.rotation);\n\t * @method appendTransform\n\t * @param {Number} x\n\t * @param {Number} y\n\t * @param {Number} scaleX\n\t * @param {Number} scaleY\n\t * @param {Number} rotation\n\t * @param {Number} skewX\n\t * @param {Number} skewY\n\t * @param {Number} regX Optional.\n\t * @param {Number} regY Optional.\n\t * @return {Matrix2D} This matrix. Useful for chaining method calls.\n\t **/\n\tp.appendTransform = function(x, y, scaleX, scaleY, rotation, skewX, skewY, regX, regY) {\n\t\tif (rotation%360) {\n\t\t\tvar r = rotation*Matrix2D.DEG_TO_RAD;\n\t\t\tvar cos = Math.cos(r);\n\t\t\tvar sin = Math.sin(r);\n\t\t} else {\n\t\t\tcos = 1;\n\t\t\tsin = 0;\n\t\t}\n\n\t\tif (skewX || skewY) {\n\t\t\t// TODO: can this be combined into a single append operation?\n\t\t\tskewX *= Matrix2D.DEG_TO_RAD;\n\t\t\tskewY *= Matrix2D.DEG_TO_RAD;\n\t\t\tthis.append(Math.cos(skewY), Math.sin(skewY), -Math.sin(skewX), Math.cos(skewX), x, y);\n\t\t\tthis.append(cos*scaleX, sin*scaleX, -sin*scaleY, cos*scaleY, 0, 0);\n\t\t} else {\n\t\t\tthis.append(cos*scaleX, sin*scaleX, -sin*scaleY, cos*scaleY, x, y);\n\t\t}\n\t\t\n\t\tif (regX || regY) {\n\t\t\t// append the registration offset:\n\t\t\tthis.tx -= regX*this.a+regY*this.c; \n\t\t\tthis.ty -= regX*this.b+regY*this.d;\n\t\t}\n\t\treturn this;\n\t};\n\n\t/**\n\t * Generates matrix properties from the specified display object transform properties, and prepends them to this matrix.\n\t * For example, you could calculate the combined transformation for a child object using:\n\t * \n\t * \tvar o = myDisplayObject;\n\t * \tvar mtx = new createjs.Matrix2D();\n\t * \tdo  {\n\t * \t\t// prepend each parent's transformation in turn:\n\t * \t\tmtx.prependTransform(o.x, o.y, o.scaleX, o.scaleY, o.rotation, o.skewX, o.skewY, o.regX, o.regY);\n\t * \t} while (o = o.parent);\n\t * \t\n\t * \tNote that the above example would not account for {{#crossLink \"DisplayObject/transformMatrix:property\"}}{{/crossLink}}\n\t * \tvalues. See {{#crossLink \"Matrix2D/prependMatrix\"}}{{/crossLink}} for an example that does.\n\t * @method prependTransform\n\t * @param {Number} x\n\t * @param {Number} y\n\t * @param {Number} scaleX\n\t * @param {Number} scaleY\n\t * @param {Number} rotation\n\t * @param {Number} skewX\n\t * @param {Number} skewY\n\t * @param {Number} regX Optional.\n\t * @param {Number} regY Optional.\n\t * @return {Matrix2D} This matrix. Useful for chaining method calls.\n\t **/\n\tp.prependTransform = function(x, y, scaleX, scaleY, rotation, skewX, skewY, regX, regY) {\n\t\tif (rotation%360) {\n\t\t\tvar r = rotation*Matrix2D.DEG_TO_RAD;\n\t\t\tvar cos = Math.cos(r);\n\t\t\tvar sin = Math.sin(r);\n\t\t} else {\n\t\t\tcos = 1;\n\t\t\tsin = 0;\n\t\t}\n\n\t\tif (regX || regY) {\n\t\t\t// prepend the registration offset:\n\t\t\tthis.tx -= regX; this.ty -= regY;\n\t\t}\n\t\tif (skewX || skewY) {\n\t\t\t// TODO: can this be combined into a single prepend operation?\n\t\t\tskewX *= Matrix2D.DEG_TO_RAD;\n\t\t\tskewY *= Matrix2D.DEG_TO_RAD;\n\t\t\tthis.prepend(cos*scaleX, sin*scaleX, -sin*scaleY, cos*scaleY, 0, 0);\n\t\t\tthis.prepend(Math.cos(skewY), Math.sin(skewY), -Math.sin(skewX), Math.cos(skewX), x, y);\n\t\t} else {\n\t\t\tthis.prepend(cos*scaleX, sin*scaleX, -sin*scaleY, cos*scaleY, x, y);\n\t\t}\n\t\treturn this;\n\t};\n\n\t/**\n\t * Applies a clockwise rotation transformation to the matrix.\n\t * @method rotate\n\t * @param {Number} angle The angle to rotate by, in degrees. To use a value in radians, multiply it by `180/Math.PI`.\n\t * @return {Matrix2D} This matrix. Useful for chaining method calls.\n\t **/\n\tp.rotate = function(angle) {\n\t\tangle = angle*Matrix2D.DEG_TO_RAD;\n\t\tvar cos = Math.cos(angle);\n\t\tvar sin = Math.sin(angle);\n\n\t\tvar a1 = this.a;\n\t\tvar b1 = this.b;\n\n\t\tthis.a = a1*cos+this.c*sin;\n\t\tthis.b = b1*cos+this.d*sin;\n\t\tthis.c = -a1*sin+this.c*cos;\n\t\tthis.d = -b1*sin+this.d*cos;\n\t\treturn this;\n\t};\n\n\t/**\n\t * Applies a skew transformation to the matrix.\n\t * @method skew\n\t * @param {Number} skewX The amount to skew horizontally in degrees. To use a value in radians, multiply it by `180/Math.PI`.\n\t * @param {Number} skewY The amount to skew vertically in degrees.\n\t * @return {Matrix2D} This matrix. Useful for chaining method calls.\n\t*/\n\tp.skew = function(skewX, skewY) {\n\t\tskewX = skewX*Matrix2D.DEG_TO_RAD;\n\t\tskewY = skewY*Matrix2D.DEG_TO_RAD;\n\t\tthis.append(Math.cos(skewY), Math.sin(skewY), -Math.sin(skewX), Math.cos(skewX), 0, 0);\n\t\treturn this;\n\t};\n\n\t/**\n\t * Applies a scale transformation to the matrix.\n\t * @method scale\n\t * @param {Number} x The amount to scale horizontally. E.G. a value of 2 will double the size in the X direction, and 0.5 will halve it.\n\t * @param {Number} y The amount to scale vertically.\n\t * @return {Matrix2D} This matrix. Useful for chaining method calls.\n\t **/\n\tp.scale = function(x, y) {\n\t\tthis.a *= x;\n\t\tthis.b *= x;\n\t\tthis.c *= y;\n\t\tthis.d *= y;\n\t\t//this.tx *= x;\n\t\t//this.ty *= y;\n\t\treturn this;\n\t};\n\n\t/**\n\t * Translates the matrix on the x and y axes.\n\t * @method translate\n\t * @param {Number} x\n\t * @param {Number} y\n\t * @return {Matrix2D} This matrix. Useful for chaining method calls.\n\t **/\n\tp.translate = function(x, y) {\n\t\tthis.tx += this.a*x + this.c*y;\n\t\tthis.ty += this.b*x + this.d*y;\n\t\treturn this;\n\t};\n\n\t/**\n\t * Sets the properties of the matrix to those of an identity matrix (one that applies a null transformation).\n\t * @method identity\n\t * @return {Matrix2D} This matrix. Useful for chaining method calls.\n\t **/\n\tp.identity = function() {\n\t\tthis.a = this.d = 1;\n\t\tthis.b = this.c = this.tx = this.ty = 0;\n\t\treturn this;\n\t};\n\n\t/**\n\t * Inverts the matrix, causing it to perform the opposite transformation.\n\t * @method invert\n\t * @return {Matrix2D} This matrix. Useful for chaining method calls.\n\t **/\n\tp.invert = function() {\n\t\tvar a1 = this.a;\n\t\tvar b1 = this.b;\n\t\tvar c1 = this.c;\n\t\tvar d1 = this.d;\n\t\tvar tx1 = this.tx;\n\t\tvar n = a1*d1-b1*c1;\n\n\t\tthis.a = d1/n;\n\t\tthis.b = -b1/n;\n\t\tthis.c = -c1/n;\n\t\tthis.d = a1/n;\n\t\tthis.tx = (c1*this.ty-d1*tx1)/n;\n\t\tthis.ty = -(a1*this.ty-b1*tx1)/n;\n\t\treturn this;\n\t};\n\n\t/**\n\t * Returns true if the matrix is an identity matrix.\n\t * @method isIdentity\n\t * @return {Boolean}\n\t **/\n\tp.isIdentity = function() {\n\t\treturn this.tx === 0 && this.ty === 0 && this.a === 1 && this.b === 0 && this.c === 0 && this.d === 1;\n\t};\n\t\n\t/**\n\t * Returns true if this matrix is equal to the specified matrix (all property values are equal).\n\t * @method equals\n\t * @param {Matrix2D} matrix The matrix to compare.\n\t * @return {Boolean}\n\t **/\n\tp.equals = function(matrix) {\n\t\treturn this.tx === matrix.tx && this.ty === matrix.ty && this.a === matrix.a && this.b === matrix.b && this.c === matrix.c && this.d === matrix.d;\n\t};\n\n\t/**\n\t * Transforms a point according to this matrix.\n\t * @method transformPoint\n\t * @param {Number} x The x component of the point to transform.\n\t * @param {Number} y The y component of the point to transform.\n\t * @param {Point | Object} [pt] An object to copy the result into. If omitted a generic object with x/y properties will be returned.\n\t * @return {Point} This matrix. Useful for chaining method calls.\n\t **/\n\tp.transformPoint = function(x, y, pt) {\n\t\tpt = pt||{};\n\t\tpt.x = x*this.a+y*this.c+this.tx;\n\t\tpt.y = x*this.b+y*this.d+this.ty;\n\t\treturn pt;\n\t};\n\n\t/**\n\t * Decomposes the matrix into transform properties (x, y, scaleX, scaleY, and rotation). Note that these values\n\t * may not match the transform properties you used to generate the matrix, though they will produce the same visual\n\t * results.\n\t * @method decompose\n\t * @param {Object} target The object to apply the transform properties to. If null, then a new object will be returned.\n\t * @return {Object} The target, or a new generic object with the transform properties applied.\n\t*/\n\tp.decompose = function(target) {\n\t\t// TODO: it would be nice to be able to solve for whether the matrix can be decomposed into only scale/rotation even when scale is negative\n\t\tif (target == null) { target = {}; }\n\t\ttarget.x = this.tx;\n\t\ttarget.y = this.ty;\n\t\ttarget.scaleX = Math.sqrt(this.a * this.a + this.b * this.b);\n\t\ttarget.scaleY = Math.sqrt(this.c * this.c + this.d * this.d);\n\n\t\tvar skewX = Math.atan2(-this.c, this.d);\n\t\tvar skewY = Math.atan2(this.b, this.a);\n\n\t\tvar delta = Math.abs(1-skewX/skewY);\n\t\tif (delta < 0.00001) { // effectively identical, can use rotation:\n\t\t\ttarget.rotation = skewY/Matrix2D.DEG_TO_RAD;\n\t\t\tif (this.a < 0 && this.d >= 0) {\n\t\t\t\ttarget.rotation += (target.rotation <= 0) ? 180 : -180;\n\t\t\t}\n\t\t\ttarget.skewX = target.skewY = 0;\n\t\t} else {\n\t\t\ttarget.skewX = skewX/Matrix2D.DEG_TO_RAD;\n\t\t\ttarget.skewY = skewY/Matrix2D.DEG_TO_RAD;\n\t\t}\n\t\treturn target;\n\t};\n\t\n\t/**\n\t * Copies all properties from the specified matrix to this matrix.\n\t * @method copy\n\t * @param {Matrix2D} matrix The matrix to copy properties from.\n\t * @return {Matrix2D} This matrix. Useful for chaining method calls.\n\t*/\n\tp.copy = function(matrix) {\n\t\treturn this.setValues(matrix.a, matrix.b, matrix.c, matrix.d, matrix.tx, matrix.ty);\n\t};\n\n\t/**\n\t * Returns a clone of the Matrix2D instance.\n\t * @method clone\n\t * @return {Matrix2D} a clone of the Matrix2D instance.\n\t **/\n\tp.clone = function() {\n\t\treturn new Matrix2D(this.a, this.b, this.c, this.d, this.tx, this.ty);\n\t};\n\n\t/**\n\t * Returns a string representation of this object.\n\t * @method toString\n\t * @return {String} a string representation of the instance.\n\t **/\n\tp.toString = function() {\n\t\treturn \"[Matrix2D (a=\"+this.a+\" b=\"+this.b+\" c=\"+this.c+\" d=\"+this.d+\" tx=\"+this.tx+\" ty=\"+this.ty+\")]\";\n\t};\n\n\t// this has to be populated after the class is defined:\n\tMatrix2D.identity = new Matrix2D();\n\n\n\tcreatejs.Matrix2D = Matrix2D;\n}());\n\n//##############################################################################\n// DisplayProps.js\n//##############################################################################\n\nthis.createjs = this.createjs||{};\n\n(function() {\n\t\"use strict\";\n\n\t/**\n\t * Used for calculating and encapsulating display related properties.\n\t * @class DisplayProps\n\t * @param {Number} [visible=true] Visible value.\n\t * @param {Number} [alpha=1] Alpha value.\n\t * @param {Number} [shadow=null] A Shadow instance or null.\n\t * @param {Number} [compositeOperation=null] A compositeOperation value or null.\n\t * @param {Number} [matrix] A transformation matrix. Defaults to a new identity matrix.\n\t * @constructor\n\t **/\n\tfunction DisplayProps(visible, alpha, shadow, compositeOperation, matrix) {\n\t\tthis.setValues(visible, alpha, shadow, compositeOperation, matrix);\n\t\t\n\t// public properties:\n\t\t// assigned in the setValues method.\n\t\t/**\n\t\t * Property representing the alpha that will be applied to a display object.\n\t\t * @property alpha\n\t\t * @type Number\n\t\t **/\n\t\n\t\t/**\n\t\t * Property representing the shadow that will be applied to a display object.\n\t\t * @property shadow\n\t\t * @type Shadow\n\t\t **/\n\t\n\t\t/**\n\t\t * Property representing the compositeOperation that will be applied to a display object.\n\t\t * You can find a list of valid composite operations at:\n\t\t * <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Compositing\">https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Compositing</a>\n\t\t * @property compositeOperation\n\t\t * @type String\n\t\t **/\n\t\t\n\t\t/**\n\t\t * Property representing the value for visible that will be applied to a display object.\n\t\t * @property visible\n\t\t * @type Boolean\n\t\t **/\n\t\t\n\t\t/**\n\t\t * The transformation matrix that will be applied to a display object.\n\t\t * @property matrix\n\t\t * @type Matrix2D\n\t\t **/\n\t}\n\tvar p = DisplayProps.prototype;\n\n// initialization:\n\t/**\n\t * Reinitializes the instance with the specified values.\n\t * @method setValues\n\t * @param {Number} [visible=true] Visible value.\n\t * @param {Number} [alpha=1] Alpha value.\n\t * @param {Number} [shadow=null] A Shadow instance or null.\n\t * @param {Number} [compositeOperation=null] A compositeOperation value or null.\n\t * @param {Number} [matrix] A transformation matrix. Defaults to an identity matrix.\n\t * @return {DisplayProps} This instance. Useful for chaining method calls.\n\t * @chainable\n\t*/\n\tp.setValues = function (visible, alpha, shadow, compositeOperation, matrix) {\n\t\tthis.visible = visible == null ? true : !!visible;\n\t\tthis.alpha = alpha == null ? 1 : alpha;\n\t\tthis.shadow = shadow;\n\t\tthis.compositeOperation = compositeOperation;\n\t\tthis.matrix = matrix || (this.matrix&&this.matrix.identity()) || new createjs.Matrix2D();\n\t\treturn this;\n\t};\n\n// public methods:\n\t/**\n\t * Appends the specified display properties. This is generally used to apply a child's properties its parent's.\n\t * @method append\n\t * @param {Boolean} visible desired visible value\n\t * @param {Number} alpha desired alpha value\n\t * @param {Shadow} shadow desired shadow value\n\t * @param {String} compositeOperation desired composite operation value\n\t * @param {Matrix2D} [matrix] a Matrix2D instance\n\t * @return {DisplayProps} This instance. Useful for chaining method calls.\n\t * @chainable\n\t*/\n\tp.append = function(visible, alpha, shadow, compositeOperation, matrix) {\n\t\tthis.alpha *= alpha;\n\t\tthis.shadow = shadow || this.shadow;\n\t\tthis.compositeOperation = compositeOperation || this.compositeOperation;\n\t\tthis.visible = this.visible && visible;\n\t\tmatrix&&this.matrix.appendMatrix(matrix);\n\t\treturn this;\n\t};\n\t\n\t/**\n\t * Prepends the specified display properties. This is generally used to apply a parent's properties to a child's.\n\t * For example, to get the combined display properties that would be applied to a child, you could use:\n\t * \n\t * \tvar o = myDisplayObject;\n\t * \tvar props = new createjs.DisplayProps();\n\t * \tdo {\n\t * \t\t// prepend each parent's props in turn:\n\t * \t\tprops.prepend(o.visible, o.alpha, o.shadow, o.compositeOperation, o.getMatrix());\n\t * \t} while (o = o.parent);\n\t * \t\n\t * @method prepend\n\t * @param {Boolean} visible desired visible value\n\t * @param {Number} alpha desired alpha value\n\t * @param {Shadow} shadow desired shadow value\n\t * @param {String} compositeOperation desired composite operation value\n\t * @param {Matrix2D} [matrix] a Matrix2D instance\n\t * @return {DisplayProps} This instance. Useful for chaining method calls.\n\t * @chainable\n\t*/\n\tp.prepend = function(visible, alpha, shadow, compositeOperation, matrix) {\n\t\tthis.alpha *= alpha;\n\t\tthis.shadow = this.shadow || shadow;\n\t\tthis.compositeOperation = this.compositeOperation || compositeOperation;\n\t\tthis.visible = this.visible && visible;\n\t\tmatrix&&this.matrix.prependMatrix(matrix);\n\t\treturn this;\n\t};\n\t\n\t/**\n\t * Resets this instance and its matrix to default values.\n\t * @method identity\n\t * @return {DisplayProps} This instance. Useful for chaining method calls.\n\t * @chainable\n\t*/\n\tp.identity = function() {\n\t\tthis.visible = true;\n\t\tthis.alpha = 1;\n\t\tthis.shadow = this.compositeOperation = null;\n\t\tthis.matrix.identity();\n\t\treturn this;\n\t};\n\t\n\t/**\n\t * Returns a clone of the DisplayProps instance. Clones the associated matrix.\n\t * @method clone\n\t * @return {DisplayProps} a clone of the DisplayProps instance.\n\t **/\n\tp.clone = function() {\n\t\treturn new DisplayProps(this.alpha, this.shadow, this.compositeOperation, this.visible, this.matrix.clone());\n\t};\n\n// private methods:\n\n\tcreatejs.DisplayProps = DisplayProps;\n})();\n\n//##############################################################################\n// Point.js\n//##############################################################################\n\nthis.createjs = this.createjs||{};\n\n(function() {\n\t\"use strict\";\n\n\n// constructor:\n\t/**\n\t * Represents a point on a 2 dimensional x / y coordinate system.\n\t *\n\t * <h4>Example</h4>\n\t * \n\t *      var point = new createjs.Point(0, 100);\n\t * \n\t * @class Point\n\t * @param {Number} [x=0] X position.\n\t * @param {Number} [y=0] Y position.\n\t * @constructor\n\t **/\n\tfunction Point(x, y) {\n\t \tthis.setValues(x, y);\n\t \t\n\t \t\n\t// public properties:\n\t\t// assigned in the setValues method.\n\t\t/**\n\t\t * X position.\n\t\t * @property x\n\t\t * @type Number\n\t\t **/\n\t\n\t\t/**\n\t\t * Y position.\n\t\t * @property y\n\t\t * @type Number\n\t\t **/\n\t}\n\tvar p = Point.prototype;\n\t\n// public methods:\n\t/** \n\t * Sets the specified values on this instance.\n\t * @method setValues\n\t * @param {Number} [x=0] X position.\n\t * @param {Number} [y=0] Y position.\n\t * @return {Point} This instance. Useful for chaining method calls.\n\t * @chainable\n\t*/\n\tp.setValues = function(x, y) {\n\t\tthis.x = x||0;\n\t\tthis.y = y||0;\n\t\treturn this;\n\t};\n\t\n\t/**\n\t * Copies all properties from the specified point to this point.\n\t * @method copy\n\t * @param {Point} point The point to copy properties from.\n\t * @return {Point} This point. Useful for chaining method calls.\n\t * @chainable\n\t*/\n\tp.copy = function(point) {\n\t\tthis.x = point.x;\n\t\tthis.y = point.y;\n\t\treturn this;\n\t};\n\t\n\t/**\n\t * Returns a clone of the Point instance.\n\t * @method clone\n\t * @return {Point} a clone of the Point instance.\n\t **/\n\tp.clone = function() {\n\t\treturn new Point(this.x, this.y);\n\t};\n\n\t/**\n\t * Returns a string representation of this object.\n\t * @method toString\n\t * @return {String} a string representation of the instance.\n\t **/\n\tp.toString = function() {\n\t\treturn \"[Point (x=\"+this.x+\" y=\"+this.y+\")]\";\n\t};\n\t\n\t\n\tcreatejs.Point = Point;\n}());\n\n//##############################################################################\n// Rectangle.js\n//##############################################################################\n\nthis.createjs = this.createjs||{};\n\n(function() {\n\t\"use strict\";\n\n\n// constructor:\n\t/**\n\t * Represents a rectangle as defined by the points (x, y) and (x+width, y+height).\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *      var rect = new createjs.Rectangle(0, 0, 100, 100);\n\t *\n\t * @class Rectangle\n\t * @param {Number} [x=0] X position.\n\t * @param {Number} [y=0] Y position.\n\t * @param {Number} [width=0] The width of the Rectangle.\n\t * @param {Number} [height=0] The height of the Rectangle.\n\t * @constructor\n\t **/\n\tfunction Rectangle(x, y, width, height) {\n\t\tthis.setValues(x, y, width, height);\n\t\t\n\t\t\n\t// public properties:\n\t\t// assigned in the setValues method.\n\t\t/**\n\t\t * X position.\n\t\t * @property x\n\t\t * @type Number\n\t\t **/\n\t\n\t\t/**\n\t\t * Y position.\n\t\t * @property y\n\t\t * @type Number\n\t\t **/\n\t\n\t\t/**\n\t\t * Width.\n\t\t * @property width\n\t\t * @type Number\n\t\t **/\n\t\n\t\t/**\n\t\t * Height.\n\t\t * @property height\n\t\t * @type Number\n\t\t **/\n\t}\n\tvar p = Rectangle.prototype;\n\n// public methods:\n\t/** \n\t * Sets the specified values on this instance.\n\t * @method setValues\n\t * @param {Number} [x=0] X position.\n\t * @param {Number} [y=0] Y position.\n\t * @param {Number} [width=0] The width of the Rectangle.\n\t * @param {Number} [height=0] The height of the Rectangle.\n\t * @return {Rectangle} This instance. Useful for chaining method calls.\n\t * @chainable\n\t*/\n\tp.setValues = function(x, y, width, height) {\n\t\t// don't forget to update docs in the constructor if these change:\n\t\tthis.x = x||0;\n\t\tthis.y = y||0;\n\t\tthis.width = width||0;\n\t\tthis.height = height||0;\n\t\treturn this;\n\t};\n\t\n\t/** \n\t * Extends the rectangle's bounds to include the described point or rectangle.\n\t * @method extend\n\t * @param {Number} x X position of the point or rectangle.\n\t * @param {Number} y Y position of the point or rectangle.\n\t * @param {Number} [width=0] The width of the rectangle.\n\t * @param {Number} [height=0] The height of the rectangle.\n\t * @return {Rectangle} This instance. Useful for chaining method calls.\n\t * @chainable\n\t*/\n\tp.extend = function(x, y, width, height) {\n\t\twidth = width||0;\n\t\theight = height||0;\n\t\tif (x+width > this.x+this.width) { this.width = x+width-this.x; }\n\t\tif (y+height > this.y+this.height) { this.height = y+height-this.y; }\n\t\tif (x < this.x) { this.width += this.x-x; this.x = x; }\n\t\tif (y < this.y) { this.height += this.y-y; this.y = y; }\n\t\treturn this;\n\t};\n\t\n\t/** \n\t * Adds the specified padding to the rectangle's bounds.\n\t * @method pad\n\t * @param {Number} top\n\t * @param {Number} left\n\t * @param {Number} bottom\n\t * @param {Number} right\n\t * @return {Rectangle} This instance. Useful for chaining method calls.\n\t * @chainable\n\t*/\n\tp.pad = function(top, left, bottom, right) {\n\t\tthis.x -= left;\n\t\tthis.y -= top;\n\t\tthis.width += left+right;\n\t\tthis.height += top+bottom;\n\t\treturn this;\n\t};\n\t\n\t/**\n\t * Copies all properties from the specified rectangle to this rectangle.\n\t * @method copy\n\t * @param {Rectangle} rectangle The rectangle to copy properties from.\n\t * @return {Rectangle} This rectangle. Useful for chaining method calls.\n\t * @chainable\n\t*/\n\tp.copy = function(rectangle) {\n\t\treturn this.setValues(rectangle.x, rectangle.y, rectangle.width, rectangle.height);\n\t};\n\t\n\t/** \n\t * Returns true if this rectangle fully encloses the described point or rectangle.\n\t * @method contains\n\t * @param {Number} x X position of the point or rectangle.\n\t * @param {Number} y Y position of the point or rectangle.\n\t * @param {Number} [width=0] The width of the rectangle.\n\t * @param {Number} [height=0] The height of the rectangle.\n\t * @return {Boolean} True if the described point or rectangle is contained within this rectangle.\n\t*/\n\tp.contains = function(x, y, width, height) {\n\t\twidth = width||0;\n\t\theight = height||0;\n\t\treturn (x >= this.x && x+width <= this.x+this.width && y >= this.y && y+height <= this.y+this.height);\n\t};\n\t\n\t/** \n\t * Returns a new rectangle which contains this rectangle and the specified rectangle.\n\t * @method union\n\t * @param {Rectangle} rect The rectangle to calculate a union with.\n\t * @return {Rectangle} A new rectangle describing the union.\n\t*/\n\tp.union = function(rect) {\n\t\treturn this.clone().extend(rect.x, rect.y, rect.width, rect.height);\n\t};\n\t\n\t/** \n\t * Returns a new rectangle which describes the intersection (overlap) of this rectangle and the specified rectangle,\n\t * or null if they do not intersect.\n\t * @method intersection\n\t * @param {Rectangle} rect The rectangle to calculate an intersection with.\n\t * @return {Rectangle} A new rectangle describing the intersection or null.\n\t*/\n\tp.intersection = function(rect) {\n\t\tvar x1 = rect.x, y1 = rect.y, x2 = x1+rect.width, y2 = y1+rect.height;\n\t\tif (this.x > x1) { x1 = this.x; }\n\t\tif (this.y > y1) { y1 = this.y; }\n\t\tif (this.x + this.width < x2) { x2 = this.x + this.width; }\n\t\tif (this.y + this.height < y2) { y2 = this.y + this.height; }\n\t\treturn (x2 <= x1 || y2 <= y1) ? null : new Rectangle(x1, y1, x2-x1, y2-y1);\n\t};\n\t\n\t/** \n\t * Returns true if the specified rectangle intersects (has any overlap) with this rectangle.\n\t * @method intersects\n\t * @param {Rectangle} rect The rectangle to compare.\n\t * @return {Boolean} True if the rectangles intersect.\n\t*/\n\tp.intersects = function(rect) {\n\t\treturn (rect.x <= this.x+this.width && this.x <= rect.x+rect.width && rect.y <= this.y+this.height && this.y <= rect.y + rect.height);\n\t};\n\t\n\t/** \n\t * Returns true if the width or height are equal or less than 0.\n\t * @method isEmpty\n\t * @return {Boolean} True if the rectangle is empty.\n\t*/\n\tp.isEmpty = function() {\n\t\treturn this.width <= 0 || this.height <= 0;\n\t};\n\t\n\t/**\n\t * Returns a clone of the Rectangle instance.\n\t * @method clone\n\t * @return {Rectangle} a clone of the Rectangle instance.\n\t **/\n\tp.clone = function() {\n\t\treturn new Rectangle(this.x, this.y, this.width, this.height);\n\t};\n\n\t/**\n\t * Returns a string representation of this object.\n\t * @method toString\n\t * @return {String} a string representation of the instance.\n\t **/\n\tp.toString = function() {\n\t\treturn \"[Rectangle (x=\"+this.x+\" y=\"+this.y+\" width=\"+this.width+\" height=\"+this.height+\")]\";\n\t};\n\t\n\t\n\tcreatejs.Rectangle = Rectangle;\n}());\n\n//##############################################################################\n// ButtonHelper.js\n//##############################################################################\n\nthis.createjs = this.createjs||{};\n\n(function() {\n\t\"use strict\";\n\n\n// constructor:\n\t/**\n\t * The ButtonHelper is a helper class to create interactive buttons from {{#crossLink \"MovieClip\"}}{{/crossLink}} or\n\t * {{#crossLink \"Sprite\"}}{{/crossLink}} instances. This class will intercept mouse events from an object, and\n\t * automatically call {{#crossLink \"Sprite/gotoAndStop\"}}{{/crossLink}} or {{#crossLink \"Sprite/gotoAndPlay\"}}{{/crossLink}},\n\t * to the respective animation labels, add a pointer cursor, and allows the user to define a hit state frame.\n\t *\n\t * The ButtonHelper instance does not need to be added to the stage, but a reference should be maintained to prevent\n\t * garbage collection.\n\t * \n\t * Note that over states will not work unless you call {{#crossLink \"Stage/enableMouseOver\"}}{{/crossLink}}.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *      var helper = new createjs.ButtonHelper(myInstance, \"out\", \"over\", \"down\", false, myInstance, \"hit\");\n\t *      myInstance.addEventListener(\"click\", handleClick);\n\t *      function handleClick(event) {\n\t *          // Click Happened.\n\t *      }\n\t *\n\t * @class ButtonHelper\n\t * @param {Sprite|MovieClip} target The instance to manage.\n\t * @param {String} [outLabel=\"out\"] The label or animation to go to when the user rolls out of the button.\n\t * @param {String} [overLabel=\"over\"] The label or animation to go to when the user rolls over the button.\n\t * @param {String} [downLabel=\"down\"] The label or animation to go to when the user presses the button.\n\t * @param {Boolean} [play=false] If the helper should call \"gotoAndPlay\" or \"gotoAndStop\" on the button when changing\n\t * states.\n\t * @param {DisplayObject} [hitArea] An optional item to use as the hit state for the button. If this is not defined,\n\t * then the button's visible states will be used instead. Note that the same instance as the \"target\" argument can be\n\t * used for the hitState.\n\t * @param {String} [hitLabel] The label or animation on the hitArea instance that defines the hitArea bounds. If this is\n\t * null, then the default state of the hitArea will be used. *\n\t * @constructor\n\t */\n\tfunction ButtonHelper(target, outLabel, overLabel, downLabel, play, hitArea, hitLabel) {\n\t\tif (!target.addEventListener) { return; }\n\t\n\t\n\t// public properties:\n\t\t/**\n\t\t * The target for this button helper.\n\t\t * @property target\n\t\t * @type MovieClip | Sprite\n\t\t * @readonly\n\t\t **/\n\t\tthis.target = target;\n\t\n\t\t/**\n\t\t * The label name or frame number to display when the user mouses out of the target. Defaults to \"over\".\n\t\t * @property overLabel\n\t\t * @type String | Number\n\t\t **/\n\t\tthis.overLabel = overLabel == null ? \"over\" : overLabel;\n\t\n\t\t/**\n\t\t * The label name or frame number to display when the user mouses over the target. Defaults to \"out\".\n\t\t * @property outLabel\n\t\t * @type String | Number\n\t\t **/\n\t\tthis.outLabel = outLabel == null ? \"out\" : outLabel;\n\t\n\t\t/**\n\t\t * The label name or frame number to display when the user presses on the target. Defaults to \"down\".\n\t\t * @property downLabel\n\t\t * @type String | Number\n\t\t **/\n\t\tthis.downLabel = downLabel == null ? \"down\" : downLabel;\n\t\n\t\t/**\n\t\t * If true, then ButtonHelper will call gotoAndPlay, if false, it will use gotoAndStop. Default is false.\n\t\t * @property play\n\t\t * @default false\n\t\t * @type Boolean\n\t\t **/\n\t\tthis.play = play;\n\t\t\n\t\t\n\t//  private properties\n\t\t/**\n\t\t * @property _isPressed\n\t\t * @type Boolean\n\t\t * @protected\n\t\t **/\n\t\tthis._isPressed = false;\n\t\n\t\t/**\n\t\t * @property _isOver\n\t\t * @type Boolean\n\t\t * @protected\n\t\t **/\n\t\tthis._isOver = false;\n\t\n\t\t/**\n\t\t * @property _enabled\n\t\t * @type Boolean\n\t\t * @protected\n\t\t **/\n\t\tthis._enabled = false;\n\t\t\n\t// setup:\n\t\ttarget.mouseChildren = false; // prevents issues when children are removed from the display list when state changes.\n\t\tthis.enabled = true;\n\t\tthis.handleEvent({});\n\t\tif (hitArea) {\n\t\t\tif (hitLabel) {\n\t\t\t\thitArea.actionsEnabled = false;\n\t\t\t\thitArea.gotoAndStop&&hitArea.gotoAndStop(hitLabel);\n\t\t\t}\n\t\t\ttarget.hitArea = hitArea;\n\t\t}\n\t}\n\tvar p = ButtonHelper.prototype;\n\t\n// getter / setters:\n\t/**\n\t * Use the {{#crossLink \"ButtonHelper/enabled:property\"}}{{/crossLink}} property instead.\n\t * @method setEnabled\n\t * @param {Boolean} value The enabled property to set the instance to.\n\t * @[rptected\n\t * @protected\n\t **/\n\tp._setEnabled = function(value) {\n\t\tif (value == this._enabled) { return; }\n\t\tvar o = this.target;\n\t\tthis._enabled = value;\n\t\tif (value) {\n\t\t\to.cursor = \"pointer\";\n\t\t\to.addEventListener(\"rollover\", this);\n\t\t\to.addEventListener(\"rollout\", this);\n\t\t\to.addEventListener(\"mousedown\", this);\n\t\t\to.addEventListener(\"pressup\", this);\n\t\t\tif (o._reset) { o.__reset = o._reset; o._reset = this._reset;}\n\t\t} else {\n\t\t\to.cursor = null;\n\t\t\to.removeEventListener(\"rollover\", this);\n\t\t\to.removeEventListener(\"rollout\", this);\n\t\t\to.removeEventListener(\"mousedown\", this);\n\t\t\to.removeEventListener(\"pressup\", this);\n\t\t\tif (o.__reset) { o._reset = o.__reset; delete(o.__reset); }\n\t\t}\n\t};\n\t// ButtonHelper.setEnabled is @deprecated. Remove for 1.1+\n\tp.setEnabled = createjs.deprecate(p._setEnabled, \"ButtonHelper.setEnabled\");\n\n\t/**\n\t * Use the {{#crossLink \"ButtonHelper/enabled:property\"}}{{/crossLink}} property instead.\n\t * @method getEnabled\n\t * @protected\n\t * @return {Boolean}\n\t **/\n\tp._getEnabled = function() {\n\t\treturn this._enabled;\n\t};\n\t// ButtonHelper.getEnabled is @deprecated. Remove for 1.1+\n\tp.getEnabled = createjs.deprecate(p._getEnabled, \"ButtonHelper.getEnabled\");\n\n\t/**\n\t * Enables or disables the button functionality on the target.\n\t * @property enabled\n\t * @type {Boolean}\n\t **/\n\ttry {\n\t\tObject.defineProperties(p, {\n\t\t\tenabled: { get: p._getEnabled, set: p._setEnabled }\n\t\t});\n\t} catch (e) {} // TODO: use Log\n\n\n// public methods:\n\t/**\n\t * Returns a string representation of this object.\n\t * @method toString\n\t * @return {String} a string representation of the instance.\n\t **/\n\tp.toString = function() {\n\t\treturn \"[ButtonHelper]\";\n\t};\n\n\n// private methods:\n\t/**\n\t * @method handleEvent\n\t * @param {Object} evt The mouse event to handle.\n\t * @protected\n\t **/\n\tp.handleEvent = function(evt) {\n\t\tvar label, t = this.target, type = evt.type;\n\t\tif (type == \"mousedown\") {\n\t\t\tthis._isPressed = true;\n\t\t\tlabel = this.downLabel;\n\t\t} else if (type == \"pressup\") {\n\t\t\tthis._isPressed = false;\n\t\t\tlabel = this._isOver ? this.overLabel : this.outLabel;\n\t\t} else if (type == \"rollover\") {\n\t\t\tthis._isOver = true;\n\t\t\tlabel = this._isPressed ? this.downLabel : this.overLabel;\n\t\t} else { // rollout and default\n\t\t\tthis._isOver = false;\n\t\t\tlabel = this._isPressed ? this.overLabel : this.outLabel;\n\t\t}\n\t\tif (this.play) {\n\t\t\tt.gotoAndPlay&&t.gotoAndPlay(label);\n\t\t} else {\n\t\t\tt.gotoAndStop&&t.gotoAndStop(label);\n\t\t}\n\t};\n\t\n\t/**\n\t * Injected into target. Preserves the paused state through a reset.\n\t * @method _reset\n\t * @protected\n\t **/\n\tp._reset = function() {\n\t\t// TODO: explore better ways to handle this issue. This is hacky & disrupts object signatures.\n\t\tvar p = this.paused;\n\t\tthis.__reset();\n\t\tthis.paused = p;\n\t};\n\n\n\tcreatejs.ButtonHelper = ButtonHelper;\n}());\n\n//##############################################################################\n// Shadow.js\n//##############################################################################\n\nthis.createjs = this.createjs||{};\n\n(function() {\n\t\"use strict\";\n\n\n// constructor:\n\t/**\n\t * This class encapsulates the properties required to define a shadow to apply to a {{#crossLink \"DisplayObject\"}}{{/crossLink}}\n\t * via its <code>shadow</code> property.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *      myImage.shadow = new createjs.Shadow(\"#000000\", 5, 5, 10);\n\t *\n\t * @class Shadow\n\t * @constructor\n\t * @param {String} color The color of the shadow. This can be any valid CSS color value.\n\t * @param {Number} offsetX The x offset of the shadow in pixels.\n\t * @param {Number} offsetY The y offset of the shadow in pixels.\n\t * @param {Number} blur The size of the blurring effect.\n\t **/\n\tfunction Shadow(color, offsetX, offsetY, blur) {\n\t\t\n\t\t\n\t// public properties:\n\t\t/** \n\t\t * The color of the shadow. This can be any valid CSS color value.\n\t\t * @property color\n\t\t * @type String\n\t\t * @default null\n\t\t */\n\t\tthis.color = color||\"black\";\n\t\n\t\t/** The x offset of the shadow.\n\t\t * @property offsetX\n\t\t * @type Number\n\t\t * @default 0\n\t\t */\n\t\tthis.offsetX = offsetX||0;\n\t\n\t\t/** The y offset of the shadow.\n\t\t * @property offsetY\n\t\t * @type Number\n\t\t * @default 0\n\t\t */\n\t\tthis.offsetY = offsetY||0;\n\t\n\t\t/** The blur of the shadow.\n\t\t * @property blur\n\t\t * @type Number\n\t\t * @default 0\n\t\t */\n\t\tthis.blur = blur||0;\n\t}\n\tvar p = Shadow.prototype;\n\n// static public properties:\n\t/**\n\t * An identity shadow object (all properties are set to 0).\n\t * @property identity\n\t * @type Shadow\n\t * @static\n\t * @final\n\t * @readonly\n\t **/\n\tShadow.identity = new Shadow(\"transparent\", 0, 0, 0);\n\n\n// public methods:\n\t/**\n\t * Returns a string representation of this object.\n\t * @method toString\n\t * @return {String} a string representation of the instance.\n\t **/\n\tp.toString = function() {\n\t\treturn \"[Shadow]\";\n\t};\n\n\t/**\n\t * Returns a clone of this Shadow instance.\n\t * @method clone\n\t * @return {Shadow} A clone of the current Shadow instance.\n\t **/\n\tp.clone = function() {\n\t\treturn new Shadow(this.color, this.offsetX, this.offsetY, this.blur);\n\t};\n\t\n\n\tcreatejs.Shadow = Shadow;\n}());\n\n//##############################################################################\n// SpriteSheet.js\n//##############################################################################\n\nthis.createjs = this.createjs||{};\n\n(function() {\n\t\"use strict\";\n\n\n// constructor:\n\t/**\n\t * Encapsulates the properties and methods associated with a sprite sheet. A sprite sheet is a series of images (usually\n\t * animation frames) combined into a larger image (or images). For example, an animation consisting of eight 100x100\n\t * images could be combined into a single 400x200 sprite sheet (4 frames across by 2 high).\n\t *\n\t * The data passed to the SpriteSheet constructor defines:\n\t * <ol>\n\t * \t<li> The source image or images to use.</li>\n\t * \t<li> The positions of individual image frames.</li>\n\t * \t<li> Sequences of frames that form named animations. Optional.</li>\n\t * \t<li> The target playback framerate. Optional.</li>\n\t * </ol>\n\t * <h3>SpriteSheet Format</h3>\n\t * SpriteSheets are an object with two required properties (`images` and `frames`), and two optional properties\n\t * (`framerate` and `animations`). This makes them easy to define in javascript code, or in JSON.\n\t *\n\t * <h4>images</h4>\n\t * An array of source images. Images can be either an HTMlimage\n\t * instance, or a uri to an image. The former is recommended to control preloading.\n\t *\n\t * \timages: [image1, \"path/to/image2.png\"],\n\t *\n\t * <h4>frames</h4>\n\t * Defines the individual frames. There are two supported formats for frame data:\n\t * When all of the frames are the same size (in a grid), use an object with `width`, `height`, `regX`, `regY`,\n\t * and `count` properties.\n\t *\n\t * <ul>\n\t *  <li>`width` & `height` are required and specify the dimensions of the frames</li>\n\t *  <li>`regX` & `regY` indicate the registration point or \"origin\" of the frames</li>\n\t *  <li>`spacing` indicate the spacing between frames</li>\n\t *  <li>`margin` specify the margin around the image(s)</li>\n\t *  <li>`count` allows you to specify the total number of frames in the spritesheet; if omitted, this will\n\t *  be calculated based on the dimensions of the source images and the frames. Frames will be assigned\n\t *  indexes based on their position in the source images (left to right, top to bottom).</li>\n\t * </ul>\n\t *\n\t *  \tframes: {width:64, height:64, count:20, regX: 32, regY:64, spacing:0, margin:0}\n\t *\n\t * If the frames are of different sizes, use an array of frame definitions. Each definition is itself an array\n\t * with 4 required and 3 optional entries, in the order:\n\t *\n\t * <ul>\n\t *  <li>The first four, `x`, `y`, `width`, and `height` are required and define the frame rectangle.</li>\n\t *  <li>The fifth, `imageIndex`, specifies the index of the source image (defaults to 0)</li>\n\t *  <li>The last two, `regX` and `regY` specify the registration point of the frame</li>\n\t * </ul>\n\t *\n\t * \tframes: [\n\t * \t\t// x, y, width, height, imageIndex*, regX*, regY*\n\t * \t\t[64, 0, 96, 64],\n\t * \t\t[0, 0, 64, 64, 1, 32, 32]\n\t * \t\t// etc.\n\t * \t]\n\t *\n\t * <h4>animations</h4>\n\t * Optional. An object defining sequences of frames to play as named animations. Each property corresponds to an\n\t * animation of the same name. Each animation must specify the frames to play, and may\n\t * also include a relative playback `speed` (ex. 2 would playback at double speed, 0.5 at half), and\n\t * the name of the `next` animation to sequence to after it completes.\n\t *\n\t * There are three formats supported for defining the frames in an animation, which can be mixed and matched as appropriate:\n\t * <ol>\n\t * \t<li>for a single frame animation, you can simply specify the frame index\n\t *\n\t * \t\tanimations: {\n\t * \t\t\tsit: 7\n\t * \t\t}\n\t *\n\t * </li>\n\t * <li>\n\t *      for an animation of consecutive frames, you can use an array with two required, and two optional entries\n\t * \t\tin the order: `start`, `end`, `next`, and `speed`. This will play the frames from start to end inclusive.\n\t *\n\t * \t\tanimations: {\n\t * \t\t\t// start, end, next*, speed*\n\t * \t\t\trun: [0, 8],\n\t * \t\t\tjump: [9, 12, \"run\", 2]\n\t * \t\t}\n\t *\n\t *  </li>\n\t *  <li>\n\t *     for non-consecutive frames, you can use an object with a `frames` property defining an array of frame\n\t *     indexes to play in order. The object can also specify `next` and `speed` properties.\n\t *\n\t * \t\tanimations: {\n\t * \t\t\twalk: {\n\t * \t\t\t\tframes: [1,2,3,3,2,1]\n\t * \t\t\t},\n\t * \t\t\tshoot: {\n\t * \t\t\t\tframes: [1,4,5,6],\n\t * \t\t\t\tnext: \"walk\",\n\t * \t\t\t\tspeed: 0.5\n\t * \t\t\t}\n\t * \t\t}\n\t *\n\t *  </li>\n\t * </ol>\n\t * <strong>Note:</strong> the `speed` property was added in EaselJS 0.7.0. Earlier versions had a `frequency`\n\t * property instead, which was the inverse of `speed`. For example, a value of \"4\" would be 1/4 normal speed in\n\t * earlier versions, but is 4x normal speed in EaselJS 0.7.0+.\n\t *\n\t * <h4>framerate</h4>\n\t * Optional. Indicates the default framerate to play this spritesheet at in frames per second. See\n\t * {{#crossLink \"SpriteSheet/framerate:property\"}}{{/crossLink}} for more information.\n\t *\n\t * \t\tframerate: 20\n\t *\n\t * Note that the Sprite framerate will only work if the stage update method is provided with the {{#crossLink \"Ticker/tick:event\"}}{{/crossLink}}\n\t * event generated by the {{#crossLink \"Ticker\"}}{{/crossLink}}.\n\t *\n\t * \t\tcreatejs.Ticker.on(\"tick\", handleTick);\n\t * \t\tfunction handleTick(event) {\n\t *\t\t\tstage.update(event);\n\t *\t\t}\n\t *\n\t * <h3>Example</h3>\n\t * To define a simple sprite sheet, with a single image \"sprites.jpg\" arranged in a regular 50x50 grid with three\n\t * animations: \"stand\" showing the first frame, \"run\" looping frame 1-5 inclusive, and \"jump\" playing frame 6-8 and\n\t * sequencing back to run.\n\t *\n\t * \t\tvar data = {\n\t * \t\t\timages: [\"sprites.jpg\"],\n\t * \t\t\tframes: {width:50, height:50},\n\t * \t\t\tanimations: {\n\t * \t\t\t\tstand:0,\n\t * \t\t\t\trun:[1,5],\n\t * \t\t\t\tjump:[6,8,\"run\"]\n\t * \t\t\t}\n\t * \t\t};\n\t * \t\tvar spriteSheet = new createjs.SpriteSheet(data);\n\t * \t\tvar animation = new createjs.Sprite(spriteSheet, \"run\");\n\t *\n\t * <h3>Generating SpriteSheet Images</h3>\n\t * Spritesheets can be created manually by combining images in PhotoShop, and specifying the frame size or\n\t * coordinates manually, however there are a number of tools that facilitate this.\n\t * <ul>\n\t *     <li>Exporting SpriteSheets or HTML5 content from Adobe Flash/Animate supports the EaselJS SpriteSheet format.</li>\n\t *     <li>The popular <a href=\"https://www.codeandweb.com/texturepacker/easeljs\" target=\"_blank\">Texture Packer</a> has\n\t *     EaselJS support.\n\t *     <li>SWF animations in Adobe Flash/Animate can be exported to SpriteSheets using <a href=\"http://createjs.com/zoe\" target=\"_blank\">Zo&euml;</a></li>\n\t * </ul>\n\t *\n\t * <h3>Cross Origin Issues</h3>\n\t * <strong>Warning:</strong> Images loaded cross-origin will throw cross-origin security errors when interacted with\n\t * using:\n\t * <ul>\n\t *     <li>a mouse</li>\n\t *     <li>methods such as {{#crossLink \"Container/getObjectUnderPoint\"}}{{/crossLink}}</li>\n\t *     <li>Filters (see {{#crossLink \"Filter\"}}{{/crossLink}})</li>\n\t *     <li>caching (see {{#crossLink \"DisplayObject/cache\"}}{{/crossLink}})</li>\n\t * </ul>\n\t * You can get around this by setting `crossOrigin` property on your images before passing them to EaselJS, or\n\t * setting the `crossOrigin` property on PreloadJS' LoadQueue or LoadItems.\n\t *\n\t * \t\tvar image = new Image();\n\t * \t\timg.crossOrigin=\"Anonymous\";\n\t * \t\timg.src = \"http://server-with-CORS-support.com/path/to/image.jpg\";\n\t *\n\t * If you pass string paths to SpriteSheets, they will not work cross-origin. The server that stores the image must\n\t * support cross-origin requests, or this will not work. For more information, check out\n\t * <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS\" target=\"_blank\">CORS overview on MDN</a>.\n\t *\n\t * @class SpriteSheet\n\t * @constructor\n\t * @param {Object} data An object describing the SpriteSheet data.\n\t * @extends EventDispatcher\n\t **/\n\tfunction SpriteSheet(data) {\n\t\tthis.EventDispatcher_constructor();\n\n\n\t\t// public properties:\n\t\t/**\n\t\t * Indicates whether all images are finished loading.\n\t\t * @property complete\n\t\t * @type Boolean\n\t\t * @readonly\n\t\t **/\n\t\tthis.complete = true;\n\n\t\t/**\n\t\t * Specifies the framerate to use by default for Sprite instances using the SpriteSheet. See the Sprite class\n\t\t * {{#crossLink \"Sprite/framerate:property\"}}{{/crossLink}} for more information.\n\t\t * @property framerate\n\t\t * @type Number\n\t\t **/\n\t\tthis.framerate = 0;\n\n\n\t\t// private properties:\n\t\t/**\n\t\t * @property _animations\n\t\t * @protected\n\t\t * @type Array\n\t\t **/\n\t\tthis._animations = null;\n\n\t\t/**\n\t\t * @property _frames\n\t\t * @protected\n\t\t * @type Array\n\t\t **/\n\t\tthis._frames = null;\n\n\t\t/**\n\t\t * @property _images\n\t\t * @protected\n\t\t * @type Array\n\t\t **/\n\t\tthis._images = null;\n\n\t\t/**\n\t\t * @property _data\n\t\t * @protected\n\t\t * @type Object\n\t\t **/\n\t\tthis._data = null;\n\n\t\t/**\n\t\t * @property _loadCount\n\t\t * @protected\n\t\t * @type Number\n\t\t **/\n\t\tthis._loadCount = 0;\n\n\t\t// only used for simple frame defs:\n\t\t/**\n\t\t * @property _frameHeight\n\t\t * @protected\n\t\t * @type Number\n\t\t **/\n\t\tthis._frameHeight = 0;\n\n\t\t/**\n\t\t * @property _frameWidth\n\t\t * @protected\n\t\t * @type Number\n\t\t **/\n\t\tthis._frameWidth = 0;\n\n\t\t/**\n\t\t * @property _numFrames\n\t\t * @protected\n\t\t * @type Number\n\t\t **/\n\t\tthis._numFrames = 0;\n\n\t\t/**\n\t\t * @property _regX\n\t\t * @protected\n\t\t * @type Number\n\t\t **/\n\t\tthis._regX = 0;\n\n\t\t/**\n\t\t * @property _regY\n\t\t * @protected\n\t\t * @type Number\n\t\t **/\n\t\tthis._regY = 0;\n\n\t\t/**\n\t\t * @property _spacing\n\t\t * @protected\n\t\t * @type Number\n\t\t **/\n\t\tthis._spacing = 0;\n\n\t\t/**\n\t\t * @property _margin\n\t\t * @protected\n\t\t * @type Number\n\t\t **/\n\t\tthis._margin = 0;\n\n\t\t// setup:\n\t\tthis._parseData(data);\n\t}\n\tvar p = createjs.extend(SpriteSheet, createjs.EventDispatcher);\n\n\t// TODO: deprecated\n\t// p.initialize = function() {}; // searchable for devs wondering where it is. REMOVED. See docs for details.\n\n\n// events:\n\t/**\n\t * Dispatched when all images are loaded.  Note that this only fires if the images\n\t * were not fully loaded when the sprite sheet was initialized. You should check the complete property\n\t * to prior to adding a listener. Ex.\n\t *\n\t * \tvar sheet = new createjs.SpriteSheet(data);\n\t * \tif (!sheet.complete) {\n\t * \t\t// not preloaded, listen for the complete event:\n\t * \t\tsheet.addEventListener(\"complete\", handler);\n\t * \t}\n\t *\n\t * @event complete\n\t * @param {Object} target The object that dispatched the event.\n\t * @param {String} type The event type.\n\t * @since 0.6.0\n\t */\n\n\t/**\n\t * Dispatched when getFrame is called with a valid frame index. This is primarily intended for use by {{#crossLink \"SpriteSheetBuilder\"}}{{/crossLink}}\n\t * when doing on-demand rendering.\n\t * @event getframe\n\t * @param {Number} index The frame index.\n\t * @param {Object} frame The frame object that getFrame will return.\n\t */\n\n\t/**\n\t * Dispatched when an image encounters an error. A SpriteSheet will dispatch an error event for each image that\n\t * encounters an error, and will still dispatch a {{#crossLink \"SpriteSheet/complete:event\"}}{{/crossLink}}\n\t * event once all images are finished processing, even if an error is encountered.\n\t * @event error\n\t * @param {String} src The source of the image that failed to load.\n\t * @since 0.8.2\n\t */\n\n\n// getter / setters:\n\t/**\n\t * Use the {{#crossLink \"SpriteSheet/animations:property\"}}{{/crossLink}} property instead.\n\t * @method _getAnimations\n\t * @protected\n\t * @return {Array}\n\t **/\n\tp._getAnimations = function() {\n\t\treturn this._animations.slice();\n\t};\n\t// SpriteSheet.getAnimations is @deprecated. Remove for 1.1+\n\tp.getAnimations = createjs.deprecate(p._getAnimations, \"SpriteSheet.getAnimations\");\n\n\t/**\n\t * Returns an array of all available animation names available on this sprite sheet as strings.\n\t * @property animations\n\t * @type {Array}\n\t * @readonly\n\t **/\n\ttry {\n\t\tObject.defineProperties(p, {\n\t\t\tanimations: { get: p._getAnimations }\n\t\t});\n\t} catch (e) {}\n\n\n// public methods:\n\t/**\n\t * Returns the total number of frames in the specified animation, or in the whole sprite\n\t * sheet if the animation param is omitted. Returns 0 if the spritesheet relies on calculated frame counts, and\n\t * the images have not been fully loaded.\n\t * @method getNumFrames\n\t * @param {String} animation The name of the animation to get a frame count for.\n\t * @return {Number} The number of frames in the animation, or in the entire sprite sheet if the animation param is omitted.\n\t */\n\tp.getNumFrames = function(animation) {\n\t\tif (animation == null) {\n\t\t\treturn this._frames ? this._frames.length : this._numFrames || 0;\n\t\t} else {\n\t\t\tvar data = this._data[animation];\n\t\t\tif (data == null) { return 0; }\n\t\t\telse { return data.frames.length; }\n\t\t}\n\t};\n\n\t/**\n\t * Returns an object defining the specified animation. The returned object contains:<UL>\n\t * \t<li>frames: an array of the frame ids in the animation</li>\n\t * \t<li>speed: the playback speed for this animation</li>\n\t * \t<li>name: the name of the animation</li>\n\t * \t<li>next: the default animation to play next. If the animation loops, the name and next property will be the\n\t * \tsame.</li>\n\t * </UL>\n\t * @method getAnimation\n\t * @param {String} name The name of the animation to get.\n\t * @return {Object} a generic object with frames, speed, name, and next properties.\n\t **/\n\tp.getAnimation = function(name) {\n\t\treturn this._data[name];\n\t};\n\n\t/**\n\t * Returns an object specifying the image and source rect of the specified frame. The returned object has:<UL>\n\t * \t<li>an image property holding a reference to the image object in which the frame is found</li>\n\t * \t<li>a rect property containing a Rectangle instance which defines the boundaries for the frame within that\n\t * \timage.</li>\n\t * \t<li> A regX and regY property corresponding to the regX/Y values for the frame.\n\t * </UL>\n\t * @method getFrame\n\t * @param {Number} frameIndex The index of the frame.\n\t * @return {Object} a generic object with image and rect properties. Returns null if the frame does not exist.\n\t **/\n\tp.getFrame = function(frameIndex) {\n\t\tvar frame;\n\t\tif (this._frames && (frame=this._frames[frameIndex])) { return frame; }\n\t\treturn null;\n\t};\n\n\t/**\n\t * Returns a {{#crossLink \"Rectangle\"}}{{/crossLink}} instance defining the bounds of the specified frame relative\n\t * to the origin. For example, a 90 x 70 frame with a regX of 50 and a regY of 40 would return:\n\t *\n\t * \t[x=-50, y=-40, width=90, height=70]\n\t *\n\t * @method getFrameBounds\n\t * @param {Number} frameIndex The index of the frame.\n\t * @param {Rectangle} [rectangle] A Rectangle instance to copy the values into. By default a new instance is created.\n\t * @return {Rectangle} A Rectangle instance. Returns null if the frame does not exist, or the image is not fully loaded.\n\t **/\n\tp.getFrameBounds = function(frameIndex, rectangle) {\n\t\tvar frame = this.getFrame(frameIndex);\n\t\treturn frame ? (rectangle||new createjs.Rectangle()).setValues(-frame.regX, -frame.regY, frame.rect.width, frame.rect.height) : null;\n\t};\n\n\t/**\n\t * Returns a string representation of this object.\n\t * @method toString\n\t * @return {String} a string representation of the instance.\n\t **/\n\tp.toString = function() {\n\t\treturn \"[SpriteSheet]\";\n\t};\n\n\t/**\n\t * SpriteSheet cannot be cloned. A SpriteSheet can be shared by multiple Sprite instances without cloning it.\n\t * @method clone\n\t **/\n\tp.clone = function() {\n\t\tthrow(\"SpriteSheet cannot be cloned.\")\n\t};\n\n// private methods:\n\t/**\n\t * @method _parseData\n\t * @param {Object} data An object describing the SpriteSheet data.\n\t * @protected\n\t **/\n\tp._parseData = function(data) {\n\t\tvar i,l,o,a;\n\t\tif (data == null) { return; }\n\n\t\tthis.framerate = data.framerate||0;\n\n\t\t// parse images:\n\t\tif (data.images && (l=data.images.length) > 0) {\n\t\t\ta = this._images = [];\n\t\t\tfor (i=0; i<l; i++) {\n\t\t\t\tvar img = data.images[i];\n\t\t\t\tif (typeof img == \"string\") {\n\t\t\t\t\tvar src = img;\n\t\t\t\t\timg = document.createElement(\"img\");\n\t\t\t\t\timg.src = src;\n\t\t\t\t}\n\t\t\t\ta.push(img);\n\t\t\t\tif (!img.getContext && !img.naturalWidth) {\n\t\t\t\t\tthis._loadCount++;\n\t\t\t\t\tthis.complete = false;\n\t\t\t\t\t(function(o, src) { img.onload = function() { o._handleImageLoad(src); } })(this, src);\n\t\t\t\t\t(function(o, src) { img.onerror = function() { o._handleImageError(src); } })(this, src);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// parse frames:\n\t\tif (data.frames == null) { // nothing\n\t\t} else if (Array.isArray(data.frames)) {\n\t\t\tthis._frames = [];\n\t\t\ta = data.frames;\n\t\t\tfor (i=0,l=a.length;i<l;i++) {\n\t\t\t\tvar arr = a[i];\n\t\t\t\tthis._frames.push({image:this._images[arr[4]?arr[4]:0], rect:new createjs.Rectangle(arr[0],arr[1],arr[2],arr[3]), regX:arr[5]||0, regY:arr[6]||0 });\n\t\t\t}\n\t\t} else {\n\t\t\to = data.frames;\n\t\t\tthis._frameWidth = o.width;\n\t\t\tthis._frameHeight = o.height;\n\t\t\tthis._regX = o.regX||0;\n\t\t\tthis._regY = o.regY||0;\n\t\t\tthis._spacing = o.spacing||0;\n\t\t\tthis._margin = o.margin||0;\n\t\t\tthis._numFrames = o.count;\n\t\t\tif (this._loadCount == 0) { this._calculateFrames(); }\n\t\t}\n\n\t\t// parse animations:\n\t\tthis._animations = [];\n\t\tif ((o=data.animations) != null) {\n\t\t\tthis._data = {};\n\t\t\tvar name;\n\t\t\tfor (name in o) {\n\t\t\t\tvar anim = {name:name};\n\t\t\t\tvar obj = o[name];\n\t\t\t\tif (typeof obj == \"number\") { // single frame\n\t\t\t\t\ta = anim.frames = [obj];\n\t\t\t\t} else if (Array.isArray(obj)) { // simple\n\t\t\t\t\tif (obj.length == 1) { anim.frames = [obj[0]]; }\n\t\t\t\t\telse {\n\t\t\t\t\t\tanim.speed = obj[3];\n\t\t\t\t\t\tanim.next = obj[2];\n\t\t\t\t\t\ta = anim.frames = [];\n\t\t\t\t\t\tfor (i=obj[0];i<=obj[1];i++) {\n\t\t\t\t\t\t\ta.push(i);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else { // complex\n\t\t\t\t\tanim.speed = obj.speed;\n\t\t\t\t\tanim.next = obj.next;\n\t\t\t\t\tvar frames = obj.frames;\n\t\t\t\t\ta = anim.frames = (typeof frames == \"number\") ? [frames] : frames.slice(0);\n\t\t\t\t}\n\t\t\t\tif (anim.next === true || anim.next === undefined) { anim.next = name; } // loop\n\t\t\t\tif (anim.next === false || (a.length < 2 && anim.next == name)) { anim.next = null; } // stop\n\t\t\t\tif (!anim.speed) { anim.speed = 1; }\n\t\t\t\tthis._animations.push(name);\n\t\t\t\tthis._data[name] = anim;\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * @method _handleImageLoad\n\t * @protected\n\t **/\n\tp._handleImageLoad = function(src) {\n\t\tif (--this._loadCount == 0) {\n\t\t\tthis._calculateFrames();\n\t\t\tthis.complete = true;\n\t\t\tthis.dispatchEvent(\"complete\");\n\t\t}\n\t};\n\n\t/**\n\t * @method _handleImageError\n\t * @protected\n\t */\n\tp._handleImageError = function (src) {\n\t\tvar errorEvent = new createjs.Event(\"error\");\n\t\terrorEvent.src = src;\n\t\tthis.dispatchEvent(errorEvent);\n\n\t\t// Complete is still dispatched.\n\t\tif (--this._loadCount == 0) {\n\t\t\tthis.dispatchEvent(\"complete\");\n\t\t}\n\t};\n\n\t/**\n\t * @method _calculateFrames\n\t * @protected\n\t **/\n\tp._calculateFrames = function() {\n\t\tif (this._frames || this._frameWidth == 0) { return; }\n\n\t\tthis._frames = [];\n\n\t\tvar maxFrames = this._numFrames || 100000; // if we go over this, something is wrong.\n\t\tvar frameCount = 0, frameWidth = this._frameWidth, frameHeight = this._frameHeight;\n\t\tvar spacing = this._spacing, margin = this._margin;\n\t\t\n\t\timgLoop:\n\t\tfor (var i=0, imgs=this._images; i<imgs.length; i++) {\n\t\t\tvar img = imgs[i], imgW = (img.width||img.naturalWidth), imgH = (img.height||img.naturalHeight);\n\n\t\t\tvar y = margin;\n\t\t\twhile (y <= imgH-margin-frameHeight) {\n\t\t\t\tvar x = margin;\n\t\t\t\twhile (x <= imgW-margin-frameWidth) {\n\t\t\t\t\tif (frameCount >= maxFrames) { break imgLoop; }\n\t\t\t\t\tframeCount++;\n\t\t\t\t\tthis._frames.push({\n\t\t\t\t\t\t\timage: img,\n\t\t\t\t\t\t\trect: new createjs.Rectangle(x, y, frameWidth, frameHeight),\n\t\t\t\t\t\t\tregX: this._regX,\n\t\t\t\t\t\t\tregY: this._regY\n\t\t\t\t\t\t});\n\t\t\t\t\tx += frameWidth+spacing;\n\t\t\t\t}\n\t\t\t\ty += frameHeight+spacing;\n\t\t\t}\n\t\t}\n\t\tthis._numFrames = frameCount;\n\t};\n\n\n\tcreatejs.SpriteSheet = createjs.promote(SpriteSheet, \"EventDispatcher\");\n}());\n\n//##############################################################################\n// Graphics.js\n//##############################################################################\n\nthis.createjs = this.createjs||{};\n\n(function() {\n\t\"use strict\";\n\n\n// constructor:\n\t/**\n\t * The Graphics class exposes an easy to use API for generating vector drawing instructions and drawing them to a\n\t * specified context. Note that you can use Graphics without any dependency on the EaselJS framework by calling {{#crossLink \"Graphics/draw\"}}{{/crossLink}}\n\t * directly, or it can be used with the {{#crossLink \"Shape\"}}{{/crossLink}} object to draw vector graphics within the\n\t * context of an EaselJS display list.\n\t *\n\t * There are two approaches to working with Graphics object: calling methods on a Graphics instance (the \"Graphics API\"), or\n\t * instantiating Graphics command objects and adding them to the graphics queue via {{#crossLink \"Graphics/append\"}}{{/crossLink}}.\n\t * The former abstracts the latter, simplifying beginning and ending paths, fills, and strokes.\n\t *\n\t *      var g = new createjs.Graphics();\n\t *      g.setStrokeStyle(1);\n\t *      g.beginStroke(\"#000000\");\n\t *      g.beginFill(\"red\");\n\t *      g.drawCircle(0,0,30);\n\t *\n\t * All drawing methods in Graphics return the Graphics instance, so they can be chained together. For example,\n\t * the following line of code would generate the instructions to draw a rectangle with a red stroke and blue fill:\n\t *\n\t *      myGraphics.beginStroke(\"red\").beginFill(\"blue\").drawRect(20, 20, 100, 50);\n\t *\n\t * Each graphics API call generates a command object (see below). The last command to be created can be accessed via\n\t * {{#crossLink \"Graphics/command:property\"}}{{/crossLink}}:\n\t *\n\t *      var fillCommand = myGraphics.beginFill(\"red\").command;\n\t *      // ... later, update the fill style/color:\n\t *      fillCommand.style = \"blue\";\n\t *      // or change it to a bitmap fill:\n\t *      fillCommand.bitmap(myImage);\n\t *\n\t * For more direct control of rendering, you can instantiate and append command objects to the graphics queue directly. In this case, you\n\t * need to manage path creation manually, and ensure that fill/stroke is applied to a defined path:\n\t *\n\t *      // start a new path. Graphics.beginCmd is a reusable BeginPath instance:\n\t *      myGraphics.append(createjs.Graphics.beginCmd);\n\t *      // we need to define the path before applying the fill:\n\t *      var circle = new createjs.Graphics.Circle(0,0,30);\n\t *      myGraphics.append(circle);\n\t *      // fill the path we just defined:\n\t *      var fill = new createjs.Graphics.Fill(\"red\");\n\t *      myGraphics.append(fill);\n\t *\n\t * These approaches can be used together, for example to insert a custom command:\n\t *\n\t *      myGraphics.beginFill(\"red\");\n\t *      var customCommand = new CustomSpiralCommand(etc);\n\t *      myGraphics.append(customCommand);\n\t *      myGraphics.beginFill(\"blue\");\n\t *      myGraphics.drawCircle(0, 0, 30);\n\t *\n\t * See {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more info on creating custom commands.\n\t *\n\t * <h4>Tiny API</h4>\n\t * The Graphics class also includes a \"tiny API\", which is one or two-letter methods that are shortcuts for all of the\n\t * Graphics methods. These methods are great for creating compact instructions, and is used by the Toolkit for CreateJS\n\t * to generate readable code. All tiny methods are marked as protected, so you can view them by enabling protected\n\t * descriptions in the docs.\n\t *\n\t * <table>\n\t *     <tr><td><b>Tiny</b></td><td><b>Method</b></td><td><b>Tiny</b></td><td><b>Method</b></td></tr>\n\t *     <tr><td>mt</td><td>{{#crossLink \"Graphics/moveTo\"}}{{/crossLink}} </td>\n\t *     <td>lt</td> <td>{{#crossLink \"Graphics/lineTo\"}}{{/crossLink}}</td></tr>\n\t *     <tr><td>a/at</td><td>{{#crossLink \"Graphics/arc\"}}{{/crossLink}} / {{#crossLink \"Graphics/arcTo\"}}{{/crossLink}} </td>\n\t *     <td>bt</td><td>{{#crossLink \"Graphics/bezierCurveTo\"}}{{/crossLink}} </td></tr>\n\t *     <tr><td>qt</td><td>{{#crossLink \"Graphics/quadraticCurveTo\"}}{{/crossLink}} (also curveTo)</td>\n\t *     <td>r</td><td>{{#crossLink \"Graphics/rect\"}}{{/crossLink}} </td></tr>\n\t *     <tr><td>cp</td><td>{{#crossLink \"Graphics/closePath\"}}{{/crossLink}} </td>\n\t *     <td>c</td><td>{{#crossLink \"Graphics/clear\"}}{{/crossLink}} </td></tr>\n\t *     <tr><td>f</td><td>{{#crossLink \"Graphics/beginFill\"}}{{/crossLink}} </td>\n\t *     <td>lf</td><td>{{#crossLink \"Graphics/beginLinearGradientFill\"}}{{/crossLink}} </td></tr>\n\t *     <tr><td>rf</td><td>{{#crossLink \"Graphics/beginRadialGradientFill\"}}{{/crossLink}} </td>\n\t *     <td>bf</td><td>{{#crossLink \"Graphics/beginBitmapFill\"}}{{/crossLink}} </td></tr>\n\t *     <tr><td>ef</td><td>{{#crossLink \"Graphics/endFill\"}}{{/crossLink}} </td>\n\t *     <td>ss / sd</td><td>{{#crossLink \"Graphics/setStrokeStyle\"}}{{/crossLink}} / {{#crossLink \"Graphics/setStrokeDash\"}}{{/crossLink}} </td></tr>\n\t *     <tr><td>s</td><td>{{#crossLink \"Graphics/beginStroke\"}}{{/crossLink}} </td>\n\t *     <td>ls</td><td>{{#crossLink \"Graphics/beginLinearGradientStroke\"}}{{/crossLink}} </td></tr>\n\t *     <tr><td>rs</td><td>{{#crossLink \"Graphics/beginRadialGradientStroke\"}}{{/crossLink}} </td>\n\t *     <td>bs</td><td>{{#crossLink \"Graphics/beginBitmapStroke\"}}{{/crossLink}} </td></tr>\n\t *     <tr><td>es</td><td>{{#crossLink \"Graphics/endStroke\"}}{{/crossLink}} </td>\n\t *     <td>dr</td><td>{{#crossLink \"Graphics/drawRect\"}}{{/crossLink}} </td></tr>\n\t *     <tr><td>rr</td><td>{{#crossLink \"Graphics/drawRoundRect\"}}{{/crossLink}} </td>\n\t *     <td>rc</td><td>{{#crossLink \"Graphics/drawRoundRectComplex\"}}{{/crossLink}} </td></tr>\n\t *     <tr><td>dc</td><td>{{#crossLink \"Graphics/drawCircle\"}}{{/crossLink}} </td>\n\t *     <td>de</td><td>{{#crossLink \"Graphics/drawEllipse\"}}{{/crossLink}} </td></tr>\n\t *     <tr><td>dp</td><td>{{#crossLink \"Graphics/drawPolyStar\"}}{{/crossLink}} </td>\n\t *     <td>p</td><td>{{#crossLink \"Graphics/decodePath\"}}{{/crossLink}} </td></tr>\n\t * </table>\n\t *\n\t * Here is the above example, using the tiny API instead.\n\t *\n\t *      myGraphics.s(\"red\").f(\"blue\").r(20, 20, 100, 50);\n\t *\n\t * @class Graphics\n\t * @constructor\n\t **/\n\tfunction Graphics() {\n\n\n\t// public properties\n\t\t/**\n\t\t * Holds a reference to the last command that was created or appended. For example, you could retain a reference\n\t\t * to a Fill command in order to dynamically update the color later by using:\n\t\t *\n\t\t * \t\tvar myFill = myGraphics.beginFill(\"red\").command;\n\t\t * \t\t// update color later:\n\t\t * \t\tmyFill.style = \"yellow\";\n\t\t *\n\t\t * @property command\n\t\t * @type Object\n\t\t **/\n\t\tthis.command = null;\n\n\n\t// private properties\n\t\t/**\n\t\t * @property _stroke\n\t\t * @protected\n\t\t * @type {Stroke}\n\t\t **/\n\t\tthis._stroke = null;\n\n\t\t/**\n\t\t * @property _strokeStyle\n\t\t * @protected\n\t\t * @type {StrokeStyle}\n\t\t **/\n\t\tthis._strokeStyle = null;\n\t\t\n\t\t/**\n\t\t * @property _oldStrokeStyle\n\t\t * @protected\n\t\t * @type {StrokeStyle}\n\t\t **/\n\t\tthis._oldStrokeStyle = null;\n\t\t\n\t\t/**\n\t\t * @property _strokeDash\n\t\t * @protected\n\t\t * @type {StrokeDash}\n\t\t **/\n\t\tthis._strokeDash = null;\n\t\t\n\t\t/**\n\t\t * @property _oldStrokeDash\n\t\t * @protected\n\t\t * @type {StrokeDash}\n\t\t **/\n\t\tthis._oldStrokeDash = null;\n\n\t\t/**\n\t\t * @property _strokeIgnoreScale\n\t\t * @protected\n\t\t * @type Boolean\n\t\t **/\n\t\tthis._strokeIgnoreScale = false;\n\n\t\t/**\n\t\t * @property _fill\n\t\t * @protected\n\t\t * @type {Fill}\n\t\t **/\n\t\tthis._fill = null;\n\n\t\t/**\n\t\t * @property _instructions\n\t\t * @protected\n\t\t * @type {Array}\n\t\t **/\n\t\tthis._instructions = [];\n\n\t\t/**\n\t\t * Indicates the last instruction index that was committed.\n\t\t * @property _commitIndex\n\t\t * @protected\n\t\t * @type {Number}\n\t\t **/\n\t\tthis._commitIndex = 0;\n\n\t\t/**\n\t\t * Uncommitted instructions.\n\t\t * @property _activeInstructions\n\t\t * @protected\n\t\t * @type {Array}\n\t\t **/\n\t\tthis._activeInstructions = [];\n\n\t\t/**\n\t\t * This indicates that there have been changes to the activeInstruction list since the last updateInstructions call.\n\t\t * @property _dirty\n\t\t * @protected\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t **/\n\t\tthis._dirty = false;\n\n\t\t/**\n\t\t * Index to draw from if a store operation has happened.\n\t\t * @property _storeIndex\n\t\t * @protected\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t **/\n\t\tthis._storeIndex = 0;\n\n\t// setup:\n\t\tthis.clear();\n\t}\n\tvar p = Graphics.prototype;\n\tvar G = Graphics; // shortcut\n\n// static public methods:\n\t/**\n\t * Returns a CSS compatible color string based on the specified RGB numeric color values in the format\n\t * \"rgba(255,255,255,1.0)\", or if alpha is null then in the format \"rgb(255,255,255)\". For example,\n\t *\n\t *      createjs.Graphics.getRGB(50, 100, 150, 0.5);\n\t *      // Returns \"rgba(50,100,150,0.5)\"\n\t *\n\t * It also supports passing a single hex color value as the first param, and an optional alpha value as the second\n\t * param. For example,\n\t *\n\t *      createjs.Graphics.getRGB(0xFF00FF, 0.2);\n\t *      // Returns \"rgba(255,0,255,0.2)\"\n\t *\n\t * @method getRGB\n\t * @static\n\t * @param {Number} r The red component for the color, between 0 and 0xFF (255).\n\t * @param {Number} g The green component for the color, between 0 and 0xFF (255).\n\t * @param {Number} b The blue component for the color, between 0 and 0xFF (255).\n\t * @param {Number} [alpha] The alpha component for the color where 0 is fully transparent and 1 is fully opaque.\n\t * @return {String} A CSS compatible color string based on the specified RGB numeric color values in the format\n\t * \"rgba(255,255,255,1.0)\", or if alpha is null then in the format \"rgb(255,255,255)\".\n\t **/\n\tGraphics.getRGB = function(r, g, b, alpha) {\n\t\tif (r != null && b == null) {\n\t\t\talpha = g;\n\t\t\tb = r&0xFF;\n\t\t\tg = r>>8&0xFF;\n\t\t\tr = r>>16&0xFF;\n\t\t}\n\t\tif (alpha == null) {\n\t\t\treturn \"rgb(\"+r+\",\"+g+\",\"+b+\")\";\n\t\t} else {\n\t\t\treturn \"rgba(\"+r+\",\"+g+\",\"+b+\",\"+alpha+\")\";\n\t\t}\n\t};\n\n\t/**\n\t * Returns a CSS compatible color string based on the specified HSL numeric color values in the format \"hsla(360,100,100,1.0)\",\n\t * or if alpha is null then in the format \"hsl(360,100,100)\".\n\t *\n\t *      createjs.Graphics.getHSL(150, 100, 70);\n\t *      // Returns \"hsl(150,100,70)\"\n\t *\n\t * @method getHSL\n\t * @static\n\t * @param {Number} hue The hue component for the color, between 0 and 360.\n\t * @param {Number} saturation The saturation component for the color, between 0 and 100.\n\t * @param {Number} lightness The lightness component for the color, between 0 and 100.\n\t * @param {Number} [alpha] The alpha component for the color where 0 is fully transparent and 1 is fully opaque.\n\t * @return {String} A CSS compatible color string based on the specified HSL numeric color values in the format\n\t * \"hsla(360,100,100,1.0)\", or if alpha is null then in the format \"hsl(360,100,100)\".\n\t **/\n\tGraphics.getHSL = function(hue, saturation, lightness, alpha) {\n\t\tif (alpha == null) {\n\t\t\treturn \"hsl(\"+(hue%360)+\",\"+saturation+\"%,\"+lightness+\"%)\";\n\t\t} else {\n\t\t\treturn \"hsla(\"+(hue%360)+\",\"+saturation+\"%,\"+lightness+\"%,\"+alpha+\")\";\n\t\t}\n\t};\n\n\n// static properties:\n\t/**\n\t * A reusable instance of {{#crossLink \"Graphics/BeginPath\"}}{{/crossLink}} to avoid\n\t * unnecessary instantiation.\n\t * @property beginCmd\n\t * @type {Graphics.BeginPath}\n\t * @static\n\t **/\n\t // defined at the bottom of this file.\n\n\t/**\n\t * Map of Base64 characters to values. Used by {{#crossLink \"Graphics/decodePath\"}}{{/crossLink}}.\n\t * @property BASE_64\n\t * @static\n\t * @final\n\t * @readonly\n\t * @type {Object}\n\t **/\n\tGraphics.BASE_64 = {\"A\":0,\"B\":1,\"C\":2,\"D\":3,\"E\":4,\"F\":5,\"G\":6,\"H\":7,\"I\":8,\"J\":9,\"K\":10,\"L\":11,\"M\":12,\"N\":13,\"O\":14,\"P\":15,\"Q\":16,\"R\":17,\"S\":18,\"T\":19,\"U\":20,\"V\":21,\"W\":22,\"X\":23,\"Y\":24,\"Z\":25,\"a\":26,\"b\":27,\"c\":28,\"d\":29,\"e\":30,\"f\":31,\"g\":32,\"h\":33,\"i\":34,\"j\":35,\"k\":36,\"l\":37,\"m\":38,\"n\":39,\"o\":40,\"p\":41,\"q\":42,\"r\":43,\"s\":44,\"t\":45,\"u\":46,\"v\":47,\"w\":48,\"x\":49,\"y\":50,\"z\":51,\"0\":52,\"1\":53,\"2\":54,\"3\":55,\"4\":56,\"5\":57,\"6\":58,\"7\":59,\"8\":60,\"9\":61,\"+\":62,\"/\":63};\n\n\t/**\n\t * Maps numeric values for the caps parameter of {{#crossLink \"Graphics/setStrokeStyle\"}}{{/crossLink}} to\n\t * corresponding string values. This is primarily for use with the tiny API. The mappings are as follows: 0 to\n\t * \"butt\", 1 to \"round\", and 2 to \"square\".\n\t * For example, to set the line caps to \"square\":\n\t *\n\t *      myGraphics.ss(16, 2);\n\t *\n\t * @property STROKE_CAPS_MAP\n\t * @static\n\t * @final\n\t * @readonly\n\t * @type {Array}\n\t **/\n\tGraphics.STROKE_CAPS_MAP = [\"butt\", \"round\", \"square\"];\n\n\t/**\n\t * Maps numeric values for the joints parameter of {{#crossLink \"Graphics/setStrokeStyle\"}}{{/crossLink}} to\n\t * corresponding string values. This is primarily for use with the tiny API. The mappings are as follows: 0 to\n\t * \"miter\", 1 to \"round\", and 2 to \"bevel\".\n\t * For example, to set the line joints to \"bevel\":\n\t *\n\t *      myGraphics.ss(16, 0, 2);\n\t *\n\t * @property STROKE_JOINTS_MAP\n\t * @static\n\t * @final\n\t * @readonly\n\t * @type {Array}\n\t **/\n\tGraphics.STROKE_JOINTS_MAP = [\"miter\", \"round\", \"bevel\"];\n\n\t/**\n\t * @property _ctx\n\t * @static\n\t * @protected\n\t * @type {CanvasRenderingContext2D}\n\t **/\n\tvar canvas = (createjs.createCanvas?createjs.createCanvas():document.createElement(\"canvas\"));\n\tif (canvas.getContext) {\n\t\tGraphics._ctx = canvas.getContext(\"2d\");\n\t\tcanvas.width = canvas.height = 1;\n\t}\n\n\n// getter / setters:\n\t/**\n\t * Use the {{#crossLink \"Graphics/instructions:property\"}}{{/crossLink}} property instead.\n\t * @method _getInstructions\n\t * @protected\n\t * @return {Array} The instructions array, useful for chaining\n\t **/\n\tp._getInstructions = function() {\n\t\tthis._updateInstructions();\n\t\treturn this._instructions;\n\t};\n\t// Graphics.getInstructions is @deprecated. Remove for 1.1+\n\tp.getInstructions = createjs.deprecate(p._getInstructions, \"Graphics.getInstructions\");\n\n\t/**\n\t * Returns the graphics instructions array. Each entry is a graphics command object (ex. Graphics.Fill, Graphics.Rect)\n\t * Modifying the returned array directly is not recommended, and is likely to result in unexpected behaviour.\n\t *\n\t * This property is mainly intended for introspection of the instructions (ex. for graphics export).\n\t * @property instructions\n\t * @type {Array}\n\t * @readonly\n\t **/\n\ttry {\n\t\tObject.defineProperties(p, {\n\t\t\tinstructions: { get: p._getInstructions }\n\t\t});\n\t} catch (e) {}\n\n\n// public methods:\n\t/**\n\t * Returns true if this Graphics instance has no drawing commands.\n\t * @method isEmpty\n\t * @return {Boolean} Returns true if this Graphics instance has no drawing commands.\n\t **/\n\tp.isEmpty = function() {\n\t\treturn !(this._instructions.length || this._activeInstructions.length);\n\t};\n\n\t/**\n\t * Draws the display object into the specified context ignoring its visible, alpha, shadow, and transform.\n\t * Returns true if the draw was handled (useful for overriding functionality).\n\t *\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\n\t * @method draw\n\t * @param {CanvasRenderingContext2D} ctx The canvas 2D context object to draw into.\n\t * @param {Object} data Optional data that is passed to graphics command exec methods. When called from a Shape instance, the shape passes itself as the data parameter. This can be used by custom graphic commands to insert contextual data.\n\t **/\n\tp.draw = function(ctx, data) {\n\t\tthis._updateInstructions();\n\t\tvar instr = this._instructions;\n\t\tfor (var i=this._storeIndex, l=instr.length; i<l; i++) {\n\t\t\tinstr[i].exec(ctx, data);\n\t\t}\n\t};\n\n\t/**\n\t * Draws only the path described for this Graphics instance, skipping any non-path instructions, including fill and\n\t * stroke descriptions. Used for <code>DisplayObject.mask</code> to draw the clipping path, for example.\n\t *\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\n\t * @method drawAsPath\n\t * @param {CanvasRenderingContext2D} ctx The canvas 2D context object to draw into.\n\t **/\n\tp.drawAsPath = function(ctx) {\n\t\tthis._updateInstructions();\n\t\tvar instr, instrs = this._instructions;\n\t\tfor (var i=this._storeIndex, l=instrs.length; i<l; i++) {\n\t\t\t// the first command is always a beginPath command.\n\t\t\tif ((instr = instrs[i]).path !== false) { instr.exec(ctx); }\n\t\t}\n\t};\n\n\n// public methods that map directly to context 2D calls:\n\t/**\n\t * Moves the drawing point to the specified position. A tiny API method \"mt\" also exists.\n\t * @method moveTo\n\t * @param {Number} x The x coordinate the drawing point should move to.\n\t * @param {Number} y The y coordinate the drawing point should move to.\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls).\n\t * @chainable\n\t **/\n\tp.moveTo = function(x, y) {\n\t\treturn this.append(new G.MoveTo(x,y), true);\n\t};\n\n\t/**\n\t * Draws a line from the current drawing point to the specified position, which become the new current drawing\n\t * point. Note that you *must* call {{#crossLink \"Graphics/moveTo\"}}{{/crossLink}} before the first `lineTo()`.\n\t * A tiny API method \"lt\" also exists.\n\t *\n\t * For detailed information, read the\n\t * <a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#complex-shapes-(paths)\">\n\t * whatwg spec</a>.\n\t * @method lineTo\n\t * @param {Number} x The x coordinate the drawing point should draw to.\n\t * @param {Number} y The y coordinate the drawing point should draw to.\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t **/\n\tp.lineTo = function(x, y) {\n\t\treturn this.append(new G.LineTo(x,y));\n\t};\n\n\t/**\n\t * Draws an arc with the specified control points and radius.  For detailed information, read the\n\t * <a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#dom-context-2d-arcto\">\n\t * whatwg spec</a>. A tiny API method \"at\" also exists.\n\t * @method arcTo\n\t * @param {Number} x1\n\t * @param {Number} y1\n\t * @param {Number} x2\n\t * @param {Number} y2\n\t * @param {Number} radius\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t **/\n\tp.arcTo = function(x1, y1, x2, y2, radius) {\n\t\treturn this.append(new G.ArcTo(x1, y1, x2, y2, radius));\n\t};\n\n\t/**\n\t * Draws an arc defined by the radius, startAngle and endAngle arguments, centered at the position (x, y). For\n\t * example, to draw a full circle with a radius of 20 centered at (100, 100):\n\t *\n\t *      arc(100, 100, 20, 0, Math.PI*2);\n\t *\n\t * For detailed information, read the\n\t * <a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#dom-context-2d-arc\">whatwg spec</a>.\n\t * A tiny API method \"a\" also exists.\n\t * @method arc\n\t * @param {Number} x\n\t * @param {Number} y\n\t * @param {Number} radius\n\t * @param {Number} startAngle Measured in radians.\n\t * @param {Number} endAngle Measured in radians.\n\t * @param {Boolean} anticlockwise\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t **/\n\tp.arc = function(x, y, radius, startAngle, endAngle, anticlockwise) {\n\t\treturn this.append(new G.Arc(x, y, radius, startAngle, endAngle, anticlockwise));\n\t};\n\n\t/**\n\t * Draws a quadratic curve from the current drawing point to (x, y) using the control point (cpx, cpy). For detailed\n\t * information, read the <a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#dom-context-2d-quadraticcurveto\">\n\t * whatwg spec</a>. A tiny API method \"qt\" also exists.\n\t * @method quadraticCurveTo\n\t * @param {Number} cpx\n\t * @param {Number} cpy\n\t * @param {Number} x\n\t * @param {Number} y\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t **/\n\tp.quadraticCurveTo = function(cpx, cpy, x, y) {\n\t\treturn this.append(new G.QuadraticCurveTo(cpx, cpy, x, y));\n\t};\n\n\t/**\n\t * Draws a bezier curve from the current drawing point to (x, y) using the control points (cp1x, cp1y) and (cp2x,\n\t * cp2y). For detailed information, read the\n\t * <a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#dom-context-2d-beziercurveto\">\n\t * whatwg spec</a>. A tiny API method \"bt\" also exists.\n\t * @method bezierCurveTo\n\t * @param {Number} cp1x\n\t * @param {Number} cp1y\n\t * @param {Number} cp2x\n\t * @param {Number} cp2y\n\t * @param {Number} x\n\t * @param {Number} y\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t **/\n\tp.bezierCurveTo = function(cp1x, cp1y, cp2x, cp2y, x, y) {\n\t\treturn this.append(new G.BezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y));\n\t};\n\n\t/**\n\t * Draws a rectangle at (x, y) with the specified width and height using the current fill and/or stroke.\n\t * For detailed information, read the\n\t * <a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#dom-context-2d-rect\">\n\t * whatwg spec</a>. A tiny API method \"r\" also exists.\n\t * @method rect\n\t * @param {Number} x\n\t * @param {Number} y\n\t * @param {Number} w Width of the rectangle\n\t * @param {Number} h Height of the rectangle\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t **/\n\tp.rect = function(x, y, w, h) {\n\t\treturn this.append(new G.Rect(x, y, w, h));\n\t};\n\n\t/**\n\t * Closes the current path, effectively drawing a line from the current drawing point to the first drawing point specified\n\t * since the fill or stroke was last set. A tiny API method \"cp\" also exists.\n\t * @method closePath\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t **/\n\tp.closePath = function() {\n\t\treturn this._activeInstructions.length ? this.append(new G.ClosePath()) : this;\n\t};\n\n\n// public methods that roughly map to Adobe Flash/Animate graphics APIs:\n\t/**\n\t * Clears all drawing instructions, effectively resetting this Graphics instance. Any line and fill styles will need\n\t * to be redefined to draw shapes following a clear call. A tiny API method \"c\" also exists.\n\t * @method clear\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t **/\n\tp.clear = function() {\n\t\tthis._instructions.length = this._activeInstructions.length = this._commitIndex = 0;\n\t\tthis._strokeStyle = this._oldStrokeStyle = this._stroke = this._fill = this._strokeDash = this._oldStrokeDash = null;\n\t\tthis._dirty = this._strokeIgnoreScale = false;\n\t\treturn this;\n\t};\n\n\t/**\n\t * Begins a fill with the specified color. This ends the current sub-path. A tiny API method \"f\" also exists.\n\t * @method beginFill\n\t * @param {String} color A CSS compatible color value (ex. \"red\", \"#FF0000\", or \"rgba(255,0,0,0.5)\"). Setting to\n\t * null will result in no fill.\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t **/\n\tp.beginFill = function(color) {\n\t\treturn this._setFill(color ? new G.Fill(color) : null);\n\t};\n\n\t/**\n\t * Begins a linear gradient fill defined by the line (x0, y0) to (x1, y1). This ends the current sub-path. For\n\t * example, the following code defines a black to white vertical gradient ranging from 20px to 120px, and draws a\n\t * square to display it:\n\t *\n\t *      myGraphics.beginLinearGradientFill([\"#000\",\"#FFF\"], [0, 1], 0, 20, 0, 120).drawRect(20, 20, 120, 120);\n\t *\n\t * A tiny API method \"lf\" also exists.\n\t * @method beginLinearGradientFill\n\t * @param {Array} colors An array of CSS compatible color values. For example, [\"#F00\",\"#00F\"] would define a gradient\n\t * drawing from red to blue.\n\t * @param {Array} ratios An array of gradient positions which correspond to the colors. For example, [0.1, 0.9] would draw\n\t * the first color to 10% then interpolating to the second color at 90%.\n\t * @param {Number} x0 The position of the first point defining the line that defines the gradient direction and size.\n\t * @param {Number} y0 The position of the first point defining the line that defines the gradient direction and size.\n\t * @param {Number} x1 The position of the second point defining the line that defines the gradient direction and size.\n\t * @param {Number} y1 The position of the second point defining the line that defines the gradient direction and size.\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t **/\n\tp.beginLinearGradientFill = function(colors, ratios, x0, y0, x1, y1) {\n\t\treturn this._setFill(new G.Fill().linearGradient(colors, ratios, x0, y0, x1, y1));\n\t};\n\n\t/**\n\t * Begins a radial gradient fill. This ends the current sub-path. For example, the following code defines a red to\n\t * blue radial gradient centered at (100, 100), with a radius of 50, and draws a circle to display it:\n\t *\n\t *      myGraphics.beginRadialGradientFill([\"#F00\",\"#00F\"], [0, 1], 100, 100, 0, 100, 100, 50).drawCircle(100, 100, 50);\n\t *\n\t * A tiny API method \"rf\" also exists.\n\t * @method beginRadialGradientFill\n\t * @param {Array} colors An array of CSS compatible color values. For example, [\"#F00\",\"#00F\"] would define\n\t * a gradient drawing from red to blue.\n\t * @param {Array} ratios An array of gradient positions which correspond to the colors. For example, [0.1,\n\t * 0.9] would draw the first color to 10% then interpolating to the second color at 90%.\n\t * @param {Number} x0 Center position of the inner circle that defines the gradient.\n\t * @param {Number} y0 Center position of the inner circle that defines the gradient.\n\t * @param {Number} r0 Radius of the inner circle that defines the gradient.\n\t * @param {Number} x1 Center position of the outer circle that defines the gradient.\n\t * @param {Number} y1 Center position of the outer circle that defines the gradient.\n\t * @param {Number} r1 Radius of the outer circle that defines the gradient.\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t **/\n\tp.beginRadialGradientFill = function(colors, ratios, x0, y0, r0, x1, y1, r1) {\n\t\treturn this._setFill(new G.Fill().radialGradient(colors, ratios, x0, y0, r0, x1, y1, r1));\n\t};\n\n\t/**\n\t * Begins a pattern fill using the specified image. This ends the current sub-path. A tiny API method \"bf\" also\n\t * exists.\n\t * @method beginBitmapFill\n\t * @param {HTMLImageElement | HTMLCanvasElement | HTMLVideoElement} image The Image, Canvas, or Video object to use\n\t * as the pattern. Must be loaded prior to creating a bitmap fill, or the fill will be empty.\n\t * @param {String} repetition Optional. Indicates whether to repeat the image in the fill area. One of \"repeat\",\n\t * \"repeat-x\", \"repeat-y\", or \"no-repeat\". Defaults to \"repeat\". Note that Firefox does not support \"repeat-x\" or\n\t * \"repeat-y\" (latest tests were in FF 20.0), and will default to \"repeat\".\n\t * @param {Matrix2D} matrix Optional. Specifies a transformation matrix for the bitmap fill. This transformation\n\t * will be applied relative to the parent transform.\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t **/\n\tp.beginBitmapFill = function(image, repetition, matrix) {\n\t\treturn this._setFill(new G.Fill(null,matrix).bitmap(image, repetition));\n\t};\n\n\t/**\n\t * Ends the current sub-path, and begins a new one with no fill. Functionally identical to <code>beginFill(null)</code>.\n\t * A tiny API method \"ef\" also exists.\n\t * @method endFill\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t **/\n\tp.endFill = function() {\n\t\treturn this.beginFill();\n\t};\n\n\t/**\n\t * Sets the stroke style. Like all drawing methods, this can be chained, so you can define\n\t * the stroke style and color in a single line of code like so:\n\t *\n\t * \tmyGraphics.setStrokeStyle(8,\"round\").beginStroke(\"#F00\");\n\t *\n\t * A tiny API method \"ss\" also exists.\n\t * @method setStrokeStyle\n\t * @param {Number} thickness The width of the stroke.\n\t * @param {String | Number} [caps=0] Indicates the type of caps to use at the end of lines. One of butt,\n\t * round, or square. Defaults to \"butt\". Also accepts the values 0 (butt), 1 (round), and 2 (square) for use with\n\t * the tiny API.\n\t * @param {String | Number} [joints=0] Specifies the type of joints that should be used where two lines meet.\n\t * One of bevel, round, or miter. Defaults to \"miter\". Also accepts the values 0 (miter), 1 (round), and 2 (bevel)\n\t * for use with the tiny API.\n\t * @param {Number} [miterLimit=10] If joints is set to \"miter\", then you can specify a miter limit ratio which\n\t * controls at what point a mitered joint will be clipped.\n\t * @param {Boolean} [ignoreScale=false] If true, the stroke will be drawn at the specified thickness regardless\n\t * of active transformations.\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t **/\n\tp.setStrokeStyle = function(thickness, caps, joints, miterLimit, ignoreScale) {\n\t\tthis._updateInstructions(true);\n\t\tthis._strokeStyle = this.command = new G.StrokeStyle(thickness, caps, joints, miterLimit, ignoreScale);\n\n\t\t// ignoreScale lives on Stroke, not StrokeStyle, so we do a little trickery:\n\t\tif (this._stroke) { this._stroke.ignoreScale = ignoreScale; }\n\t\tthis._strokeIgnoreScale = ignoreScale;\n\t\treturn this;\n\t};\n\t\n\t/**\n\t * Sets or clears the stroke dash pattern.\n\t *\n\t * \tmyGraphics.setStrokeDash([20, 10], 0);\n\t *\n\t * A tiny API method `sd` also exists.\n\t * @method setStrokeDash\n\t * @param {Array} [segments] An array specifying the dash pattern, alternating between line and gap.\n\t * For example, `[20,10]` would create a pattern of 20 pixel lines with 10 pixel gaps between them.\n\t * Passing null or an empty array will clear the existing stroke dash.\n\t * @param {Number} [offset=0] The offset of the dash pattern. For example, you could increment this value to create a \"marching ants\" effect.\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t **/\n\tp.setStrokeDash = function(segments, offset) {\n\t\tthis._updateInstructions(true);\n\t\tthis._strokeDash = this.command = new G.StrokeDash(segments, offset);\n\t\treturn this;\n\t};\n\n\t/**\n\t * Begins a stroke with the specified color. This ends the current sub-path. A tiny API method \"s\" also exists.\n\t * @method beginStroke\n\t * @param {String} color A CSS compatible color value (ex. \"#FF0000\", \"red\", or \"rgba(255,0,0,0.5)\"). Setting to\n\t * null will result in no stroke.\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t **/\n\tp.beginStroke = function(color) {\n\t\treturn this._setStroke(color ? new G.Stroke(color) : null);\n\t};\n\n\t/**\n\t * Begins a linear gradient stroke defined by the line (x0, y0) to (x1, y1). This ends the current sub-path. For\n\t * example, the following code defines a black to white vertical gradient ranging from 20px to 120px, and draws a\n\t * square to display it:\n\t *\n\t *      myGraphics.setStrokeStyle(10).\n\t *          beginLinearGradientStroke([\"#000\",\"#FFF\"], [0, 1], 0, 20, 0, 120).drawRect(20, 20, 120, 120);\n\t *\n\t * A tiny API method \"ls\" also exists.\n\t * @method beginLinearGradientStroke\n\t * @param {Array} colors An array of CSS compatible color values. For example, [\"#F00\",\"#00F\"] would define\n\t * a gradient drawing from red to blue.\n\t * @param {Array} ratios An array of gradient positions which correspond to the colors. For example, [0.1,\n\t * 0.9] would draw the first color to 10% then interpolating to the second color at 90%.\n\t * @param {Number} x0 The position of the first point defining the line that defines the gradient direction and size.\n\t * @param {Number} y0 The position of the first point defining the line that defines the gradient direction and size.\n\t * @param {Number} x1 The position of the second point defining the line that defines the gradient direction and size.\n\t * @param {Number} y1 The position of the second point defining the line that defines the gradient direction and size.\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t **/\n\tp.beginLinearGradientStroke = function(colors, ratios, x0, y0, x1, y1) {\n\t\treturn this._setStroke(new G.Stroke().linearGradient(colors, ratios, x0, y0, x1, y1));\n\t};\n\n\t/**\n\t * Begins a radial gradient stroke. This ends the current sub-path. For example, the following code defines a red to\n\t * blue radial gradient centered at (100, 100), with a radius of 50, and draws a rectangle to display it:\n\t *\n\t *      myGraphics.setStrokeStyle(10)\n\t *          .beginRadialGradientStroke([\"#F00\",\"#00F\"], [0, 1], 100, 100, 0, 100, 100, 50)\n\t *          .drawRect(50, 90, 150, 110);\n\t *\n\t * A tiny API method \"rs\" also exists.\n\t * @method beginRadialGradientStroke\n\t * @param {Array} colors An array of CSS compatible color values. For example, [\"#F00\",\"#00F\"] would define\n\t * a gradient drawing from red to blue.\n\t * @param {Array} ratios An array of gradient positions which correspond to the colors. For example, [0.1,\n\t * 0.9] would draw the first color to 10% then interpolating to the second color at 90%, then draw the second color\n\t * to 100%.\n\t * @param {Number} x0 Center position of the inner circle that defines the gradient.\n\t * @param {Number} y0 Center position of the inner circle that defines the gradient.\n\t * @param {Number} r0 Radius of the inner circle that defines the gradient.\n\t * @param {Number} x1 Center position of the outer circle that defines the gradient.\n\t * @param {Number} y1 Center position of the outer circle that defines the gradient.\n\t * @param {Number} r1 Radius of the outer circle that defines the gradient.\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t **/\n\tp.beginRadialGradientStroke = function(colors, ratios, x0, y0, r0, x1, y1, r1) {\n\t\treturn this._setStroke(new G.Stroke().radialGradient(colors, ratios, x0, y0, r0, x1, y1, r1));\n\t};\n\n\t/**\n\t * Begins a pattern fill using the specified image. This ends the current sub-path. Note that unlike bitmap fills,\n\t * strokes do not currently support a matrix parameter due to limitations in the canvas API. A tiny API method \"bs\"\n\t * also exists.\n\t * @method beginBitmapStroke\n\t * @param {HTMLImageElement | HTMLCanvasElement | HTMLVideoElement} image The Image, Canvas, or Video object to use\n\t * as the pattern. Must be loaded prior to creating a bitmap fill, or the fill will be empty.\n\t * @param {String} [repetition=repeat] Optional. Indicates whether to repeat the image in the fill area. One of\n\t * \"repeat\", \"repeat-x\", \"repeat-y\", or \"no-repeat\". Defaults to \"repeat\".\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t **/\n\tp.beginBitmapStroke = function(image, repetition) {\n\t\t// NOTE: matrix is not supported for stroke because transforms on strokes also affect the drawn stroke width.\n\t\treturn this._setStroke(new G.Stroke().bitmap(image, repetition));\n\t};\n\n\t/**\n\t * Ends the current sub-path, and begins a new one with no stroke. Functionally identical to <code>beginStroke(null)</code>.\n\t * A tiny API method \"es\" also exists.\n\t * @method endStroke\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t **/\n\tp.endStroke = function() {\n\t\treturn this.beginStroke();\n\t};\n\n\t/**\n\t * Maps the familiar ActionScript <code>curveTo()</code> method to the functionally similar {{#crossLink \"Graphics/quadraticCurveTo\"}}{{/crossLink}}\n\t * method.\n\t * @method curveTo\n\t * @param {Number} cpx\n\t * @param {Number} cpy\n\t * @param {Number} x\n\t * @param {Number} y\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t **/\n\tp.curveTo = p.quadraticCurveTo;\n\n\t/**\n\t *\n\t * Maps the familiar ActionScript <code>drawRect()</code> method to the functionally similar {{#crossLink \"Graphics/rect\"}}{{/crossLink}}\n\t * method.\n\t * @method drawRect\n\t * @param {Number} x\n\t * @param {Number} y\n\t * @param {Number} w Width of the rectangle\n\t * @param {Number} h Height of the rectangle\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t **/\n\tp.drawRect = p.rect;\n\n\t/**\n\t * Draws a rounded rectangle with all corners with the specified radius.\n\t * @method drawRoundRect\n\t * @param {Number} x\n\t * @param {Number} y\n\t * @param {Number} w\n\t * @param {Number} h\n\t * @param {Number} radius Corner radius.\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t **/\n\tp.drawRoundRect = function(x, y, w, h, radius) {\n\t\treturn this.drawRoundRectComplex(x, y, w, h, radius, radius, radius, radius);\n\t};\n\n\t/**\n\t * Draws a rounded rectangle with different corner radii. Supports positive and negative corner radii. A tiny API\n\t * method \"rc\" also exists.\n\t * @method drawRoundRectComplex\n\t * @param {Number} x The horizontal coordinate to draw the round rect.\n\t * @param {Number} y The vertical coordinate to draw the round rect.\n\t * @param {Number} w The width of the round rect.\n\t * @param {Number} h The height of the round rect.\n\t * @param {Number} radiusTL Top left corner radius.\n\t * @param {Number} radiusTR Top right corner radius.\n\t * @param {Number} radiusBR Bottom right corner radius.\n\t * @param {Number} radiusBL Bottom left corner radius.\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t **/\n\tp.drawRoundRectComplex = function(x, y, w, h, radiusTL, radiusTR, radiusBR, radiusBL) {\n\t\treturn this.append(new G.RoundRect(x, y, w, h, radiusTL, radiusTR, radiusBR, radiusBL));\n\t};\n\n\t/**\n\t * Draws a circle with the specified radius at (x, y).\n\t *\n\t *      var g = new createjs.Graphics();\n\t *\t    g.setStrokeStyle(1);\n\t *\t    g.beginStroke(createjs.Graphics.getRGB(0,0,0));\n\t *\t    g.beginFill(createjs.Graphics.getRGB(255,0,0));\n\t *\t    g.drawCircle(0,0,3);\n\t *\n\t *\t    var s = new createjs.Shape(g);\n\t *\t\ts.x = 100;\n\t *\t\ts.y = 100;\n\t *\n\t *\t    stage.addChild(s);\n\t *\t    stage.update();\n\t *\n\t * A tiny API method \"dc\" also exists.\n\t * @method drawCircle\n\t * @param {Number} x x coordinate center point of circle.\n\t * @param {Number} y y coordinate center point of circle.\n\t * @param {Number} radius Radius of circle.\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t **/\n\tp.drawCircle = function(x, y, radius) {\n\t\treturn this.append(new G.Circle(x, y, radius));\n\t};\n\n\t/**\n\t * Draws an ellipse (oval) with a specified width (w) and height (h). Similar to {{#crossLink \"Graphics/drawCircle\"}}{{/crossLink}},\n\t * except the width and height can be different. A tiny API method \"de\" also exists.\n\t * @method drawEllipse\n\t * @param {Number} x The left coordinate point of the ellipse. Note that this is different from {{#crossLink \"Graphics/drawCircle\"}}{{/crossLink}}\n\t * which draws from center.\n\t * @param {Number} y The top coordinate point of the ellipse. Note that this is different from {{#crossLink \"Graphics/drawCircle\"}}{{/crossLink}}\n\t * which draws from the center.\n\t * @param {Number} w The height (horizontal diameter) of the ellipse. The horizontal radius will be half of this\n\t * number.\n\t * @param {Number} h The width (vertical diameter) of the ellipse. The vertical radius will be half of this number.\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t **/\n\tp.drawEllipse = function(x, y, w, h) {\n\t\treturn this.append(new G.Ellipse(x, y, w, h));\n\t};\n\n\t/**\n\t * Draws a star if pointSize is greater than 0, or a regular polygon if pointSize is 0 with the specified number of\n\t * points. For example, the following code will draw a familiar 5 pointed star shape centered at 100, 100 and with a\n\t * radius of 50:\n\t *\n\t *      myGraphics.beginFill(\"#FF0\").drawPolyStar(100, 100, 50, 5, 0.6, -90);\n\t *      // Note: -90 makes the first point vertical\n\t *\n\t * A tiny API method \"dp\" also exists.\n\t *\n\t * @method drawPolyStar\n\t * @param {Number} x Position of the center of the shape.\n\t * @param {Number} y Position of the center of the shape.\n\t * @param {Number} radius The outer radius of the shape.\n\t * @param {Number} sides The number of points on the star or sides on the polygon.\n\t * @param {Number} pointSize The depth or \"pointy-ness\" of the star points. A pointSize of 0 will draw a regular\n\t * polygon (no points), a pointSize of 1 will draw nothing because the points are infinitely pointy.\n\t * @param {Number} angle The angle of the first point / corner. For example a value of 0 will draw the first point\n\t * directly to the right of the center.\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t **/\n\tp.drawPolyStar = function(x, y, radius, sides, pointSize, angle) {\n\t\treturn this.append(new G.PolyStar(x, y, radius, sides, pointSize, angle));\n\t};\n\n\t/**\n\t * Appends a graphics command object to the graphics queue. Command objects expose an \"exec\" method\n\t * that accepts two parameters: the Context2D to operate on, and an arbitrary data object passed into\n\t * {{#crossLink \"Graphics/draw\"}}{{/crossLink}}. The latter will usually be the Shape instance that called draw.\n\t *\n\t * This method is used internally by Graphics methods, such as drawCircle, but can also be used directly to insert\n\t * built-in or custom graphics commands. For example:\n\t *\n\t * \t\t// attach data to our shape, so we can access it during the draw:\n\t * \t\tmyShape.color = \"red\";\n\t *\n\t * \t\t// append a Circle command object:\n\t * \t\tmyShape.graphics.append(new createjs.Graphics.Circle(50, 50, 30));\n\t *\n\t * \t\t// append a custom command object with an exec method that sets the fill style\n\t * \t\t// based on the shape's data, and then fills the circle.\n\t * \t\tmyShape.graphics.append({exec:function(ctx, shape) {\n\t * \t\t\tctx.fillStyle = shape.color;\n\t * \t\t\tctx.fill();\n\t * \t\t}});\n\t *\n\t * @method append\n\t * @param {Object} command A graphics command object exposing an \"exec\" method.\n\t * @param {boolean} clean The clean param is primarily for internal use. A value of true indicates that a command does not generate a path that should be stroked or filled.\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t **/\n\tp.append = function(command, clean) {\n\t\tthis._activeInstructions.push(command);\n\t\tthis.command = command;\n\t\tif (!clean) { this._dirty = true; }\n\t\treturn this;\n\t};\n\n\t/**\n\t * Decodes a compact encoded path string into a series of draw instructions.\n\t * This format is not intended to be human readable, and is meant for use by authoring tools.\n\t * The format uses a base64 character set, with each character representing 6 bits, to define a series of draw\n\t * commands.\n\t *\n\t * Each command is comprised of a single \"header\" character followed by a variable number of alternating x and y\n\t * position values. Reading the header bits from left to right (most to least significant): bits 1 to 3 specify the\n\t * type of operation (0-moveTo, 1-lineTo, 2-quadraticCurveTo, 3-bezierCurveTo, 4-closePath, 5-7 unused). Bit 4\n\t * indicates whether position values use 12 bits (2 characters) or 18 bits (3 characters), with a one indicating the\n\t * latter. Bits 5 and 6 are currently unused.\n\t *\n\t * Following the header is a series of 0 (closePath), 2 (moveTo, lineTo), 4 (quadraticCurveTo), or 6 (bezierCurveTo)\n\t * parameters. These parameters are alternating x/y positions represented by 2 or 3 characters (as indicated by the\n\t * 4th bit in the command char). These characters consist of a 1 bit sign (1 is negative, 0 is positive), followed\n\t * by an 11 (2 char) or 17 (3 char) bit integer value. All position values are in tenths of a pixel. Except in the\n\t * case of move operations which are absolute, this value is a delta from the previous x or y position (as\n\t * appropriate).\n\t *\n\t * For example, the string \"A3cAAMAu4AAA\" represents a line starting at -150,0 and ending at 150,0.\n\t * <br />A - bits 000000. First 3 bits (000) indicate a moveTo operation. 4th bit (0) indicates 2 chars per\n\t * parameter.\n\t * <br />n0 - 110111011100. Absolute x position of -150.0px. First bit indicates a negative value, remaining bits\n\t * indicate 1500 tenths of a pixel.\n\t * <br />AA - 000000000000. Absolute y position of 0.\n\t * <br />I - 001100. First 3 bits (001) indicate a lineTo operation. 4th bit (1) indicates 3 chars per parameter.\n\t * <br />Au4 - 000000101110111000. An x delta of 300.0px, which is added to the previous x value of -150.0px to\n\t * provide an absolute position of +150.0px.\n\t * <br />AAA - 000000000000000000. A y delta value of 0.\n\t *\n\t * A tiny API method \"p\" also exists.\n\t * @method decodePath\n\t * @param {String} str The path string to decode.\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t **/\n\tp.decodePath = function(str) {\n\t\tvar instructions = [this.moveTo, this.lineTo, this.quadraticCurveTo, this.bezierCurveTo, this.closePath];\n\t\tvar paramCount = [2, 2, 4, 6, 0];\n\t\tvar i=0, l=str.length;\n\t\tvar params = [];\n\t\tvar x=0, y=0;\n\t\tvar base64 = Graphics.BASE_64;\n\n\t\twhile (i<l) {\n\t\t\tvar c = str.charAt(i);\n\t\t\tvar n = base64[c];\n\t\t\tvar fi = n>>3; // highest order bits 1-3 code for operation.\n\t\t\tvar f = instructions[fi];\n\t\t\t// check that we have a valid instruction & that the unused bits are empty:\n\t\t\tif (!f || (n&3)) { throw(\"bad path data (@\"+i+\"): \"+c); }\n\t\t\tvar pl = paramCount[fi];\n\t\t\tif (!fi) { x=y=0; } // move operations reset the position.\n\t\t\tparams.length = 0;\n\t\t\ti++;\n\t\t\tvar charCount = (n>>2&1)+2;  // 4th header bit indicates number size for this operation.\n\t\t\tfor (var p=0; p<pl; p++) {\n\t\t\t\tvar num = base64[str.charAt(i)];\n\t\t\t\tvar sign = (num>>5) ? -1 : 1;\n\t\t\t\tnum = ((num&31)<<6)|(base64[str.charAt(i+1)]);\n\t\t\t\tif (charCount == 3) { num = (num<<6)|(base64[str.charAt(i+2)]); }\n\t\t\t\tnum = sign*num/10;\n\t\t\t\tif (p%2) { x = (num += x); }\n\t\t\t\telse { y = (num += y); }\n\t\t\t\tparams[p] = num;\n\t\t\t\ti += charCount;\n\t\t\t}\n\t\t\tf.apply(this,params);\n\t\t}\n\t\treturn this;\n\t};\n\n\t/**\n\t * Stores all graphics commands so they won't be executed in future draws. Calling store() a second time adds to\n\t * the existing store. This also affects `drawAsPath()`.\n\t *\n\t * This is useful in cases where you are creating vector graphics in an iterative manner (ex. generative art), so\n\t * that only new graphics need to be drawn (which can provide huge performance benefits), but you wish to retain all\n\t * of the vector instructions for later use (ex. scaling, modifying, or exporting).\n\t *\n\t * Note that calling store() will force the active path (if any) to be ended in a manner similar to changing\n\t * the fill or stroke.\n\t *\n\t * For example, consider a application where the user draws lines with the mouse. As each line segment (or collection of\n\t * segments) are added to a Shape, it can be rasterized using {{#crossLink \"DisplayObject/updateCache\"}}{{/crossLink}},\n\t * and then stored, so that it can be redrawn at a different scale when the application is resized, or exported to SVG.\n\t *\n\t * \t// set up cache:\n\t * \tmyShape.cache(0,0,500,500,scale);\n\t *\n\t * \t// when the user drags, draw a new line:\n\t * \tmyShape.graphics.moveTo(oldX,oldY).lineTo(newX,newY);\n\t * \t// then draw it into the existing cache:\n\t * \tmyShape.updateCache(\"source-over\");\n\t * \t// store the new line, so it isn't redrawn next time:\n\t * \tmyShape.store();\n\t *\n\t * \t// then, when the window resizes, we can re-render at a different scale:\n\t * \t// first, unstore all our lines:\n\t * \tmyShape.unstore();\n\t * \t// then cache using the new scale:\n\t * \tmyShape.cache(0,0,500,500,newScale);\n\t * \t// finally, store the existing commands again:\n\t * \tmyShape.store();\n\t *\n\t * @method store\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t **/\n\tp.store = function() {\n\t\tthis._updateInstructions(true);\n\t\tthis._storeIndex = this._instructions.length;\n\t\treturn this;\n\t};\n\n\t/**\n\t * Unstores any graphics commands that were previously stored using {{#crossLink \"Graphics/store\"}}{{/crossLink}}\n\t * so that they will be executed in subsequent draw calls.\n\t *\n\t * @method unstore\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t **/\n\tp.unstore = function() {\n\t\tthis._storeIndex = 0;\n\t\treturn this;\n\t};\n\n\t/**\n\t * Returns a clone of this Graphics instance. Note that the individual command objects are not cloned.\n\t * @method clone\n\t * @return {Graphics} A clone of the current Graphics instance.\n\t **/\n\tp.clone = function() {\n\t\tvar o = new Graphics();\n\t\to.command = this.command;\n\t\to._stroke = this._stroke;\n\t\to._strokeStyle = this._strokeStyle;\n\t\to._strokeDash = this._strokeDash;\n\t\to._strokeIgnoreScale = this._strokeIgnoreScale;\n\t\to._fill = this._fill;\n\t\to._instructions = this._instructions.slice();\n\t\to._commitIndex = this._commitIndex;\n\t\to._activeInstructions = this._activeInstructions.slice();\n\t\to._dirty = this._dirty;\n\t\to._storeIndex = this._storeIndex;\n\t\treturn o;\n\t};\n\n\t/**\n\t * Returns a string representation of this object.\n\t * @method toString\n\t * @return {String} a string representation of the instance.\n\t **/\n\tp.toString = function() {\n\t\treturn \"[Graphics]\";\n\t};\n\n\n// tiny API:\n\t/**\n\t * Shortcut to moveTo.\n\t * @method mt\n\t * @param {Number} x The x coordinate the drawing point should move to.\n\t * @param {Number} y The y coordinate the drawing point should move to.\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls).\n\t * @chainable\n\t * @protected\n\t **/\n\tp.mt = p.moveTo;\n\n\t/**\n\t * Shortcut to lineTo.\n\t * @method lt\n\t * @param {Number} x The x coordinate the drawing point should draw to.\n\t * @param {Number} y The y coordinate the drawing point should draw to.\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t * @protected\n\t **/\n\tp.lt = p.lineTo;\n\n\t/**\n\t * Shortcut to arcTo.\n\t * @method at\n\t * @param {Number} x1\n\t * @param {Number} y1\n\t * @param {Number} x2\n\t * @param {Number} y2\n\t * @param {Number} radius\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t * @protected\n\t **/\n\tp.at = p.arcTo;\n\n\t/**\n\t * Shortcut to bezierCurveTo.\n\t * @method bt\n\t * @param {Number} cp1x\n\t * @param {Number} cp1y\n\t * @param {Number} cp2x\n\t * @param {Number} cp2y\n\t * @param {Number} x\n\t * @param {Number} y\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t * @protected\n\t **/\n\tp.bt = p.bezierCurveTo;\n\n\t/**\n\t * Shortcut to quadraticCurveTo / curveTo.\n\t * @method qt\n\t * @param {Number} cpx\n\t * @param {Number} cpy\n\t * @param {Number} x\n\t * @param {Number} y\n\t * @protected\n\t * @chainable\n\t **/\n\tp.qt = p.quadraticCurveTo;\n\n\t/**\n\t * Shortcut to arc.\n\t * @method a\n\t * @param {Number} x\n\t * @param {Number} y\n\t * @param {Number} radius\n\t * @param {Number} startAngle Measured in radians.\n\t * @param {Number} endAngle Measured in radians.\n\t * @param {Boolean} anticlockwise\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @protected\n\t * @chainable\n\t **/\n\tp.a = p.arc;\n\n\t/**\n\t * Shortcut to rect.\n\t * @method r\n\t * @param {Number} x\n\t * @param {Number} y\n\t * @param {Number} w Width of the rectangle\n\t * @param {Number} h Height of the rectangle\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t * @protected\n\t **/\n\tp.r = p.rect;\n\n\t/**\n\t * Shortcut to closePath.\n\t * @method cp\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t * @protected\n\t **/\n\tp.cp = p.closePath;\n\n\t/**\n\t * Shortcut to clear.\n\t * @method c\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t * @protected\n\t **/\n\tp.c = p.clear;\n\n\t/**\n\t * Shortcut to beginFill.\n\t * @method f\n\t * @param {String} color A CSS compatible color value (ex. \"red\", \"#FF0000\", or \"rgba(255,0,0,0.5)\"). Setting to\n\t * null will result in no fill.\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t * @protected\n\t **/\n\tp.f = p.beginFill;\n\n\t/**\n\t * Shortcut to beginLinearGradientFill.\n\t * @method lf\n\t * @param {Array} colors An array of CSS compatible color values. For example, [\"#F00\",\"#00F\"] would define a gradient\n\t * drawing from red to blue.\n\t * @param {Array} ratios An array of gradient positions which correspond to the colors. For example, [0.1, 0.9] would draw\n\t * the first color to 10% then interpolating to the second color at 90%.\n\t * @param {Number} x0 The position of the first point defining the line that defines the gradient direction and size.\n\t * @param {Number} y0 The position of the first point defining the line that defines the gradient direction and size.\n\t * @param {Number} x1 The position of the second point defining the line that defines the gradient direction and size.\n\t * @param {Number} y1 The position of the second point defining the line that defines the gradient direction and size.\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t * @protected\n\t **/\n\tp.lf = p.beginLinearGradientFill;\n\n\t/**\n\t * Shortcut to beginRadialGradientFill.\n\t * @method rf\n\t * @param {Array} colors An array of CSS compatible color values. For example, [\"#F00\",\"#00F\"] would define\n\t * a gradient drawing from red to blue.\n\t * @param {Array} ratios An array of gradient positions which correspond to the colors. For example, [0.1,\n\t * 0.9] would draw the first color to 10% then interpolating to the second color at 90%.\n\t * @param {Number} x0 Center position of the inner circle that defines the gradient.\n\t * @param {Number} y0 Center position of the inner circle that defines the gradient.\n\t * @param {Number} r0 Radius of the inner circle that defines the gradient.\n\t * @param {Number} x1 Center position of the outer circle that defines the gradient.\n\t * @param {Number} y1 Center position of the outer circle that defines the gradient.\n\t * @param {Number} r1 Radius of the outer circle that defines the gradient.\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t * @protected\n\t **/\n\tp.rf = p.beginRadialGradientFill;\n\n\t/**\n\t * Shortcut to beginBitmapFill.\n\t * @method bf\n\t * @param {HTMLImageElement | HTMLCanvasElement | HTMLVideoElement} image The Image, Canvas, or Video object to use\n\t * as the pattern.\n\t * @param {String} repetition Optional. Indicates whether to repeat the image in the fill area. One of \"repeat\",\n\t * \"repeat-x\", \"repeat-y\", or \"no-repeat\". Defaults to \"repeat\". Note that Firefox does not support \"repeat-x\" or\n\t * \"repeat-y\" (latest tests were in FF 20.0), and will default to \"repeat\".\n\t * @param {Matrix2D} matrix Optional. Specifies a transformation matrix for the bitmap fill. This transformation\n\t * will be applied relative to the parent transform.\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t * @protected\n\t **/\n\tp.bf = p.beginBitmapFill;\n\n\t/**\n\t * Shortcut to endFill.\n\t * @method ef\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t * @protected\n\t **/\n\tp.ef = p.endFill;\n\n\t/**\n\t * Shortcut to setStrokeStyle.\n\t * @method ss\n\t * @param {Number} thickness The width of the stroke.\n\t * @param {String | Number} [caps=0] Indicates the type of caps to use at the end of lines. One of butt,\n\t * round, or square. Defaults to \"butt\". Also accepts the values 0 (butt), 1 (round), and 2 (square) for use with\n\t * the tiny API.\n\t * @param {String | Number} [joints=0] Specifies the type of joints that should be used where two lines meet.\n\t * One of bevel, round, or miter. Defaults to \"miter\". Also accepts the values 0 (miter), 1 (round), and 2 (bevel)\n\t * for use with the tiny API.\n\t * @param {Number} [miterLimit=10] If joints is set to \"miter\", then you can specify a miter limit ratio which\n\t * controls at what point a mitered joint will be clipped.\n\t * @param {Boolean} [ignoreScale=false] If true, the stroke will be drawn at the specified thickness regardless\n\t * of active transformations.\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t * @protected\n\t **/\n\tp.ss = p.setStrokeStyle;\n\t\n\t/**\n\t * Shortcut to setStrokeDash.\n\t * @method sd\n\t * @param {Array} [segments] An array specifying the dash pattern, alternating between line and gap.\n\t * For example, [20,10] would create a pattern of 20 pixel lines with 10 pixel gaps between them.\n\t * Passing null or an empty array will clear any existing dash.\n\t * @param {Number} [offset=0] The offset of the dash pattern. For example, you could increment this value to create a \"marching ants\" effect.\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t * @protected\n\t **/\n\tp.sd = p.setStrokeDash;\n\n\t/**\n\t * Shortcut to beginStroke.\n\t * @method s\n\t * @param {String} color A CSS compatible color value (ex. \"#FF0000\", \"red\", or \"rgba(255,0,0,0.5)\"). Setting to\n\t * null will result in no stroke.\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t * @protected\n\t **/\n\tp.s = p.beginStroke;\n\n\t/**\n\t * Shortcut to beginLinearGradientStroke.\n\t * @method ls\n\t * @param {Array} colors An array of CSS compatible color values. For example, [\"#F00\",\"#00F\"] would define\n\t * a gradient drawing from red to blue.\n\t * @param {Array} ratios An array of gradient positions which correspond to the colors. For example, [0.1,\n\t * 0.9] would draw the first color to 10% then interpolating to the second color at 90%.\n\t * @param {Number} x0 The position of the first point defining the line that defines the gradient direction and size.\n\t * @param {Number} y0 The position of the first point defining the line that defines the gradient direction and size.\n\t * @param {Number} x1 The position of the second point defining the line that defines the gradient direction and size.\n\t * @param {Number} y1 The position of the second point defining the line that defines the gradient direction and size.\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t * @protected\n\t **/\n\tp.ls = p.beginLinearGradientStroke;\n\n\t/**\n\t * Shortcut to beginRadialGradientStroke.\n\t * @method rs\n\t * @param {Array} colors An array of CSS compatible color values. For example, [\"#F00\",\"#00F\"] would define\n\t * a gradient drawing from red to blue.\n\t * @param {Array} ratios An array of gradient positions which correspond to the colors. For example, [0.1,\n\t * 0.9] would draw the first color to 10% then interpolating to the second color at 90%, then draw the second color\n\t * to 100%.\n\t * @param {Number} x0 Center position of the inner circle that defines the gradient.\n\t * @param {Number} y0 Center position of the inner circle that defines the gradient.\n\t * @param {Number} r0 Radius of the inner circle that defines the gradient.\n\t * @param {Number} x1 Center position of the outer circle that defines the gradient.\n\t * @param {Number} y1 Center position of the outer circle that defines the gradient.\n\t * @param {Number} r1 Radius of the outer circle that defines the gradient.\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t * @protected\n\t **/\n\tp.rs = p.beginRadialGradientStroke;\n\n\t/**\n\t * Shortcut to beginBitmapStroke.\n\t * @method bs\n\t * @param {HTMLImageElement | HTMLCanvasElement | HTMLVideoElement} image The Image, Canvas, or Video object to use\n\t * as the pattern.\n\t * @param {String} [repetition=repeat] Optional. Indicates whether to repeat the image in the fill area. One of\n\t * \"repeat\", \"repeat-x\", \"repeat-y\", or \"no-repeat\". Defaults to \"repeat\".\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t * @protected\n\t **/\n\tp.bs = p.beginBitmapStroke;\n\n\t/**\n\t * Shortcut to endStroke.\n\t * @method es\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t * @protected\n\t **/\n\tp.es = p.endStroke;\n\n\t/**\n\t * Shortcut to drawRect.\n\t * @method dr\n\t * @param {Number} x\n\t * @param {Number} y\n\t * @param {Number} w Width of the rectangle\n\t * @param {Number} h Height of the rectangle\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t * @protected\n\t **/\n\tp.dr = p.drawRect;\n\n\t/**\n\t * Shortcut to drawRoundRect.\n\t * @method rr\n\t * @param {Number} x\n\t * @param {Number} y\n\t * @param {Number} w\n\t * @param {Number} h\n\t * @param {Number} radius Corner radius.\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t * @protected\n\t **/\n\tp.rr = p.drawRoundRect;\n\n\t/**\n\t * Shortcut to drawRoundRectComplex.\n\t * @method rc\n\t * @param {Number} x The horizontal coordinate to draw the round rect.\n\t * @param {Number} y The vertical coordinate to draw the round rect.\n\t * @param {Number} w The width of the round rect.\n\t * @param {Number} h The height of the round rect.\n\t * @param {Number} radiusTL Top left corner radius.\n\t * @param {Number} radiusTR Top right corner radius.\n\t * @param {Number} radiusBR Bottom right corner radius.\n\t * @param {Number} radiusBL Bottom left corner radius.\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t * @protected\n\t **/\n\tp.rc = p.drawRoundRectComplex;\n\n\t/**\n\t * Shortcut to drawCircle.\n\t * @method dc\n\t * @param {Number} x x coordinate center point of circle.\n\t * @param {Number} y y coordinate center point of circle.\n\t * @param {Number} radius Radius of circle.\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t * @protected\n\t **/\n\tp.dc = p.drawCircle;\n\n\t/**\n\t * Shortcut to drawEllipse.\n\t * @method de\n\t * @param {Number} x The left coordinate point of the ellipse. Note that this is different from {{#crossLink \"Graphics/drawCircle\"}}{{/crossLink}}\n\t * which draws from center.\n\t * @param {Number} y The top coordinate point of the ellipse. Note that this is different from {{#crossLink \"Graphics/drawCircle\"}}{{/crossLink}}\n\t * which draws from the center.\n\t * @param {Number} w The height (horizontal diameter) of the ellipse. The horizontal radius will be half of this\n\t * number.\n\t * @param {Number} h The width (vertical diameter) of the ellipse. The vertical radius will be half of this number.\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t * @protected\n\t **/\n\tp.de = p.drawEllipse;\n\n\t/**\n\t * Shortcut to drawPolyStar.\n\t * @method dp\n\t * @param {Number} x Position of the center of the shape.\n\t * @param {Number} y Position of the center of the shape.\n\t * @param {Number} radius The outer radius of the shape.\n\t * @param {Number} sides The number of points on the star or sides on the polygon.\n\t * @param {Number} pointSize The depth or \"pointy-ness\" of the star points. A pointSize of 0 will draw a regular\n\t * polygon (no points), a pointSize of 1 will draw nothing because the points are infinitely pointy.\n\t * @param {Number} angle The angle of the first point / corner. For example a value of 0 will draw the first point\n\t * directly to the right of the center.\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t * @protected\n\t **/\n\tp.dp = p.drawPolyStar;\n\n\t/**\n\t * Shortcut to decodePath.\n\t * @method p\n\t * @param {String} str The path string to decode.\n\t * @return {Graphics} The Graphics instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t * @protected\n\t **/\n\tp.p = p.decodePath;\n\n\n// private methods:\n\t/**\n\t * @method _updateInstructions\n\t * @param commit\n\t * @protected\n\t **/\n\tp._updateInstructions = function(commit) {\n\t\tvar instr = this._instructions, active = this._activeInstructions, commitIndex = this._commitIndex;\n\n\t\tif (this._dirty && active.length) {\n\t\t\tinstr.length = commitIndex; // remove old, uncommitted commands\n\t\t\tinstr.push(Graphics.beginCmd);\n\n\t\t\tvar l = active.length, ll = instr.length;\n\t\t\tinstr.length = ll+l;\n\t\t\tfor (var i=0; i<l; i++) { instr[i+ll] = active[i]; }\n\n\t\t\tif (this._fill) { instr.push(this._fill); }\n\t\t\tif (this._stroke) {\n\t\t\t\t// doesn't need to be re-applied if it hasn't changed.\n\t\t\t\tif (this._strokeDash !== this._oldStrokeDash) {\n\t\t\t\t\tinstr.push(this._strokeDash);\n\t\t\t\t}\n\t\t\t\tif (this._strokeStyle !== this._oldStrokeStyle) {\n\t\t\t\t\tinstr.push(this._strokeStyle);\n\t\t\t\t}\n\t\t\t\tif (commit) {\n\t\t\t\t\tthis._oldStrokeStyle = this._strokeStyle;\n\t\t\t\t\tthis._oldStrokeDash = this._strokeDash;\n\t\t\t\t}\n\t\t\t\tinstr.push(this._stroke);\n\t\t\t}\n\n\t\t\tthis._dirty = false;\n\t\t}\n\n\t\tif (commit) {\n\t\t\tactive.length = 0;\n\t\t\tthis._commitIndex = instr.length;\n\t\t}\n\t};\n\n\t/**\n\t * @method _setFill\n\t * @param fill\n\t * @protected\n\t **/\n\tp._setFill = function(fill) {\n\t\tthis._updateInstructions(true);\n\t\tthis.command = this._fill = fill;\n\t\treturn this;\n\t};\n\n\t/**\n\t * @method _setStroke\n\t * @param stroke\n\t * @protected\n\t **/\n\tp._setStroke = function(stroke) {\n\t\tthis._updateInstructions(true);\n\t\tif (this.command = this._stroke = stroke) {\n\t\t\tstroke.ignoreScale = this._strokeIgnoreScale;\n\t\t}\n\t\treturn this;\n\t};\n\n// Command Objects:\n\t/**\n\t * @namespace Graphics\n\t */\n\t/**\n\t * Graphics command object. See {{#crossLink \"Graphics/lineTo\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information. See {{#crossLink \"Graphics\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information.\n\t * @class LineTo\n\t * @constructor\n\t * @param {Number} x\n\t * @param {Number} y\n\t **/\n\t/**\n\t * @property x\n\t * @type Number\n\t */\n\t/**\n\t * @property y\n\t * @type Number\n\t */\n\t/**\n\t * Execute the Graphics command in the provided Canvas context.\n\t * @method exec\n\t * @param {CanvasRenderingContext2D} ctx The canvas rendering context\n\t */\n\t(G.LineTo = function(x, y) {\n\t\tthis.x = x; this.y = y;\n\t}).prototype.exec = function(ctx) { ctx.lineTo(this.x,this.y); };\n\n\t/**\n\t * Graphics command object. See {{#crossLink \"Graphics/moveTo\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information.\n\t * @class MoveTo\n\t * @constructor\n\t * @param {Number} x\n\t * @param {Number} y\n\t **/\n\t/**\n\t * @property x\n\t * @type Number\n\t */\n\t/**\n\t * @property y\n\t * @type Number\n\t */\n\t/**\n\t * @method exec\n\t * @param {CanvasRenderingContext2D} ctx\n\t */\n\t(G.MoveTo = function(x, y) {\n\t\tthis.x = x; this.y = y;\n\t}).prototype.exec = function(ctx) { ctx.moveTo(this.x, this.y); };\n\n\n\t/**\n\t * Graphics command object. See {{#crossLink \"Graphics/arcTo\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information.\n\t * @class ArcTo\n\t * @constructor\n\t * @param {Number} x1\n\t * @param {Number} y1\n\t * @param {Number} x2\n\t * @param {Number} y2\n\t * @param {Number} radius\n\t **/\n\t/**\n\t * @property x1\n\t * @type Number\n\t */\n\t/**\n\t * @property y1\n\t * @type Number\n\t */\n\t/**\n\t * @property x2\n\t * @type Number\n\t */\n\t/**\n\t * @property y2\n\t * @type Number\n\t */\n\t/**\n\t * @property radius\n\t * @type Number\n\t */\n\t/**\n\t * Execute the Graphics command in the provided Canvas context.\n\t * @method exec\n\t * @param {CanvasRenderingContext2D} ctx The canvas rendering context\n\t */\n\t(G.ArcTo = function(x1, y1, x2, y2, radius) {\n\t\tthis.x1 = x1; this.y1 = y1;\n\t\tthis.x2 = x2; this.y2 = y2;\n\t\tthis.radius = radius;\n\t}).prototype.exec = function(ctx) { ctx.arcTo(this.x1, this.y1, this.x2, this.y2, this.radius); };\n\n\t/**\n\t * Graphics command object. See {{#crossLink \"Graphics/arc\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information.\n\t * @class Arc\n\t * @constructor\n\t * @param {Number} x\n\t * @param {Number} y\n\t * @param {Number} radius\n\t * @param {Number} startAngle\n\t * @param {Number} endAngle\n\t * @param {Number} anticlockwise\n\t **/\n\t/**\n\t * @property x\n\t * @type Number\n\t */\n\t/**\n\t * @property y\n\t * @type Number\n\t */\n\t/**\n\t * @property radius\n\t * @type Number\n\t */\n\t/**\n\t * @property startAngle\n\t * @type Number\n\t */\n\t/**\n\t * @property endAngle\n\t * @type Number\n\t */\n\t/**\n\t * @property anticlockwise\n\t * @type Number\n\t */\n\t/**\n\t * Execute the Graphics command in the provided Canvas context.\n\t * @method exec\n\t * @param {CanvasRenderingContext2D} ctx The canvas rendering context\n\t */\n\t(G.Arc = function(x, y, radius, startAngle, endAngle, anticlockwise) {\n\t\tthis.x = x; this.y = y;\n\t\tthis.radius = radius;\n\t\tthis.startAngle = startAngle; this.endAngle = endAngle;\n\t\tthis.anticlockwise = !!anticlockwise;\n\t}).prototype.exec = function(ctx) { ctx.arc(this.x, this.y, this.radius, this.startAngle, this.endAngle, this.anticlockwise); };\n\n\t/**\n\t * Graphics command object. See {{#crossLink \"Graphics/quadraticCurveTo\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information.\n\t * @class QuadraticCurveTo\n\t * @constructor\n\t * @param {Number} cpx\n\t * @param {Number} cpy\n\t * @param {Number} x\n\t * @param {Number} y\n\t **/\n\t/**\n\t * @property cpx\n\t * @type Number\n\t */\n\t/**\n\t * @property cpy\n\t * @type Number\n\t */\n\t/**\n\t * @property x\n\t * @type Number\n\t */\n\t/**\n\t * @property y\n\t * @type Number\n\t */\n\t/**\n\t * Execute the Graphics command in the provided Canvas context.\n\t * @method exec\n\t * @param {CanvasRenderingContext2D} ctx The canvas rendering context\n\t */\n\t(G.QuadraticCurveTo = function(cpx, cpy, x, y) {\n\t\tthis.cpx = cpx; this.cpy = cpy;\n\t\tthis.x = x; this.y = y;\n\t}).prototype.exec = function(ctx) { ctx.quadraticCurveTo(this.cpx, this.cpy, this.x, this.y); };\n\n\t/**\n\t * Graphics command object. See {{#crossLink \"Graphics/bezierCurveTo\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information.\n\t * @class BezierCurveTo\n\t * @constructor\n\t * @param {Number} cp1x\n\t * @param {Number} cp1y\n\t * @param {Number} cp2x\n\t * @param {Number} cp2y\n\t * @param {Number} x\n\t * @param {Number} y\n\t **/\n\t/**\n\t * @property cp1x\n\t * @type Number\n\t */\n\t/**\n\t * @property cp1y\n\t * @type Number\n\t */\n\t/**\n\t * @property cp2x\n\t * @type Number\n\t */\n\t/**\n\t * @property cp2y\n\t * @type Number\n\t */\n\t/**\n\t * @property x\n\t * @type Number\n\t */\n\t/**\n\t * @property y\n\t * @type Number\n\t */\n\t/**\n\t * Execute the Graphics command in the provided Canvas context.\n\t * @method exec\n\t * @param {CanvasRenderingContext2D} ctx The canvas rendering context\n\t */\n\t(G.BezierCurveTo = function(cp1x, cp1y, cp2x, cp2y, x, y) {\n\t\tthis.cp1x = cp1x; this.cp1y = cp1y;\n\t\tthis.cp2x = cp2x; this.cp2y = cp2y;\n\t\tthis.x = x; this.y = y;\n\t}).prototype.exec = function(ctx) { ctx.bezierCurveTo(this.cp1x, this.cp1y, this.cp2x, this.cp2y, this.x, this.y); };\n\n\t/**\n\t * Graphics command object. See {{#crossLink \"Graphics/rect\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information.\n\t * @class Rect\n\t * @constructor\n\t * @param {Number} x\n\t * @param {Number} y\n\t * @param {Number} w\n\t * @param {Number} h\n\t **/\n\t/**\n\t * @property x\n\t * @type Number\n\t */\n\t/**\n\t * @property y\n\t * @type Number\n\t */\n\t/**\n\t * @property w\n\t * @type Number\n\t */\n\t/**\n\t * @property h\n\t * @type Number\n\t */\n\t/**\n\t * Execute the Graphics command in the provided Canvas context.\n\t * @method exec\n\t * @param {CanvasRenderingContext2D} ctx The canvas rendering context\n\t */\n\t(G.Rect = function(x, y, w, h) {\n\t\tthis.x = x; this.y = y;\n\t\tthis.w = w; this.h = h;\n\t}).prototype.exec = function(ctx) { ctx.rect(this.x, this.y, this.w, this.h); };\n\n\t/**\n\t * Graphics command object. See {{#crossLink \"Graphics/closePath\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information.\n\t * @class ClosePath\n\t * @constructor\n\t **/\n\t/**\n\t * Execute the Graphics command in the provided Canvas context.\n\t * @method exec\n\t * @param {CanvasRenderingContext2D} ctx The canvas rendering context\n\t */\n\t(G.ClosePath = function() {\n\t}).prototype.exec = function(ctx) { ctx.closePath(); };\n\n\t/**\n\t * Graphics command object to begin a new path. See {{#crossLink \"Graphics\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information.\n\t * @class BeginPath\n\t * @constructor\n\t **/\n\t/**\n\t * Execute the Graphics command in the provided Canvas context.\n\t * @method exec\n\t * @param {CanvasRenderingContext2D} ctx The canvas rendering context\n\t */\n\t(G.BeginPath = function() {\n\t}).prototype.exec = function(ctx) { ctx.beginPath(); };\n\n\t/**\n\t * Graphics command object. See {{#crossLink \"Graphics/beginFill\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information.\n\t * @class Fill\n\t * @constructor\n\t * @param {Object} style A valid Context2D fillStyle.\n\t * @param {Matrix2D} matrix\n\t **/\n\t/**\n\t * A valid Context2D fillStyle.\n\t * @property style\n\t * @type Object\n\t */\n\t/**\n\t * @property matrix\n\t * @type Matrix2D\n\t */\n\t/**\n\t * Execute the Graphics command in the provided Canvas context.\n\t * @method exec\n\t * @param {CanvasRenderingContext2D} ctx The canvas rendering context\n\t */\n\tp = (G.Fill = function(style, matrix) {\n\t\tthis.style = style;\n\t\tthis.matrix = matrix;\n\t}).prototype;\n\tp.exec = function(ctx) {\n\t\tif (!this.style) { return; }\n\t\tctx.fillStyle = this.style;\n\t\tvar mtx = this.matrix;\n\t\tif (mtx) { ctx.save(); ctx.transform(mtx.a, mtx.b, mtx.c, mtx.d, mtx.tx, mtx.ty); }\n\t\tctx.fill();\n\t\tif (mtx) { ctx.restore(); }\n\t};\n\t/**\n\t * Creates a linear gradient style and assigns it to {{#crossLink \"Fill/style:property\"}}{{/crossLink}}.\n\t * See {{#crossLink \"Graphics/beginLinearGradientFill\"}}{{/crossLink}} for more information.\n\t * @method linearGradient\n\t * @param {Array} colors\n\t *\n\t * @param {Array} ratios\n\t * @param {Number} x0\n\t * @param {Number} y0\n\t * @param {Number} x1\n\t * @param {Number} y1\n\t * @return {Fill} Returns this Fill object for chaining or assignment.\n\t */\n\tp.linearGradient = function(colors, ratios, x0, y0, x1, y1) {\n\t\tvar o = this.style =  Graphics._ctx.createLinearGradient(x0, y0, x1, y1);\n\t\tfor (var i=0, l=colors.length; i<l; i++) { o.addColorStop(ratios[i], colors[i]); }\n\t\to.props = {colors:colors, ratios:ratios, x0:x0, y0:y0, x1:x1, y1:y1, type:\"linear\"};\n\t\treturn this;\n\t};\n\t/**\n\t * Creates a radial gradient style and assigns it to {{#crossLink \"Fill/style:property\"}}{{/crossLink}}.\n\t * See {{#crossLink \"Graphics/beginRadialGradientFill\"}}{{/crossLink}} for more information.\n\t * @method radialGradient\n\t * @param {Array} colors\n\t * @param {Array} ratios\n\t * @param {Number} x0\n\t * @param {Number} y0\n\t * @param {Number} r0\n\t * @param {Number} x1\n\t * @param {Number} y1\n\t * @param {Number} r1\n\t * @return {Fill} Returns this Fill object for chaining or assignment.\n\t */\n\tp.radialGradient = function(colors, ratios, x0, y0, r0, x1, y1, r1) {\n\t\tvar o = this.style =  Graphics._ctx.createRadialGradient(x0, y0, r0, x1, y1, r1);\n\t\tfor (var i=0, l=colors.length; i<l; i++) { o.addColorStop(ratios[i], colors[i]); }\n\t\to.props = {colors:colors, ratios:ratios, x0:x0, y0:y0, r0:r0, x1:x1, y1:y1, r1:r1, type:\"radial\"};\n\t\treturn this;\n\t};\n\t/**\n\t * Creates a bitmap fill style and assigns it to the {{#crossLink \"Fill/style:property\"}}{{/crossLink}}.\n\t * See {{#crossLink \"Graphics/beginBitmapFill\"}}{{/crossLink}} for more information.\n\t * @method bitmap\n\t * @param {HTMLImageElement | HTMLCanvasElement | HTMLVideoElement} image  Must be loaded prior to creating a bitmap fill, or the fill will be empty.\n\t * @param {String} [repetition] One of: repeat, repeat-x, repeat-y, or no-repeat.\n\t * @return {Fill} Returns this Fill object for chaining or assignment.\n\t */\n\tp.bitmap = function(image, repetition) {\n\t\tif (image.naturalWidth || image.getContext || image.readyState >= 2) {\n\t\t\tvar o = this.style = Graphics._ctx.createPattern(image, repetition || \"\");\n\t\t\to.props = {image: image, repetition: repetition, type: \"bitmap\"};\n\t\t}\n\t\treturn this;\n\t};\n\tp.path = false;\n\n\t/**\n\t * Graphics command object. See {{#crossLink \"Graphics/beginStroke\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information.\n\t * @class Stroke\n\t * @constructor\n\t * @param {Object} style A valid Context2D fillStyle.\n\t * @param {Boolean} ignoreScale\n\t **/\n\t/**\n\t * A valid Context2D strokeStyle.\n\t * @property style\n\t * @type Object\n\t */\n\t/**\n\t * @property ignoreScale\n\t * @type Boolean\n\t */\n\t/**\n\t * Execute the Graphics command in the provided Canvas context.\n\t * @method exec\n\t * @param {CanvasRenderingContext2D} ctx The canvas rendering context\n\t */\n\tp = (G.Stroke = function(style, ignoreScale) {\n\t\tthis.style = style;\n\t\tthis.ignoreScale = ignoreScale;\n\t}).prototype;\n\tp.exec = function(ctx) {\n\t\tif (!this.style) { return; }\n\t\tctx.strokeStyle = this.style;\n\t\tif (this.ignoreScale) { ctx.save(); ctx.setTransform(1,0,0,1,0,0); }\n\t\tctx.stroke();\n\t\tif (this.ignoreScale) { ctx.restore(); }\n\t};\n\t/**\n\t * Creates a linear gradient style and assigns it to {{#crossLink \"Stroke/style:property\"}}{{/crossLink}}.\n\t * See {{#crossLink \"Graphics/beginLinearGradientStroke\"}}{{/crossLink}} for more information.\n\t * @method linearGradient\n\t * @param {Array} colors\n\t * @param {Array} ratios\n\t * @param {Number} x0\n\t * @param {Number} y0\n\t * @param {Number} x1\n\t * @param {Number} y1\n\t * @return {Fill} Returns this Stroke object for chaining or assignment.\n\t */\n\tp.linearGradient = G.Fill.prototype.linearGradient;\n\t/**\n\t * Creates a radial gradient style and assigns it to {{#crossLink \"Stroke/style:property\"}}{{/crossLink}}.\n\t * See {{#crossLink \"Graphics/beginRadialGradientStroke\"}}{{/crossLink}} for more information.\n\t * @method radialGradient\n\t * @param {Array} colors\n\t * @param {Array} ratios\n\t * @param {Number} x0\n\t * @param {Number} y0\n\t * @param {Number} r0\n\t * @param {Number} x1\n\t * @param {Number} y1\n\t * @param {Number} r1\n\t * @return {Fill} Returns this Stroke object for chaining or assignment.\n\t */\n\tp.radialGradient = G.Fill.prototype.radialGradient;\n\t/**\n\t * Creates a bitmap fill style and assigns it to {{#crossLink \"Stroke/style:property\"}}{{/crossLink}}.\n\t * See {{#crossLink \"Graphics/beginBitmapStroke\"}}{{/crossLink}} for more information.\n\t * @method bitmap\n\t * @param {HTMLImageElement} image\n\t * @param {String} [repetition] One of: repeat, repeat-x, repeat-y, or no-repeat.\n\t * @return {Fill} Returns this Stroke object for chaining or assignment.\n\t */\n\tp.bitmap = G.Fill.prototype.bitmap;\n\tp.path = false;\n\n\t/**\n\t * Graphics command object. See {{#crossLink \"Graphics/setStrokeStyle\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information.\n\t * @class StrokeStyle\n\t * @constructor\n\t * @param {Number} width\n\t * @param {String} [caps=butt]\n\t * @param {String} [joints=miter]\n\t * @param {Number} [miterLimit=10]\n\t * @param {Boolean} [ignoreScale=false]\n\t **/\n\t/**\n\t * @property width\n\t * @type Number\n\t */\n\t/**\n\t * One of: butt, round, square\n\t * @property caps\n\t * @type String\n\t */\n\t/**\n\t * One of: round, bevel, miter\n\t * @property joints\n\t * @type String\n\t */\n\t/**\n\t * @property miterLimit\n\t * @type Number\n\t */\n\t/**\n\t * Execute the Graphics command in the provided Canvas context.\n\t * @method exec\n\t * @param {CanvasRenderingContext2D} ctx The canvas rendering context\n\t */\n\tp = (G.StrokeStyle = function(width, caps, joints, miterLimit, ignoreScale) {\n\t\tthis.width = width;\n\t\tthis.caps = caps;\n\t\tthis.joints = joints;\n\t\tthis.miterLimit = miterLimit;\n\t\tthis.ignoreScale = ignoreScale;\n\t}).prototype;\n\tp.exec = function(ctx) {\n\t\tctx.lineWidth = (this.width == null ? \"1\" : this.width);\n\t\tctx.lineCap = (this.caps == null ? \"butt\" : (isNaN(this.caps) ? this.caps : Graphics.STROKE_CAPS_MAP[this.caps]));\n\t\tctx.lineJoin = (this.joints == null ? \"miter\" : (isNaN(this.joints) ? this.joints : Graphics.STROKE_JOINTS_MAP[this.joints]));\n\t\tctx.miterLimit = (this.miterLimit == null ? \"10\" : this.miterLimit);\n\t\tctx.ignoreScale = (this.ignoreScale == null ? false : this.ignoreScale);\n\t};\n\tp.path = false;\n\t\n\t/**\n\t * Graphics command object. See {{#crossLink \"Graphics/setStrokeDash\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information.\n\t * @class StrokeDash\n\t * @constructor\n\t * @param {Array} [segments]\n\t * @param {Number} [offset=0]\n\t **/\n\t/**\n\t * @property segments\n\t * @type Array\n\t */\n\t/**\n\t * @property offset\n\t * @type Number\n\t */\n\t/**\n\t * Execute the Graphics command in the provided Canvas context.\n\t * @method exec\n\t * @param {CanvasRenderingContext2D} ctx The canvas rendering context\n\t */\n\t(G.StrokeDash = function(segments, offset) {\n\t\tthis.segments = segments;\n\t\tthis.offset = offset||0;\n\t}).prototype.exec = function(ctx) {\n\t\tif (ctx.setLineDash) { // feature detection.\n\t\t\tctx.setLineDash(this.segments|| G.StrokeDash.EMPTY_SEGMENTS); // instead of [] to reduce churn.\n\t\t\tctx.lineDashOffset = this.offset||0;\n\t\t}\n\t};\n\t/**\n\t * The default value for segments (ie. no dash).\n\t * @property EMPTY_SEGMENTS\n\t * @static\n\t * @final\n\t * @readonly\n\t * @protected\n\t * @type {Array}\n\t **/\n\tG.StrokeDash.EMPTY_SEGMENTS = [];\n\n\t/**\n\t * Graphics command object. See {{#crossLink \"Graphics/drawRoundRectComplex\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information.\n\t * @class RoundRect\n\t * @constructor\n\t * @param {Number} x\n\t * @param {Number} y\n\t * @param {Number} w\n\t * @param {Number} h\n\t * @param {Number} radiusTL\n\t * @param {Number} radiusTR\n\t * @param {Number} radiusBR\n\t * @param {Number} radiusBL\n\t **/\n\t/**\n\t * @property x\n\t * @type Number\n\t */\n\t/**\n\t * @property y\n\t * @type Number\n\t */\n\t/**\n\t * @property w\n\t * @type Number\n\t */\n\t/**\n\t * @property h\n\t * @type Number\n\t */\n\t/**\n\t * @property radiusTL\n\t * @type Number\n\t */\n\t/**\n\t * @property radiusTR\n\t * @type Number\n\t */\n\t/**\n\t * @property radiusBR\n\t * @type Number\n\t */\n\t/**\n\t * @property radiusBL\n\t * @type Number\n\t */\n\t/**\n\t * Execute the Graphics command in the provided Canvas context.\n\t * @method exec\n\t * @param {CanvasRenderingContext2D} ctx The canvas rendering context\n\t */\n\t(G.RoundRect = function(x, y, w, h, radiusTL, radiusTR, radiusBR, radiusBL) {\n\t\tthis.x = x; this.y = y;\n\t\tthis.w = w; this.h = h;\n\t\tthis.radiusTL = radiusTL; this.radiusTR = radiusTR;\n\t\tthis.radiusBR = radiusBR; this.radiusBL = radiusBL;\n\t}).prototype.exec = function(ctx) {\n\t\tvar max = (w<h?w:h)/2;\n\t\tvar mTL=0, mTR=0, mBR=0, mBL=0;\n\t\tvar x = this.x, y = this.y, w = this.w, h = this.h;\n\t\tvar rTL = this.radiusTL, rTR = this.radiusTR, rBR = this.radiusBR, rBL = this.radiusBL;\n\n\t\tif (rTL < 0) { rTL *= (mTL=-1); }\n\t\tif (rTL > max) { rTL = max; }\n\t\tif (rTR < 0) { rTR *= (mTR=-1); }\n\t\tif (rTR > max) { rTR = max; }\n\t\tif (rBR < 0) { rBR *= (mBR=-1); }\n\t\tif (rBR > max) { rBR = max; }\n\t\tif (rBL < 0) { rBL *= (mBL=-1); }\n\t\tif (rBL > max) { rBL = max; }\n\n\t\tctx.moveTo(x+w-rTR, y);\n\t\tctx.arcTo(x+w+rTR*mTR, y-rTR*mTR, x+w, y+rTR, rTR);\n\t\tctx.lineTo(x+w, y+h-rBR);\n\t\tctx.arcTo(x+w+rBR*mBR, y+h+rBR*mBR, x+w-rBR, y+h, rBR);\n\t\tctx.lineTo(x+rBL, y+h);\n\t\tctx.arcTo(x-rBL*mBL, y+h+rBL*mBL, x, y+h-rBL, rBL);\n\t\tctx.lineTo(x, y+rTL);\n\t\tctx.arcTo(x-rTL*mTL, y-rTL*mTL, x+rTL, y, rTL);\n\t\tctx.closePath();\n\t};\n\n\t/**\n\t * Graphics command object. See {{#crossLink \"Graphics/drawCircle\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information.\n\t * @class Circle\n\t * @constructor\n\t * @param {Number} x\n\t * @param {Number} y\n\t * @param {Number} radius\n\t **/\n\t/**\n\t * @property x\n\t * @type Number\n\t */\n\t/**\n\t * @property y\n\t * @type Number\n\t */\n\t/**\n\t * @property radius\n\t * @type Number\n\t */\n\t/**\n\t * Execute the Graphics command in the provided Canvas context.\n\t * @method exec\n\t * @param {CanvasRenderingContext2D} ctx The canvas rendering context\n\t */\n\t(G.Circle = function(x, y, radius) {\n\t\tthis.x = x; this.y = y;\n\t\tthis.radius = radius;\n\t}).prototype.exec = function(ctx) { ctx.arc(this.x, this.y, this.radius, 0, Math.PI*2); };\n\n\t/**\n\t * Graphics command object. See {{#crossLink \"Graphics/drawEllipse\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information.\n\t * @class Ellipse\n\t * @constructor\n\t * @param {Number} x\n\t * @param {Number} y\n\t * @param {Number} w\n\t * @param {Number} h\n\t **/\n\t/**\n\t * @property x\n\t * @type Number\n\t */\n\t/**\n\t * @property y\n\t * @type Number\n\t */\n\t/**\n\t * @property w\n\t * @type Number\n\t */\n\t/**\n\t * @property h\n\t * @type Number\n\t */\n\t/**\n\t * Execute the Graphics command in the provided Canvas context.\n\t * @method exec\n\t * @param {CanvasRenderingContext2D} ctx The canvas rendering context\n\t */\n\t(G.Ellipse = function(x, y, w, h) {\n\t\tthis.x = x; this.y = y;\n\t\tthis.w = w; this.h = h;\n\t}).prototype.exec = function(ctx) {\n\t\tvar x = this.x, y = this.y;\n\t\tvar w = this.w, h = this.h;\n\n\t\tvar k = 0.5522848;\n\t\tvar ox = (w / 2) * k;\n\t\tvar oy = (h / 2) * k;\n\t\tvar xe = x + w;\n\t\tvar ye = y + h;\n\t\tvar xm = x + w / 2;\n\t\tvar ym = y + h / 2;\n\n\t\tctx.moveTo(x, ym);\n\t\tctx.bezierCurveTo(x, ym-oy, xm-ox, y, xm, y);\n\t\tctx.bezierCurveTo(xm+ox, y, xe, ym-oy, xe, ym);\n\t\tctx.bezierCurveTo(xe, ym+oy, xm+ox, ye, xm, ye);\n\t\tctx.bezierCurveTo(xm-ox, ye, x, ym+oy, x, ym);\n\t};\n\n\t/**\n\t * Graphics command object. See {{#crossLink \"Graphics/drawPolyStar\"}}{{/crossLink}} and {{#crossLink \"Graphics/append\"}}{{/crossLink}} for more information.\n\t * @class PolyStar\n\t * @constructor\n\t * @param {Number} x\n\t * @param {Number} y\n\t * @param {Number} radius\n\t * @param {Number} sides\n\t * @param {Number} pointSize\n\t * @param {Number} angle\n\t **/\n\t/**\n\t * @property x\n\t * @type Number\n\t */\n\t/**\n\t * @property y\n\t * @type Number\n\t */\n\t/**\n\t * @property radius\n\t * @type Number\n\t */\n\t/**\n\t * @property sides\n\t * @type Number\n\t */\n\t/**\n\t * @property pointSize\n\t * @type Number\n\t */\n\t/**\n\t * @property angle\n\t * @type Number\n\t */\n\t/**\n\t * Execute the Graphics command in the provided Canvas context.\n\t * @method exec\n\t * @param {CanvasRenderingContext2D} ctx The canvas rendering context\n\t */\n\t(G.PolyStar = function(x, y, radius, sides, pointSize, angle) {\n\t\tthis.x = x; this.y = y;\n\t\tthis.radius = radius;\n\t\tthis.sides = sides;\n\t\tthis.pointSize = pointSize;\n\t\tthis.angle = angle;\n\t}).prototype.exec = function(ctx) {\n\t\tvar x = this.x, y = this.y;\n\t\tvar radius = this.radius;\n\t\tvar angle = (this.angle||0)/180*Math.PI;\n\t\tvar sides = this.sides;\n\t\tvar ps = 1-(this.pointSize||0);\n\t\tvar a = Math.PI/sides;\n\n\t\tctx.moveTo(x+Math.cos(angle)*radius, y+Math.sin(angle)*radius);\n\t\tfor (var i=0; i<sides; i++) {\n\t\t\tangle += a;\n\t\t\tif (ps != 1) {\n\t\t\t\tctx.lineTo(x+Math.cos(angle)*radius*ps, y+Math.sin(angle)*radius*ps);\n\t\t\t}\n\t\t\tangle += a;\n\t\t\tctx.lineTo(x+Math.cos(angle)*radius, y+Math.sin(angle)*radius);\n\t\t}\n\t\tctx.closePath();\n\t};\n\n\t// docced above.\n\tGraphics.beginCmd = new G.BeginPath(); // so we don't have to instantiate multiple instances.\n\n\n\tcreatejs.Graphics = Graphics;\n}());\n\n//##############################################################################\n// DisplayObject.js\n//##############################################################################\n\nthis.createjs = this.createjs||{};\n\n(function() {\n\t\"use strict\";\n\n\n// constructor:\n\t/**\n\t * DisplayObject is an abstract class that should not be constructed directly. Instead construct subclasses such as\n\t * {{#crossLink \"Container\"}}{{/crossLink}}, {{#crossLink \"Bitmap\"}}{{/crossLink}}, and {{#crossLink \"Shape\"}}{{/crossLink}}.\n\t * DisplayObject is the base class for all display classes in the EaselJS library. It defines the core properties and\n\t * methods that are shared between all display objects, such as transformation properties (x, y, scaleX, scaleY, etc),\n\t * caching, and mouse handlers.\n\t * @class DisplayObject\n\t * @extends EventDispatcher\n\t * @constructor\n\t **/\n\tfunction DisplayObject() {\n\t\tthis.EventDispatcher_constructor();\n\n\n\t// public properties:\n\t\t/**\n\t\t * The alpha (transparency) for this display object. 0 is fully transparent, 1 is fully opaque.\n\t\t * @property alpha\n\t\t * @type {Number}\n\t\t * @default 1\n\t\t **/\n\t\tthis.alpha = 1;\n\n\t\t/**\n\t\t * If a cache is active, this returns the canvas that holds the image of this display object. See {{#crossLink \"DisplayObject/cache:method\"}}{{/crossLink}}\n\t\t * for more information. Use this to display the result of a cache. This will be a HTMLCanvasElement unless special cache rules have been deliberately enabled for this cache.\n\t\t * @property cacheCanvas\n\t\t * @type {HTMLCanvasElement | Object}\n\t\t * @default null\n\t\t * @readonly\n\t\t **/\n\t\tthis.cacheCanvas = null;\n\n\t\t/**\n\t\t * If a cache has been made, this returns the class that is managing the cacheCanvas and its properties. See {{#crossLink \"BitmapCache\"}}{{/crossLink}}\n\t\t * for more information. Use this to control, inspect, and change the cache. In special circumstances this may be a modified or subclassed BitmapCache.\n\t\t * @property bitmapCache\n\t\t * @type {BitmapCache}\n\t\t * @default null\n\t\t * @readonly\n\t\t **/\n\t\tthis.bitmapCache = null;\n\n\t\t/**\n\t\t * Unique ID for this display object. Makes display objects easier for some uses.\n\t\t * @property id\n\t\t * @type {Number}\n\t\t * @default -1\n\t\t **/\n\t\tthis.id = createjs.UID.get();\n\n\t\t/**\n\t\t * Indicates whether to include this object when running mouse interactions. Setting this to `false` for children\n\t\t * of a {{#crossLink \"Container\"}}{{/crossLink}} will cause events on the Container to not fire when that child is\n\t\t * clicked. Setting this property to `false` does not prevent the {{#crossLink \"Container/getObjectsUnderPoint\"}}{{/crossLink}}\n\t\t * method from returning the child.\n\t\t *\n\t\t * <strong>Note:</strong> In EaselJS 0.7.0, the mouseEnabled property will not work properly with nested Containers. Please\n\t\t * check out the latest NEXT version in <a href=\"https://github.com/CreateJS/EaselJS/tree/master/lib\">GitHub</a> for an updated version with this issue resolved. The fix will be\n\t\t * provided in the next release of EaselJS.\n\t\t * @property mouseEnabled\n\t\t * @type {Boolean}\n\t\t * @default true\n\t\t **/\n\t\tthis.mouseEnabled = true;\n\n\t\t/**\n\t\t * If false, the tick will not run on this display object (or its children). This can provide some performance benefits.\n\t\t * In addition to preventing the \"tick\" event from being dispatched, it will also prevent tick related updates\n\t\t * on some display objects (ex. Sprite & MovieClip frame advancing, and DOMElement display properties).\n\t\t * @property tickEnabled\n\t\t * @type Boolean\n\t\t * @default true\n\t\t **/\n\t\tthis.tickEnabled = true;\n\n\t\t/**\n\t\t * An optional name for this display object. Included in {{#crossLink \"DisplayObject/toString\"}}{{/crossLink}} . Useful for\n\t\t * debugging.\n\t\t * @property name\n\t\t * @type {String}\n\t\t * @default null\n\t\t **/\n\t\tthis.name = null;\n\n\t\t/**\n\t\t * A reference to the {{#crossLink \"Container\"}}{{/crossLink}} or {{#crossLink \"Stage\"}}{{/crossLink}} object that\n\t\t * contains this display object, or null if it has not been added\n\t\t * to one.\n\t\t * @property parent\n\t\t * @final\n\t\t * @type {Container}\n\t\t * @default null\n\t\t * @readonly\n\t\t **/\n\t\tthis.parent = null;\n\n\t\t/**\n\t\t * The left offset for this display object's registration point. For example, to make a 100x100px Bitmap rotate\n\t\t * around its center, you would set regX and {{#crossLink \"DisplayObject/regY:property\"}}{{/crossLink}} to 50.\n\t\t * Cached object's registration points should be set based on pre-cache conditions, not cached size.\n\t\t * @property regX\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t **/\n\t\tthis.regX = 0;\n\n\t\t/**\n\t\t * The y offset for this display object's registration point. For example, to make a 100x100px Bitmap rotate around\n\t\t * its center, you would set {{#crossLink \"DisplayObject/regX:property\"}}{{/crossLink}} and regY to 50.\n\t\t * Cached object's registration points should be set based on pre-cache conditions, not cached size.\n\t\t * @property regY\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t **/\n\t\tthis.regY = 0;\n\n\t\t/**\n\t\t * The rotation in degrees for this display object.\n\t\t * @property rotation\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t **/\n\t\tthis.rotation = 0;\n\n\t\t/**\n\t\t * The factor to stretch this display object horizontally. For example, setting scaleX to 2 will stretch the display\n\t\t * object to twice its nominal width. To horizontally flip an object, set the scale to a negative number.\n\t\t * @property scaleX\n\t\t * @type {Number}\n\t\t * @default 1\n\t\t **/\n\t\tthis.scaleX = 1;\n\n\t\t/**\n\t\t * The factor to stretch this display object vertically. For example, setting scaleY to 0.5 will stretch the display\n\t\t * object to half its nominal height. To vertically flip an object, set the scale to a negative number.\n\t\t * @property scaleY\n\t\t * @type {Number}\n\t\t * @default 1\n\t\t **/\n\t\tthis.scaleY = 1;\n\n\t\t/**\n\t\t * The factor to skew this display object horizontally.\n\t\t * @property skewX\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t **/\n\t\tthis.skewX = 0;\n\n\t\t/**\n\t\t * The factor to skew this display object vertically.\n\t\t * @property skewY\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t **/\n\t\tthis.skewY = 0;\n\n\t\t/**\n\t\t * A shadow object that defines the shadow to render on this display object. Set to `null` to remove a shadow. If\n\t\t * null, this property is inherited from the parent container.\n\t\t * @property shadow\n\t\t * @type {Shadow}\n\t\t * @default null\n\t\t **/\n\t\tthis.shadow = null;\n\n\t\t/**\n\t\t * Indicates whether this display object should be rendered to the canvas and included when running the Stage\n\t\t * {{#crossLink \"Stage/getObjectsUnderPoint\"}}{{/crossLink}} method.\n\t\t * @property visible\n\t\t * @type {Boolean}\n\t\t * @default true\n\t\t **/\n\t\tthis.visible = true;\n\n\t\t/**\n\t\t * The x (horizontal) position of the display object, relative to its parent.\n\t\t * @property x\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t **/\n\t\tthis.x = 0;\n\n\t\t/** The y (vertical) position of the display object, relative to its parent.\n\t\t * @property y\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t **/\n\t\tthis.y = 0;\n\n\t\t/**\n\t\t * If set, defines the transformation for this display object, overriding all other transformation properties\n\t\t * (x, y, rotation, scale, skew).\n\t\t * @property transformMatrix\n\t\t * @type {Matrix2D}\n\t\t * @default null\n\t\t **/\n\t\tthis.transformMatrix = null;\n\n\t\t/**\n\t\t * The composite operation indicates how the pixels of this display object will be composited with the elements\n\t\t * behind it. If `null`, this property is inherited from the parent container. For more information, read the\n\t\t * <a href=\"https://html.spec.whatwg.org/multipage/scripting.html#dom-context-2d-globalcompositeoperation\">\n\t\t * whatwg spec on compositing</a>. For a list of supported compositeOperation value, visit\n\t\t * <a href=\"https://drafts.fxtf.org/compositing/\">the W3C draft on Compositing and Blending</a>.\n\t\t * @property compositeOperation\n\t\t * @type {String}\n\t\t * @default null\n\t\t **/\n\t\tthis.compositeOperation = null;\n\n\t\t/**\n\t\t * Indicates whether the display object should be drawn to a whole pixel when\n\t\t * {{#crossLink \"Stage/snapToPixelEnabled\"}}{{/crossLink}} is true. To enable/disable snapping on whole\n\t\t * categories of display objects, set this value on the prototype (Ex. Text.prototype.snapToPixel = true).\n\t\t * @property snapToPixel\n\t\t * @type {Boolean}\n\t\t * @default true\n\t\t **/\n\t\tthis.snapToPixel = true;\n\n\t\t/**\n\t\t * An array of Filter objects to apply to this display object. Filters are only applied / updated when {{#crossLink \"cache\"}}{{/crossLink}}\n\t\t * or {{#crossLink \"updateCache\"}}{{/crossLink}} is called on the display object, and only apply to the area that is\n\t\t * cached.\n\t\t * @property filters\n\t\t * @type {Array}\n\t\t * @default null\n\t\t **/\n\t\tthis.filters = null;\n\n\t\t/**\n\t\t * A Shape instance that defines a vector mask (clipping path) for this display object.  The shape's transformation\n\t\t * will be applied relative to the display object's parent coordinates (as if it were a child of the parent).\n\t\t * @property mask\n\t\t * @type {Shape}\n\t\t * @default null\n\t\t */\n\t\tthis.mask = null;\n\n\t\t/**\n\t\t * A display object that will be tested when checking mouse interactions or testing {{#crossLink \"Container/getObjectsUnderPoint\"}}{{/crossLink}}.\n\t\t * The hit area will have its transformation applied relative to this display object's coordinate space (as though\n\t\t * the hit test object were a child of this display object and relative to its regX/Y). The hitArea will be tested\n\t\t * using only its own `alpha` value regardless of the alpha value on the target display object, or the target's\n\t\t * ancestors (parents).\n\t\t * \n\t\t * If set on a {{#crossLink \"Container\"}}{{/crossLink}}, children of the Container will not receive mouse events.\n\t\t * This is similar to setting {{#crossLink \"mouseChildren\"}}{{/crossLink}} to false.\n\t\t *\n\t\t * Note that hitArea is NOT currently used by the `hitTest()` method, nor is it supported for {{#crossLink \"Stage\"}}{{/crossLink}}.\n\t\t * @property hitArea\n\t\t * @type {DisplayObject}\n\t\t * @default null\n\t\t */\n\t\tthis.hitArea = null;\n\n\t\t/**\n\t\t * A CSS cursor (ex. \"pointer\", \"help\", \"text\", etc) that will be displayed when the user hovers over this display\n\t\t * object. You must enable mouseover events using the {{#crossLink \"Stage/enableMouseOver\"}}{{/crossLink}} method to\n\t\t * use this property. Setting a non-null cursor on a Container will override the cursor set on its descendants.\n\t\t * @property cursor\n\t\t * @type {String}\n\t\t * @default null\n\t\t */\n\t\tthis.cursor = null;\n\n\n\t// private properties:\n\t\t/**\n\t\t * Moved to {{#crossLink \"BitmapCache\"}}{{/crossLink}}\n\t\t * @property _cacheScale\n\t\t * @protected\n\t\t * @type {Number}\n\t\t * @default 1\n\t\t * @deprecated\n\t\t **/\n\n\t\t/**\n\t\t * Moved to {{#crossLink \"BitmapCache\"}}{{/crossLink}}\n\t\t * @property _cacheDataURLID\n\t\t * @protected\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @deprecated\n\t\t */\n\n\t\t/**\n\t\t * Moved to {{#crossLink \"BitmapCache\"}}{{/crossLink}}\n\t\t * @property _cacheDataURL\n\t\t * @protected\n\t\t * @type {String}\n\t\t * @default null\n\t\t * @deprecated\n\t\t */\n\n\t\t/**\n\t\t * @property _props\n\t\t * @protected\n\t\t * @type {DisplayObject}\n\t\t * @default null\n\t\t **/\n\t\tthis._props = new createjs.DisplayProps();\n\n\t\t/**\n\t\t * @property _rectangle\n\t\t * @protected\n\t\t * @type {Rectangle}\n\t\t * @default null\n\t\t **/\n\t\tthis._rectangle = new createjs.Rectangle();\n\n\t\t/**\n\t\t * @property _bounds\n\t\t * @protected\n\t\t * @type {Rectangle}\n\t\t * @default null\n\t\t **/\n\t\tthis._bounds = null;\n\n\t\t/**\n\t\t * Where StageGL should look for required display properties, matters only for leaf display objects. Containers\n\t\t * or cached objects won't use this property, it's for native display of terminal elements.\n\t\t * @property _webGLRenderStyle\n\t\t * @protected\n\t\t * @type {number}\n\t\t * @default 0\n\t\t */\n\t\tthis._webGLRenderStyle = DisplayObject._StageGL_NONE;\n\t}\n\tvar p = createjs.extend(DisplayObject, createjs.EventDispatcher);\n\n// static properties:\n\t/**\n\t * Listing of mouse event names. Used in _hasMouseEventListener.\n\t * @property _MOUSE_EVENTS\n\t * @protected\n\t * @static\n\t * @type {Array}\n\t **/\n\tDisplayObject._MOUSE_EVENTS = [\"click\",\"dblclick\",\"mousedown\",\"mouseout\",\"mouseover\",\"pressmove\",\"pressup\",\"rollout\",\"rollover\"];\n\n\t/**\n\t * Suppresses errors generated when using features like hitTest, mouse events, and {{#crossLink \"getObjectsUnderPoint\"}}{{/crossLink}}\n\t * with cross domain content.\n\t * @property suppressCrossDomainErrors\n\t * @static\n\t * @type {Boolean}\n\t * @default false\n\t **/\n\tDisplayObject.suppressCrossDomainErrors = false;\n\n\t/**\n\t * @property _snapToPixelEnabled\n\t * @protected\n\t * @static\n\t * @type {Boolean}\n\t * @default false\n\t **/\n\tDisplayObject._snapToPixelEnabled = false; // stage.snapToPixelEnabled is temporarily copied here during a draw to provide global access.\n\n\t/**\n\t * Enum like property for determining StageGL render lookup, i.e. where to expect properties.\n\t * @property _StageGL_NONE\n\t * @protected\n\t * @static\n\t * @type {number}\n\t */\n\tDisplayObject._StageGL_NONE = 0;\n\n\t/**\n\t * Enum like property for determining StageGL render lookup, i.e. where to expect properties.\n\t * @property _StageGL_SPRITE\n\t * @protected\n\t * @static\n\t * @type {number}\n\t */\n\tDisplayObject._StageGL_SPRITE = 1;\n\n\t/**\n\t * Enum like property for determining StageGL render lookup, i.e. where to expect properties.\n\t * @property _StageGL_BITMAP\n\t * @protected\n\t * @static\n\t * @type {number}\n\t */\n\tDisplayObject._StageGL_BITMAP = 2;\n\n\t/**\n\t * @property _hitTestCanvas\n\t * @type {HTMLCanvasElement | Object}\n\t * @static\n\t * @protected\n\t **/\n\t/**\n\t * @property _hitTestContext\n\t * @type {CanvasRenderingContext2D}\n\t * @static\n\t * @protected\n\t **/\n\tvar canvas = createjs.createCanvas?createjs.createCanvas():document.createElement(\"canvas\"); // prevent errors on load in browsers without canvas.\n\tif (canvas.getContext) {\n\t\tDisplayObject._hitTestCanvas = canvas;\n\t\tDisplayObject._hitTestContext = canvas.getContext(\"2d\");\n\t\tcanvas.width = canvas.height = 1;\n\t}\n\n// events:\n\t/**\n\t * Dispatched when the user presses their left mouse button over the display object. See the \n\t * {{#crossLink \"MouseEvent\"}}{{/crossLink}} class for a listing of event properties.\n\t * @event mousedown\n\t * @since 0.6.0\n\t */\n\n\t/**\n\t * Dispatched when the user presses their left mouse button and then releases it while over the display object.\n\t * See the {{#crossLink \"MouseEvent\"}}{{/crossLink}} class for a listing of event properties.\n\t * @event click\n\t * @since 0.6.0\n\t */\n\n\t/**\n\t * Dispatched when the user double clicks their left mouse button over this display object.\n\t * See the {{#crossLink \"MouseEvent\"}}{{/crossLink}} class for a listing of event properties.\n\t * @event dblclick\n\t * @since 0.6.0\n\t */\n\n\t/**\n\t * Dispatched when the user's mouse enters this display object. This event must be enabled using \n\t * {{#crossLink \"Stage/enableMouseOver\"}}{{/crossLink}}. See also {{#crossLink \"DisplayObject/rollover:event\"}}{{/crossLink}}.\n\t * See the {{#crossLink \"MouseEvent\"}}{{/crossLink}} class for a listing of event properties.\n\t * @event mouseover\n\t * @since 0.6.0\n\t */\n\n\t/**\n\t * Dispatched when the user's mouse leaves this display object. This event must be enabled using \n\t * {{#crossLink \"Stage/enableMouseOver\"}}{{/crossLink}}. See also {{#crossLink \"DisplayObject/rollout:event\"}}{{/crossLink}}.\n\t * See the {{#crossLink \"MouseEvent\"}}{{/crossLink}} class for a listing of event properties.\n\t * @event mouseout\n\t * @since 0.6.0\n\t */\n\n\t/**\n\t * This event is similar to {{#crossLink \"DisplayObject/mouseover:event\"}}{{/crossLink}}, with the following\n\t * differences: it does not bubble, and it considers {{#crossLink \"Container\"}}{{/crossLink}} instances as an\n\t * aggregate of their content.\n\t * \n\t * For example, myContainer contains two overlapping children: shapeA and shapeB. The user moves their mouse over\n\t * shapeA and then directly on to shapeB. With a listener for {{#crossLink \"mouseover:event\"}}{{/crossLink}} on\n\t * myContainer, two events would be received, each targeting a child element:<OL>\n\t * <LI>when the mouse enters shapeA (target=shapeA)</LI>\n\t * <LI>when the mouse enters shapeB (target=shapeB)</LI>\n\t * </OL>\n\t * However, with a listener for \"rollover\" instead, only a single event is received when the mouse first enters\n\t * the aggregate myContainer content (target=myContainer).\n\t * \n\t * This event must be enabled using {{#crossLink \"Stage/enableMouseOver\"}}{{/crossLink}}.\n\t * See the {{#crossLink \"MouseEvent\"}}{{/crossLink}} class for a listing of event properties.\n\t * @event rollover\n\t * @since 0.7.0\n\t */\n\n\t/**\n\t * This event is similar to {{#crossLink \"DisplayObject/mouseout:event\"}}{{/crossLink}}, with the following\n\t * differences: it does not bubble, and it considers {{#crossLink \"Container\"}}{{/crossLink}} instances as an\n\t * aggregate of their content.\n\t * \n\t * For example, myContainer contains two overlapping children: shapeA and shapeB. The user moves their mouse over\n\t * shapeA, then directly on to shapeB, then off both. With a listener for {{#crossLink \"mouseout:event\"}}{{/crossLink}}\n\t * on myContainer, two events would be received, each targeting a child element:<OL>\n\t * <LI>when the mouse leaves shapeA (target=shapeA)</LI>\n\t * <LI>when the mouse leaves shapeB (target=shapeB)</LI>\n\t * </OL>\n\t * However, with a listener for \"rollout\" instead, only a single event is received when the mouse leaves\n\t * the aggregate myContainer content (target=myContainer).\n\t * \n\t * This event must be enabled using {{#crossLink \"Stage/enableMouseOver\"}}{{/crossLink}}.\n\t * See the {{#crossLink \"MouseEvent\"}}{{/crossLink}} class for a listing of event properties.\n\t * @event rollout\n\t * @since 0.7.0\n\t */\n\n\t/**\n\t * After a {{#crossLink \"DisplayObject/mousedown:event\"}}{{/crossLink}} occurs on a display object, a pressmove\n\t * event will be generated on that object whenever the mouse moves until the mouse press is released. This can be\n\t * useful for dragging and similar operations.\n\t *\n\t * **Please note** that if the initial mouse target from a `mousedown` event is removed from the stage after being pressed\n\t * (e.g. during a `pressmove` event), a `pressmove` event is still generated. However since it is no longer in the\n\t * display list, the event can not bubble. This means that previous ancestors (parent containers) will not receive\n\t * the event, and therefore can not re-dispatch it. If you intend to listen for `{{#crossLink \"DisplayObject/pressup:event\"}}{{/crossLink}}`\n\t * or `pressmove` on a dynamic object (such as a {{#crossLink \"MovieClip\"}}{{/crossLink}} or {{#crossLink \"Container\"}}{{/crossLink}}),\n\t * then ensure you set {{#crossLink \"Container/mouseChildren:property\"}}{{/crossLink}} to `false`.\n\t * @event pressmove\n\t * @since 0.7.0\n\t */\n\n\t/**\n\t * After a {{#crossLink \"DisplayObject/mousedown:event\"}}{{/crossLink}} occurs on a display object, a pressup event\n\t * will be generated on that object when that mouse press is released. This can be useful for dragging and similar\n\t * operations.\n\t *\n\t * **Please note** that if the initial mouse target from a `mousedown` event is removed from the stage after being pressed\n\t * (e.g. during a `pressmove` event), a `pressup` event is still generated. However since it is no longer in the\n\t * display list, the event can not bubble. This means that previous ancestors (parent containers) will not receive\n\t * the event, and therefore can not re-dispatch it. If you intend to listen for `{{#crossLink \"DisplayObject/pressmove:event\"}}{{/crossLink}}`\n\t * or `pressup` on a dynamic object (such as a {{#crossLink \"MovieClip\"}}{{/crossLink}} or {{#crossLink \"Container\"}}{{/crossLink}}),\n\t * then ensure you set {{#crossLink \"Container/mouseChildren:property\"}}{{/crossLink}} to `false`.\n\t * @event pressup\n\t * @since 0.7.0\n\t */\n\n\t/**\n\t * Dispatched when the display object is added to a parent container.\n\t * @event added\n\t */\n\n\t/**\n\t * Dispatched when the display object is removed from its parent container.\n\t * @event removed\n\t */\n\n\t/**\n\t * Dispatched on each display object on a stage whenever the stage updates. This occurs immediately before the\n\t * rendering (draw) pass. When {{#crossLink \"Stage/update\"}}{{/crossLink}} is called, first all display objects on\n\t * the stage dispatch the tick event, then all of the display objects are drawn to stage. Children will have their\n\t * {{#crossLink \"tick:event\"}}{{/crossLink}} event dispatched in order of their depth prior to the event being\n\t * dispatched on their parent.\n\t * @event tick\n\t * @param {Object} target The object that dispatched the event.\n\t * @param {String} type The event type.\n\t * @param {Array} params An array containing any arguments that were passed to the Stage.update() method. For\n\t *      example if you called stage.update(\"hello\"), then the params would be [\"hello\"].\n\t * @since 0.6.0\n\t */\n\n\n// getter / setters:\n\t/**\n\t * Use the {{#crossLink \"DisplayObject/stage:property\"}}{{/crossLink}} property instead.\n\t * @method _getStage\n\t * @protected\n\t * @return {Stage}\n\t **/\n\tp._getStage = function() {\n\t\t// uses dynamic access to avoid circular dependencies;\n\t\tvar o = this, _Stage = createjs[\"Stage\"];\n\t\twhile (o.parent) { o = o.parent; }\n\t\tif (o instanceof _Stage) { return o; }\n\t\treturn null;\n\t};\n\t// DisplayObject.getStage is @deprecated. Remove for 1.1+\n\tp.getStage = createjs.deprecate(p._getStage, \"DisplayObject.getStage\");\n\n\t/**\n\t * Returns the Stage instance that this display object will be rendered on, or null if it has not been added to one.\n\t * @property stage\n\t * @type {Stage}\n\t * @readonly\n\t **/\n\n\t/**\n\t * Returns an ID number that uniquely identifies the current cache for this display object. This can be used to\n\t * determine if the cache has changed since a previous check.\n\t * Moved to {{#crossLink \"BitmapCache\"}}{{/crossLink}}\n\t * @property cacheID\n\t * @deprecated\n\t * @type {Number}\n\t * @default 0\n\t */\n\n\t/**\n\t * Set both the {{#crossLink \"DisplayObject/scaleX:property\"}}{{/crossLink}} and the {{#crossLink \"DisplayObject/scaleY\"}}{{/crossLink}}\n\t * property to the same value. Note that when you get the value, if the `scaleX` and `scaleY` are different values,\n\t * it will return only the `scaleX`.\n\t * @property scaleX\n\t * @type {Number}\n\t * @default 1\n\t */\n\ttry {\n\t\tObject.defineProperties(p, {\n\t\t\tstage: { get: p._getStage },\n\t\t\tcacheID: {\n\t\t\t\tget: function(){ return this.bitmapCache && this.bitmapCache.cacheID },\n\t\t\t\tset: function(a){ this.bitmapCache && (this.bitmapCache.cacheID = a) }\n\t\t\t},\n\t\t\tscale: {\n\t\t\t\tget: function() { return this.scaleX; },\n\t\t\t\tset: function(scale) { this.scaleX = this.scaleY = scale; },\n\t\t\t}\n\t\t});\n\t} catch (e) {}\n\n\n// public methods:\n\t/**\n\t * Returns true or false indicating whether the display object would be visible if drawn to a canvas.\n\t * This does not account for whether it would be visible within the boundaries of the stage.\n\t *\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\n\t * @method isVisible\n\t * @return {Boolean} Boolean indicating whether the display object would be visible if drawn to a canvas\n\t **/\n\tp.isVisible = function() {\n\t\treturn !!(this.visible && this.alpha > 0 && this.scaleX != 0 && this.scaleY != 0);\n\t};\n\n\t/**\n\t * Draws the display object into the specified context ignoring its visible, alpha, shadow, and transform.\n\t * Returns <code>true</code> if the draw was handled (useful for overriding functionality).\n\t *\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\n\t * @method draw\n\t * @param {CanvasRenderingContext2D} ctx The canvas 2D context object to draw into.\n\t * @param {Boolean} [ignoreCache=false] Indicates whether the draw operation should ignore any current cache. For example,\n\t * used for drawing the cache (to prevent it from simply drawing an existing cache back into itself).\n\t * @return {Boolean}\n\t **/\n\tp.draw = function(ctx, ignoreCache) {\n\t\tvar cache = this.bitmapCache;\n\t\tif(cache && !ignoreCache) {\n\t\t\treturn cache.draw(ctx);\n\t\t}\n\t\treturn false;\n\t};\n\n\t/**\n\t * Applies this display object's transformation, alpha, globalCompositeOperation, clipping path (mask), and shadow\n\t * to the specified context. This is typically called prior to {{#crossLink \"DisplayObject/draw\"}}{{/crossLink}}.\n\t * @method updateContext\n\t * @param {CanvasRenderingContext2D} ctx The canvas 2D to update.\n\t **/\n\tp.updateContext = function(ctx) {\n\t\tvar o=this, mask=o.mask, mtx= o._props.matrix;\n\t\t\n\t\tif (mask && mask.graphics && !mask.graphics.isEmpty()) {\n\t\t\tmask.getMatrix(mtx);\n\t\t\tctx.transform(mtx.a,  mtx.b, mtx.c, mtx.d, mtx.tx, mtx.ty);\n\t\t\t\n\t\t\tmask.graphics.drawAsPath(ctx);\n\t\t\tctx.clip();\n\t\t\t\n\t\t\tmtx.invert();\n\t\t\tctx.transform(mtx.a,  mtx.b, mtx.c, mtx.d, mtx.tx, mtx.ty);\n\t\t}\n\t\t\n\t\tthis.getMatrix(mtx);\n\t\tvar tx = mtx.tx, ty = mtx.ty;\n\t\tif (DisplayObject._snapToPixelEnabled && o.snapToPixel) {\n\t\t\ttx = tx + (tx < 0 ? -0.5 : 0.5) | 0;\n\t\t\tty = ty + (ty < 0 ? -0.5 : 0.5) | 0;\n\t\t}\n\t\tctx.transform(mtx.a,  mtx.b, mtx.c, mtx.d, tx, ty);\n\t\tctx.globalAlpha *= o.alpha;\n\t\tif (o.compositeOperation) { ctx.globalCompositeOperation = o.compositeOperation; }\n\t\tif (o.shadow) { this._applyShadow(ctx, o.shadow); }\n\t};\n\n\t/**\n\t * Draws the display object into a new element, which is then used for subsequent draws. Intended for complex content\n\t * that does not change frequently (ex. a Container with many children that do not move, or a complex vector Shape),\n\t * this can provide for much faster rendering because the content does not need to be re-rendered each tick. The\n\t * cached display object can be moved, rotated, faded, etc freely, however if its content changes, you must manually\n\t * update the cache by calling <code>updateCache()</code> again. You must specify the cached area via the x, y, w,\n\t * and h parameters. This defines the rectangle that will be rendered and cached using this display object's coordinates.\n\t *\n\t * <h4>Example</h4>\n\t * For example if you defined a Shape that drew a circle at 0, 0 with a radius of 25:\n\t *\n\t *      var shape = new createjs.Shape();\n\t *      shape.graphics.beginFill(\"#ff0000\").drawCircle(0, 0, 25);\n\t *      shape.cache(-25, -25, 50, 50);\n\t *\n\t * Note that filters need to be defined <em>before</em> the cache is applied or you will have to call updateCache after\n\t * application. Check out the {{#crossLink \"Filter\"}}{{/crossLink}} class for more information. Some filters\n\t * (ex. BlurFilter) may not work as expected in conjunction with the scale param.\n\t * \n\t * Usually, the resulting cacheCanvas will have the dimensions width * scale, height * scale, however some filters (ex. BlurFilter)\n\t * will add padding to the canvas dimensions.\n\t *\n\t * In previous versions caching was handled on DisplayObject but has since been moved to {{#crossLink \"BitmapCache\"}}{{/crossLink}}.\n\t * This allows for easier interaction and alternate cache methods like WebGL with {{#crossLink \"StageGL\"}}{{/crossLink}}.\n\t * For more information on the options object, see the BitmapCache {{#crossLink \"BitmapCache/define\"}}{{/crossLink}}.\n\t *\n\t * @method cache\n\t * @param {Number} x The x coordinate origin for the cache region.\n\t * @param {Number} y The y coordinate origin for the cache region.\n\t * @param {Number} width The width of the cache region.\n\t * @param {Number} height The height of the cache region.\n\t * @param {Number} [scale=1] The scale at which the cache will be created. For example, if you cache a vector shape using\n\t * \tmyShape.cache(0,0,100,100,2) then the resulting cacheCanvas will be 200x200 px. This lets you scale and rotate\n\t * \tcached elements with greater fidelity. Default is 1.\n\t * @param {Object} [options=undefined] Specify additional parameters for the cache logic\n\t **/\n\tp.cache = function(x, y, width, height, scale, options) {\n\t\tif(!this.bitmapCache){\n\t\t\tthis.bitmapCache = new createjs.BitmapCache();\n\t\t}\n\t\tthis.bitmapCache.define(this, x, y, width, height, scale, options);\n\t};\n\n\t/**\n\t * Redraws the display object to its cache. Calling updateCache without an active cache will throw an error.\n\t * If compositeOperation is null the current cache will be cleared prior to drawing. Otherwise the display object\n\t * will be drawn over the existing cache using the specified compositeOperation.\n\t *\n\t * <h4>Example</h4>\n\t * Clear the current graphics of a cached shape, draw some new instructions, and then update the cache. The new line\n\t * will be drawn on top of the old one.\n\t *\n\t *      // Not shown: Creating the shape, and caching it.\n\t *      shapeInstance.clear();\n\t *      shapeInstance.setStrokeStyle(3).beginStroke(\"#ff0000\").moveTo(100, 100).lineTo(200,200);\n\t *      shapeInstance.updateCache();\n\t *\n\t * In previous versions caching was handled on DisplayObject but has since been moved to {{#crossLink \"BitmapCache\"}}{{/crossLink}}.\n\t * This allows for easier interaction and alternate cache methods like WebGL and {{#crossLink \"StageGL\"}}{{/crossLink}}.\n\t *\n\t * @method updateCache\n\t * @param {String} compositeOperation The compositeOperation to use, or null to clear the cache and redraw it.\n\t * <a href=\"https://html.spec.whatwg.org/multipage/scripting.html#dom-context-2d-globalcompositeoperation\">\n\t * whatwg spec on compositing</a>.\n\t **/\n\tp.updateCache = function(compositeOperation) {\n\t\tif(!this.bitmapCache) {\n\t\t\tthrow \"cache() must be called before updateCache()\";\n\t\t}\n\t\tthis.bitmapCache.update(compositeOperation);\n\t};\n\n\t/**\n\t * Clears the current cache. See {{#crossLink \"DisplayObject/cache\"}}{{/crossLink}} for more information.\n\t * @method uncache\n\t **/\n\tp.uncache = function() {\n\t\tif(this.bitmapCache) {\n\t\t\tthis.bitmapCache.release();\n\t\t\tthis.bitmapCache = undefined;\n\t\t}\n\t};\n\n\t/**\n\t * Returns a data URL for the cache, or null if this display object is not cached.\n\t * Only generated if the cache has changed, otherwise returns last result.\n\t * @method getCacheDataURL\n\t * @return {String} The image data url for the cache.\n\t **/\n\tp.getCacheDataURL = function() {\n\t\treturn this.bitmapCache?this.bitmapCache.getDataURL():null;\n\t};\n\n\t/**\n\t * Transforms the specified x and y position from the coordinate space of the display object\n\t * to the global (stage) coordinate space. For example, this could be used to position an HTML label\n\t * over a specific point on a nested display object. Returns a Point instance with x and y properties\n\t * correlating to the transformed coordinates on the stage.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *      displayObject.x = 300;\n\t *      displayObject.y = 200;\n\t *      stage.addChild(displayObject);\n\t *      var point = displayObject.localToGlobal(100, 100);\n\t *      // Results in x=400, y=300\n\t *\n\t * @method localToGlobal\n\t * @param {Number} x The x position in the source display object to transform.\n\t * @param {Number} y The y position in the source display object to transform.\n\t * @param {Point | Object} [pt] An object to copy the result into. If omitted a new Point object with x/y properties will be returned. \n\t * @return {Point} A Point instance with x and y properties correlating to the transformed coordinates\n\t * on the stage.\n\t **/\n\tp.localToGlobal = function(x, y, pt) {\n\t\treturn this.getConcatenatedMatrix(this._props.matrix).transformPoint(x,y, pt||new createjs.Point());\n\t};\n\n\t/**\n\t * Transforms the specified x and y position from the global (stage) coordinate space to the\n\t * coordinate space of the display object. For example, this could be used to determine\n\t * the current mouse position within the display object. Returns a Point instance with x and y properties\n\t * correlating to the transformed position in the display object's coordinate space.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *      displayObject.x = 300;\n\t *      displayObject.y = 200;\n\t *      stage.addChild(displayObject);\n\t *      var point = displayObject.globalToLocal(100, 100);\n\t *      // Results in x=-200, y=-100\n\t *\n\t * @method globalToLocal\n\t * @param {Number} x The x position on the stage to transform.\n\t * @param {Number} y The y position on the stage to transform.\n\t * @param {Point | Object} [pt] An object to copy the result into. If omitted a new Point object with x/y properties will be returned. \n\t * @return {Point} A Point instance with x and y properties correlating to the transformed position in the\n\t * display object's coordinate space.\n\t **/\n\tp.globalToLocal = function(x, y, pt) {\n\t\treturn this.getConcatenatedMatrix(this._props.matrix).invert().transformPoint(x,y, pt||new createjs.Point());\n\t};\n\n\t/**\n\t * Transforms the specified x and y position from the coordinate space of this display object to the coordinate\n\t * space of the target display object. Returns a Point instance with x and y properties correlating to the\n\t * transformed position in the target's coordinate space. Effectively the same as using the following code with\n\t * {{#crossLink \"DisplayObject/localToGlobal\"}}{{/crossLink}} and {{#crossLink \"DisplayObject/globalToLocal\"}}{{/crossLink}}.\n\t *\n\t *      var pt = this.localToGlobal(x, y);\n\t *      pt = target.globalToLocal(pt.x, pt.y);\n\t *\n\t * @method localToLocal\n\t * @param {Number} x The x position in the source display object to transform.\n\t * @param {Number} y The y position on the source display object to transform.\n\t * @param {DisplayObject} target The target display object to which the coordinates will be transformed.\n\t * @param {Point | Object} [pt] An object to copy the result into. If omitted a new Point object with x/y properties will be returned. \n\t * @return {Point} Returns a Point instance with x and y properties correlating to the transformed position\n\t * in the target's coordinate space.\n\t **/\n\tp.localToLocal = function(x, y, target, pt) {\n\t\tpt = this.localToGlobal(x, y, pt);\n\t\treturn target.globalToLocal(pt.x, pt.y, pt);\n\t};\n\n\t/**\n\t * Shortcut method to quickly set the transform properties on the display object. All parameters are optional.\n\t * Omitted parameters will have the default value set.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *      displayObject.setTransform(100, 100, 2, 2);\n\t *\n\t * @method setTransform\n\t * @param {Number} [x=0] The horizontal translation (x position) in pixels\n\t * @param {Number} [y=0] The vertical translation (y position) in pixels\n\t * @param {Number} [scaleX=1] The horizontal scale, as a percentage of 1\n\t * @param {Number} [scaleY=1] the vertical scale, as a percentage of 1\n\t * @param {Number} [rotation=0] The rotation, in degrees\n\t * @param {Number} [skewX=0] The horizontal skew factor\n\t * @param {Number} [skewY=0] The vertical skew factor\n\t * @param {Number} [regX=0] The horizontal registration point in pixels\n\t * @param {Number} [regY=0] The vertical registration point in pixels\n\t * @return {DisplayObject} Returns this instance. Useful for chaining commands.\n\t * @chainable\n\t*/\n\tp.setTransform = function(x, y, scaleX, scaleY, rotation, skewX, skewY, regX, regY) {\n\t\tthis.x = x || 0;\n\t\tthis.y = y || 0;\n\t\tthis.scaleX = scaleX == null ? 1 : scaleX;\n\t\tthis.scaleY = scaleY == null ? 1 : scaleY;\n\t\tthis.rotation = rotation || 0;\n\t\tthis.skewX = skewX || 0;\n\t\tthis.skewY = skewY || 0;\n\t\tthis.regX = regX || 0;\n\t\tthis.regY = regY || 0;\n\t\treturn this;\n\t};\n\n\t/**\n\t * Returns a matrix based on this object's current transform.\n\t * @method getMatrix\n\t * @param {Matrix2D} matrix Optional. A Matrix2D object to populate with the calculated values. If null, a new\n\t * Matrix object is returned.\n\t * @return {Matrix2D} A matrix representing this display object's transform.\n\t **/\n\tp.getMatrix = function(matrix) {\n\t\tvar o = this, mtx = matrix&&matrix.identity() || new createjs.Matrix2D();\n\t\treturn o.transformMatrix ?  mtx.copy(o.transformMatrix) : mtx.appendTransform(o.x, o.y, o.scaleX, o.scaleY, o.rotation, o.skewX, o.skewY, o.regX, o.regY);\n\t};\n\n\t/**\n\t * Generates a Matrix2D object representing the combined transform of the display object and all of its\n\t * parent Containers up to the highest level ancestor (usually the {{#crossLink \"Stage\"}}{{/crossLink}}). This can\n\t * be used to transform positions between coordinate spaces, such as with {{#crossLink \"DisplayObject/localToGlobal\"}}{{/crossLink}}\n\t * and {{#crossLink \"DisplayObject/globalToLocal\"}}{{/crossLink}}.\n\t * @method getConcatenatedMatrix\n\t * @param {Matrix2D} [matrix] A {{#crossLink \"Matrix2D\"}}{{/crossLink}} object to populate with the calculated values.\n\t * If null, a new Matrix2D object is returned.\n\t * @return {Matrix2D} The combined matrix.\n\t **/\n\tp.getConcatenatedMatrix = function(matrix) {\n\t\tvar o = this, mtx = this.getMatrix(matrix);\n\t\twhile (o = o.parent) {\n\t\t\tmtx.prependMatrix(o.getMatrix(o._props.matrix));\n\t\t}\n\t\treturn mtx;\n\t};\n\n\t/**\n\t * Generates a DisplayProps object representing the combined display properties of the  object and all of its\n\t * parent Containers up to the highest level ancestor (usually the {{#crossLink \"Stage\"}}{{/crossLink}}).\n\t * @method getConcatenatedDisplayProps\n\t * @param {DisplayProps} [props] A {{#crossLink \"DisplayProps\"}}{{/crossLink}} object to populate with the calculated values.\n\t * If null, a new DisplayProps object is returned.\n\t * @return {DisplayProps} The combined display properties.\n\t **/\n\tp.getConcatenatedDisplayProps = function(props) {\n\t\tprops = props ? props.identity() : new createjs.DisplayProps();\n\t\tvar o = this, mtx = o.getMatrix(props.matrix); \n\t\tdo {\n\t\t\tprops.prepend(o.visible, o.alpha, o.shadow, o.compositeOperation);\n\t\t\t\n\t\t\t// we do this to avoid problems with the matrix being used for both operations when o._props.matrix is passed in as the props param.\n\t\t\t// this could be simplified (ie. just done as part of the prepend above) if we switched to using a pool.\n\t\t\tif (o != this) { mtx.prependMatrix(o.getMatrix(o._props.matrix)); }\n\t\t} while (o = o.parent);\n\t\treturn props;\n\t};\n\n\t/**\n\t * Tests whether the display object intersects the specified point in local coordinates (ie. draws a pixel with alpha > 0 at\n\t * the specified position). This ignores the alpha, shadow, hitArea, mask, and compositeOperation of the display object.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *      stage.addEventListener(\"stagemousedown\", handleMouseDown);\n\t *      function handleMouseDown(event) {\n\t *          var hit = myShape.hitTest(event.stageX, event.stageY);\n\t *      }\n\t *\n\t * Please note that shape-to-shape collision is not currently supported by EaselJS.\n\t * @method hitTest\n\t * @param {Number} x The x position to check in the display object's local coordinates.\n\t * @param {Number} y The y position to check in the display object's local coordinates.\n\t * @return {Boolean} A Boolean indicating whether a visible portion of the DisplayObject intersect the specified\n\t * local Point.\n\t*/\n\tp.hitTest = function(x, y) {\n\t\tvar ctx = DisplayObject._hitTestContext;\n\t\tctx.setTransform(1, 0, 0, 1, -x, -y);\n\t\tthis.draw(ctx);\n\n\t\tvar hit = this._testHit(ctx);\n\t\tctx.setTransform(1, 0, 0, 1, 0, 0);\n\t\tctx.clearRect(0, 0, 2, 2);\n\t\treturn hit;\n\t};\n\n\t/**\n\t * Provides a chainable shortcut method for setting a number of properties on the instance.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *      var myGraphics = new createjs.Graphics().beginFill(\"#ff0000\").drawCircle(0, 0, 25);\n\t *      var shape = stage.addChild(new Shape()).set({graphics:myGraphics, x:100, y:100, alpha:0.5});\n\t *\n\t * @method set\n\t * @param {Object} props A generic object containing properties to copy to the DisplayObject instance.\n\t * @return {DisplayObject} Returns the instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t*/\n\tp.set = function(props) {\n\t\tfor (var n in props) { this[n] = props[n]; }\n\t\treturn this;\n\t};\n\n\t/**\n\t * Returns a rectangle representing this object's bounds in its local coordinate system (ie. with no transformation).\n\t * Objects that have been cached will return the bounds of the cache.\n\t * \n\t * Not all display objects can calculate their own bounds (ex. Shape). For these objects, you can use \n\t * {{#crossLink \"DisplayObject/setBounds\"}}{{/crossLink}} so that they are included when calculating Container\n\t * bounds.\n\t * \n\t * <table>\n\t * \t<tr><td><b>All</b></td><td>\n\t * \t\tAll display objects support setting bounds manually using setBounds(). Likewise, display objects that\n\t * \t\thave been cached using cache() will return the bounds of their cache. Manual and cache bounds will override\n\t * \t\tthe automatic calculations listed below.\n\t * \t</td></tr>\n\t * \t<tr><td><b>Bitmap</b></td><td>\n\t * \t\tReturns the width and height of the sourceRect (if specified) or image, extending from (x=0,y=0).\n\t * \t</td></tr>\n\t * \t<tr><td><b>Sprite</b></td><td>\n\t * \t\tReturns the bounds of the current frame. May have non-zero x/y if a frame registration point was specified\n\t * \t\tin the spritesheet data. See also {{#crossLink \"SpriteSheet/getFrameBounds\"}}{{/crossLink}}\n\t * \t</td></tr>\n\t * \t<tr><td><b>Container</b></td><td>\n\t * \t\tReturns the aggregate (combined) bounds of all children that return a non-null value from getBounds().\n\t * \t</td></tr>\n\t * \t<tr><td><b>Shape</b></td><td>\n\t * \t\tDoes not currently support automatic bounds calculations. Use setBounds() to manually define bounds.\n\t * \t</td></tr>\n\t * \t<tr><td><b>Text</b></td><td>\n\t * \t\tReturns approximate bounds. Horizontal values (x/width) are quite accurate, but vertical values (y/height) are\n\t * \t\tnot, especially when using textBaseline values other than \"top\".\n\t * \t</td></tr>\n\t * \t<tr><td><b>BitmapText</b></td><td>\n\t * \t\tReturns approximate bounds. Values will be more accurate if spritesheet frame registration points are close\n\t * \t\tto (x=0,y=0).\n\t * \t</td></tr>\n\t* </table>\n\t * \n\t * Bounds can be expensive to calculate for some objects (ex. text, or containers with many children), and\n\t * are recalculated each time you call getBounds(). You can prevent recalculation on static objects by setting the\n\t * bounds explicitly:\n\t * \n\t * \tvar bounds = obj.getBounds();\n\t * \tobj.setBounds(bounds.x, bounds.y, bounds.width, bounds.height);\n\t * \t// getBounds will now use the set values, instead of recalculating\n\t * \n\t * To reduce memory impact, the returned Rectangle instance may be reused internally; clone the instance or copy its\n\t * values if you need to retain it.\n\t * \n\t * \tvar myBounds = obj.getBounds().clone();\n\t * \t// OR:\n\t * \tmyRect.copy(obj.getBounds());\n\t * \n\t * @method getBounds\n\t * @return {Rectangle} A Rectangle instance representing the bounds, or null if bounds are not available for this\n\t * object.\n\t **/\n\tp.getBounds = function() {\n\t\tif (this._bounds) { return this._rectangle.copy(this._bounds); }\n\t\tvar cacheCanvas = this.cacheCanvas;\n\t\tif (cacheCanvas) {\n\t\t\tvar scale = this._cacheScale;\n\t\t\treturn this._rectangle.setValues(this._cacheOffsetX, this._cacheOffsetY, cacheCanvas.width/scale, cacheCanvas.height/scale);\n\t\t}\n\t\treturn null;\n\t};\n\n\t/**\n\t * Returns a rectangle representing this object's bounds in its parent's coordinate system (ie. with transformations applied).\n\t * Objects that have been cached will return the transformed bounds of the cache.\n\t * \n\t * Not all display objects can calculate their own bounds (ex. Shape). For these objects, you can use \n\t * {{#crossLink \"DisplayObject/setBounds\"}}{{/crossLink}} so that they are included when calculating Container\n\t * bounds.\n\t * \n\t * To reduce memory impact, the returned Rectangle instance may be reused internally; clone the instance or copy its\n\t * values if you need to retain it.\n\t * \n\t * Container instances calculate aggregate bounds for all children that return bounds via getBounds.\n\t * @method getTransformedBounds\n\t * @return {Rectangle} A Rectangle instance representing the bounds, or null if bounds are not available for this object.\n\t **/\n\tp.getTransformedBounds = function() {\n\t\treturn this._getBounds();\n\t};\n\n\t/**\n\t * Allows you to manually specify the bounds of an object that either cannot calculate their own bounds (ex. Shape &\n\t * Text) for future reference, or so the object can be included in Container bounds. Manually set bounds will always\n\t * override calculated bounds.\n\t * \n\t * The bounds should be specified in the object's local (untransformed) coordinates. For example, a Shape instance\n\t * with a 25px radius circle centered at 0,0 would have bounds of (-25, -25, 50, 50).\n\t * @method setBounds\n\t * @param {Number} x The x origin of the bounds. Pass null to remove the manual bounds.\n\t * @param {Number} y The y origin of the bounds.\n\t * @param {Number} width The width of the bounds.\n\t * @param {Number} height The height of the bounds.\n\t **/\n\tp.setBounds = function(x, y, width, height) {\n\t\tif (x == null) { this._bounds = x; return; }\n\t\tthis._bounds = (this._bounds || new createjs.Rectangle()).setValues(x, y, width, height);\n\t};\n\n\t/**\n\t * Returns a clone of this DisplayObject. Some properties that are specific to this instance's current context are\n\t * reverted to their defaults (for example .parent). Caches are not maintained across clones, and some elements\n\t * are copied by reference (masks, individual filter instances, hit area)\n\t * @method clone\n\t * @return {DisplayObject} A clone of the current DisplayObject instance.\n\t **/\n\tp.clone = function() {\n\t\treturn this._cloneProps(new DisplayObject());\n\t};\n\n\t/**\n\t * Returns a string representation of this object.\n\t * @method toString\n\t * @return {String} a string representation of the instance.\n\t **/\n\tp.toString = function() {\n\t\treturn \"[DisplayObject (name=\"+  this.name +\")]\";\n\t};\n\n\n// private methods:\n\t/**\n\t * Called before the object gets drawn and is a chance to ensure the display state of the object is correct.\n\t * Mostly used by {{#crossLink \"MovieClip\"}}{{/crossLink}} and {{#crossLink \"BitmapText\"}}{{/crossLink}} to\n\t * correct their internal state and children prior to being drawn.\n\t *\n\t * Is manually called via draw in a {{#crossLink \"Stage\"}}{{/crossLink}} but is automatically called when\n\t * present in a {{#crossLink \"StageGL\"}}{{/crossLink}} instance.\n\t *\n\t * @method _updateState\n\t * @default null\n\t */\n\tp._updateState = null;\n\n\t// separated so it can be used more easily in subclasses:\n\t/**\n\t * @method _cloneProps\n\t * @param {DisplayObject} o The DisplayObject instance which will have properties from the current DisplayObject\n\t * instance copied into.\n\t * @return {DisplayObject} o\n\t * @protected\n\t **/\n\tp._cloneProps = function(o) {\n\t\to.alpha = this.alpha;\n\t\to.mouseEnabled = this.mouseEnabled;\n\t\to.tickEnabled = this.tickEnabled;\n\t\to.name = this.name;\n\t\to.regX = this.regX;\n\t\to.regY = this.regY;\n\t\to.rotation = this.rotation;\n\t\to.scaleX = this.scaleX;\n\t\to.scaleY = this.scaleY;\n\t\to.shadow = this.shadow;\n\t\to.skewX = this.skewX;\n\t\to.skewY = this.skewY;\n\t\to.visible = this.visible;\n\t\to.x  = this.x;\n\t\to.y = this.y;\n\t\to.compositeOperation = this.compositeOperation;\n\t\to.snapToPixel = this.snapToPixel;\n\t\to.filters = this.filters==null?null:this.filters.slice(0);\n\t\to.mask = this.mask;\n\t\to.hitArea = this.hitArea;\n\t\to.cursor = this.cursor;\n\t\to._bounds = this._bounds;\n\t\treturn o;\n\t};\n\n\t/**\n\t * @method _applyShadow\n\t * @protected\n\t * @param {CanvasRenderingContext2D} ctx\n\t * @param {Shadow} shadow\n\t **/\n\tp._applyShadow = function(ctx, shadow) {\n\t\tshadow = shadow || Shadow.identity;\n\t\tctx.shadowColor = shadow.color;\n\t\tctx.shadowOffsetX = shadow.offsetX;\n\t\tctx.shadowOffsetY = shadow.offsetY;\n\t\tctx.shadowBlur = shadow.blur;\n\t};\n\n\t/**\n\t * @method _tick\n\t * @param {Object} evtObj An event object that will be dispatched to all tick listeners. This object is reused between dispatchers to reduce construction & GC costs.\n\t * @protected\n\t **/\n\tp._tick = function(evtObj) {\n\t\t// because tick can be really performance sensitive, check for listeners before calling dispatchEvent.\n\t\tvar ls = this._listeners;\n\t\tif (ls && ls[\"tick\"]) {\n\t\t\t// reset & reuse the event object to avoid construction / GC costs:\n\t\t\tevtObj.target = null;\n\t\t\tevtObj.propagationStopped = evtObj.immediatePropagationStopped = false;\n\t\t\tthis.dispatchEvent(evtObj);\n\t\t}\n\t};\n\n\t/**\n\t * @method _testHit\n\t * @protected\n\t * @param {CanvasRenderingContext2D} ctx\n\t * @return {Boolean}\n\t **/\n\tp._testHit = function(ctx) {\n\t\ttry {\n\t\t\tvar hit = ctx.getImageData(0, 0, 1, 1).data[3] > 1;\n\t\t} catch (e) {\n\t\t\tif (!DisplayObject.suppressCrossDomainErrors) {\n\t\t\t\tthrow \"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images.\";\n\t\t\t}\n\t\t}\n\t\treturn hit;\n\t};\n\n\t/**\n\t * @method _getBounds\n\t * @param {Matrix2D} matrix\n\t * @param {Boolean} ignoreTransform If true, does not apply this object's transform.\n\t * @return {Rectangle}\n\t * @protected\n\t **/\n\tp._getBounds = function(matrix, ignoreTransform){\n\t\treturn this._transformBounds(this.getBounds(), matrix, ignoreTransform);\n\t};\n\n\t/**\n\t * @method _transformBounds\n\t * @param {Rectangle} bounds\n\t * @param {Matrix2D} matrix\n\t * @param {Boolean} ignoreTransform\n\t * @return {Rectangle}\n\t * @protected\n\t **/\n\tp._transformBounds = function(bounds, matrix, ignoreTransform) {\n\t\tif (!bounds) { return bounds; }\n\t\tvar x = bounds.x, y = bounds.y, width = bounds.width, height = bounds.height, mtx = this._props.matrix;\n\t\tmtx = ignoreTransform ? mtx.identity() : this.getMatrix(mtx);\n\t\t\n\t\tif (x || y) { mtx.appendTransform(0,0,1,1,0,0,0,-x,-y); } // TODO: simplify this.\n\t\tif (matrix) { mtx.prependMatrix(matrix); }\n\t\t\n\t\tvar x_a = width*mtx.a, x_b = width*mtx.b;\n\t\tvar y_c = height*mtx.c, y_d = height*mtx.d;\n\t\tvar tx = mtx.tx, ty = mtx.ty;\n\t\t\n\t\tvar minX = tx, maxX = tx, minY = ty, maxY = ty;\n\n\t\tif ((x = x_a + tx) < minX) { minX = x; } else if (x > maxX) { maxX = x; }\n\t\tif ((x = x_a + y_c + tx) < minX) { minX = x; } else if (x > maxX) { maxX = x; }\n\t\tif ((x = y_c + tx) < minX) { minX = x; } else if (x > maxX) { maxX = x; }\n\n\t\tif ((y = x_b + ty) < minY) { minY = y; } else if (y > maxY) { maxY = y; }\n\t\tif ((y = x_b + y_d + ty) < minY) { minY = y; } else if (y > maxY) { maxY = y; }\n\t\tif ((y = y_d + ty) < minY) { minY = y; } else if (y > maxY) { maxY = y; }\n\n\t\treturn bounds.setValues(minX, minY, maxX-minX, maxY-minY);\n\t};\n\n\t/**\n\t * Indicates whether the display object has any mouse event listeners or a cursor.\n\t * @method _isMouseOpaque\n\t * @return {Boolean}\n\t * @protected\n\t **/\n\tp._hasMouseEventListener = function() {\n\t\tvar evts = DisplayObject._MOUSE_EVENTS;\n\t\tfor (var i= 0, l=evts.length; i<l; i++) {\n\t\t\tif (this.hasEventListener(evts[i])) { return true; }\n\t\t}\n\t\treturn !!this.cursor;\n\t};\n\n\tcreatejs.DisplayObject = createjs.promote(DisplayObject, \"EventDispatcher\");\n}());\n\n//##############################################################################\n// Container.js\n//##############################################################################\n\nthis.createjs = this.createjs||{};\n\n(function() {\n\t\"use strict\";\n\t\n\n// constructor:\n/**\n * A Container is a nestable display list that allows you to work with compound display elements. For  example you could\n * group arm, leg, torso and head {{#crossLink \"Bitmap\"}}{{/crossLink}} instances together into a Person Container, and\n * transform them as a group, while still being able to move the individual parts relative to each other. Children of\n * containers have their <code>transform</code> and <code>alpha</code> properties concatenated with their parent\n * Container.\n *\n * For example, a {{#crossLink \"Shape\"}}{{/crossLink}} with x=100 and alpha=0.5, placed in a Container with <code>x=50</code>\n * and <code>alpha=0.7</code> will be rendered to the canvas at <code>x=150</code> and <code>alpha=0.35</code>.\n * Containers have some overhead, so you generally shouldn't create a Container to hold a single child.\n *\n * <h4>Example</h4>\n *\n *      var container = new createjs.Container();\n *      container.addChild(bitmapInstance, shapeInstance);\n *      container.x = 100;\n *\n * @class Container\n * @extends DisplayObject\n * @constructor\n **/\n\tfunction Container() {\n\t\tthis.DisplayObject_constructor();\n\t\t\n\t// public properties:\n\t\t/**\n\t\t * The array of children in the display list. You should usually use the child management methods such as\n\t\t * {{#crossLink \"Container/addChild\"}}{{/crossLink}}, {{#crossLink \"Container/removeChild\"}}{{/crossLink}},\n\t\t * {{#crossLink \"Container/swapChildren\"}}{{/crossLink}}, etc, rather than accessing this directly, but it is\n\t\t * included for advanced uses.\n\t\t * @property children\n\t\t * @type Array\n\t\t * @default null\n\t\t **/\n\t\tthis.children = [];\n\t\t\n\t\t/**\n\t\t * Indicates whether the children of this container are independently enabled for mouse/pointer interaction.\n\t\t * If false, the children will be aggregated under the container - for example, a click on a child shape would\n\t\t * trigger a click event on the container.\n\t\t * @property mouseChildren\n\t\t * @type Boolean\n\t\t * @default true\n\t\t **/\n\t\tthis.mouseChildren = true;\n\t\t\n\t\t/**\n\t\t * If false, the tick will not be propagated to children of this Container. This can provide some performance benefits.\n\t\t * In addition to preventing the \"tick\" event from being dispatched, it will also prevent tick related updates\n\t\t * on some display objects (ex. Sprite & MovieClip frame advancing, DOMElement visibility handling).\n\t\t * @property tickChildren\n\t\t * @type Boolean\n\t\t * @default true\n\t\t **/\n\t\tthis.tickChildren = true;\n\t}\n\tvar p = createjs.extend(Container, createjs.DisplayObject);\n\t\n\t\n// getter / setters:\n\t/**\n\t * Use the {{#crossLink \"Container/numChildren:property\"}}{{/crossLink}} property instead.\n\t * @method _getNumChildren\n\t * @protected\n\t * @return {Number}\n\t **/\n\tp._getNumChildren = function() {\n\t\treturn this.children.length;\n\t};\n\t// Container.getNumChildren is @deprecated. Remove for 1.1+\n\tp.getNumChildren = createjs.deprecate(p._getNumChildren, \"Container.getNumChildren\");\n\n\t/**\n\t * Returns the number of children in the container.\n\t * @property numChildren\n\t * @type {Number}\n\t * @readonly\n\t **/\n\ttry {\n\t\tObject.defineProperties(p, {\n\t\t\tnumChildren: { get: p._getNumChildren }\n\t\t});\n\t} catch (e) {}\n\t\n\n// public methods:\n\t/**\n\t * Constructor alias for backwards compatibility. This method will be removed in future versions.\n\t * Subclasses should be updated to use {{#crossLink \"Utility Methods/extends\"}}{{/crossLink}}.\n\t * @method initialize\n\t * @deprecated in favour of `createjs.promote()`\n\t **/\n\tp.initialize = Container; // TODO: deprecated.\n\t\n\t/**\n\t * Returns true or false indicating whether the display object would be visible if drawn to a canvas.\n\t * This does not account for whether it would be visible within the boundaries of the stage.\n\t *\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\n\t * @method isVisible\n\t * @return {Boolean} Boolean indicating whether the display object would be visible if drawn to a canvas\n\t **/\n\tp.isVisible = function() {\n\t\tvar hasContent = this.cacheCanvas || this.children.length;\n\t\treturn !!(this.visible && this.alpha > 0 && this.scaleX != 0 && this.scaleY != 0 && hasContent);\n\t};\n\n\t/**\n\t * Draws the display object into the specified context ignoring its visible, alpha, shadow, and transform.\n\t * Returns true if the draw was handled (useful for overriding functionality).\n\t *\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\n\t * @method draw\n\t * @param {CanvasRenderingContext2D} ctx The canvas 2D context object to draw into.\n\t * @param {Boolean} [ignoreCache=false] Indicates whether the draw operation should ignore any current cache.\n\t * For example, used for drawing the cache (to prevent it from simply drawing an existing cache back\n\t * into itself).\n\t **/\n\tp.draw = function(ctx, ignoreCache) {\n\t\tif (this.DisplayObject_draw(ctx, ignoreCache)) { return true; }\n\t\t\n\t\t// this ensures we don't have issues with display list changes that occur during a draw:\n\t\tvar list = this.children.slice();\n\t\tfor (var i=0,l=list.length; i<l; i++) {\n\t\t\tvar child = list[i];\n\t\t\tif (!child.isVisible()) { continue; }\n\t\t\t\n\t\t\t// draw the child:\n\t\t\tctx.save();\n\t\t\tchild.updateContext(ctx);\n\t\t\tchild.draw(ctx);\n\t\t\tctx.restore();\n\t\t}\n\t\treturn true;\n\t};\n\t\n\t/**\n\t * Adds a child to the top of the display list.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t * \t\tcontainer.addChild(bitmapInstance);\n\t *\n\t * You can also add multiple children at once:\n\t *\n\t * \t\tcontainer.addChild(bitmapInstance, shapeInstance, textInstance);\n\t *\n\t * @method addChild\n\t * @param {DisplayObject} child The display object to add.\n\t * @return {DisplayObject} The child that was added, or the last child if multiple children were added.\n\t **/\n\tp.addChild = function(child) {\n\t\tif (child == null) { return child; }\n\t\tvar l = arguments.length;\n\t\tif (l > 1) {\n\t\t\tfor (var i=0; i<l; i++) { this.addChild(arguments[i]); }\n\t\t\treturn arguments[l-1];\n\t\t}\n\t\t// Note: a lot of duplication with addChildAt, but push is WAY faster than splice.\n\t\tvar par=child.parent, silent = par === this;\n\t\tpar&&par._removeChildAt(createjs.indexOf(par.children, child), silent);\n\t\tchild.parent = this;\n\t\tthis.children.push(child);\n\t\tif (!silent) { child.dispatchEvent(\"added\"); }\n\t\treturn child;\n\t};\n\n\t/**\n\t * Adds a child to the display list at the specified index, bumping children at equal or greater indexes up one, and\n\t * setting its parent to this Container.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *      addChildAt(child1, index);\n\t *\n\t * You can also add multiple children, such as:\n\t *\n\t *      addChildAt(child1, child2, ..., index);\n\t *\n\t * The index must be between 0 and numChildren. For example, to add myShape under otherShape in the display list,\n\t * you could use:\n\t *\n\t *      container.addChildAt(myShape, container.getChildIndex(otherShape));\n\t *\n\t * This would also bump otherShape's index up by one. Fails silently if the index is out of range.\n\t *\n\t * @method addChildAt\n\t * @param {DisplayObject} child The display object to add.\n\t * @param {Number} index The index to add the child at.\n\t * @return {DisplayObject} Returns the last child that was added, or the last child if multiple children were added.\n\t **/\n\tp.addChildAt = function(child, index) {\n\t\tvar l = arguments.length;\n\t\tvar indx = arguments[l-1]; // can't use the same name as the index param or it replaces arguments[1]\n\t\tif (indx < 0 || indx > this.children.length) { return arguments[l-2]; }\n\t\tif (l > 2) {\n\t\t\tfor (var i=0; i<l-1; i++) { this.addChildAt(arguments[i], indx+i); }\n\t\t\treturn arguments[l-2];\n\t\t}\n\t\tvar par=child.parent, silent = par === this;\n\t\tpar&&par._removeChildAt(createjs.indexOf(par.children, child), silent);\n\t\tchild.parent = this;\n\t\tthis.children.splice(index, 0, child);\n\t\tif (!silent) { child.dispatchEvent(\"added\"); }\n\t\treturn child;\n\t};\n\n\t/**\n\t * Removes the specified child from the display list. Note that it is faster to use removeChildAt() if the index is\n\t * already known.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *      container.removeChild(child);\n\t *\n\t * You can also remove multiple children:\n\t *\n\t *      removeChild(child1, child2, ...);\n\t *\n\t * Returns true if the child (or children) was removed, or false if it was not in the display list.\n\t * @method removeChild\n\t * @param {DisplayObject} child The child to remove.\n\t * @return {Boolean} true if the child (or children) was removed, or false if it was not in the display list.\n\t **/\n\tp.removeChild = function(child) {\n\t\tvar l = arguments.length;\n\t\tif (l > 1) {\n\t\t\tvar good = true;\n\t\t\tfor (var i=0; i<l; i++) { good = good && this.removeChild(arguments[i]); }\n\t\t\treturn good;\n\t\t}\n\t\treturn this._removeChildAt(createjs.indexOf(this.children, child));\n\t};\n\n\t/**\n\t * Removes the child at the specified index from the display list, and sets its parent to null.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *      container.removeChildAt(2);\n\t *\n\t * You can also remove multiple children:\n\t *\n\t *      container.removeChild(2, 7, ...)\n\t *\n\t * Returns true if the child (or children) was removed, or false if any index was out of range.\n\t * @method removeChildAt\n\t * @param {Number} index The index of the child to remove.\n\t * @return {Boolean} true if the child (or children) was removed, or false if any index was out of range.\n\t **/\n\tp.removeChildAt = function(index) {\n\t\tvar l = arguments.length;\n\t\tif (l > 1) {\n\t\t\tvar a = [];\n\t\t\tfor (var i=0; i<l; i++) { a[i] = arguments[i]; }\n\t\t\ta.sort(function(a, b) { return b-a; });\n\t\t\tvar good = true;\n\t\t\tfor (var i=0; i<l; i++) { good = good && this._removeChildAt(a[i]); }\n\t\t\treturn good;\n\t\t}\n\t\treturn this._removeChildAt(index);\n\t};\n\n\t/**\n\t * Removes all children from the display list.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t * \tcontainer.removeAllChildren();\n\t *\n\t * @method removeAllChildren\n\t **/\n\tp.removeAllChildren = function() {\n\t\tvar kids = this.children;\n\t\twhile (kids.length) { this._removeChildAt(0); }\n\t};\n\n\t/**\n\t * Returns the child at the specified index.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *      container.getChildAt(2);\n\t *\n\t * @method getChildAt\n\t * @param {Number} index The index of the child to return.\n\t * @return {DisplayObject} The child at the specified index. Returns null if there is no child at the index.\n\t **/\n\tp.getChildAt = function(index) {\n\t\treturn this.children[index];\n\t};\n\t\n\t/**\n\t * Returns the child with the specified name.\n\t * @method getChildByName\n\t * @param {String} name The name of the child to return.\n\t * @return {DisplayObject} The child with the specified name.\n\t **/\n\tp.getChildByName = function(name) {\n\t\tvar kids = this.children;\n\t\tfor (var i=0,l=kids.length;i<l;i++) {\n\t\t\tif(kids[i].name == name) { return kids[i]; }\n\t\t}\n\t\treturn null;\n\t};\n\n\t/**\n\t * Performs an array sort operation on the child list.\n\t *\n\t * <h4>Example: Display children with a higher y in front.</h4>\n\t * \n\t *      var sortFunction = function(obj1, obj2, options) {\n\t *          if (obj1.y > obj2.y) { return 1; }\n\t *          if (obj1.y < obj2.y) { return -1; }\n\t *          return 0;\n\t *      }\n\t *      container.sortChildren(sortFunction);\n\t *\n\t * @method sortChildren\n\t * @param {Function} sortFunction the function to use to sort the child list. See JavaScript's <code>Array.sort</code>\n\t * documentation for details.\n\t **/\n\tp.sortChildren = function(sortFunction) {\n\t\tthis.children.sort(sortFunction);\n\t};\n\n\t/**\n\t * Returns the index of the specified child in the display list, or -1 if it is not in the display list.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *      var index = container.getChildIndex(child);\n\t *\n\t * @method getChildIndex\n\t * @param {DisplayObject} child The child to return the index of.\n\t * @return {Number} The index of the specified child. -1 if the child is not found.\n\t **/\n\tp.getChildIndex = function(child) {\n\t\treturn createjs.indexOf(this.children, child);\n\t};\n\t\n\t/**\n\t * Swaps the children at the specified indexes. Fails silently if either index is out of range.\n\t * @method swapChildrenAt\n\t * @param {Number} index1\n\t * @param {Number} index2\n\t **/\n\tp.swapChildrenAt = function(index1, index2) {\n\t\tvar kids = this.children;\n\t\tvar o1 = kids[index1];\n\t\tvar o2 = kids[index2];\n\t\tif (!o1 || !o2) { return; }\n\t\tkids[index1] = o2;\n\t\tkids[index2] = o1;\n\t};\n\t\n\t/**\n\t * Swaps the specified children's depth in the display list. Fails silently if either child is not a child of this\n\t * Container.\n\t * @method swapChildren\n\t * @param {DisplayObject} child1\n\t * @param {DisplayObject} child2\n\t **/\n\tp.swapChildren = function(child1, child2) {\n\t\tvar kids = this.children;\n\t\tvar index1,index2;\n\t\tfor (var i=0,l=kids.length;i<l;i++) {\n\t\t\tif (kids[i] == child1) { index1 = i; }\n\t\t\tif (kids[i] == child2) { index2 = i; }\n\t\t\tif (index1 != null && index2 != null) { break; }\n\t\t}\n\t\tif (i==l) { return; } // TODO: throw error?\n\t\tkids[index1] = child2;\n\t\tkids[index2] = child1;\n\t};\n\t\n\t/**\n\t * Changes the depth of the specified child. Fails silently if the child is not a child of this container, or the index is out of range.\n\t * @param {DisplayObject} child\n\t * @param {Number} index  \n\t * @method setChildIndex\n\t **/\n\tp.setChildIndex = function(child, index) {\n\t\tvar kids = this.children, l=kids.length;\n\t\tif (child.parent != this || index < 0 || index >= l) { return; }\n\t\tfor (var i=0;i<l;i++) {\n\t\t\tif (kids[i] == child) { break; }\n\t\t}\n\t\tif (i==l || i == index) { return; }\n\t\tkids.splice(i,1);\n\t\tkids.splice(index,0,child);\n\t};\n\n\t/**\n\t * Returns true if the specified display object either is this container or is a descendent (child, grandchild, etc)\n\t * of this container.\n\t * @method contains\n\t * @param {DisplayObject} child The DisplayObject to be checked.\n\t * @return {Boolean} true if the specified display object either is this container or is a descendent.\n\t **/\n\tp.contains = function(child) {\n\t\twhile (child) {\n\t\t\tif (child == this) { return true; }\n\t\t\tchild = child.parent;\n\t\t}\n\t\treturn false;\n\t};\n\n\t/**\n\t * Tests whether the display object intersects the specified local point (ie. draws a pixel with alpha > 0 at the\n\t * specified position). This ignores the alpha, shadow and compositeOperation of the display object, and all\n\t * transform properties including regX/Y.\n\t * @method hitTest\n\t * @param {Number} x The x position to check in the display object's local coordinates.\n\t * @param {Number} y The y position to check in the display object's local coordinates.\n\t * @return {Boolean} A Boolean indicating whether there is a visible section of a DisplayObject that overlaps the specified\n\t * coordinates.\n\t **/\n\tp.hitTest = function(x, y) {\n\t\t// TODO: optimize to use the fast cache check where possible.\n\t\treturn (this.getObjectUnderPoint(x, y) != null);\n\t};\n\n\t/**\n\t * Returns an array of all display objects under the specified coordinates that are in this container's display\n\t * list. This routine ignores any display objects with {{#crossLink \"DisplayObject/mouseEnabled:property\"}}{{/crossLink}}\n\t * set to `false`. The array will be sorted in order of visual depth, with the top-most display object at index 0.\n\t * This uses shape based hit detection, and can be an expensive operation to run, so it is best to use it carefully.\n\t * For example, if testing for objects under the mouse, test on tick (instead of on {{#crossLink \"DisplayObject/mousemove:event\"}}{{/crossLink}}),\n\t * and only if the mouse's position has changed.\n\t * \n\t * <ul>\n\t *     <li>By default (mode=0) this method evaluates all display objects.</li>\n\t *     <li>By setting the `mode` parameter to `1`, the {{#crossLink \"DisplayObject/mouseEnabled:property\"}}{{/crossLink}}\n\t * \t\tand {{#crossLink \"mouseChildren:property\"}}{{/crossLink}} properties will be respected.</li>\n\t * \t   <li>Setting the `mode` to `2` additionally excludes display objects that do not have active mouse event\n\t * \t   \tlisteners or a {{#crossLink \"DisplayObject:cursor:property\"}}{{/crossLink}} property. That is, only objects\n\t * \t   \tthat would normally intercept mouse interaction will be included. This can significantly improve performance\n\t * \t   \tin some cases by reducing the number of display objects that need to be tested.</li>\n\t * </li>\n\t * \n\t * This method accounts for both {{#crossLink \"DisplayObject/hitArea:property\"}}{{/crossLink}} and {{#crossLink \"DisplayObject/mask:property\"}}{{/crossLink}}.\n\t * @method getObjectsUnderPoint\n\t * @param {Number} x The x position in the container to test.\n\t * @param {Number} y The y position in the container to test.\n\t * @param {Number} [mode=0] The mode to use to determine which display objects to include. 0-all, 1-respect mouseEnabled/mouseChildren, 2-only mouse opaque objects.\n\t * @return {Array} An Array of DisplayObjects under the specified coordinates.\n\t **/\n\tp.getObjectsUnderPoint = function(x, y, mode) {\n\t\tvar arr = [];\n\t\tvar pt = this.localToGlobal(x, y);\n\t\tthis._getObjectsUnderPoint(pt.x, pt.y, arr, mode>0, mode==1);\n\t\treturn arr;\n\t};\n\n\t/**\n\t * Similar to {{#crossLink \"Container/getObjectsUnderPoint\"}}{{/crossLink}}, but returns only the top-most display\n\t * object. This runs significantly faster than <code>getObjectsUnderPoint()</code>, but is still potentially an expensive\n\t * operation. See {{#crossLink \"Container/getObjectsUnderPoint\"}}{{/crossLink}} for more information.\n\t * @method getObjectUnderPoint\n\t * @param {Number} x The x position in the container to test.\n\t * @param {Number} y The y position in the container to test.\n\t * @param {Number} mode The mode to use to determine which display objects to include.  0-all, 1-respect mouseEnabled/mouseChildren, 2-only mouse opaque objects.\n\t * @return {DisplayObject} The top-most display object under the specified coordinates.\n\t **/\n\tp.getObjectUnderPoint = function(x, y, mode) {\n\t\tvar pt = this.localToGlobal(x, y);\n\t\treturn this._getObjectsUnderPoint(pt.x, pt.y, null, mode>0, mode==1);\n\t};\n\t\n\t/**\n\t * Docced in superclass.\n\t */\n\tp.getBounds = function() {\n\t\treturn this._getBounds(null, true);\n\t};\n\t\n\t\n\t/**\n\t * Docced in superclass.\n\t */\n\tp.getTransformedBounds = function() {\n\t\treturn this._getBounds();\n\t};\n\n\t/**\n\t * Returns a clone of this Container. Some properties that are specific to this instance's current context are\n\t * reverted to their defaults (for example .parent).\n\t * @method clone\n\t * @param {Boolean} [recursive=false] If true, all of the descendants of this container will be cloned recursively. If false, the\n\t * properties of the container will be cloned, but the new instance will not have any children.\n\t * @return {Container} A clone of the current Container instance.\n\t **/\n\tp.clone = function(recursive) {\n\t\tvar o = this._cloneProps(new Container());\n\t\tif (recursive) { this._cloneChildren(o); }\n\t\treturn o;\n\t};\n\n\t/**\n\t * Returns a string representation of this object.\n\t * @method toString\n\t * @return {String} a string representation of the instance.\n\t **/\n\tp.toString = function() {\n\t\treturn \"[Container (name=\"+  this.name +\")]\";\n\t};\n\n\n// private methods:\n\t/**\n\t * @method _tick\n\t * @param {Object} evtObj An event object that will be dispatched to all tick listeners. This object is reused between dispatchers to reduce construction & GC costs.\n\t * @protected\n\t **/\n\tp._tick = function(evtObj) {\n\t\tif (this.tickChildren) {\n\t\t\tfor (var i=this.children.length-1; i>=0; i--) {\n\t\t\t\tvar child = this.children[i];\n\t\t\t\tif (child.tickEnabled && child._tick) { child._tick(evtObj); }\n\t\t\t}\n\t\t}\n\t\tthis.DisplayObject__tick(evtObj);\n\t};\n\t\n\t/**\n\t * Recursively clones all children of this container, and adds them to the target container.\n\t * @method cloneChildren\n\t * @protected\n\t * @param {Container} o The target container.\n\t **/\n\tp._cloneChildren = function(o) {\n\t\tif (o.children.length) { o.removeAllChildren(); }\n\t\tvar arr = o.children;\n\t\tfor (var i=0, l=this.children.length; i<l; i++) {\n\t\t\tvar clone = this.children[i].clone(true);\n\t\t\tclone.parent = o;\n\t\t\tarr.push(clone);\n\t\t}\n\t};\n\t\n\t/**\n\t * Removes the child at the specified index from the display list, and sets its parent to null.\n\t * Used by `removeChildAt`, `addChild`, and `addChildAt`.\n\t * @method removeChildAt\n\t * @protected\n\t * @param {Number} index The index of the child to remove.\n\t * @param {Boolean} [silent] Prevents dispatch of `removed` event if true.\n\t * @return {Boolean} true if the child (or children) was removed, or false if any index was out of range.\n\t **/\n\tp._removeChildAt = function(index, silent) {\n\t\tif (index < 0 || index > this.children.length-1) { return false; }\n\t\tvar child = this.children[index];\n\t\tif (child) { child.parent = null; }\n\t\tthis.children.splice(index, 1);\n\t\tif (!silent) { child.dispatchEvent(\"removed\"); }\n\t\treturn true;\n\t};\n\n\t/**\n\t * @method _getObjectsUnderPoint\n\t * @param {Number} x\n\t * @param {Number} y\n\t * @param {Array} arr\n\t * @param {Boolean} mouse If true, it will respect mouse interaction properties like mouseEnabled, mouseChildren, and active listeners.\n\t * @param {Boolean} activeListener If true, there is an active mouse event listener on a parent object.\n\t * @param {Number} currentDepth Indicates the current depth of the search.\n\t * @return {DisplayObject}\n\t * @protected\n\t **/\n\tp._getObjectsUnderPoint = function(x, y, arr, mouse, activeListener, currentDepth) {\n\t\tcurrentDepth = currentDepth || 0;\n\t\tif (!currentDepth && !this._testMask(this, x, y)) { return null; }\n\t\tvar mtx, ctx = createjs.DisplayObject._hitTestContext;\n\t\tactiveListener = activeListener || (mouse&&this._hasMouseEventListener());\n\n\t\t// draw children one at a time, and check if we get a hit:\n\t\tvar children = this.children, l = children.length;\n\t\tfor (var i=l-1; i>=0; i--) {\n\t\t\tvar child = children[i];\n\t\t\tvar hitArea = child.hitArea;\n\t\t\tif (!child.visible || (!hitArea && !child.isVisible()) || (mouse && !child.mouseEnabled)) { continue; }\n\t\t\tif (!hitArea && !this._testMask(child, x, y)) { continue; }\n\t\t\t\n\t\t\t// if a child container has a hitArea then we only need to check its hitAre2a, so we can treat it as a normal DO:\n\t\t\tif (!hitArea && child instanceof Container) {\n\t\t\t\tvar result = child._getObjectsUnderPoint(x, y, arr, mouse, activeListener, currentDepth+1);\n\t\t\t\tif (!arr && result) { return (mouse && !this.mouseChildren) ? this : result; }\n\t\t\t} else {\n\t\t\t\tif (mouse && !activeListener && !child._hasMouseEventListener()) { continue; }\n\t\t\t\t\n\t\t\t\t// TODO: can we pass displayProps forward, to avoid having to calculate this backwards every time? It's kind of a mixed bag. When we're only hunting for DOs with event listeners, it may not make sense.\n\t\t\t\tvar props = child.getConcatenatedDisplayProps(child._props);\n\t\t\t\tmtx = props.matrix;\n\t\t\t\t\n\t\t\t\tif (hitArea) {\n\t\t\t\t\tmtx.appendMatrix(hitArea.getMatrix(hitArea._props.matrix));\n\t\t\t\t\tprops.alpha = hitArea.alpha;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tctx.globalAlpha = props.alpha;\n\t\t\t\tctx.setTransform(mtx.a,  mtx.b, mtx.c, mtx.d, mtx.tx-x, mtx.ty-y);\n\t\t\t\t(hitArea||child).draw(ctx);\n\t\t\t\tif (!this._testHit(ctx)) { continue; }\n\t\t\t\tctx.setTransform(1, 0, 0, 1, 0, 0);\n\t\t\t\tctx.clearRect(0, 0, 2, 2);\n\t\t\t\tif (arr) { arr.push(child); }\n\t\t\t\telse { return (mouse && !this.mouseChildren) ? this : child; }\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t};\n\t\n\t/**\n\t * @method _testMask\n\t * @param {DisplayObject} target\n\t * @param {Number} x\n\t * @param {Number} y\n\t * @return {Boolean} Indicates whether the x/y is within the masked region.\n\t * @protected\n\t **/\n\tp._testMask = function(target, x, y) {\n\t\tvar mask = target.mask;\n\t\tif (!mask || !mask.graphics || mask.graphics.isEmpty()) { return true; }\n\t\t\n\t\tvar mtx = this._props.matrix, parent = target.parent;\n\t\tmtx = parent ? parent.getConcatenatedMatrix(mtx) : mtx.identity();\n\t\tmtx = mask.getMatrix(mask._props.matrix).prependMatrix(mtx);\n\t\t\n\t\tvar ctx = createjs.DisplayObject._hitTestContext;\n\t\tctx.setTransform(mtx.a,  mtx.b, mtx.c, mtx.d, mtx.tx-x, mtx.ty-y);\n\t\t\n\t\t// draw the mask as a solid fill:\n\t\tmask.graphics.drawAsPath(ctx);\n\t\tctx.fillStyle = \"#000\";\n\t\tctx.fill();\n\t\t\n\t\tif (!this._testHit(ctx)) { return false; }\n\t\tctx.setTransform(1, 0, 0, 1, 0, 0);\n\t\tctx.clearRect(0, 0, 2, 2);\n\t\t\n\t\treturn true;\n\t};\n\t\n\t/**\n\t * @method _getBounds\n\t * @param {Matrix2D} matrix\n\t * @param {Boolean} ignoreTransform If true, does not apply this object's transform.\n\t * @return {Rectangle}\n\t * @protected\n\t **/\n\tp._getBounds = function(matrix, ignoreTransform) {\n\t\tvar bounds = this.DisplayObject_getBounds();\n\t\tif (bounds) { return this._transformBounds(bounds, matrix, ignoreTransform); }\n\t\t\n\t\tvar mtx = this._props.matrix;\n\t\tmtx = ignoreTransform ? mtx.identity() : this.getMatrix(mtx);\n\t\tif (matrix) { mtx.prependMatrix(matrix); }\n\t\t\n\t\tvar l = this.children.length, rect=null;\n\t\tfor (var i=0; i<l; i++) {\n\t\t\tvar child = this.children[i];\n\t\t\tif (!child.visible || !(bounds = child._getBounds(mtx))) { continue; }\n\t\t\tif (rect) { rect.extend(bounds.x, bounds.y, bounds.width, bounds.height); }\n\t\t\telse { rect = bounds.clone(); }\n\t\t}\n\t\treturn rect;\n\t};\n\n\n\tcreatejs.Container = createjs.promote(Container, \"DisplayObject\");\n}());\n\n//##############################################################################\n// Stage.js\n//##############################################################################\n\nthis.createjs = this.createjs||{};\n\n(function() {\n\t\"use strict\";\n\n\n// constructor:\n\t/**\n\t * A stage is the root level {{#crossLink \"Container\"}}{{/crossLink}} for a display list. Each time its {{#crossLink \"Stage/tick\"}}{{/crossLink}}\n\t * method is called, it will render its display list to its target canvas.\n\t *\n\t * <h4>Example</h4>\n\t * This example creates a stage, adds a child to it, then uses {{#crossLink \"Ticker\"}}{{/crossLink}} to update the child\n\t * and redraw the stage using {{#crossLink \"Stage/update\"}}{{/crossLink}}.\n\t *\n\t *      var stage = new createjs.Stage(\"canvasElementId\");\n\t *      var image = new createjs.Bitmap(\"imagePath.png\");\n\t *      stage.addChild(image);\n\t *      createjs.Ticker.addEventListener(\"tick\", handleTick);\n\t *      function handleTick(event) {\n\t *          image.x += 10;\n\t *          stage.update();\n\t *      }\n\t *\n\t * @class Stage\n\t * @extends Container\n\t * @constructor\n\t * @param {HTMLCanvasElement | String | Object} canvas A canvas object that the Stage will render to, or the string id\n\t * of a canvas object in the current document.\n\t **/\n\tfunction Stage(canvas) {\n\t\tthis.Container_constructor();\n\t\n\t\n\t// public properties:\n\t\t/**\n\t\t * Indicates whether the stage should automatically clear the canvas before each render. You can set this to <code>false</code>\n\t\t * to manually control clearing (for generative art, or when pointing multiple stages at the same canvas for\n\t\t * example).\n\t\t *\n\t\t * <h4>Example</h4>\n\t\t *\n\t\t *      var stage = new createjs.Stage(\"canvasId\");\n\t\t *      stage.autoClear = false;\n\t\t *\n\t\t * @property autoClear\n\t\t * @type Boolean\n\t\t * @default true\n\t\t **/\n\t\tthis.autoClear = true;\n\t\n\t\t/**\n\t\t * The canvas the stage will render to. Multiple stages can share a single canvas, but you must disable autoClear for all but the\n\t\t * first stage that will be ticked (or they will clear each other's render).\n\t\t *\n\t\t * When changing the canvas property you must disable the events on the old canvas, and enable events on the\n\t\t * new canvas or mouse events will not work as expected. For example:\n\t\t *\n\t\t *      myStage.enableDOMEvents(false);\n\t\t *      myStage.canvas = anotherCanvas;\n\t\t *      myStage.enableDOMEvents(true);\n\t\t *\n\t\t * @property canvas\n\t\t * @type HTMLCanvasElement | Object\n\t\t **/\n\t\tthis.canvas = (typeof canvas == \"string\") ? document.getElementById(canvas) : canvas;\n\t\n\t\t/**\n\t\t * The current mouse X position on the canvas. If the mouse leaves the canvas, this will indicate the most recent\n\t\t * position over the canvas, and mouseInBounds will be set to false.\n\t\t * @property mouseX\n\t\t * @type Number\n\t\t * @readonly\n\t\t **/\n\t\tthis.mouseX = 0;\n\t\n\t\t/**\n\t\t * The current mouse Y position on the canvas. If the mouse leaves the canvas, this will indicate the most recent\n\t\t * position over the canvas, and mouseInBounds will be set to false.\n\t\t * @property mouseY\n\t\t * @type Number\n\t\t * @readonly\n\t\t **/\n\t\tthis.mouseY = 0;\n\t\n\t\t/**\n\t\t * Specifies the area of the stage to affect when calling update. This can be use to selectively\n\t\t * re-draw specific regions of the canvas. If null, the whole canvas area is drawn.\n\t\t * @property drawRect\n\t\t * @type {Rectangle}\n\t\t */\n\t\tthis.drawRect = null;\n\t\n\t\t/**\n\t\t * Indicates whether display objects should be rendered on whole pixels. You can set the\n\t\t * {{#crossLink \"DisplayObject/snapToPixel\"}}{{/crossLink}} property of\n\t\t * display objects to false to enable/disable this behaviour on a per instance basis.\n\t\t * @property snapToPixelEnabled\n\t\t * @type Boolean\n\t\t * @default false\n\t\t **/\n\t\tthis.snapToPixelEnabled = false;\n\t\n\t\t/**\n\t\t * Indicates whether the mouse is currently within the bounds of the canvas.\n\t\t * @property mouseInBounds\n\t\t * @type Boolean\n\t\t * @default false\n\t\t **/\n\t\tthis.mouseInBounds = false;\n\t\n\t\t/**\n\t\t * If true, tick callbacks will be called on all display objects on the stage prior to rendering to the canvas.\n\t\t * @property tickOnUpdate\n\t\t * @type Boolean\n\t\t * @default true\n\t\t **/\n\t\tthis.tickOnUpdate = true;\n\t\n\t\t/**\n\t\t * If true, mouse move events will continue to be called when the mouse leaves the target canvas. See\n\t\t * {{#crossLink \"Stage/mouseInBounds:property\"}}{{/crossLink}}, and {{#crossLink \"MouseEvent\"}}{{/crossLink}}\n\t\t * x/y/rawX/rawY.\n\t\t * @property mouseMoveOutside\n\t\t * @type Boolean\n\t\t * @default false\n\t\t **/\n\t\tthis.mouseMoveOutside = false;\n\t\t\n\t\t\n\t\t/**\n\t\t * Prevents selection of other elements in the html page if the user clicks and drags, or double clicks on the canvas.\n\t\t * This works by calling `preventDefault()` on any mousedown events (or touch equivalent) originating on the canvas.\n\t\t * @property preventSelection\n\t\t * @type Boolean\n\t\t * @default true\n\t\t **/\n\t\tthis.preventSelection = true;\n\t\n\t\t/**\n\t\t * The hitArea property is not supported for Stage.\n\t\t * @property hitArea\n\t\t * @type {DisplayObject}\n\t\t * @default null\n\t\t */\n\t\t \n\t\t \n\t// private properties:\n\t\t/**\n\t\t * Holds objects with data for each active pointer id. Each object has the following properties:\n\t\t * x, y, event, target, overTarget, overX, overY, inBounds, posEvtObj (native event that last updated position)\n\t\t * @property _pointerData\n\t\t * @type {Object}\n\t\t * @private\n\t\t */\n\t\tthis._pointerData = {};\n\t\n\t\t/**\n\t\t * Number of active pointers.\n\t\t * @property _pointerCount\n\t\t * @type {Object}\n\t\t * @private\n\t\t */\n\t\tthis._pointerCount = 0;\n\t\n\t\t/**\n\t\t * The ID of the primary pointer.\n\t\t * @property _primaryPointerID\n\t\t * @type {Object}\n\t\t * @private\n\t\t */\n\t\tthis._primaryPointerID = null;\n\t\n\t\t/**\n\t\t * @property _mouseOverIntervalID\n\t\t * @protected\n\t\t * @type Number\n\t\t **/\n\t\tthis._mouseOverIntervalID = null;\n\t\t\n\t\t/**\n\t\t * @property _nextStage\n\t\t * @protected\n\t\t * @type Stage\n\t\t **/\n\t\tthis._nextStage = null;\n\t\t\n\t\t/**\n\t\t * @property _prevStage\n\t\t * @protected\n\t\t * @type Stage\n\t\t **/\n\t\tthis._prevStage = null;\n\t\t\n\t\t\n\t// initialize:\n\t\tthis.enableDOMEvents(true);\n\t}\n\tvar p = createjs.extend(Stage, createjs.Container);\n\n// events:\n\t/**\n\t * Dispatched when the user moves the mouse over the canvas.\n\t * See the {{#crossLink \"MouseEvent\"}}{{/crossLink}} class for a listing of event properties.\n\t * @event stagemousemove\n\t * @since 0.6.0\n\t */\n\n\t/**\n\t * Dispatched when the user presses their left mouse button on the canvas. See the {{#crossLink \"MouseEvent\"}}{{/crossLink}}\n\t * class for a listing of event properties.\n\t * @event stagemousedown\n\t * @since 0.6.0\n\t */\n\n\t/**\n\t * Dispatched when the user the user presses somewhere on the stage, then releases the mouse button anywhere that the page can detect it (this varies slightly between browsers).\n\t * You can use {{#crossLink \"Stage/mouseInBounds:property\"}}{{/crossLink}} to check whether the mouse is currently within the stage bounds.\n\t * See the {{#crossLink \"MouseEvent\"}}{{/crossLink}} class for a listing of event properties.\n\t * @event stagemouseup\n\t * @since 0.6.0\n\t */\n\n\t/**\n\t * Dispatched when the mouse moves from within the canvas area (mouseInBounds == true) to outside it (mouseInBounds == false).\n\t * This is currently only dispatched for mouse input (not touch). See the {{#crossLink \"MouseEvent\"}}{{/crossLink}}\n\t * class for a listing of event properties.\n\t * @event mouseleave\n\t * @since 0.7.0\n\t */\n\n\t/**\n\t * Dispatched when the mouse moves into the canvas area (mouseInBounds == false) from outside it (mouseInBounds == true).\n\t * This is currently only dispatched for mouse input (not touch). See the {{#crossLink \"MouseEvent\"}}{{/crossLink}}\n\t * class for a listing of event properties.\n\t * @event mouseenter\n\t * @since 0.7.0\n\t */\n\t \n\t/**\n\t * Dispatched each update immediately before the tick event is propagated through the display list.\n\t * You can call preventDefault on the event object to cancel propagating the tick event.\n\t * @event tickstart\n\t * @since 0.7.0\n\t */\n\t \n\t/**\n\t * Dispatched each update immediately after the tick event is propagated through the display list. Does not fire if\n\t * tickOnUpdate is false. Precedes the \"drawstart\" event.\n\t * @event tickend\n\t * @since 0.7.0\n\t */\n\t \n\t/**\n\t * Dispatched each update immediately before the canvas is cleared and the display list is drawn to it.\n\t * You can call preventDefault on the event object to cancel the draw.\n\t * @event drawstart\n\t * @since 0.7.0\n\t */\n\t \n\t/**\n\t * Dispatched each update immediately after the display list is drawn to the canvas and the canvas context is restored.\n\t * @event drawend\n\t * @since 0.7.0\n\t */\n\n\t \n// getter / setters:\n\t/**\n\t * Specifies a target stage that will have mouse / touch interactions relayed to it after this stage handles them.\n\t * This can be useful in cases where you have multiple layered canvases and want user interactions\n\t * events to pass through. For example, this would relay mouse events from topStage to bottomStage:\n\t *\n\t *      topStage.nextStage = bottomStage;\n\t *\n\t * To disable relaying, set nextStage to null.\n\t * \n\t * MouseOver, MouseOut, RollOver, and RollOut interactions are also passed through using the mouse over settings\n\t * of the top-most stage, but are only processed if the target stage has mouse over interactions enabled.\n\t * Considerations when using roll over in relay targets:<OL>\n\t * <LI> The top-most (first) stage must have mouse over interactions enabled (via enableMouseOver)</LI>\n\t * <LI> All stages that wish to participate in mouse over interaction must enable them via enableMouseOver</LI>\n\t * <LI> All relay targets will share the frequency value of the top-most stage</LI>\n\t * </OL>\n\t * To illustrate, in this example the targetStage would process mouse over interactions at 10hz (despite passing\n\t * 30 as it's desired frequency):\n\t * \ttopStage.nextStage = targetStage;\n\t * \ttopStage.enableMouseOver(10);\n\t * \ttargetStage.enableMouseOver(30);\n\t * \n\t * If the target stage's canvas is completely covered by this stage's canvas, you may also want to disable its\n\t * DOM events using:\n\t * \n\t *\ttargetStage.enableDOMEvents(false);\n\t * \n\t * @property nextStage\n\t * @type {Stage}\n\t **/\n\tp._get_nextStage = function() {\n\t\treturn this._nextStage;\n\t};\n\tp._set_nextStage = function(value) {\n\t\tif (this._nextStage) { this._nextStage._prevStage = null; }\n\t\tif (value) { value._prevStage = this; }\n\t\tthis._nextStage = value;\n\t};\n\t\n\ttry {\n\t\tObject.defineProperties(p, {\n\t\t\tnextStage: { get: p._get_nextStage, set: p._set_nextStage }\n\t\t});\n\t} catch (e) {} // TODO: use Log\n\n\n// public methods:\n\t/**\n\t * Each time the update method is called, the stage will call {{#crossLink \"Stage/tick\"}}{{/crossLink}}\n\t * unless {{#crossLink \"Stage/tickOnUpdate:property\"}}{{/crossLink}} is set to false,\n\t * and then render the display list to the canvas.\n\t *\n\t * @method update\n\t * @param {Object} [props] Props object to pass to `tick()`. Should usually be a {{#crossLink \"Ticker\"}}{{/crossLink}} event object, or similar object with a delta property.\n\t **/\n\tp.update = function(props) {\n\t\tif (!this.canvas) { return; }\n\t\tif (this.tickOnUpdate) { this.tick(props); }\n\t\tif (this.dispatchEvent(\"drawstart\", false, true) === false) { return; }\n\t\tcreatejs.DisplayObject._snapToPixelEnabled = this.snapToPixelEnabled;\n\t\tvar r = this.drawRect, ctx = this.canvas.getContext(\"2d\");\n\t\tctx.setTransform(1, 0, 0, 1, 0, 0);\n\t\tif (this.autoClear) {\n\t\t\tif (r) { ctx.clearRect(r.x, r.y, r.width, r.height); }\n\t\t\telse { ctx.clearRect(0, 0, this.canvas.width+1, this.canvas.height+1); }\n\t\t}\n\t\tctx.save();\n\t\tif (this.drawRect) {\n\t\t\tctx.beginPath();\n\t\t\tctx.rect(r.x, r.y, r.width, r.height);\n\t\t\tctx.clip();\n\t\t}\n\t\tthis.updateContext(ctx);\n\t\tthis.draw(ctx, false);\n\t\tctx.restore();\n\t\tthis.dispatchEvent(\"drawend\");\n\t};\n\t\n\t/**\n\t * Propagates a tick event through the display list. This is automatically called by {{#crossLink \"Stage/update\"}}{{/crossLink}}\n\t * unless {{#crossLink \"Stage/tickOnUpdate:property\"}}{{/crossLink}} is set to false.\n\t *\n\t * If a props object is passed to `tick()`, then all of its properties will be copied to the event object that is\n\t * propagated to listeners.\n\t *\n\t * Some time-based features in EaselJS (for example {{#crossLink \"Sprite/framerate\"}}{{/crossLink}} require that\n\t * a {{#crossLink \"Ticker/tick:event\"}}{{/crossLink}} event object (or equivalent object with a delta property) be\n\t * passed as the `props` parameter to `tick()`. For example:\n\t *\n\t * \tTicker.on(\"tick\", handleTick);\n\t * \tfunction handleTick(evtObj) {\n\t * \t\t// clone the event object from Ticker, and add some custom data to it:\n\t * \t\tvar evt = evtObj.clone().set({greeting:\"hello\", name:\"world\"});\n\t * \t\t\n\t * \t\t// pass it to stage.update():\n\t * \t\tmyStage.update(evt); // subsequently calls tick() with the same param\n\t * \t}\n\t * \t\n\t * \t// ...\n\t * \tmyDisplayObject.on(\"tick\", handleDisplayObjectTick);\n\t * \tfunction handleDisplayObjectTick(evt) {\n\t * \t\tconsole.log(evt.delta); // the delta property from the Ticker tick event object\n\t * \t\tconsole.log(evt.greeting, evt.name); // custom data: \"hello world\"\n\t * \t}\n\t * \n\t * @method tick\n\t * @param {Object} [props] An object with properties that should be copied to the event object. Should usually be a Ticker event object, or similar object with a delta property.\n\t **/\n\tp.tick = function(props) {\n\t\tif (!this.tickEnabled || this.dispatchEvent(\"tickstart\", false, true) === false) { return; }\n\t\tvar evtObj = new createjs.Event(\"tick\");\n\t\tif (props) {\n\t\t\tfor (var n in props) {\n\t\t\t\tif (props.hasOwnProperty(n)) { evtObj[n] = props[n]; }\n\t\t\t}\n\t\t}\n\t\tthis._tick(evtObj);\n\t\tthis.dispatchEvent(\"tickend\");\n\t};\n\n\t/**\n\t * Default event handler that calls the Stage {{#crossLink \"Stage/update\"}}{{/crossLink}} method when a {{#crossLink \"DisplayObject/tick:event\"}}{{/crossLink}}\n\t * event is received. This allows you to register a Stage instance as a event listener on {{#crossLink \"Ticker\"}}{{/crossLink}}\n\t * directly, using:\n\t *\n\t *      Ticker.addEventListener(\"tick\", myStage);\n\t *\n\t * Note that if you subscribe to ticks using this pattern, then the tick event object will be passed through to\n\t * display object tick handlers, instead of <code>delta</code> and <code>paused</code> parameters.\n\t * @property handleEvent\n\t * @type Function\n\t **/\n\tp.handleEvent = function(evt) {\n\t\tif (evt.type == \"tick\") { this.update(evt); }\n\t};\n\n\t/**\n\t * Clears the target canvas. Useful if {{#crossLink \"Stage/autoClear:property\"}}{{/crossLink}} is set to `false`.\n\t * @method clear\n\t **/\n\tp.clear = function() {\n\t\tif (!this.canvas) { return; }\n\t\tvar ctx = this.canvas.getContext(\"2d\");\n\t\tctx.setTransform(1, 0, 0, 1, 0, 0);\n\t\tctx.clearRect(0, 0, this.canvas.width+1, this.canvas.height+1);\n\t};\n\n\t/**\n\t * Returns a data url that contains a Base64-encoded image of the contents of the stage. The returned data url can\n\t * be specified as the src value of an image element.\n\t * @method toDataURL\n\t * @param {String} [backgroundColor] The background color to be used for the generated image. Any valid CSS color\n\t * value is allowed. The default value is a transparent background.\n\t * @param {String} [mimeType=\"image/png\"] The MIME type of the image format to be create. The default is \"image/png\". If an unknown MIME type\n\t * is passed in, or if the browser does not support the specified MIME type, the default value will be used.\n\t * @return {String} a Base64 encoded image.\n\t **/\n\tp.toDataURL = function(backgroundColor, mimeType) {\n\t\tvar data, ctx = this.canvas.getContext('2d'), w = this.canvas.width, h = this.canvas.height;\n\n\t\tif (backgroundColor) {\n\t\t\tdata = ctx.getImageData(0, 0, w, h);\n\t\t\tvar compositeOperation = ctx.globalCompositeOperation;\n\t\t\tctx.globalCompositeOperation = \"destination-over\";\n\t\t\t\n\t\t\tctx.fillStyle = backgroundColor;\n\t\t\tctx.fillRect(0, 0, w, h);\n\t\t}\n\n\t\tvar dataURL = this.canvas.toDataURL(mimeType||\"image/png\");\n\n\t\tif(backgroundColor) {\n\t\t\tctx.putImageData(data, 0, 0);\n\t\t\tctx.globalCompositeOperation = compositeOperation;\n\t\t}\n\n\t\treturn dataURL;\n\t};\n\n\t/**\n\t * Enables or disables (by passing a frequency of 0) mouse over ({{#crossLink \"DisplayObject/mouseover:event\"}}{{/crossLink}}\n\t * and {{#crossLink \"DisplayObject/mouseout:event\"}}{{/crossLink}}) and roll over events ({{#crossLink \"DisplayObject/rollover:event\"}}{{/crossLink}}\n\t * and {{#crossLink \"DisplayObject/rollout:event\"}}{{/crossLink}}) for this stage's display list. These events can\n\t * be expensive to generate, so they are disabled by default. The frequency of the events can be controlled\n\t * independently of mouse move events via the optional `frequency` parameter.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *      var stage = new createjs.Stage(\"canvasId\");\n\t *      stage.enableMouseOver(10); // 10 updates per second\n\t *\n\t * @method enableMouseOver\n\t * @param {Number} [frequency=20] Optional param specifying the maximum number of times per second to broadcast\n\t * mouse over/out events. Set to 0 to disable mouse over events completely. Maximum is 50. A lower frequency is less\n\t * responsive, but uses less CPU.\n\t **/\n\tp.enableMouseOver = function(frequency) {\n\t\tif (this._mouseOverIntervalID) {\n\t\t\tclearInterval(this._mouseOverIntervalID);\n\t\t\tthis._mouseOverIntervalID = null;\n\t\t\tif (frequency == 0) {\n\t\t\t\tthis._testMouseOver(true);\n\t\t\t}\n\t\t}\n\t\tif (frequency == null) { frequency = 20; }\n\t\telse if (frequency <= 0) { return; }\n\t\tvar o = this;\n\t\tthis._mouseOverIntervalID = setInterval(function(){ o._testMouseOver(); }, 1000/Math.min(50,frequency));\n\t};\n\n\t/**\n\t * Enables or disables the event listeners that stage adds to DOM elements (window, document and canvas). It is good\n\t * practice to disable events when disposing of a Stage instance, otherwise the stage will continue to receive\n\t * events from the page.\n\t *\n\t * When changing the canvas property you must disable the events on the old canvas, and enable events on the\n\t * new canvas or mouse events will not work as expected. For example:\n\t *\n\t *      myStage.enableDOMEvents(false);\n\t *      myStage.canvas = anotherCanvas;\n\t *      myStage.enableDOMEvents(true);\n\t *\n\t * @method enableDOMEvents\n\t * @param {Boolean} [enable=true] Indicates whether to enable or disable the events. Default is true.\n\t **/\n\tp.enableDOMEvents = function(enable) {\n\t\tif (enable == null) { enable = true; }\n\t\tvar n, o, ls = this._eventListeners;\n\t\tif (!enable && ls) {\n\t\t\tfor (n in ls) {\n\t\t\t\to = ls[n];\n\t\t\t\to.t.removeEventListener(n, o.f, false);\n\t\t\t}\n\t\t\tthis._eventListeners = null;\n\t\t} else if (enable && !ls && this.canvas) {\n\t\t\tvar t = window.addEventListener ? window : document;\n\t\t\tvar _this = this;\n\t\t\tls = this._eventListeners = {};\n\t\t\tls[\"mouseup\"] = {t:t, f:function(e) { _this._handleMouseUp(e)} };\n\t\t\tls[\"mousemove\"] = {t:t, f:function(e) { _this._handleMouseMove(e)} };\n\t\t\tls[\"dblclick\"] = {t:this.canvas, f:function(e) { _this._handleDoubleClick(e)} };\n\t\t\tls[\"mousedown\"] = {t:this.canvas, f:function(e) { _this._handleMouseDown(e)} };\n\n\t\t\tfor (n in ls) {\n\t\t\t\to = ls[n];\n\t\t\t\to.t.addEventListener(n, o.f, false);\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Stage instances cannot be cloned.\n\t * @method clone\n\t **/\n\tp.clone = function() {\n\t\tthrow(\"Stage cannot be cloned.\");\n\t};\n\n\t/**\n\t * Returns a string representation of this object.\n\t * @method toString\n\t * @return {String} a string representation of the instance.\n\t **/\n\tp.toString = function() {\n\t\treturn \"[Stage (name=\"+  this.name +\")]\";\n\t};\n\n\n// private methods:\n\t/**\n\t * @method _getElementRect\n\t * @protected\n\t * @param {HTMLElement} e\n\t **/\n\tp._getElementRect = function(e) {\n\t\tvar bounds;\n\t\ttry { bounds = e.getBoundingClientRect(); } // this can fail on disconnected DOM elements in IE9\n\t\tcatch (err) { bounds = {top: e.offsetTop, left: e.offsetLeft, width:e.offsetWidth, height:e.offsetHeight}; }\n\n\t\tvar offX = (window.pageXOffset || document.scrollLeft || 0) - (document.clientLeft || document.body.clientLeft || 0);\n\t\tvar offY = (window.pageYOffset || document.scrollTop || 0) - (document.clientTop  || document.body.clientTop  || 0);\n\n\t\tvar styles = window.getComputedStyle ? getComputedStyle(e,null) : e.currentStyle; // IE <9 compatibility.\n\t\tvar padL = parseInt(styles.paddingLeft)+parseInt(styles.borderLeftWidth);\n\t\tvar padT = parseInt(styles.paddingTop)+parseInt(styles.borderTopWidth);\n\t\tvar padR = parseInt(styles.paddingRight)+parseInt(styles.borderRightWidth);\n\t\tvar padB = parseInt(styles.paddingBottom)+parseInt(styles.borderBottomWidth);\n\n\t\t// note: in some browsers bounds properties are read only.\n\t\treturn {\n\t\t\tleft: bounds.left+offX+padL,\n\t\t\tright: bounds.right+offX-padR,\n\t\t\ttop: bounds.top+offY+padT,\n\t\t\tbottom: bounds.bottom+offY-padB\n\t\t}\n\t};\n\n\t/**\n\t * @method _getPointerData\n\t * @protected\n\t * @param {Number} id\n\t **/\n\tp._getPointerData = function(id) {\n\t\tvar data = this._pointerData[id];\n\t\tif (!data) { data = this._pointerData[id] = {x:0,y:0}; }\n\t\treturn data;\n\t};\n\n\t/**\n\t * @method _handleMouseMove\n\t * @protected\n\t * @param {MouseEvent} e\n\t **/\n\tp._handleMouseMove = function(e) {\n\t\tif(!e){ e = window.event; }\n\t\tthis._handlePointerMove(-1, e, e.pageX, e.pageY);\n\t};\n\n\t/**\n\t * @method _handlePointerMove\n\t * @protected\n\t * @param {Number} id\n\t * @param {Event} e\n\t * @param {Number} pageX\n\t * @param {Number} pageY\n\t * @param {Stage} owner Indicates that the event has already been captured & handled by the indicated stage.\n\t **/\n\tp._handlePointerMove = function(id, e, pageX, pageY, owner) {\n\t\tif (this._prevStage && owner === undefined) { return; } // redundant listener.\n\t\tif (!this.canvas) { return; }\n\t\tvar nextStage=this._nextStage, o=this._getPointerData(id);\n\n\t\tvar inBounds = o.inBounds;\n\t\tthis._updatePointerPosition(id, e, pageX, pageY);\n\t\tif (inBounds || o.inBounds || this.mouseMoveOutside) {\n\t\t\tif (id === -1 && o.inBounds == !inBounds) {\n\t\t\t\tthis._dispatchMouseEvent(this, (inBounds ? \"mouseleave\" : \"mouseenter\"), false, id, o, e);\n\t\t\t}\n\t\t\t\n\t\t\tthis._dispatchMouseEvent(this, \"stagemousemove\", false, id, o, e);\n\t\t\tthis._dispatchMouseEvent(o.target, \"pressmove\", true, id, o, e);\n\t\t}\n\t\t\n\t\tnextStage&&nextStage._handlePointerMove(id, e, pageX, pageY, null);\n\t};\n\n\t/**\n\t * @method _updatePointerPosition\n\t * @protected\n\t * @param {Number} id\n\t * @param {Event} e\n\t * @param {Number} pageX\n\t * @param {Number} pageY\n\t **/\n\tp._updatePointerPosition = function(id, e, pageX, pageY) {\n\t\tvar rect = this._getElementRect(this.canvas);\n\t\tpageX -= rect.left;\n\t\tpageY -= rect.top;\n\n\t\tvar w = this.canvas.width;\n\t\tvar h = this.canvas.height;\n\t\tpageX /= (rect.right-rect.left)/w;\n\t\tpageY /= (rect.bottom-rect.top)/h;\n\t\tvar o = this._getPointerData(id);\n\t\tif (o.inBounds = (pageX >= 0 && pageY >= 0 && pageX <= w-1 && pageY <= h-1)) {\n\t\t\to.x = pageX;\n\t\t\to.y = pageY;\n\t\t} else if (this.mouseMoveOutside) {\n\t\t\to.x = pageX < 0 ? 0 : (pageX > w-1 ? w-1 : pageX);\n\t\t\to.y = pageY < 0 ? 0 : (pageY > h-1 ? h-1 : pageY);\n\t\t}\n\n\t\to.posEvtObj = e;\n\t\to.rawX = pageX;\n\t\to.rawY = pageY;\n\n\t\tif (id === this._primaryPointerID || id === -1) {\n\t\t\tthis.mouseX = o.x;\n\t\t\tthis.mouseY = o.y;\n\t\t\tthis.mouseInBounds = o.inBounds;\n\t\t}\n\t};\n\n\t/**\n\t * @method _handleMouseUp\n\t * @protected\n\t * @param {MouseEvent} e\n\t **/\n\tp._handleMouseUp = function(e) {\n\t\tthis._handlePointerUp(-1, e, false);\n\t};\n\n\t/**\n\t * @method _handlePointerUp\n\t * @protected\n\t * @param {Number} id\n\t * @param {Event} e\n\t * @param {Boolean} clear\n\t * @param {Stage} owner Indicates that the event has already been captured & handled by the indicated stage.\n\t **/\n\tp._handlePointerUp = function(id, e, clear, owner) {\n\t\tvar nextStage = this._nextStage, o = this._getPointerData(id);\n\t\tif (this._prevStage && owner === undefined) { return; } // redundant listener.\n\t\t\n\t\tvar target=null, oTarget = o.target;\n\t\tif (!owner && (oTarget || nextStage)) { target = this._getObjectsUnderPoint(o.x, o.y, null, true); }\n\t\t\n\t\tif (o.down) { this._dispatchMouseEvent(this, \"stagemouseup\", false, id, o, e, target); o.down = false; }\n\t\t\n\t\tif (target == oTarget) { this._dispatchMouseEvent(oTarget, \"click\", true, id, o, e); }\n\t\tthis._dispatchMouseEvent(oTarget, \"pressup\", true, id, o, e);\n\t\t\n\t\tif (clear) {\n\t\t\tif (id==this._primaryPointerID) { this._primaryPointerID = null; }\n\t\t\tdelete(this._pointerData[id]);\n\t\t} else { o.target = null; }\n\t\t\n\t\tnextStage&&nextStage._handlePointerUp(id, e, clear, owner || target && this);\n\t};\n\n\t/**\n\t * @method _handleMouseDown\n\t * @protected\n\t * @param {MouseEvent} e\n\t **/\n\tp._handleMouseDown = function(e) {\n\t\tthis._handlePointerDown(-1, e, e.pageX, e.pageY);\n\t};\n\n\t/**\n\t * @method _handlePointerDown\n\t * @protected\n\t * @param {Number} id\n\t * @param {Event} e\n\t * @param {Number} pageX\n\t * @param {Number} pageY\n\t * @param {Stage} owner Indicates that the event has already been captured & handled by the indicated stage.\n\t **/\n\tp._handlePointerDown = function(id, e, pageX, pageY, owner) {\n\t\tif (this.preventSelection) { e.preventDefault(); }\n\t\tif (this._primaryPointerID == null || id === -1) { this._primaryPointerID = id; } // mouse always takes over.\n\t\t\n\t\tif (pageY != null) { this._updatePointerPosition(id, e, pageX, pageY); }\n\t\tvar target = null, nextStage = this._nextStage, o = this._getPointerData(id);\n\t\tif (!owner) { target = o.target = this._getObjectsUnderPoint(o.x, o.y, null, true); }\n\n\t\tif (o.inBounds) { this._dispatchMouseEvent(this, \"stagemousedown\", false, id, o, e, target); o.down = true; }\n\t\tthis._dispatchMouseEvent(target, \"mousedown\", true, id, o, e);\n\t\t\n\t\tnextStage&&nextStage._handlePointerDown(id, e, pageX, pageY, owner || target && this);\n\t};\n\n\t/**\n\t * @method _testMouseOver\n\t * @param {Boolean} clear If true, clears the mouseover / rollover (ie. no target)\n\t * @param {Stage} owner Indicates that the event has already been captured & handled by the indicated stage.\n\t * @param {Stage} eventTarget The stage that the cursor is actively over.\n\t * @protected\n\t **/\n\tp._testMouseOver = function(clear, owner, eventTarget) {\n\t\tif (this._prevStage && owner === undefined) { return; } // redundant listener.\n\t\t\n\t\tvar nextStage = this._nextStage;\n\t\tif (!this._mouseOverIntervalID) {\n\t\t\t// not enabled for mouseover, but should still relay the event.\n\t\t\tnextStage&&nextStage._testMouseOver(clear, owner, eventTarget);\n\t\t\treturn;\n\t\t}\n\t\tvar o = this._getPointerData(-1);\n\t\t// only update if the mouse position has changed. This provides a lot of optimization, but has some trade-offs.\n\t\tif (!o || (!clear && this.mouseX == this._mouseOverX && this.mouseY == this._mouseOverY && this.mouseInBounds)) { return; }\n\t\t\n\t\tvar e = o.posEvtObj;\n\t\tvar isEventTarget = eventTarget || e&&(e.target == this.canvas);\n\t\tvar target=null, common = -1, cursor=\"\", t, i, l;\n\t\t\n\t\tif (!owner && (clear || this.mouseInBounds && isEventTarget)) {\n\t\t\ttarget = this._getObjectsUnderPoint(this.mouseX, this.mouseY, null, true);\n\t\t\tthis._mouseOverX = this.mouseX;\n\t\t\tthis._mouseOverY = this.mouseY;\n\t\t}\n\n\t\tvar oldList = this._mouseOverTarget||[];\n\t\tvar oldTarget = oldList[oldList.length-1];\n\t\tvar list = this._mouseOverTarget = [];\n\n\t\t// generate ancestor list and check for cursor:\n\t\tt = target;\n\t\twhile (t) {\n\t\t\tlist.unshift(t);\n\t\t\tif (!cursor) { cursor = t.cursor; }\n\t\t\tt = t.parent;\n\t\t}\n\t\tthis.canvas.style.cursor = cursor;\n\t\tif (!owner && eventTarget) { eventTarget.canvas.style.cursor = cursor; }\n\n\t\t// find common ancestor:\n\t\tfor (i=0,l=list.length; i<l; i++) {\n\t\t\tif (list[i] != oldList[i]) { break; }\n\t\t\tcommon = i;\n\t\t}\n\n\t\tif (oldTarget != target) {\n\t\t\tthis._dispatchMouseEvent(oldTarget, \"mouseout\", true, -1, o, e, target);\n\t\t}\n\n\t\tfor (i=oldList.length-1; i>common; i--) {\n\t\t\tthis._dispatchMouseEvent(oldList[i], \"rollout\", false, -1, o, e, target);\n\t\t}\n\n\t\tfor (i=list.length-1; i>common; i--) {\n\t\t\tthis._dispatchMouseEvent(list[i], \"rollover\", false, -1, o, e, oldTarget);\n\t\t}\n\n\t\tif (oldTarget != target) {\n\t\t\tthis._dispatchMouseEvent(target, \"mouseover\", true, -1, o, e, oldTarget);\n\t\t}\n\t\t\n\t\tnextStage&&nextStage._testMouseOver(clear, owner || target && this, eventTarget || isEventTarget && this);\n\t};\n\n\t/**\n\t * @method _handleDoubleClick\n\t * @protected\n\t * @param {MouseEvent} e\n\t * @param {Stage} owner Indicates that the event has already been captured & handled by the indicated stage.\n\t **/\n\tp._handleDoubleClick = function(e, owner) {\n\t\tvar target=null, nextStage=this._nextStage, o=this._getPointerData(-1);\n\t\tif (!owner) {\n\t\t\ttarget = this._getObjectsUnderPoint(o.x, o.y, null, true);\n\t\t\tthis._dispatchMouseEvent(target, \"dblclick\", true, -1, o, e);\n\t\t}\n\t\tnextStage&&nextStage._handleDoubleClick(e, owner || target && this);\n\t};\n\n\t/**\n\t * @method _dispatchMouseEvent\n\t * @protected\n\t * @param {DisplayObject} target\n\t * @param {String} type\n\t * @param {Boolean} bubbles\n\t * @param {Number} pointerId\n\t * @param {Object} o\n\t * @param {MouseEvent} [nativeEvent]\n\t * @param {DisplayObject} [relatedTarget]\n\t **/\n\tp._dispatchMouseEvent = function(target, type, bubbles, pointerId, o, nativeEvent, relatedTarget) {\n\t\t// TODO: might be worth either reusing MouseEvent instances, or adding a willTrigger method to avoid GC.\n\t\tif (!target || (!bubbles && !target.hasEventListener(type))) { return; }\n\t\t/*\n\t\t// TODO: account for stage transformations?\n\t\tthis._mtx = this.getConcatenatedMatrix(this._mtx).invert();\n\t\tvar pt = this._mtx.transformPoint(o.x, o.y);\n\t\tvar evt = new createjs.MouseEvent(type, bubbles, false, pt.x, pt.y, nativeEvent, pointerId, pointerId==this._primaryPointerID || pointerId==-1, o.rawX, o.rawY);\n\t\t*/\n\t\tvar evt = new createjs.MouseEvent(type, bubbles, false, o.x, o.y, nativeEvent, pointerId, pointerId === this._primaryPointerID || pointerId === -1, o.rawX, o.rawY, relatedTarget);\n\t\ttarget.dispatchEvent(evt);\n\t};\n\n\n\tcreatejs.Stage = createjs.promote(Stage, \"Container\");\n}());\n\n//##############################################################################\n// StageGL.js\n//##############################################################################\n\nthis.createjs = this.createjs||{};\n\n/*\n * README IF EDITING:\n * Terminology for developers:\n *\n * Vertex: a point that help defines a shape, 3 per triangle. Usually has an x,y,z but can have more/less info.\n * Vertex Property: a piece of information attached to the vertex like a vector3 containing x,y,z\n * Index/Indices: used in groups of 3 to define a triangle, points to vertices by their index in an array (some render\n * \t\tmodes do not use these)\n * Card: a group of 2 triangles used to display a rectangular image\n * U/V: common names for the [0-1] texture co-ordinates on an image\n * Batch: a single call to the renderer, best done as little as possible so multiple cards are put into a single batch\n * Buffer: WebGL array data\n * Program/Shader: For every vertex we run the Vertex shader. The results are used per pixel by the Fragment shader. When\n * \t\tcombined and paired these are a shader \"program\"\n * Texture: WebGL representation of image data and associated extra information\n * Slot: A space on the GPU into which textures can be loaded for use in a batch, using \"ActiveTexture\" switches texture slot.\n */\n\n(function () {\n\t\"use strict\";\n\n\t/**\n\t * A StageGL instance is the root level {{#crossLink \"Container\"}}{{/crossLink}} for an WebGL-optimized display list,\n\t * which is used in place of the usual {{#crossLink \"Stage\"}}{{/crossLink}}. This class should behave identically to\n\t * a {{#crossLink \"Stage\"}}{{/crossLink}} except for WebGL-specific functionality.\n\t *\n\t * Each time the {{#crossLink \"Stage/tick\"}}{{/crossLink}} method is called, the display list is rendered to the\n\t * target &lt;canvas/&gt; instance, ignoring non-WebGL-compatible display objects. On devices and browsers that don't\n\t * support WebGL, content will automatically be rendered to canvas 2D context instead.\n\t *\n\t * <h4>Limitations</h4>\n\t * - {{#crossLink \"Shape\"}}{{/crossLink}}, {{#crossLink \"Shadow\"}}{{/crossLink}}, and {{#crossLink \"Text\"}}{{/crossLink}}\n\t * \tare not rendered when added to the display list.\n\t * - To display something StageGL cannot render, {{#crossLink \"displayObject/cache\"}}{{/crossLink}} the object.\n\t *\tCaches can be rendered regardless of source.\n\t * - Images are wrapped as a webGL \"Texture\". Each graphics card has a limit to its concurrent Textures, too many \n\t * Textures will noticeably slow performance.\n\t * - Each cache counts as an individual Texture. As such {{#crossLink \"SpriteSheet\"}}{{/crossLink}} and \n\t * {{#crossLink \"SpriteSheetBuilder\"}}{{/crossLink}} are recommended practices to help keep texture counts low.\n\t * - To use any image node (DOM Image/Canvas Element) between multiple StageGL instances it must be a \n\t * {{#crossLink \"Bitmap/clone\"}}{{/crossLink}}, otherwise the GPU texture loading and tracking will get confused.\n\t * - to avoid an up/down scaled render you must call {{#crossLink \"StageGL/updateViewport\"}}{{/crossLink}} if you\n\t * resize your canvas after making a StageGL instance, this will properly size the WebGL context stored in memory.\n\t * - Best performance in demanding scenarios will come from manual management of texture memory, but it is handled\n\t * automatically by default. See {{#crossLink \"StageGL/releaseTexture\"}}{{/crossLink}} for details.\n\t *\n\t * <h4>Example</h4>\n\t * This example creates a StageGL instance, adds a child to it, then uses the EaselJS {{#crossLink \"Ticker\"}}{{/crossLink}}\n\t * to update the child and redraw the stage.\n\t *\n\t *      var stage = new createjs.StageGL(\"canvasElementId\");\n\t *\n\t *      var image = new createjs.Bitmap(\"imagePath.png\");\n\t *      stage.addChild(image);\n\t *\n\t *      createjs.Ticker.on(\"tick\", handleTick);\n\t *\n\t *      function handleTick(event) {\n\t *          image.x += 10;\n\t *          stage.update();\n\t *      }\n\t *\n\t * <h4>Notes</h4>\n\t * - StageGL is not currently included in the minified version of EaselJS.\n\t * - {{#crossLink \"SpriteContainer\"}}{{/crossLink}} (the previous approach to WebGL with EaselJS) has been deprecated.\n\t * - Earlier versions of WebGL support in EaselJS (SpriteStage and SpriteContainer) had hard limitations on images\n\t * \tper container, which have been solved.\n\t *\n\t * @class StageGL\n\t * @extends Stage\n\t * @constructor\n\t * @param {HTMLCanvasElement | String | Object} canvas A canvas object that StageGL will render to, or the string id\n\t *  of a canvas object in the current DOM.\n\t * @param {Object} options All the option parameters in a reference object, some are not supported by some browsers.\n\t * @param {Boolean} [options.preserveBuffer=false] If `true`, the canvas is NOT auto-cleared by WebGL (the spec\n\t *  discourages setting this to `true`). This is useful if you want persistent draw effects.\n\t * @param {Boolean} [options.antialias=false] Specifies whether or not the browser's WebGL implementation should try\n\t *  to perform anti-aliasing. This will also enable linear pixel sampling on power-of-two textures (smoother images).\n\t * @param {Boolean} [options.transparent=false] If `true`, the canvas is transparent. This is <strong>very</strong>\n\t * expensive, and should be used with caution.\n\t * @param {Boolean} [options.premultiply=false] Alters color handling. If `true`, this assumes the shader must\n\t * account for pre-multiplied alpha. This can help avoid visual halo effects with some assets, but may also cause\n\t * problems with other assets.\n\t * @param {Integer} [options.autoPurge=1200] How often the system should automatically dump unused textures with\n\t * `purgeTextures(autoPurge)` every `autoPurge/2` draws. See {{#crossLink \"StageGL/purgeTextures\"}}{{/crossLink}} for more\n\t * information.\n\t */\n\tfunction StageGL(canvas, options) {\n\t\tthis.Stage_constructor(canvas);\n\n\t\tif (options !== undefined) {\n\t\t\tif (typeof options !== \"object\"){ throw(\"Invalid options object\"); }\n\t\t\tvar premultiply = options.premultiply;\n\t\t\tvar transparent = options.transparent;\n\t\t\tvar antialias = options.antialias;\n\t\t\tvar preserveBuffer = options.preserveBuffer;\n\t\t\tvar autoPurge = options.autoPurge;\n\t\t}\n\n// public properties:\n\t\t/**\n\t\t * Console log potential issues and problems. This is designed to have <em>minimal</em> performance impact, so\n\t\t * if extensive debugging information is required, this may be inadequate. See {{#crossLink \"WebGLInspector\"}}{{/crossLink}}\n\t\t * @property vocalDebug\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t */\n\t\tthis.vocalDebug = false;\n\n// private properties:\n\t\t/**\n\t\t * Specifies whether or not the canvas is auto-cleared by WebGL. The WebGL spec discourages `true`.\n\t\t * If true, the canvas is NOT auto-cleared by WebGL. Used when the canvas context is created and requires\n\t\t * context re-creation to update.\n\t\t * @property _preserveBuffer\n\t\t * @protected\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t */\n\t\tthis._preserveBuffer = preserveBuffer||false;\n\n\t\t/**\n\t\t * Specifies whether or not the browser's WebGL implementation should try to perform anti-aliasing.\n\t\t * @property _antialias\n\t\t * @protected\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t */\n\t\tthis._antialias = antialias||false;\n\n\t\t/**\n\t\t * Specifies whether or not the browser's WebGL implementation should be transparent.\n\t\t * @property _transparent\n\t\t * @protected\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t */\n\t\tthis._transparent = transparent||false;\n\n\t\t/**\n\t\t * Specifies whether or not StageGL is handling colours as premultiplied alpha.\n\t\t * @property _premultiply\n\t\t * @protected\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t */\n\t\tthis._premultiply = premultiply||false;\n\n\t\t/**\n\t\t * Internal value of {{#crossLink \"StageGL/autoPurge\"}}{{/crossLink}}\n\t\t * @property _autoPurge\n\t\t * @protected\n\t\t * @type {Integer}\n\t\t * @default null\n\t\t */\n\t\tthis._autoPurge = undefined;\n\t\tthis.autoPurge = autoPurge;\t//getter/setter handles setting the real value and validating\n\n\t\t/**\n\t\t * The width in px of the drawing surface saved in memory.\n\t\t * @property _viewportWidth\n\t\t * @protected\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t */\n\t\tthis._viewportWidth = 0;\n\n\t\t/**\n\t\t * The height in px of the drawing surface saved in memory.\n\t\t * @property _viewportHeight\n\t\t * @protected\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t */\n\t\tthis._viewportHeight = 0;\n\n\t\t/**\n\t\t * A 2D projection matrix used to convert WebGL's viewspace into canvas co-ordinates. Regular canvas display\n\t\t * uses Top-Left values of [0,0] where WebGL uses a Center [0,0] Top-Right [1,1] (euclidean) system.\n\t\t * @property _projectionMatrix\n\t\t * @protected\n\t\t * @type {Float32Array}\n\t\t * @default null\n\t\t */\n\t\tthis._projectionMatrix = null;\n\n\t\t/**\n\t\t * The current WebGL canvas context. Often shorthanded to just \"gl\" in many parts of the code.\n\t\t * @property _webGLContext\n\t\t * @protected\n\t\t * @type {WebGLRenderingContext}\n\t\t * @default null\n\t\t */\n\t\tthis._webGLContext = null;\n\n\t\t/**\n\t\t * The color to use when the WebGL canvas has been cleared. May appear as a background color. Defaults to grey.\n\t\t * @property _clearColor\n\t\t * @protected\n\t\t * @type {Object}\n\t\t * @default {r: 0.50, g: 0.50, b: 0.50, a: 0.00}\n\t\t */\n\t\tthis._clearColor = {r: 0.50, g: 0.50, b: 0.50, a: 0.00};\n\n\t\t/**\n\t\t * The maximum number of cards (aka a single sprite) that can be drawn in one draw call. Use getter/setters to\n\t\t * modify otherwise internal buffers may be incorrect sizes.\n\t\t * @property _maxCardsPerBatch\n\t\t * @protected\n\t\t * @type {Number}\n\t\t * @default StageGL.DEFAULT_MAX_BATCH_SIZE (10000)\n\t\t */\n\t\tthis._maxCardsPerBatch = StageGL.DEFAULT_MAX_BATCH_SIZE;\t\t\t\t\t\t\t\t\t\t\t\t\t\t//TODO: write getter/setters for this\n\n\t\t/**\n\t\t * The shader program used to draw the current batch.\n\t\t * @property _activeShader\n\t\t * @protected\n\t\t * @type {WebGLProgram}\n\t\t * @default null\n\t\t */\n\t\tthis._activeShader = null;\n\n\t\t/**\n\t\t * The vertex position data for the current draw call.\n\t\t * @property _vertices\n\t\t * @protected\n\t\t * @type {Float32Array}\n\t\t * @default null\n\t\t */\n\t\tthis._vertices = null;\n\n\t\t/**\n\t\t * The WebGL buffer attached to {{#crossLink \"StageGL/_vertices:property\"}}{{/crossLink}}.\n\t\t * @property _vertexPositionBuffer\n\t\t * @protected\n\t\t * @type {WebGLBuffer}\n\t\t * @default null\n\t\t */\n\t\tthis._vertexPositionBuffer = null;\n\n\t\t/**\n\t\t * The vertex U/V data for the current draw call.\n\t\t * @property _uvs\n\t\t * @protected\n\t\t * @type {Float32Array}\n\t\t * @default null\n\t\t */\n\t\tthis._uvs = null;\n\n\t\t/**\n\t\t * The WebGL buffer attached to {{#crossLink \"StageGL/_uvs:property\"}}{{/crossLink}}.\n\t\t * @property _uvPositionBuffer\n\t\t * @protected\n\t\t * @type {WebGLBuffer}\n\t\t * @default null\n\t\t */\n\t\tthis._uvPositionBuffer = null;\n\n\t\t/**\n\t\t * The vertex indices data for the current draw call.\n\t\t * @property _indices\n\t\t * @protected\n\t\t * @type {Float32Array}\n\t\t * @default null\n\t\t */\n\t\tthis._indices = null;\n\n\t\t/**\n\t\t * The WebGL buffer attached to {{#crossLink \"StageGL/_indices:property\"}}{{/crossLink}}.\n\t\t * @property _textureIndexBuffer\n\t\t * @protected\n\t\t * @type {WebGLBuffer}\n\t\t * @default null\n\t\t */\n\t\tthis._textureIndexBuffer = null;\n\n\t\t/**\n\t\t * The vertices data for the current draw call.\n\t\t * @property _alphas\n\t\t * @protected\n\t\t * @type {Float32Array}\n\t\t * @default null\n\t\t */\n\t\tthis._alphas = null;\n\n\t\t/**\n\t\t * The WebGL buffer attached to {{#crossLink \"StageGL/_alphas:property\"}}{{/crossLink}}.\n\t\t * @property _alphaBuffer\n\t\t * @protected\n\t\t * @type {WebGLBuffer}\n\t\t * @default null\n\t\t */\n\t\tthis._alphaBuffer = null;\n\n\t\t/**\n\t\t * An index based lookup of every WebGL Texture currently in use.\n\t\t * @property _drawTexture\n\t\t * @protected\n\t\t * @type {Array}\n\t\t */\n\t\tthis._textureDictionary = [];\n\n\t\t/**\n\t\t * A string based lookup hash of which index a texture is stored at in the dictionary. The lookup string is\n\t\t * often the src url.\n\t\t * @property _textureIDs\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._textureIDs = {};\n\n\t\t/**\n\t\t * An array of all the textures currently loaded into the GPU. The index in the array matches the GPU index.\n\t\t * @property _batchTextures\n\t\t * @protected\n\t\t * @type {Array}\n\t\t */\n\t\tthis._batchTextures = [];\n\n\t\t/**\n\t\t * An array of all the simple filler textures used to prevent issues with missing textures in a batch.\n\t\t * @property _baseTextures\n\t\t * @protected\n\t\t * @type {Array}\n\t\t */\n\t\tthis._baseTextures = [];\n\n\t\t/**\n\t\t * The number of concurrent textures the GPU can handle. This value is dynamically set from WebGL during initialization\n\t\t * via `gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS)`. The WebGL spec states that the lowest guaranteed value is 8,\n\t\t * but it could be higher. Do not set this value higher than the value returned by the GPU. Setting it lower will\n\t\t * probably reduce performance, but may be advisable to reserve slots for custom filter work.\n\t\t * NOTE: Can also act as a length for {{#crossLink \"StageGL/_batchTextures:property\"}}.\n\t\t * @property _batchTextureCount\n\t\t * @protected\n\t\t * @type {Number}\n\t\t * @default 8\n\t\t */\n\t\tthis._batchTextureCount = 8;\n\n\t\t/**\n\t\t * The location at which the last texture was inserted into a GPU slot in {{#crossLink \"StageGL/_batchTextures:property\"}}{{/crossLink}}.\n\t\t * Manual control of this variable can yield improvements in performance by intelligently replacing textures\n\t\t * inside a batch to reduce texture re-load. It is impossible to write automated general use code, as it requires\n\t\t * display list look ahead inspection and/or render foreknowledge.\n\t\t * @property _lastTextureInsert\n\t\t * @protected\n\t\t * @type {Number}\n\t\t * @default -1\n\t\t */\n\t\tthis._lastTextureInsert = -1;\n\n\t\t/**\n\t\t * The current batch being drawn, A batch consists of a call to `drawElements` on the GPU. Many of these calls\n\t\t * can occur per draw.\n\t\t * @property _batchId\n\t\t * @protected\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t */\n\t\tthis._batchID = 0;\n\n\t\t/**\n\t\t * The current draw being performed, may contain multiple batches. Comparing to {{#crossLink \"StageGL/_batchID:property\"}}{{/crossLink}}\n\t\t * can reveal batching efficiency.\n\t\t * @property _drawID\n\t\t * @protected\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t */\n\t\tthis._drawID = 0;\n\n\t\t/**\n\t\t * Used to prevent textures in certain GPU slots from being replaced by an insert.\n\t\t * @property _slotBlackList\n\t\t * @protected\n\t\t * @type {Array}\n\t\t */\n\t\tthis._slotBlacklist = [];\n\n\t\t/**\n\t\t * Used to prevent nested draw calls from accidentally overwriting drawing information by tracking depth.\n\t\t * @property _isDrawing\n\t\t * @protected\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t */\n\t\tthis._isDrawing = 0;\n\n\t\t/**\n\t\t * Used to ensure every canvas used as a texture source has a unique ID.\n\t\t * @property _lastTrackedCanvas\n\t\t * @protected\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t */\n\t\tthis._lastTrackedCanvas = 0;\n\n\t\t/**\n\t\t * Controls whether final rendering output of a {{#crossLink \"cacheDraw\"}}{{/crossLink}} is the canvas or a render\n\t\t * texture. See the {{#crossLink \"cache\"}}{{/crossLink}} function modifications for full implications and discussion.\n\t\t * @property isCacheControlled\n\t\t * @protected\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @todo LM: is this supposed to be _isCacheControlled since its private?\n\t\t */\n\t\tthis.isCacheControlled = false;\n\n\t\t/**\n\t\t * Used to counter-position the object being cached so it aligns with the cache surface. Additionally ensures\n\t\t * that all rendering starts with a top level container.\n\t\t * @property _cacheContainer\n\t\t * @protected\n\t\t * @type {Container}\n\t\t * @default An instance of an EaselJS Container.\n\t\t */\n\t\tthis._cacheContainer = new createjs.Container();\n\n\t\t// and begin\n\t\tthis._initializeWebGL();\n\t}\n\tvar p = createjs.extend(StageGL, createjs.Stage);\n\n// static methods:\n\t/**\n\t * Calculate the U/V co-ordinate based info for sprite frames. Instead of pixel count it uses a 0-1 space. Also includes\n\t * the ability to get info back for a specific frame, or only calculate that one frame.\n\t *\n\t *     //generate UV rects for all entries\n\t *     StageGL.buildUVRects( spriteSheetA );\n\t *     //generate all, fetch the first\n\t *     var firstFrame = StageGL.buildUVRects( spriteSheetB, 0 );\n\t *     //generate the rect for just a single frame for performance's sake\n\t *     var newFrame = StageGL.buildUVRects( dynamicSpriteSheet, newFrameIndex, true );\n\t *\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\n\t * @method buildUVRects\n\t * @param  {SpriteSheet} spritesheet The spritesheet to find the frames on\n\t * @param  {int} [target=-1] The index of the frame to return\n\t * @param  {Boolean} [onlyTarget=false] Whether \"target\" is the only frame that gets calculated\n\t * @static\n\t * @return {Object} the target frame if supplied and present or a generic frame {t, l, b, r}\n\t */\n\tStageGL.buildUVRects = function (spritesheet, target, onlyTarget) {\n\t\tif (!spritesheet || !spritesheet._frames) { return null; }\n\t\tif (target === undefined) { target = -1; }\n\t\tif (onlyTarget === undefined) { onlyTarget = false; }\n\n\t\tvar start = (target != -1 && onlyTarget)?(target):(0);\n\t\tvar end = (target != -1 && onlyTarget)?(target+1):(spritesheet._frames.length);\n\t\tfor (var i=start; i<end; i++) {\n\t\t\tvar f = spritesheet._frames[i];\n\t\t\tif (f.uvRect || f.image.width <= 0 || f.image.height <= 0) { continue; }\n\n\t\t\tvar r = f.rect;\n\t\t\tf.uvRect = {\n\t\t\t\tt: r.y / f.image.height,\n\t\t\t\tl: r.x / f.image.width,\n\t\t\t\tb: (r.y + r.height) / f.image.height,\n\t\t\t\tr: (r.x + r.width) / f.image.width\n\t\t\t};\n\t\t}\n\n\t\treturn spritesheet._frames[(target != -1) ? target : 0].uvRect || {t:0, l:0, b:1, r:1};\n\t};\n\n\t/**\n\t * Test a context to see if it has WebGL enabled on it.\n\t * @method isWebGLActive\n\t * @param {CanvasContext} ctx The context to test\n\t * @static\n\t * @return {Boolean} Whether WebGL is enabled\n\t */\n\tStageGL.isWebGLActive = function (ctx) {\n\t\treturn ctx &&\n\t\t\tctx instanceof WebGLRenderingContext &&\n\t\t\ttypeof WebGLRenderingContext !== 'undefined';\n\t};\n\n// static properties:\n\t/**\n\t * The number of properties defined per vertex (x, y, textureU, textureV, textureIndex, alpha)\n\t * @property VERTEX_PROPERTY_COUNT\n\t * @static\n\t * @final\n\t * @type {Number}\n\t * @default 6\n\t * @readonly\n\t */\n\tStageGL.VERTEX_PROPERTY_COUNT = 6;\n\n\t/**\n\t * The number of triangle indices it takes to form a Card. 3 per triangle, 2 triangles.\n\t * @property INDICIES_PER_CARD\n\t * @static\n\t * @final\n\t * @type {Number}\n\t * @default 6\n\t * @readonly\n\t */\n\tStageGL.INDICIES_PER_CARD = 6;\n\n\t/**\n\t * The default value for the maximum number of cards we want to process in a batch. See\n\t * {{#crossLink \"StageGL/WEBGL_MAX_INDEX_NUM:property\"}}{{/crossLink}} for a hard limit.\n\t * @property DEFAULT_MAX_BATCH_SIZE\n\t * @static\n\t * @final\n\t * @type {Number}\n\t * @default 10000\n\t * @readonly\n\t */\n\tStageGL.DEFAULT_MAX_BATCH_SIZE = 10000;\n\n\t/**\n\t * The maximum size WebGL allows for element index numbers. Uses a 16 bit unsigned integer. It takes 6 indices to\n\t * make a unique card.\n\t * @property WEBGL_MAX_INDEX_NUM\n\t * @static\n\t * @final\n\t * @type {Number}\n\t * @default 65536\n\t * @readonly\n\t */\n\tStageGL.WEBGL_MAX_INDEX_NUM = Math.pow(2, 16);\n\n\t/**\n\t * Default U/V rect for dealing with full coverage from an image source.\n\t * @property UV_RECT\n\t * @static\n\t * @final\n\t * @type {Object}\n\t * @default {t:0, l:0, b:1, r:1}\n\t * @readonly\n\t */\n\tStageGL.UV_RECT = {t:0, l:0, b:1, r:1};\n\n\t/**\n\t * Vertex positions for a card that covers the entire render. Used with render targets primarily.\n\t * @property COVER_VERT\n\t * @static\n\t * @final\n\t * @type {Float32Array}\n\t * @readonly\n\t */\n\tStageGL.COVER_VERT = new Float32Array([\n\t\t-1,\t\t 1,\t\t//TL\n\t\t1,\t\t 1,\t\t//TR\n\t\t-1,\t\t-1,\t\t//BL\n\t\t1,\t\t 1,\t\t//TR\n\t\t1,\t\t-1,\t\t//BR\n\t\t-1,\t\t-1\t\t//BL\n\t]);\n\n\t/**\n\t * U/V for {{#crossLink \"StageGL/COVER_VERT:property\"}}{{/crossLink}}.\n\t * @property COVER_UV\n\t * @static\n\t * @final\n\t * @type {Float32Array}\n\t * @readonly\n\t */\n\tStageGL.COVER_UV = new Float32Array([\n\t\t 0,\t\t 0,\t\t//TL\n\t\t 1,\t\t 0,\t\t//TR\n\t\t 0,\t\t 1,\t\t//BL\n\t\t 1,\t\t 0,\t\t//TR\n\t\t 1,\t\t 1,\t\t//BR\n\t\t 0,\t\t 1\t\t//BL\n\t]);\n\n\t/**\n\t * Flipped U/V for {{#crossLink \"StageGL:COVER_VERT:property\"}}{{/crossLink}}.\n\t * @property COVER_UV_FLIP\n\t * @static\n\t * @final\n\t * @type {Float32Array}\n\t * @readonly\n\t */\n\tStageGL.COVER_UV_FLIP = new Float32Array([\n\t\t 0,\t\t 1,\t\t//TL\n\t\t 1,\t\t 1,\t\t//TR\n\t\t 0,\t\t 0,\t\t//BL\n\t\t 1,\t\t 1,\t\t//TR\n\t\t 1,\t\t 0,\t\t//BR\n\t\t 0,\t\t 0\t\t//BL\n\t]);\n\n\t/**\n\t * Portion of the shader that contains the \"varying\" properties required in both vertex and fragment shaders. The\n\t * regular shader is designed to render all expected objects. Shader code may contain templates that are replaced\n\t * pre-compile.\n\t * @property REGULAR_VARYING_HEADER\n\t * @static\n\t * @final\n\t * @type {String}\n\t * @readonly\n\t */\n\tStageGL.REGULAR_VARYING_HEADER = (\n\t\t\"precision mediump float;\" +\n\t\t\"varying vec2 vTextureCoord;\" +\n\t\t\"varying lowp float indexPicker;\" +\n\t\t\"varying lowp float alphaValue;\"\n\t);\n\n\t/**\n\t * Actual full header for the vertex shader. Includes the varying header. The regular shader is designed to render\n\t * all expected objects. Shader code may contain templates that are replaced pre-compile.\n\t * @property REGULAR_VERTEX_HEADER\n\t * @static\n\t * @final\n\t * @type {String}\n\t * @readonly\n\t */\n\tStageGL.REGULAR_VERTEX_HEADER = (\n\t\tStageGL.REGULAR_VARYING_HEADER +\n\t\t\"attribute vec2 vertexPosition;\" +\n\t\t\"attribute vec2 uvPosition;\" +\n\t\t\"attribute lowp float textureIndex;\" +\n\t\t\"attribute lowp float objectAlpha;\" +\n\t\t\"uniform mat4 pMatrix;\"\n\t);\n\n\t/**\n\t * Actual full header for the fragment shader. Includes the varying header. The regular shader is designed to render\n\t * all expected objects. Shader code may contain templates that are replaced pre-compile.\n\t * @property REGULAR_FRAGMENT_HEADER\n\t * @static\n\t * @final\n\t * @type {String}\n\t * @readonly\n\t */\n\tStageGL.REGULAR_FRAGMENT_HEADER = (\n\t\tStageGL.REGULAR_VARYING_HEADER +\n\t\t\"uniform sampler2D uSampler[{{count}}];\"\n\t);\n\n\t/**\n\t * Body of the vertex shader. The regular shader is designed to render all expected objects. Shader code may contain\n\t * templates that are replaced pre-compile.\n\t * @property REGULAR_VERTEX_BODY\n\t * @static\n\t * @final\n\t * @type {String}\n\t * @readonly\n\t */\n\tStageGL.REGULAR_VERTEX_BODY  = (\n\t\t\"void main(void) {\" +\n\t\t\t//DHG TODO: This doesn't work. Must be something wrong with the hand built matrix see js... bypass for now\n\t\t\t//vertexPosition, round if flag\n\t\t\t//\"gl_Position = pMatrix * vec4(vertexPosition.x, vertexPosition.y, 0.0, 1.0);\" +\n\t\t\t\"gl_Position = vec4(\"+\n\t\t\t\t\"(vertexPosition.x * pMatrix[0][0]) + pMatrix[3][0],\" +\n\t\t\t\t\"(vertexPosition.y * pMatrix[1][1]) + pMatrix[3][1],\" +\n\t\t\t\t\"pMatrix[3][2],\" +\n\t\t\t\t\"1.0\" +\n\t\t\t\");\" +\n\t\t\t\"alphaValue = objectAlpha;\" +\n\t\t\t\"indexPicker = textureIndex;\" +\n\t\t\t\"vTextureCoord = uvPosition;\" +\n\t\t\"}\"\n\t);\n\n\t/**\n\t * Body of the fragment shader. The regular shader is designed to render all expected objects. Shader code may\n\t * contain templates that are replaced pre-compile.\n\t * @property REGULAR_FRAGMENT_BODY\n\t * @static\n\t * @final\n\t * @type {String}\n\t * @readonly\n\t */\n\tStageGL.REGULAR_FRAGMENT_BODY = (\n\t\t\"void main(void) {\" +\n\t\t\t\"vec4 color = vec4(1.0, 0.0, 0.0, 1.0);\" +\n\n\t\t\t\"if (indexPicker <= 0.5) {\" +\n\t\t\t\t\"color = texture2D(uSampler[0], vTextureCoord);\" +\n\t\t\t\t\"{{alternates}}\" +\n\t\t\t\"}\" +\n\n\t\t\t\"gl_FragColor = vec4(color.rgb{{premultiply}}, color.a * alphaValue);\" +\n\t\t\"}\"\n\t);\n\n\t//TODO: DHG: a real particle shader\n\t/**\n\t * @property PARTICLE_VERTEX_BODY\n\t * @todo\n\t * @final\n\t * @static\n\t * @type {String}\n\t * @readonly\n\t */\n\tStageGL.PARTICLE_VERTEX_BODY = (\n\t\tStageGL.REGULAR_VERTEX_BODY\n\t);\n\t/**\n\t * @property PARTICLE_FRAGMENT_BODY\n\t * @todo\n\t * @final\n\t * @static\n\t * @type {String}\n\t * @readonly\n\t */\n\tStageGL.PARTICLE_FRAGMENT_BODY = (\n\t\tStageGL.REGULAR_FRAGMENT_BODY\n\t);\n\n\t/**\n\t * Portion of the shader that contains the \"varying\" properties required in both vertex and fragment shaders. The\n\t * cover shader is designed to be a simple vertex/uv only texture render that covers the render surface. Shader\n\t * code may contain templates that are replaced pre-compile.\n\t * @property COVER_VARYING_HEADER\n\t * @static\n\t * @final\n\t * @type {String}\n\t * @readonly\n\t */\n\tStageGL.COVER_VARYING_HEADER = (\n\t\t\"precision mediump float;\" +\n\n\t\t\"varying highp vec2 vRenderCoord;\" +\n\t\t\"varying highp vec2 vTextureCoord;\"\n\t);\n\n\t/**\n\t * Actual full header for the vertex shader. Includes the varying header. The cover shader is designed to be a\n\t * simple vertex/uv only texture render that covers the render surface. Shader code may contain templates that are\n\t * replaced pre-compile.\n\t * @property COVER_VERTEX_HEADER\n\t * @static\n\t * @final\n\t * @type {String}\n\t * @readonly\n\t */\n\tStageGL.COVER_VERTEX_HEADER = (\n\t\tStageGL.COVER_VARYING_HEADER +\n\t\t\"attribute vec2 vertexPosition;\" +\n\t\t\"attribute vec2 uvPosition;\" +\n\t\t\"uniform float uUpright;\"\n\t);\n\n\t/**\n\t * Actual full header for the fragment shader. Includes the varying header. The cover shader is designed to be a\n\t * simple vertex/uv only texture render that covers the render surface. Shader code may contain templates that are\n\t * replaced pre-compile.\n\t * @property COVER_FRAGMENT_HEADER\n\t * @static\n\t * @final\n\t * @type {String}\n\t * @readonly\n\t */\n\tStageGL.COVER_FRAGMENT_HEADER = (\n\t\tStageGL.COVER_VARYING_HEADER +\n\t\t\"uniform sampler2D uSampler;\"\n\t);\n\n\t/**\n\t * Body of the vertex shader. The cover shader is designed to be a simple vertex/uv only texture render that covers\n\t * the render surface. Shader code may contain templates that are replaced pre-compile.\n\t * @property COVER_VERTEX_BODY\n\t * @static\n\t * @final\n\t * @type {String}\n\t * @readonly\n\t */\n\tStageGL.COVER_VERTEX_BODY  = (\n\t\t\"void main(void) {\" +\n\t\t\t\"gl_Position = vec4(vertexPosition.x, vertexPosition.y, 0.0, 1.0);\" +\n\t\t\t\"vRenderCoord = uvPosition;\" +\n\t\t\t\"vTextureCoord = vec2(uvPosition.x, abs(uUpright - uvPosition.y));\" +\n\t\t\"}\"\n\t);\n\n\t/**\n\t * Body of the fragment shader. The cover shader is designed to be a simple vertex/uv only texture render that\n\t * covers the render surface. Shader code may contain templates that are replaced pre-compile.\n\t * @property COVER_FRAGMENT_BODY\n\t * @static\n\t * @final\n\t * @type {String}\n\t * @readonly\n\t */\n\tStageGL.COVER_FRAGMENT_BODY = (\n\t\t\"void main(void) {\" +\n\t\t\t\"vec4 color = texture2D(uSampler, vRenderCoord);\" +\n\t\t\t\"gl_FragColor = color;\" +\n\t\t\"}\"\n\t);\n\n// events:\n\t/**\n\t * Dispatched each update immediately before the canvas is cleared and the display list is drawn to it. You can call\n\t * {{#crossLink \"Event/preventDefault\"}}{{/crossLink}} on the event to cancel the draw.\n\t * @event drawstart\n\t */\n\n\t/**\n\t * Dispatched each update immediately after the display list is drawn to the canvas and the canvas context is restored.\n\t * @event drawend\n\t */\n\n// getter / setters:\n\tp._get_isWebGL = function () {\n\t\treturn !!this._webGLContext;\n\t};\n\n\tp._set_autoPurge = function (value) {\n\t\tvalue = isNaN(value)?1200:value;\n\t\tif (value != -1) {\n\t\t\tvalue = value<10?10:value;\n\t\t}\n\t\tthis._autoPurge = value;\n\t};\n\tp._get_autoPurge = function () {\n\t\treturn Number(this._autoPurge);\n\t};\n\n\ttry {\n\t\tObject.defineProperties(p, {\n\t\t\t/**\n\t\t\t * Indicates whether WebGL is being used for rendering. For example, this would be `false` if WebGL is not\n\t\t\t * supported in the browser.\n\t\t\t * @property isWebGL\n\t\t\t * @type {Boolean}\n\t\t\t * @readonly\n\t\t\t */\n\t\t\tisWebGL: { get: p._get_isWebGL },\n\n\t\t\t/**\n\t\t\t * Specifies whether or not StageGL is automatically purging unused textures. Higher numbers purge less\n\t\t\t * often. Values below 10 are upgraded to 10, and -1 disables this feature.\n\t\t\t * @property autoPurge\n\t\t\t * @protected\n\t\t\t * @type {Integer}\n\t\t\t * @default 1000\n\t\t\t */\n\t\t\tautoPurge: { get: p._get_autoPurge, set: p._set_autoPurge }\n\t\t});\n\t} catch (e) {} // TODO: use Log\n\n\n// constructor methods:\n\t/**\n\t * Create and properly initialize the WebGL instance.\n\t * @method _initializeWebGL\n\t * @protected\n\t * @return {WebGLRenderingContext}\n\t */\n\tp._initializeWebGL = function () {\n\t\tif (this.canvas) {\n\t\t\tif (!this._webGLContext || this._webGLContext.canvas !== this.canvas) {\n\t\t\t\t// A context hasn't been defined yet,\n\t\t\t\t// OR the defined context belongs to a different canvas, so reinitialize.\n\n\t\t\t\t// defaults and options\n\t\t\t\tvar options = {\n\t\t\t\t\tdepth: false, // Disable the depth buffer as it isn't used.\n\t\t\t\t\talpha: this._transparent, // Make the canvas background transparent.\n\t\t\t\t\tstencil: true,\n\t\t\t\t\tantialias: this._antialias,\n\t\t\t\t\tpremultipliedAlpha: this._premultiply, // Assume the drawing buffer contains colors with premultiplied alpha.\n\t\t\t\t\tpreserveDrawingBuffer: this._preserveBuffer\n\t\t\t\t};\n\n\t\t\t\tvar gl = this._webGLContext = this._fetchWebGLContext(this.canvas, options);\n\t\t\t\tif (!gl) { return null; }\n\n\t\t\t\tthis.updateSimultaneousTextureCount(gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS));\n\t\t\t\tthis._maxTextureSlots = gl.getParameter(gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS);\n\t\t\t\tthis._createBuffers(gl);\n\t\t\t\tthis._initTextures(gl);\n\n\t\t\t\tgl.disable(gl.DEPTH_TEST);\n\t\t\t\tgl.enable(gl.BLEND);\n\t\t\t\tgl.blendFuncSeparate(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n\t\t\t\tgl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, this._premultiply);\n\t\t\t\t//gl.pixelStorei(gl.UNPACK_COLORSPACE_CONVERSION_WEBGL, gl.NONE);\n\n\t\t\t\tthis._webGLContext.clearColor(this._clearColor.r, this._clearColor.g, this._clearColor.b, this._clearColor.a);\n\t\t\t\tthis.updateViewport(this._viewportWidth || this.canvas.width, this._viewportHeight || this.canvas.height);\n\t\t\t}\n\t\t} else {\n\t\t\tthis._webGLContext = null;\n\t\t}\n\t\treturn this._webGLContext;\n\t};\n\n// public methods:\n\t/**\n\t * Docced in superclass\n\t */\n\tp.update = function (props) {\n\t\tif (!this.canvas) { return; }\n\t\tif (this.tickOnUpdate) { this.tick(props); }\n\t\tthis.dispatchEvent(\"drawstart\");\n\t\tif (this.autoClear) { this.clear(); }\n\n\t\tif (this._webGLContext) {\n\t\t\t// Use WebGL.\n\t\t\tthis._batchDraw(this, this._webGLContext);\n\t\t\tif (this._autoPurge != -1 && !(this._drawID%((this._autoPurge/2)|0))) {\n\t\t\t\tthis.purgeTextures(this._autoPurge);\n\t\t\t}\n\t\t} else {\n\t\t\t// Use 2D.\n\t\t\tvar ctx = this.canvas.getContext(\"2d\");\n\t\t\tctx.save();\n\t\t\tthis.updateContext(ctx);\n\t\t\tthis.draw(ctx, false);\n\t\t\tctx.restore();\n\t\t}\n\t\tthis.dispatchEvent(\"drawend\");\n\t};\n\n\t/**\n\t * Docced in superclass\n\t */\n\tp.clear = function () {\n\t\tif (!this.canvas) { return; }\n\t\tif (StageGL.isWebGLActive(this._webGLContext)) {\n\t\t\tvar gl = this._webGLContext;\n\t\t\tvar cc = this._clearColor;\n\t\t\tvar adjust = this._transparent ? cc.a : 1.0;\n\t\t\t// Use WebGL settings; adjust for pre multiplied alpha appropriate to scenario\n\t\t\tthis._webGLContext.clearColor(cc.r * adjust, cc.g * adjust, cc.b * adjust, adjust);\n\t\t\tgl.clear(gl.COLOR_BUFFER_BIT);\n\t\t\tthis._webGLContext.clearColor(cc.r, cc.g, cc.b, cc.a);\n\t\t} else {\n\t\t\t// Use 2D.\n\t\t\tthis.Stage_clear();\n\t\t}\n\t};\n\n\t/**\n\t * Draws the stage into the supplied context if possible. Many WebGL properties only exist on their context. As such\n\t * you cannot share contexts among many StageGLs and each context requires a unique StageGL instance. Contexts that\n\t * don't match the context managed by this StageGL will be treated as a 2D context.\n\t *\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\n\t * @method draw\n\t * @param {CanvasRenderingContext2D | WebGLRenderingContext} context The context object to draw into.\n\t * @param {Boolean} [ignoreCache=false] Indicates whether the draw operation should ignore any current cache. For\n\t *  example, used for drawing the cache (to prevent it from simply drawing an existing cache back into itself).\n\t * @return {Boolean} If the draw was handled by this function\n\t */\n\tp.draw = function (context, ignoreCache) {\n\t\tif (context === this._webGLContext && StageGL.isWebGLActive(this._webGLContext)) {\n\t\t\tvar gl = this._webGLContext;\n\t\t\tthis._batchDraw(this, gl, ignoreCache);\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn this.Stage_draw(context, ignoreCache);\n\t\t}\n\t};\n\n\t/**\n\t * Draws the target into the correct context, be it a canvas or Render Texture using WebGL.\n\t *\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\n\t * @method cacheDraw\n\t * @param {DisplayObject} target The object we're drawing into cache.\n\t * For example, used for drawing the cache (to prevent it from simply drawing an existing cache back into itself).\n\t * @param {Array} filters The filters we're drawing into cache.\n\t * @param {BitmapCache} manager The BitmapCache instance looking after the cache\n\t * @return {Boolean} If the draw was handled by this function\n\t */\n\tp.cacheDraw = function (target, filters, manager) {\n\t\tif (StageGL.isWebGLActive(this._webGLContext)) {\n\t\t\tvar gl = this._webGLContext;\n\t\t\tthis._cacheDraw(gl, target, filters, manager);\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\t/**\n\t * Blocks, or frees a texture \"slot\" on the GPU. Can be useful if you are overflowing textures. When overflowing\n\t * textures they are re-uploaded to the GPU every time they're encountered, this can be expensive with large textures.\n\t * By blocking the slot you reduce available slots, potentially increasing draw calls, but mostly you prevent a\n\t * texture being re-uploaded if it would have moved slots due to overflow.\n\t *\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\n\t * For example, block the slot a background image is stored in so there is less re-loading of that image.\n\t * @method protectTextureSlot\n\t * @param  {Number} id The slot to be affected\n\t * @param  {Boolean} [lock=false] Whether this slot is the one being locked.\n\t */\n\tp.protectTextureSlot = function (id, lock) {\n\t\tif (id > this._maxTextureSlots || id < 0) {\n\t\t\tthrow \"Slot outside of acceptable range\";\n\t\t}\n\t\tthis._slotBlacklist[id] = !!lock;\n\t};\n\n\t/**\n\t * Render textures can't draw into themselves so any item being used for renderTextures needs two to alternate between.\n\t * This function creates, gets, and toggles the render surface between the two.\n\t *\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\n\t * @method getTargetRenderTexture\n\t * @param  {DisplayObject} target The object associated with the render textures, usually a cached object.\n\t * @param  {Number} w The width to create the texture at.\n\t * @param  {Number} h The height to create the texture at.\n\t * @return {Objet}\n\t * @todo fill in return type\n\t */\n\tp.getTargetRenderTexture = function (target, w, h) {\n\t\tvar result, toggle = false;\n\t\tvar gl = this._webGLContext;\n\t\tif (target.__lastRT !== undefined && target.__lastRT === target.__rtA) { toggle = true; }\n\t\tif (!toggle) {\n\t\t\tif (target.__rtA === undefined) {\n\t\t\t\ttarget.__rtA = this.getRenderBufferTexture(w, h);\n\t\t\t} else {\n\t\t\t\tif (w != target.__rtA._width || h != target.__rtA._height) {\n\t\t\t\t\tthis.resizeTexture(target.__rtA, w, h);\n\t\t\t\t}\n\t\t\t\tthis.setTextureParams(gl);\n\t\t\t}\n\t\t\tresult = target.__rtA;\n\t\t} else {\n\t\t\tif (target.__rtB === undefined) {\n\t\t\t\ttarget.__rtB = this.getRenderBufferTexture(w, h);\n\t\t\t} else {\n\t\t\t\tif (w != target.__rtB._width || h != target.__rtB._height) {\n\t\t\t\t\tthis.resizeTexture(target.__rtB, w, h);\n\t\t\t\t}\n\t\t\t\tthis.setTextureParams(gl);\n\t\t\t}\n\t\t\tresult = target.__rtB;\n\t\t}\n\t\tif (!result) {\n\t\t\tthrow \"Problems creating render textures, known causes include using too much VRAM by not releasing WebGL texture instances\";\n\t\t}\n\t\ttarget.__lastRT = result;\n\t\treturn result;\n\t};\n\n\t/**\n\t * For every image encountered StageGL registers and tracks it automatically. This tracking can cause memory leaks \n\t * if not purged. StageGL, by default, automatically purges them. This does have a cost and may unfortunately find\n\t * false positives. This function is for manual management of this memory instead of the automatic system controlled\n\t * by the {{#crossLink \"StageGL/autoPurge:property\"}}{{/crossLink}} property.\n\t *\n\t * This function will recursively remove all textures found on the object, its children, cache, etc. It will uncache \n\t * objects and remove any texture it finds REGARDLESS of whether it is currently in use elsewhere. It is up to the\n\t * developer to ensure that a texture in use is not removed.\n\t *\n\t * Textures in use, or to be used again shortly, should not be removed. This is simply for performance reasons.\n\t * Removing a texture in use will cause the texture to have to be re-uploaded slowing rendering.\n\t * @method releaseTexture\n\t * @param  {DisplayObject | Texture | Image | Canvas} item An object that used the texture to be discarded.\n\t */\n\tp.releaseTexture = function (item) {\n\t\tvar i, l;\n\t\tif (!item) { return; }\n\n\t\t// this is a container object\n\t\tif (item.children) {\n\t\t\tfor (i = 0, l = item.children.length; i < l; i++) {\n\t\t\t\tthis.releaseTexture(item.children[i]);\n\t\t\t}\n\t\t}\n\n\t\t// this has a cache canvas\n\t\tif (item.cacheCanvas) {\n\t\t\titem.uncache();\n\t\t}\n\n\t\tvar foundImage = undefined;\n\t\tif (item._storeID !== undefined) {\n\t\t\t// this is a texture itself\n\t\t\tif (item === this._textureDictionary[item._storeID]) {\n\t\t\t\tthis._killTextureObject(item);\n\t\t\t\titem._storeID = undefined;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// this is an image or canvas\n\t\t\tfoundImage = item;\n\t\t} else if (item._webGLRenderStyle === 2) {\n\t\t\t// this is a Bitmap class\n\t\t\tfoundImage = item.image;\n\t\t} else if (item._webGLRenderStyle === 1) {\n\t\t\t// this is a SpriteSheet, we can't tell which image we used from the list easily so remove them all!\n\t\t\tfor (i = 0, l = item.spriteSheet._images.length; i < l; i++) {\n\t\t\t\tthis.releaseTexture(item.spriteSheet._images[i]);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\t// did we find anything\n\t\tif (foundImage === undefined) {\n\t\t\tif (this.vocalDebug) {\n\t\t\t\tconsole.log(\"No associated texture found on release\");\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\t// remove it\n\t\tthis._killTextureObject(this._textureDictionary[foundImage._storeID]);\n\t\tfoundImage._storeID = undefined;\n\t};\n\n\t/**\n\t * Similar to {{#crossLink \"releaseTexture\"}}{{/crossLink}}, but this function differs by searching for textures to\n\t * release. It works by assuming that it can purge any texture which was last used more than \"count\" draw calls ago.\n\t * Because this process is unaware of the objects and whether they may be used on your stage, false positives can\n\t * occur. It is recommended to manually manage your memory with {{#crossLink \"StageGL/releaseTexture\"}}{{/crossLink}},\n\t * however, there are many use cases where this is simpler and error-free. This process is also run by default under\n\t * the hood to prevent leaks. To disable it see the {{#crossLink \"StageGL/autoPurge:property\"}}{{/crossLink}} property.\n\t * @method purgeTextures\n\t * @param {Number} [count=100] How many renders ago the texture was last used\n\t */\n\tp.purgeTextures = function (count) {\n\t\tif (count == undefined){ count = 100; }\n\n\t\tvar dict = this._textureDictionary;\n\t\tvar l = dict.length;\n\t\tfor (var i= 0; i<l; i++) {\n\t\t\tvar item = dict[i];\n\t\t\tif (!item) { continue; }\n\t\t\tif (item._drawID + count <= this._drawID) {\t// use draw not batch as draw is more indicative of time\n\t\t\t\tthis._killTextureObject(item);\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Try to set the max textures the system can handle. It should default to the hardware maximum, and lower values\n\t * may limit performance. Some devices have been known to mis-report their max textures, or you may need a standard\n\t * baseline cross devices for testing. Barring the previous suggestions, there is little need to call this function\n\t * as the library will automatically try to find the best value.\n\t *\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\n\t * @method updateSimultaneousTextureCount\n\t * @param {Number} [count=1] The number of textures intended for simultaneous loading.\n\t */\n\tp.updateSimultaneousTextureCount = function (count) {\n\t\t// TODO: DHG: make sure API works in all instances, may be some issues with buffers etc I haven't foreseen\n\t\tvar gl = this._webGLContext;\n\t\tvar success = false;\n\n\t\tif (count < 1 || isNaN(count)) { count = 1; }\n\t\tthis._batchTextureCount = count;\n\n\t\twhile (!success) {\n\t\t\ttry {\n\t\t\t\tthis._activeShader = this._fetchShaderProgram(gl);\n\t\t\t\tsuccess = true;\n\t\t\t} catch(e) {\n\t\t\t\tif (this._batchTextureCount == 1) {\n\t\t\t\t\tthrow \"Cannot compile shader \" + e;\n\t\t\t\t}\n\n\t\t\t\tthis._batchTextureCount -= 4;\n\t\t\t\tif (this._batchTextureCount < 1) { this._batchTextureCount = 1; }\n\n\t\t\t\tif (this.vocalDebug) {\n\t\t\t\t\tconsole.log(\"Reducing desired texture count due to errors: \" + this._batchTextureCount);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Update the WebGL viewport. Note that this does <strong>not</strong> update the canvas element's width/height, but\n\t * the render surface's instead. This is necessary after manually resizing the canvas element on the DOM to avoid a\n\t * up/down scaled render.\n\t * @method updateViewport\n\t * @param {Integer} width The width of the render surface in pixels.\n\t * @param {Integer} height The height of the render surface in pixels.\n\t */\n\tp.updateViewport = function (width, height) {\n\t\tthis._viewportWidth = width|0;\n\t\tthis._viewportHeight = height|0;\n\t\tvar gl = this._webGLContext;\n\n\t\tif (gl) {\n\t\t\tgl.viewport(0, 0, this._viewportWidth, this._viewportHeight);\n\n\t\t\t// WebGL works with a -1,1 space on its screen. It also follows Y-Up\n\t\t\t// we need to flip the y, scale and then translate the co-ordinates to match this\n\t\t\t// additionally we offset into they Y so the polygons are inside the camera's \"clipping\" plane\n\t\t\tthis._projectionMatrix = new Float32Array([\n\t\t\t\t2 / this._viewportWidth,\t0,\t\t\t\t\t\t\t\t0,\t\t\t\t\t\t\t0,\n\t\t\t\t0,\t\t\t\t\t\t\t-2 / this._viewportHeight,\t\t1,\t\t\t\t\t\t\t0,\n\t\t\t\t0,\t\t\t\t\t\t\t0,\t\t\t\t\t\t\t\t1,\t\t\t\t\t\t\t0,\n\t\t\t\t-1,\t\t\t\t\t\t\t1,\t\t\t\t\t\t\t\t0.1,\t\t\t\t\t\t0\n\t\t\t]);\n\t\t\t// create the flipped version for use with render texture flipping\n\t\t\t// DHG: this would be a slice/clone but some platforms don't offer them for Float32Array\n\t\t\tthis._projectionMatrixFlip = new Float32Array([0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0]);\n\t\t\tthis._projectionMatrixFlip.set(this._projectionMatrix);\n\t\t\tthis._projectionMatrixFlip[5] *= -1;\n\t\t\tthis._projectionMatrixFlip[13] *= -1;\n\t\t}\n\t};\n\n\t/**\n\t * Fetches the shader compiled and set up to work with the provided filter/object. The shader is compiled on first\n\t * use and returned on subsequent calls.\n\t * @method getFilterShader\n\t * @param  {Filter|Object} filter The object which will provide the information needed to construct the filter shader.\n\t * @return {WebGLProgram}\n\t */\n\tp.getFilterShader = function (filter) {\n\t\tif (!filter) { filter = this; }\n\n\t\tvar gl = this._webGLContext;\n\t\tvar targetShader = this._activeShader;\n\n\t\tif (filter._builtShader) {\n\t\t\ttargetShader = filter._builtShader;\n\t\t\tif (filter.shaderParamSetup) {\n\t\t\t\tgl.useProgram(targetShader);\n\t\t\t\tfilter.shaderParamSetup(gl, this, targetShader);\n\t\t\t}\n\t\t} else {\n\t\t\ttry {\n\t\t\t\ttargetShader = this._fetchShaderProgram(\n\t\t\t\t\tgl, \"filter\",\n\t\t\t\t\tfilter.VTX_SHADER_BODY, filter.FRAG_SHADER_BODY,\n\t\t\t\t\tfilter.shaderParamSetup && filter.shaderParamSetup.bind(filter)\n\t\t\t\t);\n\t\t\t\tfilter._builtShader = targetShader;\n\t\t\t\ttargetShader._name = filter.toString();\n\t\t\t} catch (e) {\n\t\t\t\tconsole && console.log(\"SHADER SWITCH FAILURE\", e);\n\t\t\t}\n\t\t}\n\t\treturn targetShader;\n\t};\n\n\t/**\n\t * Returns a base texture that has no image or data loaded. Not intended for loading images. It may return `null`\n\t * in some error cases, and trying to use a \"null\" texture can cause renders to fail.\n\t * @method getBaseTexture\n\t * @param  {uint} [w=1] The width of the texture in pixels, defaults to 1\n\t * @param  {uint} [h=1] The height of the texture in pixels, defaults to 1\n\t */\n\tp.getBaseTexture = function (w, h) {\n\t\tvar width = Math.ceil(w > 0 ? w : 1) || 1;\n\t\tvar height = Math.ceil(h > 0 ? h : 1) || 1;\n\n\t\tvar gl = this._webGLContext;\n\t\tvar texture = gl.createTexture();\n\t\tthis.resizeTexture(texture, width, height);\n\t\tthis.setTextureParams(gl, false);\n\n\t\treturn texture;\n\t};\n\n\t/**\n\t * Resizes a supplied texture element. May generate invalid textures in some error cases such as; when the texture\n\t * is too large, when an out of texture memory error occurs, or other error scenarios. Trying to use an invalid texture\n\t * can cause renders to hard stop on some devices. Check the WebGL bound texture after running this function.\n\t *\n\t * NOTE: The supplied texture must have been made with the WebGL \"texImage2D\" function, all default APIs in StageGL\n\t * use this, so this note only matters for library developers and plugins.\n\t *\n\t * @protected\n\t * @method resizeTexture\n\t * @param  {WebGLTexture} texture The GL Texture to be modified.\n\t * @param  {uint} [width=1] The width of the texture in pixels, defaults to 1\n\t * @param  {uint} [height=1] The height of the texture in pixels, defaults to 1\n\t */\n\tp.resizeTexture = function (texture, width,height) {\n\t\tvar gl = this._webGLContext;\n\t\tgl.bindTexture(gl.TEXTURE_2D, texture);\n\t\tgl.texImage2D(\n\t\t\tgl.TEXTURE_2D,\t\t\t\t// target\n\t\t\t0,\t\t\t\t\t\t\t// level of detail\n\t\t\tgl.RGBA,\t\t\t\t\t// internal format\n\t\t\twidth, height, 0,\t\t\t// width, height, border (only for array/null sourced textures)\n\t\t\tgl.RGBA,\t\t\t\t\t// format (match internal format)\n\t\t\tgl.UNSIGNED_BYTE,\t\t\t// type of texture(pixel color depth)\n\t\t\tnull\t\t\t\t\t\t// image data, we can do null because we're doing array data\n\t\t);\n\t\ttexture.width = width;\n\t\ttexture.height = height;\n\t};\n\n\t/**\n\t * Returns a base texture (see {{#crossLink \"StageGL/getBaseTexture\"}}{{/crossLink}}) for details. Also includes an\n\t * attached and linked render buffer in `texture._frameBuffer`. RenderTextures can be thought of as an internal\n\t * canvas on the GPU that can be drawn to.\n\t * @method getRenderBufferTexture\n\t * @param  {Number} w The width of the texture in pixels.\n\t * @param  {Number} h The height of the texture in pixels.\n\t * @return {Texture} the basic texture instance with a render buffer property.\n\t */\n\tp.getRenderBufferTexture = function (w, h) {\n\t\tvar gl = this._webGLContext;\n\n\t\t// get the texture\n\t\tvar renderTexture = this.getBaseTexture(w, h);\n\t\tif (!renderTexture) { return null; }\n\n\t\t// get the frame buffer\n\t\tvar frameBuffer = gl.createFramebuffer();\n\t\tif (!frameBuffer) { return null; }\n\n\t\t// set its width and height for spoofing as an image\n\t\trenderTexture.width = w;\n\t\trenderTexture.height = h;\n\n\t\t// attach frame buffer to texture and provide cross links to look up each other\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\n\t\tgl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, renderTexture, 0);\n\t\tframeBuffer._renderTexture = renderTexture;\n\t\trenderTexture._frameBuffer = frameBuffer;\n\n\t\t// these keep track of themselves simply to reduce complexity of some lookup code\n\t\trenderTexture._storeID = this._textureDictionary.length;\n\t\tthis._textureDictionary[renderTexture._storeID] = renderTexture;\n\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, null);\n\t\treturn renderTexture;\n\t};\n\n\t/**\n\t * Common utility function used to apply the correct texture processing parameters for the bound texture.\n\t * @method setTextureParams\n\t * @param  {WebGLRenderingContext} gl The canvas WebGL context object to draw into.\n\t * @param  {Boolean} [isPOT=false] Marks whether the texture is \"Power of Two\", this may allow better quality AA.\n\t */\n\tp.setTextureParams = function (gl, isPOT) {\n\t\tif (isPOT && this._antialias) {\n\t\t\t//non POT linear works in some devices, but performance is NOT good, investigate\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n\t\t} else {\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n\t\t}\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n\t};\n\n\t/**\n\t * Changes the webGL clear, aka \"background\" color to the provided value. A transparent clear is recommended, as\n\t * non-transparent colours may create undesired boxes around some visuals.\n\t *\n\t * The clear color will also be used for filters and other \"render textures\". The stage background will ignore the\n\t * transparency value and display a solid color normally. For the stage to recognize and use transparency it must be\n\t * created with the transparent flag set to `true` (see {{#crossLink \"StageGL/constructor\"}}{{/crossLink}})).\n\t *\n\t * Using \"transparent white\" to demonstrate, the valid data formats are as follows:\n\t * <ul>\n\t *     <li>\"#FFF\"</li>\n\t *     <li>\"#FFFFFF\"</li>\n\t *     <li>\"#FFFFFF00\"</li>\n\t *     <li>\"rgba(255,255,255,0.0)\"</li>\n\t * </ul>\n\t * @method setClearColor\n\t * @param {String|int} [color=0x00000000] The new color to use as the background\n\t */\n\tp.setClearColor = function (color) {\n\t\tvar r, g, b, a, output;\n\n\t\tif (typeof color == \"string\") {\n\t\t\tif (color.indexOf(\"#\") == 0) {\n\t\t\t\tif (color.length == 4) {\n\t\t\t\t\tcolor = \"#\" + color.charAt(1)+color.charAt(1) + color.charAt(2)+color.charAt(2) + color.charAt(3)+color.charAt(3)\n\t\t\t\t}\n\t\t\t\tr = Number(\"0x\"+color.slice(1, 3))/255;\n\t\t\t\tg = Number(\"0x\"+color.slice(3, 5))/255;\n\t\t\t\tb = Number(\"0x\"+color.slice(5, 7))/255;\n\t\t\t\ta = Number(\"0x\"+color.slice(7, 9))/255;\n\t\t\t} else if (color.indexOf(\"rgba(\") == 0) {\n\t\t\t\toutput = color.slice(5, -1).split(\",\");\n\t\t\t\tr = Number(output[0])/255;\n\t\t\t\tg = Number(output[1])/255;\n\t\t\t\tb = Number(output[2])/255;\n\t\t\t\ta = Number(output[3]);\n\t\t\t}\n\t\t} else {\t// >>> is an unsigned shift which is what we want as 0x80000000 and up are negative values\n\t\t\tr = ((color & 0xFF000000) >>> 24)/255;\n\t\t\tg = ((color & 0x00FF0000) >>> 16)/255;\n\t\t\tb = ((color & 0x0000FF00) >>> 8)/255;\n\t\t\ta = (color & 0x000000FF)/255;\n\t\t}\n\n\t\tthis._clearColor.r = r || 0;\n\t\tthis._clearColor.g = g || 0;\n\t\tthis._clearColor.b = b || 0;\n\t\tthis._clearColor.a = a || 0;\n\n\t\tif (!this._webGLContext) { return; }\n\t\tthis._webGLContext.clearColor(this._clearColor.r, this._clearColor.g, this._clearColor.b, this._clearColor.a);\n\t};\n\n\t/**\n\t * docced in subclass\n\t */\n\tp.toString = function () {\n\t\treturn \"[StageGL (name=\"+  this.name +\")]\";\n\t};\n\n// private methods:\n\t/**\n\t * Sets up and returns the WebGL context for the canvas. May return undefined in error scenarios. These can include \n\t * situations where the canvas element already has a context, 2D or GL.\n\t * @param  {Canvas} canvas The DOM canvas element to attach to\n\t * @param  {Object} options The options to be handed into the WebGL object, see WebGL spec\n\t * @method _fetchWebGLContext\n\t * @protected\n\t * @return {WebGLRenderingContext} The WebGL context, may return undefined in error scenarios\n\t */\n\tp._fetchWebGLContext = function (canvas, options) {\n\t\tvar gl;\n\n\t\ttry {\n\t\t\tgl = canvas.getContext(\"webgl\", options) || canvas.getContext(\"experimental-webgl\", options);\n\t\t} catch (e) {\n\t\t\t// don't do anything in catch, null check will handle it\n\t\t}\n\n\t\tif (!gl) {\n\t\t\tvar msg = \"Could not initialize WebGL\";\n\t\t\tconsole.error?console.error(msg):console.log(msg);\n\t\t} else {\n\t\t\tgl.viewportWidth = canvas.width;\n\t\t\tgl.viewportHeight = canvas.height;\n\t\t}\n\n\t\treturn gl;\n\t};\n\n\t/**\n\t * Create the completed Shader Program from the vertex and fragment shaders. Allows building of custom shaders for\n\t * filters. Once compiled, shaders are saved so. If the Shader code requires dynamic alterations re-run this function\n\t * to generate a new shader.\n\t * @method _fetchShaderProgram\n\t * @param  {WebGLRenderingContext} gl The canvas WebGL context object to draw into.\n\t * @param  {String} [shaderName=\"regular\"] Working values: \"regular\", \"override\", and \"filter\". Which type of shader to build.\n\t * Filter and override both accept the custom params. Regular and override have all features. Filter is a special case reduced feature shader meant to be over-ridden.\n\t * @param  {String} [customVTX] Extra vertex shader information to replace a regular draw, see \n\t * {{#crossLink \"StageGL/COVER_VERTEX_BODY\"}}{{/crossLink}} for default and {{#crossLink \"Filter\"}}{{/crossLink}} for examples.\n\t * @param  {String} [customFRAG] Extra fragment shader information to replace a regular draw, see \n\t * {{#crossLink \"StageGL/COVER_FRAGMENT_BODY\"}}{{/crossLink}} for default and {{#crossLink \"Filter\"}}{{/crossLink}} for examples.\n\t * @param  {Function} [shaderParamSetup] Function to run so custom shader parameters can get applied for the render.\n\t * @protected\n\t * @return {WebGLProgram} The compiled and linked shader\n\t */\n\tp._fetchShaderProgram = function (gl, shaderName, customVTX, customFRAG, shaderParamSetup) {\n\t\tgl.useProgram(null);\t\t// safety to avoid collisions\n\n\t\t// build the correct shader string out of the right headers and bodies\n\t\tvar targetFrag, targetVtx;\n\t\tswitch (shaderName) {\n\t\t\tcase \"filter\":\n\t\t\t\ttargetVtx = StageGL.COVER_VERTEX_HEADER + (customVTX || StageGL.COVER_VERTEX_BODY);\n\t\t\t\ttargetFrag = StageGL.COVER_FRAGMENT_HEADER + (customFRAG || StageGL.COVER_FRAGMENT_BODY);\n\t\t\t\tbreak;\n\t\t\tcase \"particle\": //TODO\n\t\t\t\ttargetVtx = StageGL.REGULAR_VERTEX_HEADER + StageGL.PARTICLE_VERTEX_BODY;\n\t\t\t\ttargetFrag = StageGL.REGULAR_FRAGMENT_HEADER + StageGL.PARTICLE_FRAGMENT_BODY;\n\t\t\t\tbreak;\n\t\t\tcase \"override\":\n\t\t\t\ttargetVtx = StageGL.REGULAR_VERTEX_HEADER + (customVTX || StageGL.REGULAR_VERTEX_BODY);\n\t\t\t\ttargetFrag = StageGL.REGULAR_FRAGMENT_HEADER + (customFRAG || StageGL.REGULAR_FRAGMENT_BODY);\n\t\t\t\tbreak;\n\t\t\tcase \"regular\":\n\t\t\tdefault:\n\t\t\t\ttargetVtx = StageGL.REGULAR_VERTEX_HEADER + StageGL.REGULAR_VERTEX_BODY;\n\t\t\t\ttargetFrag = StageGL.REGULAR_FRAGMENT_HEADER + StageGL.REGULAR_FRAGMENT_BODY;\n\t\t\t\tbreak;\n\t\t}\n\n\t\t// create the separate vars\n\t\tvar vertexShader = this._createShader(gl, gl.VERTEX_SHADER, targetVtx);\n\t\tvar fragmentShader = this._createShader(gl, gl.FRAGMENT_SHADER, targetFrag);\n\n\t\t// link them together\n\t\tvar shaderProgram = gl.createProgram();\n\t\tgl.attachShader(shaderProgram, vertexShader);\n\t\tgl.attachShader(shaderProgram, fragmentShader);\n\t\tgl.linkProgram(shaderProgram);\n\t\tshaderProgram._type = shaderName;\n\n\t\t// check compile status\n\t\tif (!gl.getProgramParameter(shaderProgram, gl.LINK_STATUS)) {\n\t\t\tgl.useProgram(this._activeShader);\n\t\t\tthrow gl.getProgramInfoLog(shaderProgram);\n\t\t}\n\n\t\t// set up the parameters on the shader\n\t\tgl.useProgram(shaderProgram);\n\t\tswitch (shaderName) {\n\t\t\tcase \"filter\":\n\t\t\t\t// get the places in memory the shader is stored so we can feed information into them\n\t\t\t\t// then save it off on the shader because it's so tied to the shader itself\n\t\t\t\tshaderProgram.vertexPositionAttribute = gl.getAttribLocation(shaderProgram, \"vertexPosition\");\n\t\t\t\tgl.enableVertexAttribArray(shaderProgram.vertexPositionAttribute);\n\n\t\t\t\tshaderProgram.uvPositionAttribute = gl.getAttribLocation(shaderProgram, \"uvPosition\");\n\t\t\t\tgl.enableVertexAttribArray(shaderProgram.uvPositionAttribute);\n\n\t\t\t\tshaderProgram.samplerUniform = gl.getUniformLocation(shaderProgram, \"uSampler\");\n\t\t\t\tgl.uniform1i(shaderProgram.samplerUniform, 0);\n\n\t\t\t\tshaderProgram.uprightUniform = gl.getUniformLocation(shaderProgram, \"uUpright\");\n\t\t\t\tgl.uniform1f(shaderProgram.uprightUniform, 0);\n\n\t\t\t\t// if there's some custom attributes be sure to hook them up\n\t\t\t\tif (shaderParamSetup) {\n\t\t\t\t\tshaderParamSetup(gl, this, shaderProgram);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"override\":\n\t\t\tcase \"particle\":\n\t\t\tcase \"regular\":\n\t\t\tdefault:\n\t\t\t\t// get the places in memory the shader is stored so we can feed information into them\n\t\t\t\t// then save it off on the shader because it's so tied to the shader itself\n\t\t\t\tshaderProgram.vertexPositionAttribute = gl.getAttribLocation(shaderProgram, \"vertexPosition\");\n\t\t\t\tgl.enableVertexAttribArray(shaderProgram.vertexPositionAttribute);\n\n\t\t\t\tshaderProgram.uvPositionAttribute = gl.getAttribLocation(shaderProgram, \"uvPosition\");\n\t\t\t\tgl.enableVertexAttribArray(shaderProgram.uvPositionAttribute);\n\n\t\t\t\tshaderProgram.textureIndexAttribute = gl.getAttribLocation(shaderProgram, \"textureIndex\");\n\t\t\t\tgl.enableVertexAttribArray(shaderProgram.textureIndexAttribute);\n\n\t\t\t\tshaderProgram.alphaAttribute = gl.getAttribLocation(shaderProgram, \"objectAlpha\");\n\t\t\t\tgl.enableVertexAttribArray(shaderProgram.alphaAttribute);\n\n\t\t\t\tvar samplers = [];\n\t\t\t\tfor (var i = 0; i < this._batchTextureCount; i++) {\n\t\t\t\t\tsamplers[i] = i;\n\t\t\t\t}\n\n\t\t\t\tshaderProgram.samplerData = samplers;\n\t\t\t\tshaderProgram.samplerUniform = gl.getUniformLocation(shaderProgram, \"uSampler\");\n\t\t\t\tgl.uniform1iv(shaderProgram.samplerUniform, samplers);\n\n\t\t\t\tshaderProgram.pMatrixUniform = gl.getUniformLocation(shaderProgram, \"pMatrix\");\n\t\t\t\tbreak;\n\t\t}\n\n\t\tgl.useProgram(this._activeShader);\n\t\treturn shaderProgram;\n\t};\n\n\t/**\n\t * Creates a shader from the specified string replacing templates. Template items are defined via `{{` `key` `}}``.\n\t * @method _createShader\n\t * @param  {WebGLRenderingContext} gl The canvas WebGL context object to draw into.\n\t * @param  {Number} type The type of shader to create. gl.VERTEX_SHADER | gl.FRAGMENT_SHADER\n\t * @param  {String} str The definition for the shader.\n\t * @return {WebGLShader}\n\t * @protected\n\t */\n\tp._createShader = function (gl, type, str) {\n\t\t// inject the static number\n\t\tstr = str.replace(/{{count}}/g, this._batchTextureCount);\n\n\t\t// resolve issue with no dynamic samplers by creating correct samplers in if else chain\n\t\t// TODO: WebGL 2.0 does not need this support\n\t\tvar insert = \"\";\n\t\tfor (var i = 1; i<this._batchTextureCount; i++) {\n\t\t\tinsert += \"} else if (indexPicker <= \"+ i +\".5) { color = texture2D(uSampler[\"+ i +\"], vTextureCoord);\";\n\t\t}\n\t\tstr = str.replace(/{{alternates}}/g, insert);\n\t\tstr = str.replace(/{{premultiply}}/g, this._premultiply ? \"/color.a\" : \"\");\n\n\t\t// actually compile the shader\n\t\tvar shader = gl.createShader(type);\n\t\tgl.shaderSource(shader, str);\n\t\tgl.compileShader(shader);\n\n\t\t// check compile status\n\t\tif (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n\t\t\tthrow gl.getShaderInfoLog(shader);\n\t\t}\n\n\t\treturn shader;\n\t};\n\n\t/**\n\t * Sets up the necessary vertex property buffers, including position and U/V.\n\t * @method _createBuffers\n\t * @param {WebGLRenderingContext} gl\n\t * @protected\n\t */\n\tp._createBuffers = function (gl) {\n\t\tvar groupCount = this._maxCardsPerBatch * StageGL.INDICIES_PER_CARD;\n\t\tvar groupSize, i, l;\n\n\t\t// INFO:\n\t\t// all buffers are created using this pattern\n\t\t// create a WebGL buffer\n\t\t// attach it to context\n\t\t// figure out how many parts it has to an entry\n\t\t// fill it with empty data to reserve the memory\n\t\t// attach the empty data to the GPU\n\t\t// track the sizes on the buffer object\n\n\t\t// INFO:\n\t\t// a single buffer may be optimal in some situations and would be approached like this,\n\t\t// currently not implemented due to lack of need and potential complications with drawCover\n\n\t\t// var vertexBuffer = this._vertexBuffer = gl.createBuffer();\n\t\t// gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer);\n\t\t// groupSize = 2 + 2 + 1 + 1; //x/y, u/v, index, alpha\n\t\t// var vertexData = this._vertexData = new Float32Array(groupCount * groupSize);\n\t\t// for (i=0; i<vertexData.length; i+=groupSize) {\n\t\t// \tvertexData[i+0] = vertexData[i+1] = 0;\n\t\t// \tvertexData[i+2] = vertexData[i+3] = 0.5;\n\t\t// \tvertexData[i+4] = 0;\n\t\t// \tvertexData[i+5] = 1;\n\t\t// }\n\t\t// vertexBuffer.itemSize = groupSize;\n\t\t// vertexBuffer.numItems = groupCount;\n\t\t// TODO bechmark and test using unified buffer\n\n\t\t// the actual position information\n\t\tvar vertexPositionBuffer = this._vertexPositionBuffer = gl.createBuffer();\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, vertexPositionBuffer);\n\t\tgroupSize = 2;\n\t\tvar vertices = this._vertices = new Float32Array(groupCount * groupSize);\n\t\tfor (i=0, l=vertices.length; i<l; i+=groupSize) { vertices[i] = vertices[i+1] = 0; }\n\t\tgl.bufferData(gl.ARRAY_BUFFER, vertices, gl.DYNAMIC_DRAW);\n\t\tvertexPositionBuffer.itemSize = groupSize;\n\t\tvertexPositionBuffer.numItems = groupCount;\n\n\t\t// where on the texture it gets its information\n\t\tvar uvPositionBuffer = this._uvPositionBuffer = gl.createBuffer();\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, uvPositionBuffer);\n\t\tgroupSize = 2;\n\t\tvar uvs = this._uvs = new Float32Array(groupCount * groupSize);\n\t\tfor (i=0, l=uvs.length; i<l; i+=groupSize) { uvs[i] = uvs[i+1] = 0; }\n\t\tgl.bufferData(gl.ARRAY_BUFFER, uvs, gl.DYNAMIC_DRAW);\n\t\tuvPositionBuffer.itemSize = groupSize;\n\t\tuvPositionBuffer.numItems = groupCount;\n\n\t\t// what texture it should use\n\t\tvar textureIndexBuffer = this._textureIndexBuffer = gl.createBuffer();\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, textureIndexBuffer);\n\t\tgroupSize = 1;\n\t\tvar indices = this._indices = new Float32Array(groupCount * groupSize);\n\t\tfor (i=0, l=indices.length; i<l; i++) { indices[i] = 0; }\n\t\tgl.bufferData(gl.ARRAY_BUFFER, indices, gl.DYNAMIC_DRAW);\n\t\ttextureIndexBuffer.itemSize = groupSize;\n\t\ttextureIndexBuffer.numItems = groupCount;\n\n\t\t// what alpha it should have\n\t\tvar alphaBuffer = this._alphaBuffer = gl.createBuffer();\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, alphaBuffer);\n\t\tgroupSize = 1;\n\t\tvar alphas = this._alphas = new Float32Array(groupCount * groupSize);\n\t\tfor (i=0, l=alphas.length; i<l; i++) { alphas[i] = 1; }\n\t\tgl.bufferData(gl.ARRAY_BUFFER, alphas, gl.DYNAMIC_DRAW);\n\t\talphaBuffer.itemSize = groupSize;\n\t\talphaBuffer.numItems = groupCount;\n\t};\n\n\t/**\n\t * Do all the setup steps for textures in the system.\n\t * @method _initTextures\n\t * @protected\n\t */\n\tp._initTextures = function () {\n\t\t//TODO: DHG: add a cleanup routine in here in case this happens mid stream\n\n\t\t// reset counters\n\t\tthis._lastTextureInsert = -1;\n\n\t\t// clear containers\n\t\tthis._textureDictionary = [];\n\t\tthis._textureIDs = {};\n\t\tthis._baseTextures = [];\n\t\tthis._batchTextures = [];\n\n\t\t// fill in blanks as it helps the renderer be stable while textures are loading and reduces need for safety code\n\t\tfor (var i=0; i<this._batchTextureCount;i++) {\n\t\t\tvar tex = this.getBaseTexture();\n\t\t\tthis._baseTextures[i] = this._batchTextures[i] = tex;\n\t\t\tif (!tex) {\n\t\t\t\tthrow \"Problems creating basic textures, known causes include using too much VRAM by not releasing WebGL texture instances\";\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Load a specific texture, accounting for potential delay, as it might not be preloaded.\n\t * @method _loadTextureImage\n\t * @param {WebGLRenderingContext} gl\n\t * @param {Image} image Actual image to be loaded\n\t * @return {WebGLTexture} The resulting Texture object\n\t * @protected\n\t */\n\tp._loadTextureImage = function (gl, image) {\n\t\tvar src = image.src;\n\n\t\tif (!src) {\n\t\t\t// one time canvas property setup\n\t\t\timage._isCanvas = true;\n\t\t\tsrc = image.src = \"canvas_\" + this._lastTrackedCanvas++;\n\t\t}\n\n\t\t// put the texture into our storage system\n\t\tvar storeID = this._textureIDs[src];\n\t\tif (storeID === undefined) {\n\t\t\tstoreID = this._textureIDs[src] = this._textureDictionary.length;\n\t\t}\n\t\tif (this._textureDictionary[storeID] === undefined) {\n\t\t\tthis._textureDictionary[storeID] = this.getBaseTexture();\n\t\t}\n\n\t\tvar texture = this._textureDictionary[storeID];\n\n\t\tif (texture) {\n\t\t\t// get texture params all set up\n\t\t\ttexture._batchID = this._batchID;\n\t\t\ttexture._storeID = storeID;\n\t\t\ttexture._imageData = image;\n\t\t\tthis._insertTextureInBatch(gl, texture);\n\n\t\t\t// get the data into the texture or wait for it to load\n\t\t\timage._storeID = storeID;\n\t\t\tif (image.complete || image.naturalWidth || image._isCanvas) {\t// is it already loaded\n\t\t\t\tthis._updateTextureImageData(gl, image);\n\t\t\t} else  {\n\t\t\t\timage.addEventListener(\"load\", this._updateTextureImageData.bind(this, gl, image));\n\t\t\t}\n\t\t} else {\n\t\t\t// we really really should have a texture, try to recover the error by using a saved empty texture so we don't crash\n\t\t\tvar msg = \"Problem creating desired texture, known causes include using too much VRAM by not releasing WebGL texture instances\";\n\t\t\t(console.error && console.error(msg)) || console.log(msg);\n\n\t\t\ttexture = this._baseTextures[0];\n\t\t\ttexture._batchID = this._batchID;\n\t\t\ttexture._storeID = -1;\n\t\t\ttexture._imageData = texture;\n\t\t\tthis._insertTextureInBatch(gl, texture);\n\t\t}\n\n\t\treturn texture;\n\t};\n\n\t/**\n\t * Necessary to upload the actual image data to the GPU. Without this the texture will be blank. Called automatically\n\t * in most cases due to loading and caching APIs. Flagging an image source with `_invalid = true` will trigger this\n\t * next time the image is rendered.\n\t * @param {WebGLRenderingContext} gl\n\t * @param {Image | Canvas} image The image data to be uploaded\n\t * @protected\n\t */\n\tp._updateTextureImageData = function (gl, image) {\n\t\t// the bitwise & is intentional, cheap exponent 2 check\n\t\tvar isNPOT = (image.width & image.width-1) || (image.height & image.height-1);\n\t\tvar texture = this._textureDictionary[image._storeID];\n\n\t\tgl.activeTexture(gl.TEXTURE0 + texture._activeIndex);\n\t\tgl.bindTexture(gl.TEXTURE_2D, texture);\n\n\t\ttexture.isPOT = !isNPOT;\n\t\tthis.setTextureParams(gl, texture.isPOT);\n\n\t\ttry {\n\t\t\tgl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, image);\n\t\t} catch(e) {\n\t\t\tvar errString = \"\\nAn error has occurred. This is most likely due to security restrictions on WebGL images with local or cross-domain origins\";\n\t\t\tif(console.error) {\n\t\t\t\t//TODO: LM: I recommend putting this into a log function internally, since you do it so often, and each is implemented differently.\n\t\t\t\tconsole.error(errString);\n\t\t\t\tconsole.error(e);\n\t\t\t} else if (console) {\n\t\t\t\tconsole.log(errString);\n\t\t\t\tconsole.log(e);\n\t\t\t}\n\t\t}\n\n\t\timage._invalid = false;\n\n\t\ttexture._w = image.width;\n\t\ttexture._h = image.height;\n\n\t\tif (this.vocalDebug) {\n\t\t\tif (isNPOT) {\n\t\t\t\tconsole.warn(\"NPOT(Non Power of Two) Texture: \"+ image.src);\n\t\t\t}\n\t\t\tif (image.width > gl.MAX_TEXTURE_SIZE || image.height > gl.MAX_TEXTURE_SIZE){\n\t\t\t\tconsole && console.error(\"Oversized Texture: \"+ image.width+\"x\"+image.height +\" vs \"+ gl.MAX_TEXTURE_SIZE +\"max\");\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Adds the texture to a spot in the current batch, forcing a draw if no spots are free.\n\t * @method _insertTextureInBatch\n\t * @param {WebGLRenderingContext} gl The canvas WebGL context object to draw into.\n\t * @param {WebGLTexture} texture The texture to be inserted.\n\t * @protected\n\t */\n\tp._insertTextureInBatch = function (gl, texture) {\n\t\t// if it wasn't used last batch\n\t\tif (this._batchTextures[texture._activeIndex] !== texture) {\n\t\t\t// we've got to find it a a spot.\n\t\t\tvar found = -1;\n\t\t\tvar start = (this._lastTextureInsert+1) % this._batchTextureCount;\n\t\t\tvar look = start;\n\t\t\tdo {\n\t\t\t\tif (this._batchTextures[look]._batchID != this._batchID && !this._slotBlacklist[look]) {\n\t\t\t\t\tfound = look;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tlook = (look+1) % this._batchTextureCount;\n\t\t\t} while (look !== start);\n\n\t\t\t// we couldn't find anywhere for it go, meaning we're maxed out\n\t\t\tif (found === -1) {\n\t\t\t\tthis.batchReason = \"textureOverflow\";\n\t\t\t\tthis._drawBuffers(gl);\t\t// <------------------------------------------------------------------------\n\t\t\t\tthis.batchCardCount = 0;\n\t\t\t\tfound = start;\n\t\t\t}\n\n\t\t\t// lets put it into that spot\n\t\t\tthis._batchTextures[found] = texture;\n\t\t\ttexture._activeIndex = found;\n\t\t\tvar image = texture._imageData;\n\t\t\tif (image && image._invalid && texture._drawID !== undefined) {\n\t\t\t\tthis._updateTextureImageData(gl, image);\n\t\t\t} else {\n\t\t\t\tgl.activeTexture(gl.TEXTURE0 + found);\n\t\t\t\tgl.bindTexture(gl.TEXTURE_2D, texture);\n\t\t\t\tthis.setTextureParams(gl);\n\t\t\t}\n\t\t\tthis._lastTextureInsert = found;\n\t\t} else {\n\t\t\tvar image = texture._imageData;\n\t\t\tif (texture._storeID != undefined && image && image._invalid) {\n\t\t\t\tthis._updateTextureImageData(gl, image);\n\t\t\t}\n\t\t}\n\n\t\ttexture._drawID = this._drawID;\n\t\ttexture._batchID = this._batchID;\n\t};\n\n\t/**\n\t * Remove and clean the texture, expects a texture and is inflexible. Mostly for internal use, recommended to call \n\t * {{#crossLink \"StageGL/releaseTexture\"}}{{/crossLink}} instead as it will call this with the correct texture object(s).\n\t * Note: Testing shows this may not happen immediately, have to wait frames for WebGL to have actually adjust memory.\n\t * @method _killTextureObject\n\t * @param {Texture} tex The texture to be cleaned out\n\t * @protected\n\t */\n\tp._killTextureObject = function (tex) {\n\t\tif (!tex) { return; }\n\t\tvar gl = this._webGLContext;\n\n\t\t// remove linkage\n\t\tif (tex._storeID !== undefined && tex._storeID >= 0) {\n\t\t\tthis._textureDictionary[tex._storeID] = undefined;\n\t\t\tfor (var n in this._textureIDs) {\n\t\t\t\tif (this._textureIDs[n] == tex._storeID) { delete this._textureIDs[n]; }\n\t\t\t}\n\t\t\tif(tex._imageData) { tex._imageData._storeID = undefined; }\n\t\t\ttex._imageData = tex._storeID = undefined;\n\t\t}\n\n\t\t// make sure to drop it out of an active slot\n\t\tif (tex._activeIndex !== undefined && this._batchTextures[tex._activeIndex] === tex) {\n\t\t\tthis._batchTextures[tex._activeIndex] = this._baseTextures[tex._activeIndex];\n\t\t}\n\n\t\t// remove buffers if present\n\t\ttry {\n\t\t\tif (tex._frameBuffer) { gl.deleteFramebuffer(tex._frameBuffer); }\n\t\t\ttex._frameBuffer = undefined;\n\t\t} catch(e) {\n\t\t\t/* suppress delete errors because it's already gone or didn't need deleting probably */\n\t\t\tif (this.vocalDebug) { console.log(e); }\n\t\t}\n\n\t\t// remove entry\n\t\ttry {\n\t\t\tgl.deleteTexture(tex);\n\t\t} catch(e) {\n\t\t\t/* suppress delete errors because it's already gone or didn't need deleting probably */\n\t\t\tif (this.vocalDebug) { console.log(e); }\n\t\t}\n\t};\n\n\t/**\n\t * Store or restore current batch textures into a backup array\n\t * @method _backupBatchTextures\n\t * @param {Boolean} restore Perform a restore instead of a store.\n\t * @param {Array} [target=this._backupTextures] Where to perform the backup, defaults to internal backup.\n\t * @protected\n\t */\n\tp._backupBatchTextures = function (restore, target) {\n\t\tvar gl = this._webGLContext;\n\n\t\tif (!this._backupTextures) { this._backupTextures = []; }\n\t\tif (target === undefined) { target = this._backupTextures; }\n\n\t\tfor (var i=0; i<this._batchTextureCount; i++) {\n\t\t\tgl.activeTexture(gl.TEXTURE0 + i);\n\t\t\tif (restore) {\n\t\t\t\tthis._batchTextures[i] = target[i];\n\t\t\t} else {\n\t\t\t\ttarget[i] = this._batchTextures[i];\n\t\t\t\tthis._batchTextures[i] = this._baseTextures[i];\n\t\t\t}\n\t\t\tgl.bindTexture(gl.TEXTURE_2D, this._batchTextures[i]);\n\t\t\tthis.setTextureParams(gl, this._batchTextures[i].isPOT);\n\t\t}\n\n\t\tif (restore && target === this._backupTextures) { this._backupTextures = []; }\n\t};\n\n\t/**\n\t * Begin the drawing process for a regular render.\n\t * @method _batchDraw\n\t * @param {WebGLRenderingContext} gl The canvas WebGL context object to draw into.\n\t * @param {Stage || Container} sceneGraph {{#crossLink \"Container\"}}{{/crossLink}} object with all that needs to rendered, preferably a Stage.\n\t * @param {Boolean} ignoreCache\n\t * @protected\n\t */\n\tp._batchDraw = function (sceneGraph, gl, ignoreCache) {\n\t\tif (this._isDrawing > 0) {\n\t\t\tthis._drawBuffers(gl);\n\t\t}\n\t\tthis._isDrawing++;\n\t\tthis._drawID++;\n\n\t\tthis.batchCardCount = 0;\n\t\tthis.depth = 0;\n\n\t\tthis._appendToBatchGroup(sceneGraph, gl, new createjs.Matrix2D(), this.alpha, ignoreCache);\n\n\t\tthis.batchReason = \"drawFinish\";\n\t\tthis._drawBuffers(gl);\t\t\t\t\t\t\t\t// <--------------------------------------------------------\n\t\tthis._isDrawing--;\n\t};\n\n\t/**\n\t * Perform the drawing process to fill a specific cache texture, including applying filters.\n\t * @method _cacheDraw\n\t * @param {DisplayObject} target The object we're drawing into the cache. For example, used for drawing the cache\n\t * (to prevent it from simply drawing an existing cache back into itself).\n\t * @param {Array} filters The filters we're drawing into cache.\n\t * @param {BitmapCache} manager The BitmapCache instance looking after the cache\n\t * @protected\n\t */\n\tp._cacheDraw = function (gl, target, filters, manager) {\n\t\t/*\n\t\tImplicitly there are 4 modes to this function: filtered-sameContext, filtered-uniqueContext, sameContext, uniqueContext.\n\t\tEach situation must be handled slightly differently as 'sameContext' or 'uniqueContext' define how the output works,\n\t\tone drawing directly into the main context and the other drawing into a stored renderTexture respectively.\n\t\tWhen the draw is a 'filtered' draw, the filters are applied sequentially and will draw into saved textures repeatedly.\n\t\tOnce the final filter is done the final output is treated depending upon whether it is a same or unique context.\n\t\tThe internal complexity comes from reducing over-draw, shared code, and issues like textures needing to be flipped\n\t\tsometimes when written to render textures.\n\t\t*/\n\t\tvar renderTexture;\n\t\tvar shaderBackup = this._activeShader;\n\t\tvar blackListBackup = this._slotBlacklist;\n\t\tvar lastTextureSlot = this._maxTextureSlots-1;\n\t\tvar wBackup = this._viewportWidth, hBackup = this._viewportHeight;\n\n\t\t// protect the last slot so that we have somewhere to bind the renderTextures so it doesn't get upset\n\t\tthis.protectTextureSlot(lastTextureSlot, true);\n\n\t\t// create offset container for drawing item\n\t\tvar mtx = target.getMatrix();\n\t\tmtx = mtx.clone();\n\t\tmtx.scale(1/manager.scale, 1/manager.scale);\n\t\tmtx = mtx.invert();\n\t\tmtx.translate(-manager.offX/manager.scale, -manager.offY/manager.scale);\n\t\tvar container = this._cacheContainer;\n\t\tcontainer.children = [target];\n\t\tcontainer.transformMatrix = mtx;\n\n\t\tthis._backupBatchTextures(false);\n\n\t\tvar filterCount = filters && filters.length;\n\t\tif (filterCount) {\n\t\t\tthis._drawFilters(target, filters, manager);\n\t\t} else {\n\t\t\t// is this for another stage or mine?\n\t\t\tif (this.isCacheControlled) {\n\t\t\t\t// draw item to canvas\t\t\t\tI -> C\n\t\t\t\tgl.clear(gl.COLOR_BUFFER_BIT);\n\t\t\t\tthis._batchDraw(container, gl, true);\n\t\t\t} else {\n\t\t\t\tgl.activeTexture(gl.TEXTURE0 + lastTextureSlot);\n\t\t\t\ttarget.cacheCanvas = this.getTargetRenderTexture(target, manager._drawWidth, manager._drawHeight);\n\t\t\t\trenderTexture = target.cacheCanvas;\n\n\t\t\t\t// draw item to render texture\t\tI -> T\n\t\t\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, renderTexture._frameBuffer);\n\t\t\t\tthis.updateViewport(manager._drawWidth, manager._drawHeight);\n\t\t\t\tthis._projectionMatrix = this._projectionMatrixFlip;\n\t\t\t\tgl.clear(gl.COLOR_BUFFER_BIT);\n\t\t\t\tthis._batchDraw(container, gl, true);\n\n\t\t\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, null);\n\t\t\t\tthis.updateViewport(wBackup, hBackup);\n\t\t\t}\n\t\t}\n\n\t\tthis._backupBatchTextures(true);\n\n\t\tthis.protectTextureSlot(lastTextureSlot, false);\n\t\tthis._activeShader = shaderBackup;\n\t\tthis._slotBlacklist = blackListBackup;\n\t};\n\n\t/**\n\t * Sub portion of _cacheDraw, split off for readability. Do not call independently.\n\t * @method _drawFilters\n\t * @param {DisplayObject} target The object we're drawing with a filter.\n\t * @param {Array} filters The filters we're drawing into cache.\n\t * @param {BitmapCache} manager The BitmapCache instance looking after the cache\n\t */\n\tp._drawFilters = function (target, filters, manager) {\n\t\tvar gl = this._webGLContext;\n\t\tvar renderTexture;\n\t\tvar lastTextureSlot = this._maxTextureSlots-1;\n\t\tvar wBackup = this._viewportWidth, hBackup = this._viewportHeight;\n\n\t\tvar container = this._cacheContainer;\n\t\tvar filterCount = filters && filters.length;\n\n\t\t// we don't know which texture slot we're dealing with previously and we need one out of the way\n\t\t// once we're using that slot activate it so when we make and bind our RenderTexture it's safe there\n\t\tgl.activeTexture(gl.TEXTURE0 + lastTextureSlot);\n\t\trenderTexture = this.getTargetRenderTexture(target, manager._drawWidth, manager._drawHeight);\n\n\t\t// draw item to render texture\t\tI -> T\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, renderTexture._frameBuffer);\n\t\tthis.updateViewport(manager._drawWidth, manager._drawHeight);\n\t\tgl.clear(gl.COLOR_BUFFER_BIT);\n\t\tthis._batchDraw(container, gl, true);\n\n\t\t// bind the result texture to slot 0 as all filters and cover draws assume original content is in slot 0\n\t\tgl.activeTexture(gl.TEXTURE0);\n\t\tgl.bindTexture(gl.TEXTURE_2D, renderTexture);\n\t\tthis.setTextureParams(gl);\n\n\t\tvar flipY = false;\n\n\t\t// apply each filter in order, but remember to toggle used texture and render buffer\n\t\tfor (var i=0; i<filterCount; i++) {\n\t\t\tvar filter = filters[i];\n\n\t\t\t// swap to correct shader\n\t\t\tthis._activeShader = this.getFilterShader(filter);\n\t\t\tif (!this._activeShader) { continue; }\n\n\t\t\t// now the old result is stored in slot 0, make a new render texture\n\t\t\tgl.activeTexture(gl.TEXTURE0 + lastTextureSlot);\n\t\t\trenderTexture = this.getTargetRenderTexture(target, manager._drawWidth, manager._drawHeight);\n\t\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, renderTexture._frameBuffer);\n\n\t\t\t// draw result to render texture\tR -> T\n\t\t\tgl.viewport(0, 0, manager._drawWidth, manager._drawHeight);\n\t\t\tgl.clear(gl.COLOR_BUFFER_BIT);\n\t\t\tthis._drawCover(gl, flipY);\n\n\t\t\t// bind the result texture to slot 0 as all filters and cover draws assume original content is in slot 0\n\t\t\tgl.activeTexture(gl.TEXTURE0);\n\t\t\tgl.bindTexture(gl.TEXTURE_2D, renderTexture);\n\t\t\tthis.setTextureParams(gl);\n\n\t\t\t// use flipping to keep things upright, things already cancel out on a single filter\n\t\t\tif (filterCount > 1) {\n\t\t\t\tflipY = !flipY;\n\t\t\t}\n\t\t}\n\n\t\t// is this for another stage or mine\n\t\tif (this.isCacheControlled) {\n\t\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, null);\n\t\t\tthis.updateViewport(wBackup, hBackup);\n\n\t\t\t// draw result to canvas\t\t\tR -> C\n\t\t\tthis._activeShader = this.getFilterShader(this);\n\t\t\tgl.clear(gl.COLOR_BUFFER_BIT);\n\t\t\tthis._drawCover(gl, flipY);\n\t\t} else {\n\t\t\t//TODO: DHG: this is less than ideal. A flipped initial render for this circumstance might help. Adjust the perspective matrix?\n\t\t\tif (flipY) {\n\t\t\t\tgl.activeTexture(gl.TEXTURE0 + lastTextureSlot);\n\t\t\t\trenderTexture = this.getTargetRenderTexture(target, manager._drawWidth, manager._drawHeight);\n\t\t\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, renderTexture._frameBuffer);\n\n\t\t\t\tthis._activeShader = this.getFilterShader(this);\n\t\t\t\tgl.viewport(0, 0, manager._drawWidth, manager._drawHeight);\n\t\t\t\tgl.clear(gl.COLOR_BUFFER_BIT);\n\t\t\t\tthis._drawCover(gl, !flipY);\n\t\t\t}\n\t\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, null);\n\t\t\tthis.updateViewport(wBackup, hBackup);\n\n\t\t\t// make sure the last texture is the active thing to draw\n\t\t\ttarget.cacheCanvas = renderTexture;\n\t\t}\n\t};\n\n\t/**\n\t * Add all the contents of a container to the pending buffers, called recursively on each container. This may\n\t * trigger a draw if a buffer runs out of space. This is the main workforce of the render loop.\n\t * @method _appendToBatchGroup\n\t * @param {Container} container The {{#crossLink \"Container\"}}{{/crossLink}} that contains everything to be drawn.\n\t * @param {WebGLRenderingContext} gl The canvas WebGL context object to draw into.\n\t * @param {Matrix2D} concatMtx The effective (concatenated) transformation matrix when beginning this container\n\t * @param {Number} concatAlpha The effective (concatenated) alpha when beginning this container\n\t * @param {Boolean} ignoreCache Don't use an element's cache during this draw\n\t * @protected\n\t */\n\tp._appendToBatchGroup = function (container, gl, concatMtx, concatAlpha, ignoreCache) {\n\t\t// sort out shared properties\n\t\tif (!container._glMtx) { container._glMtx = new createjs.Matrix2D(); }\n\t\tvar cMtx = container._glMtx;\n\t\tcMtx.copy(concatMtx);\n\t\tif (container.transformMatrix) {\n\t\t\tcMtx.appendMatrix(container.transformMatrix);\n\t\t} else {\n\t\t\tcMtx.appendTransform(\n\t\t\t\tcontainer.x, container.y,\n\t\t\t\tcontainer.scaleX, container.scaleY,\n\t\t\t\tcontainer.rotation, container.skewX, container.skewY,\n\t\t\t\tcontainer.regX, container.regY\n\t\t\t);\n\t\t}\n\n\t\t// sub components of figuring out the position an object holds\n\t\tvar subL, subT, subR, subB;\n\n\t\t// actually apply its data to the buffers\n\t\tvar l = container.children.length;\n\t\tfor (var i = 0; i < l; i++) {\n\t\t\tvar item = container.children[i];\n\n\t\t\tif (!(item.visible && concatAlpha)) { continue; }\n\t\t\tif (!item.cacheCanvas || ignoreCache) {\n\t\t\t\tif (item._updateState){\n\t\t\t\t\titem._updateState();\n\t\t\t\t}\n\t\t\t\tif (item.children) {\n\t\t\t\t\tthis._appendToBatchGroup(item, gl, cMtx, item.alpha * concatAlpha);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// check for overflowing batch, if yes then force a render\n\t\t\t// TODO: DHG: consider making this polygon count dependant for things like vector draws\n\t\t\tif (this.batchCardCount+1 > this._maxCardsPerBatch) {\n\t\t\t\tthis.batchReason = \"vertexOverflow\";\n\t\t\t\tthis._drawBuffers(gl);\t\t\t\t\t// <------------------------------------------------------------\n\t\t\t\tthis.batchCardCount = 0;\n\t\t\t}\n\n\t\t\t// keep track of concatenated position\n\t\t\tif (!item._glMtx) { item._glMtx = new createjs.Matrix2D(); }\n\t\t\tvar iMtx = item._glMtx;\n\t\t\tiMtx.copy(cMtx);\n\t\t\tif (item.transformMatrix) {\n\t\t\t\tiMtx.appendMatrix(item.transformMatrix);\n\t\t\t} else {\n\t\t\t\tiMtx.appendTransform(\n\t\t\t\t\titem.x, item.y,\n\t\t\t\t\titem.scaleX, item.scaleY,\n\t\t\t\t\titem.rotation, item.skewX, item.skewY,\n\t\t\t\t\titem.regX, item.regY\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tvar uvRect, texIndex, image, frame, texture, src;\n\t\t\tvar useCache = item.cacheCanvas && !ignoreCache;\n\n\t\t\tif (item._webGLRenderStyle === 2 || useCache) {\t\t\t// BITMAP / Cached Canvas\n\t\t\t\timage = (ignoreCache?false:item.cacheCanvas) || item.image;\n\t\t\t} else if (item._webGLRenderStyle === 1) {\t\t\t\t\t\t\t\t\t\t\t// SPRITE\n\t\t\t\tframe = item.spriteSheet.getFrame(item.currentFrame);\t//TODO: Faster way?\n\t\t\t\tif (frame === null) { continue; }\n\t\t\t\timage = frame.image;\n\t\t\t} else {\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// MISC (DOM objects render themselves later)\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar uvs = this._uvs;\n\t\t\tvar vertices = this._vertices;\n\t\t\tvar texI = this._indices;\n\t\t\tvar alphas = this._alphas;\n\n\t\t\t// calculate texture\n\t\t\tif (!image) { continue; }\n\t\t\tif (image._storeID === undefined) {\n\t\t\t\t// this texture is new to us so load it and add it to the batch\n\t\t\t\ttexture = this._loadTextureImage(gl, image);\n\t\t\t\tthis._insertTextureInBatch(gl, texture);\n\t\t\t} else {\n\t\t\t\t// fetch the texture (render textures know how to look themselves up to simplify this logic)\n\t\t\t\ttexture = this._textureDictionary[image._storeID];\n\t\t\t\tif (!texture){\n\t\t\t\t\tif (this.vocalDebug){ console.log(\"Texture should not be looked up while not being stored.\"); }\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// put it in the batch if needed\n\t\t\t\tif (texture._batchID !== this._batchID) {\n\t\t\t\t\tthis._insertTextureInBatch(gl, texture);\n\t\t\t\t}\n\t\t\t}\n\t\t\ttexIndex = texture._activeIndex;\n\n\t\t\tif (item._webGLRenderStyle === 2 || useCache) {\t\t\t// BITMAP / Cached Canvas\n\t\t\t\tif (!useCache && item.sourceRect) {\n\t\t\t\t\t// calculate uvs\n\t\t\t\t\tif (!item._uvRect) { item._uvRect = {}; }\n\t\t\t\t\tsrc = item.sourceRect;\n\t\t\t\t\tuvRect = item._uvRect;\n\t\t\t\t\tuvRect.t = (src.y)/image.height;\n\t\t\t\t\tuvRect.l = (src.x)/image.width;\n\t\t\t\t\tuvRect.b = (src.y + src.height)/image.height;\n\t\t\t\t\tuvRect.r = (src.x + src.width)/image.width;\n\n\t\t\t\t\t// calculate vertices\n\t\t\t\t\tsubL = 0;\t\t\t\t\t\t\tsubT = 0;\n\t\t\t\t\tsubR = src.width+subL;\t\t\t\tsubB = src.height+subT;\n\t\t\t\t} else {\n\t\t\t\t\t// calculate uvs\n\t\t\t\t\tuvRect = StageGL.UV_RECT;\n\t\t\t\t\t// calculate vertices\n\t\t\t\t\tif (useCache) {\n\t\t\t\t\t\tsrc = item.bitmapCache;\n\t\t\t\t\t\tsubL = src.x+(src._filterOffX/src.scale);\tsubT = src.y+(src._filterOffY/src.scale);\n\t\t\t\t\t\tsubR = (src._drawWidth/src.scale)+subL;\t\tsubB = (src._drawHeight/src.scale)+subT;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsubL = 0;\t\t\t\t\t\tsubT = 0;\n\t\t\t\t\t\tsubR = image.width+subL;\t\tsubB = image.height+subT;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (item._webGLRenderStyle === 1) {\t\t\t\t\t\t\t\t\t\t\t// SPRITE\n\t\t\t\tvar rect = frame.rect;\n\n\t\t\t\t// calculate uvs\n\t\t\t\tuvRect = frame.uvRect;\n\t\t\t\tif (!uvRect) {\n\t\t\t\t\tuvRect = StageGL.buildUVRects(item.spriteSheet, item.currentFrame, false);\n\t\t\t\t}\n\n\t\t\t\t// calculate vertices\n\t\t\t\tsubL = -frame.regX;\t\t\t\t\t\t\t\tsubT = -frame.regY;\n\t\t\t\tsubR = rect.width-frame.regX;\t\t\t\t\tsubB = rect.height-frame.regY;\n\t\t\t}\n\n\t\t\t// These must be calculated here else a forced draw might happen after they're set\n\t\t\tvar offV1 = this.batchCardCount*StageGL.INDICIES_PER_CARD;\t\t// offset for 1 component vectors\n\t\t\tvar offV2 = offV1*2;\t\t\t\t\t\t\t\t\t\t\t// offset for 2 component vectors\n\n\t\t\t//DHG: See Matrix2D.transformPoint for why this math specifically\n\t\t\t// apply vertices\n\t\t\tvertices[offV2] =\t\tsubL *iMtx.a + subT *iMtx.c +iMtx.tx;\t\tvertices[offV2+1] =\t\tsubL *iMtx.b + subT *iMtx.d +iMtx.ty;\n\t\t\tvertices[offV2+2] =\t\tsubL *iMtx.a + subB *iMtx.c +iMtx.tx;\t\tvertices[offV2+3] =\t\tsubL *iMtx.b + subB *iMtx.d +iMtx.ty;\n\t\t\tvertices[offV2+4] =\t\tsubR *iMtx.a + subT *iMtx.c +iMtx.tx;\t\tvertices[offV2+5] =\t\tsubR *iMtx.b + subT *iMtx.d +iMtx.ty;\n\t\t\tvertices[offV2+6] =\t\tvertices[offV2+2];\t\t\t\t\t\t\tvertices[offV2+7] =\t\tvertices[offV2+3];\n\t\t\tvertices[offV2+8] =\t\tvertices[offV2+4];\t\t\t\t\t\t\tvertices[offV2+9] =\t\tvertices[offV2+5];\n\t\t\tvertices[offV2+10] =\tsubR *iMtx.a + subB *iMtx.c +iMtx.tx;\t\tvertices[offV2+11] =\tsubR *iMtx.b + subB *iMtx.d +iMtx.ty;\n\n\t\t\t// apply uvs\n\t\t\tuvs[offV2] =\tuvRect.l;\t\t\tuvs[offV2+1] =\tuvRect.t;\n\t\t\tuvs[offV2+2] =\tuvRect.l;\t\t\tuvs[offV2+3] =\tuvRect.b;\n\t\t\tuvs[offV2+4] =\tuvRect.r;\t\t\tuvs[offV2+5] =\tuvRect.t;\n\t\t\tuvs[offV2+6] =\tuvRect.l;\t\t\tuvs[offV2+7] =\tuvRect.b;\n\t\t\tuvs[offV2+8] =\tuvRect.r;\t\t\tuvs[offV2+9] =\tuvRect.t;\n\t\t\tuvs[offV2+10] =\tuvRect.r;\t\t\tuvs[offV2+11] =\tuvRect.b;\n\n\t\t\t// apply texture\n\t\t\ttexI[offV1] = texI[offV1+1] = texI[offV1+2] = texI[offV1+3] = texI[offV1+4] = texI[offV1+5] = texIndex;\n\n\t\t\t// apply alpha\n\t\t\talphas[offV1] = alphas[offV1+1] = alphas[offV1+2] = alphas[offV1+3] = alphas[offV1+4] = alphas[offV1+5] = item.alpha * concatAlpha;\n\n\t\t\tthis.batchCardCount++;\n\t\t}\n\t};\n\n\t/**\n\t * Draws all the currently defined cards in the buffer to the render surface.\n\t * @method _drawBuffers\n\t * @param {WebGLRenderingContext} gl The canvas WebGL context object to draw into.\n\t * @protected\n\t */\n\tp._drawBuffers = function (gl) {\n\t\tif (this.batchCardCount <= 0) { return; }\t// prevents error logs on stages filled with un-renederable content.\n\n\t\tif (this.vocalDebug) {\n\t\t\tconsole.log(\"Draw[\"+ this._drawID +\":\"+ this._batchID +\"] : \"+ this.batchReason);\n\t\t}\n\t\tvar shaderProgram = this._activeShader;\n\t\tvar vertexPositionBuffer = this._vertexPositionBuffer;\n\t\tvar textureIndexBuffer = this._textureIndexBuffer;\n\t\tvar uvPositionBuffer = this._uvPositionBuffer;\n\t\tvar alphaBuffer = this._alphaBuffer;\n\n\t\tgl.useProgram(shaderProgram);\n\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, vertexPositionBuffer);\n\t\tgl.vertexAttribPointer(shaderProgram.vertexPositionAttribute, vertexPositionBuffer.itemSize, gl.FLOAT, false, 0, 0);\n\t\tgl.bufferSubData(gl.ARRAY_BUFFER, 0, this._vertices);\n\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, textureIndexBuffer);\n\t\tgl.vertexAttribPointer(shaderProgram.textureIndexAttribute, textureIndexBuffer.itemSize, gl.FLOAT, false, 0, 0);\n\t\tgl.bufferSubData(gl.ARRAY_BUFFER, 0, this._indices);\n\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, uvPositionBuffer);\n\t\tgl.vertexAttribPointer(shaderProgram.uvPositionAttribute, uvPositionBuffer.itemSize, gl.FLOAT, false, 0, 0);\n\t\tgl.bufferSubData(gl.ARRAY_BUFFER, 0, this._uvs);\n\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, alphaBuffer);\n\t\tgl.vertexAttribPointer(shaderProgram.alphaAttribute, alphaBuffer.itemSize, gl.FLOAT, false, 0, 0);\n\t\tgl.bufferSubData(gl.ARRAY_BUFFER, 0, this._alphas);\n\n\t\tgl.uniformMatrix4fv(shaderProgram.pMatrixUniform, gl.FALSE, this._projectionMatrix);\n\n\t\tfor (var i = 0; i < this._batchTextureCount; i++) {\n\t\t\tvar texture = this._batchTextures[i];\n\t\t\tgl.activeTexture(gl.TEXTURE0 + i);\n\t\t\tgl.bindTexture(gl.TEXTURE_2D, texture);\n\t\t\tthis.setTextureParams(gl, texture.isPOT);\n\t\t}\n\n\t\tgl.drawArrays(gl.TRIANGLES, 0, this.batchCardCount*StageGL.INDICIES_PER_CARD);\n\t\tthis._batchID++;\n\t};\n\n\t/**\n\t * Draws a card that covers the entire render surface. Mainly used for filters.\n\t * @method _drawBuffers\n\t * @param {WebGLRenderingContext} gl The canvas WebGL context object to draw into.\n\t * @param {Boolean} flipY Covers are used for things like RenderTextures and because of 3D vs Canvas space this can\n\t * end up meaning the `y` space sometimes requires flipping in the render.\n\t * @protected\n\t */\n\tp._drawCover = function (gl, flipY) {\n\t\tif (this._isDrawing > 0) {\n\t\t\tthis._drawBuffers(gl);\n\t\t}\n\n\t\tif (this.vocalDebug) {\n\t\t\tconsole.log(\"Draw[\"+ this._drawID +\":\"+ this._batchID +\"] : \"+ \"Cover\");\n\t\t}\n\t\tvar shaderProgram = this._activeShader;\n\t\tvar vertexPositionBuffer = this._vertexPositionBuffer;\n\t\tvar uvPositionBuffer = this._uvPositionBuffer;\n\n\t\tgl.clear(gl.COLOR_BUFFER_BIT);\n\t\tgl.useProgram(shaderProgram);\n\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, vertexPositionBuffer);\n\t\tgl.vertexAttribPointer(shaderProgram.vertexPositionAttribute, vertexPositionBuffer.itemSize, gl.FLOAT, false, 0, 0);\n\t\tgl.bufferSubData(gl.ARRAY_BUFFER, 0, StageGL.COVER_VERT);\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, uvPositionBuffer);\n\t\tgl.vertexAttribPointer(shaderProgram.uvPositionAttribute, uvPositionBuffer.itemSize, gl.FLOAT, false, 0, 0);\n\t\tgl.bufferSubData(gl.ARRAY_BUFFER, 0, flipY?StageGL.COVER_UV_FLIP:StageGL.COVER_UV);\n\n\t\tgl.uniform1i(shaderProgram.samplerUniform, 0);\n\t\tgl.uniform1f(shaderProgram.uprightUniform, flipY?0:1);\n\n\t\tgl.drawArrays(gl.TRIANGLES, 0, StageGL.INDICIES_PER_CARD);\n\t};\n\n\tcreatejs.StageGL = createjs.promote(StageGL, \"Stage\");\n}());\n\n//##############################################################################\n// Bitmap.js\n//##############################################################################\n\nthis.createjs = this.createjs||{};\n\n(function() {\n\t\n\t/**\n\t * A Bitmap represents an Image, Canvas, or Video in the display list. A Bitmap can be instantiated using an existing\n\t * HTML element, or a string.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t * \tvar bitmap = new createjs.Bitmap(\"imagePath.jpg\");\n\t *\n\t * <strong>Notes:</strong>\n\t * <ol>\n\t * \t<li>When using a video source that may loop or seek, use a {{#crossLink \"VideoBuffer\"}}{{/crossLink}} object to\n\t * \t prevent blinking / flashing.\n\t * \t<li>When a string path or image tag that is not yet loaded is used, the stage may need to be redrawn before it\n\t * \t will be displayed.</li>\n\t * \t<li>Bitmaps with an SVG source currently will not respect an alpha value other than 0 or 1. To get around this,\n\t * \tthe Bitmap can be cached.</li>\n\t * \t<li>Bitmaps with an SVG source will taint the canvas with cross-origin data, which prevents interactivity. This\n\t * \thappens in all browsers except recent Firefox builds.</li>\n\t * \t<li>Images loaded cross-origin will throw cross-origin security errors when interacted with using a mouse, using\n\t * \tmethods such as `getObjectUnderPoint`, or using filters, or caching. You can get around this by setting\n\t * \t`crossOrigin` flags on your images before passing them to EaselJS, eg: `img.crossOrigin=\"Anonymous\";`</li>\n\t * </ol>\n\t *\n\t * @class Bitmap\n\t * @extends DisplayObject\n\t * @constructor\n\t * @param {CanvasImageSource | String | Object} imageOrUri The source image to display. This can be a CanvasImageSource\n\t * (image, video, canvas), an object with a `getImage` method that returns a CanvasImageSource, or a string URL to an image.\n\t * If the latter, a new Image instance with the URL as its src will be used.\n\t **/\n\tfunction Bitmap(imageOrUri) {\n\t\tthis.DisplayObject_constructor();\n\t\t\n\t\t\n\t// public properties:\n\t\t/**\n\t\t * The source image to display. This can be a CanvasImageSource\n\t\t * (image, video, canvas), an object with a `getImage` method that returns a CanvasImageSource, or a string URL to an image.\n\t\t * If the latter, a new Image instance with the URL as its src will be used.\n\t\t * @property image\n\t\t * @type CanvasImageSource | Object\n\t\t **/\n\t\tif (typeof imageOrUri == \"string\") {\n\t\t\tthis.image = document.createElement(\"img\");\n\t\t\tthis.image.src = imageOrUri;\n\t\t} else {\n\t\t\tthis.image = imageOrUri;\n\t\t}\n\t\n\t\t/**\n\t\t * Specifies an area of the source image to draw. If omitted, the whole image will be drawn.\n\t\t * Notes:\n\t\t * <ul>\n\t\t *     <li>that video sources must have a width / height set to work correctly with `sourceRect`</li>\n\t\t *     <li>Cached objects will ignore the `sourceRect` property</li>\n\t\t * </ul>\n\t\t * @property sourceRect\n\t\t * @type Rectangle\n\t\t * @default null\n\t\t */\n\t\tthis.sourceRect = null;\n\n\t// private properties:\n\t\t/**\n\t\t * Docced in superclass.\n\t\t */\n\t\tthis._webGLRenderStyle = createjs.DisplayObject._StageGL_BITMAP;\n\t}\n\tvar p = createjs.extend(Bitmap, createjs.DisplayObject);\n\t\n\t\n// public methods:\n\t/**\n\t * Constructor alias for backwards compatibility. This method will be removed in future versions.\n\t * Subclasses should be updated to use {{#crossLink \"Utility Methods/extends\"}}{{/crossLink}}.\n\t * @method initialize\n\t * @deprecated in favour of `createjs.promote()`\n\t **/\n\tp.initialize = Bitmap; // TODO: deprecated.\n\n\t/**\n\t * Returns true or false indicating whether the display object would be visible if drawn to a canvas.\n\t * This does not account for whether it would be visible within the boundaries of the stage.\n\t *\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\n\t * @method isVisible\n\t * @return {Boolean} Boolean indicating whether the display object would be visible if drawn to a canvas\n\t **/\n\tp.isVisible = function() {\n\t\tvar image = this.image;\n\t\tvar hasContent = this.cacheCanvas || (image && (image.naturalWidth || image.getContext || image.readyState >= 2));\n\t\treturn !!(this.visible && this.alpha > 0 && this.scaleX != 0 && this.scaleY != 0 && hasContent);\n\t};\n\n\t/**\n\t * Draws the display object into the specified context ignoring its visible, alpha, shadow, and transform.\n\t * Returns true if the draw was handled (useful for overriding functionality).\n\t *\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\n\t * @method draw\n\t * @param {CanvasRenderingContext2D} ctx The canvas 2D context object to draw into.\n\t * @param {Boolean} [ignoreCache=false] Indicates whether the draw operation should ignore any current cache.\n\t * For example, used for drawing the cache (to prevent it from simply drawing an existing cache back\n\t * into itself).\n\t * @return {Boolean}\n\t **/\n\tp.draw = function(ctx, ignoreCache) {\n\t\tif (this.DisplayObject_draw(ctx, ignoreCache)) { return true; }\n\t\tvar img = this.image, rect = this.sourceRect;\n\t\tif (img.getImage) { img = img.getImage(); }\n\t\tif (!img) { return true; }\n\t\tif (rect) {\n\t\t\t// some browsers choke on out of bound values, so we'll fix them:\n\t\t\tvar x1 = rect.x, y1 = rect.y, x2 = x1 + rect.width, y2 = y1 + rect.height, x = 0, y = 0, w = img.width, h = img.height;\n\t\t\tif (x1 < 0) { x -= x1; x1 = 0; }\n\t\t\tif (x2 > w) { x2 = w; }\n\t\t\tif (y1 < 0) { y -= y1; y1 = 0; }\n\t\t\tif (y2 > h) { y2 = h; }\n\t\t\tctx.drawImage(img, x1, y1, x2-x1, y2-y1, x, y, x2-x1, y2-y1);\n\t\t} else {\n\t\t\tctx.drawImage(img, 0, 0);\n\t\t}\n\t\treturn true;\n\t};\n\t\n\t//Note, the doc sections below document using the specified APIs (from DisplayObject)  from\n\t//Bitmap. This is why they have no method implementations.\n\t\n\t/**\n\t * Because the content of a Bitmap is already in a simple format, cache is unnecessary for Bitmap instances.\n\t * You should <b>not</b> cache Bitmap instances as it can degrade performance.\n\t *\n\t * <strong>However: If you want to use a filter on a Bitmap, you <em>MUST</em> cache it, or it will not work.</strong>\n\t * To see the API for caching, please visit the DisplayObject {{#crossLink \"DisplayObject/cache\"}}{{/crossLink}}\n\t * method.\n\t * @method cache\n\t **/\n\t\n\t/**\n\t * Because the content of a Bitmap is already in a simple format, cache is unnecessary for Bitmap instances.\n\t * You should <b>not</b> cache Bitmap instances as it can degrade performance.\n\t *\n\t * <strong>However: If you want to use a filter on a Bitmap, you <em>MUST</em> cache it, or it will not work.</strong>\n\t * To see the API for caching, please visit the DisplayObject {{#crossLink \"DisplayObject/cache\"}}{{/crossLink}}\n\t * method.\n\t * @method updateCache\n\t **/\n\t\n\t/**\n\t * Because the content of a Bitmap is already in a simple format, cache is unnecessary for Bitmap instances.\n\t * You should <b>not</b> cache Bitmap instances as it can degrade performance.\n\t *\n\t * <strong>However: If you want to use a filter on a Bitmap, you <em>MUST</em> cache it, or it will not work.</strong>\n\t * To see the API for caching, please visit the DisplayObject {{#crossLink \"DisplayObject/cache\"}}{{/crossLink}}\n\t * method.\n\t * @method uncache\n\t **/\n\n\t/**\n\t * Docced in superclass.\n\t */\n\tp.getBounds = function() {\n\t\tvar rect = this.DisplayObject_getBounds();\n\t\tif (rect) { return rect; }\n\t\tvar image = this.image, o = this.sourceRect || image;\n\t\tvar hasContent = (image && (image.naturalWidth || image.getContext || image.readyState >= 2));\n\t\treturn hasContent ? this._rectangle.setValues(0, 0, o.width, o.height) : null;\n\t};\n\t\n\t/**\n\t * Returns a clone of the Bitmap instance.\n\t * @method clone\n\t * @param {Boolean} node Whether the underlying dom element should be cloned as well.\n\t * @return {Bitmap} a clone of the Bitmap instance.\n\t **/\n\tp.clone = function(node) {\n\t\tvar image = this.image;\n\t\tif(image && node){ image = image.cloneNode(); }\n\t\tvar o = new Bitmap(image);\n\t\tif (this.sourceRect) { o.sourceRect = this.sourceRect.clone(); }\n\t\tthis._cloneProps(o);\n\t\treturn o;\n\t};\n\t\n\t/**\n\t * Returns a string representation of this object.\n\t * @method toString\n\t * @return {String} a string representation of the instance.\n\t **/\n\tp.toString = function() {\n\t\treturn \"[Bitmap (name=\"+  this.name +\")]\";\n\t};\n\n\t\n\tcreatejs.Bitmap = createjs.promote(Bitmap, \"DisplayObject\");\n}());\n\n//##############################################################################\n// Sprite.js\n//##############################################################################\n\nthis.createjs = this.createjs||{};\n\n(function() {\n\t\"use strict\";\n\n\n// constructor:\n\t/**\n\t * Displays a frame or sequence of frames (ie. an animation) from a SpriteSheet instance. A sprite sheet is a series of\n\t * images (usually animation frames) combined into a single image. For example, an animation consisting of 8 100x100\n\t * images could be combined into a 400x200 sprite sheet (4 frames across by 2 high). You can display individual frames,\n\t * play frames as an animation, and even sequence animations together.\n\t *\n\t * See the {{#crossLink \"SpriteSheet\"}}{{/crossLink}} class for more information on setting up frames and animations.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *      var instance = new createjs.Sprite(spriteSheet);\n\t *      instance.gotoAndStop(\"frameName\");\n\t *\n\t * Until {{#crossLink \"Sprite/gotoAndStop\"}}{{/crossLink}} or {{#crossLink \"Sprite/gotoAndPlay\"}}{{/crossLink}} is called,\n\t * only the first defined frame defined in the sprite sheet will be displayed.\n\t *\n\t * @class Sprite\n\t * @extends DisplayObject\n\t * @constructor\n\t * @param {SpriteSheet} spriteSheet The SpriteSheet instance to play back. This includes the source image(s), frame\n\t * dimensions, and frame data. See {{#crossLink \"SpriteSheet\"}}{{/crossLink}} for more information.\n\t * @param {String|Number} [frameOrAnimation] The frame number or animation to play initially.\n\t **/\n\tfunction Sprite(spriteSheet, frameOrAnimation) {\n\t\tthis.DisplayObject_constructor();\n\t\t\n\t\t\n\t// public properties:\n\t\t/**\n\t\t * The frame index that will be drawn when draw is called. Note that with some {{#crossLink \"SpriteSheet\"}}{{/crossLink}}\n\t\t * definitions, this will advance non-sequentially. This will always be an integer value.\n\t\t * @property currentFrame\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @readonly\n\t\t **/\n\t\tthis.currentFrame = 0;\n\t\n\t\t/**\n\t\t * Returns the name of the currently playing animation.\n\t\t * @property currentAnimation\n\t\t * @type {String}\n\t\t * @final\n\t\t * @readonly\n\t\t **/\n\t\tthis.currentAnimation = null;\n\t\n\t\t/**\n\t\t * Prevents the animation from advancing each tick automatically. For example, you could create a sprite\n\t\t * sheet of icons, set paused to true, and display the appropriate icon by setting <code>currentFrame</code>.\n\t\t * @property paused\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t **/\n\t\tthis.paused = true;\n\t\n\t\t/**\n\t\t * The SpriteSheet instance to play back. This includes the source image, frame dimensions, and frame\n\t\t * data. See {{#crossLink \"SpriteSheet\"}}{{/crossLink}} for more information.\n\t\t * @property spriteSheet\n\t\t * @type {SpriteSheet}\n\t\t * @readonly\n\t\t **/\n\t\tthis.spriteSheet = spriteSheet;\n\t\n\t\t/**\n\t\t * Specifies the current frame index within the currently playing animation. When playing normally, this will increase\n\t\t * from 0 to n-1, where n is the number of frames in the current animation.\n\t\t *\n\t\t * This could be a non-integer value if\n\t\t * using time-based playback (see {{#crossLink \"Sprite/framerate\"}}{{/crossLink}}, or if the animation's speed is\n\t\t * not an integer.\n\t\t * @property currentAnimationFrame\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t **/\n\t\tthis.currentAnimationFrame = 0;\n\t\n\t\t/**\n\t\t * By default Sprite instances advance one frame per tick. Specifying a framerate for the Sprite (or its related\n\t\t * SpriteSheet) will cause it to advance based on elapsed time between ticks as appropriate to maintain the target\n\t\t * framerate.\n\t\t *\n\t\t * For example, if a Sprite with a framerate of 10 is placed on a Stage being updated at 40fps, then the Sprite will\n\t\t * advance roughly one frame every 4 ticks. This will not be exact, because the time between each tick will\n\t\t * vary slightly between frames.\n\t\t *\n\t\t * This feature is dependent on the tick event object (or an object with an appropriate \"delta\" property) being\n\t\t * passed into {{#crossLink \"Stage/update\"}}{{/crossLink}}.\n\t\t * @property framerate\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t **/\n\t\tthis.framerate = 0;\n\t\n\t\n\t// private properties:\n\t\t/**\n\t\t * Current animation object.\n\t\t * @property _animation\n\t\t * @protected\n\t\t * @type {Object}\n\t\t * @default null\n\t\t **/\n\t\tthis._animation = null;\n\t\n\t\t/**\n\t\t * Current frame index.\n\t\t * @property _currentFrame\n\t\t * @protected\n\t\t * @type {Number}\n\t\t * @default null\n\t\t **/\n\t\tthis._currentFrame = null;\n\t\t\n\t\t/**\n\t\t * Skips the next auto advance. Used by gotoAndPlay to avoid immediately jumping to the next frame\n\t\t * @property _skipAdvance\n\t\t * @protected\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t **/\n\t\tthis._skipAdvance = false;\n\n\t\t/**\n\t\t * Docced in superclass.\n\t\t */\n\t\tthis._webGLRenderStyle = createjs.DisplayObject._StageGL_SPRITE;\n\n\t\tif (frameOrAnimation != null) { this.gotoAndPlay(frameOrAnimation); }\n\t}\n\tvar p = createjs.extend(Sprite, createjs.DisplayObject);\n\n\t/**\n\t * Constructor alias for backwards compatibility. This method will be removed in future versions.\n\t * Subclasses should be updated to use {{#crossLink \"Utility Methods/extends\"}}{{/crossLink}}.\n\t * @method initialize\n\t * @deprecated in favour of `createjs.promote()`\n\t **/\n\tp.initialize = Sprite; // TODO: Deprecated. This is for backwards support of Flash/Animate spritesheet export.\n\n\n// events:\n\t/**\n\t * Dispatched when an animation reaches its ends.\n\t * @event animationend\n\t * @param {Object} target The object that dispatched the event.\n\t * @param {String} type The event type.\n\t * @param {String} name The name of the animation that just ended.\n\t * @param {String} next The name of the next animation that will be played, or null. This will be the same as name if the animation is looping.\n\t * @since 0.6.0\n\t */\n\t \n\t/**\n\t * Dispatched any time the current frame changes. For example, this could be due to automatic advancement on a tick,\n\t * or calling gotoAndPlay() or gotoAndStop().\n\t * @event change\n\t * @param {Object} target The object that dispatched the event.\n\t * @param {String} type The event type.\n\t */\n\n\n// public methods:\n\t/**\n\t * Returns true or false indicating whether the display object would be visible if drawn to a canvas.\n\t * This does not account for whether it would be visible within the boundaries of the stage.\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\n\t * @method isVisible\n\t * @return {Boolean} Boolean indicating whether the display object would be visible if drawn to a canvas\n\t **/\n\tp.isVisible = function() {\n\t\tvar hasContent = this.cacheCanvas || this.spriteSheet.complete;\n\t\treturn !!(this.visible && this.alpha > 0 && this.scaleX != 0 && this.scaleY != 0 && hasContent);\n\t};\n\n\t/**\n\t * Draws the display object into the specified context ignoring its visible, alpha, shadow, and transform.\n\t * Returns true if the draw was handled (useful for overriding functionality).\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\n\t * @method draw\n\t * @param {CanvasRenderingContext2D} ctx The canvas 2D context object to draw into.\n\t * @param {Boolean} ignoreCache Indicates whether the draw operation should ignore any current cache.\n\t * For example, used for drawing the cache (to prevent it from simply drawing an existing cache back\n\t * into itself).\n\t **/\n\tp.draw = function(ctx, ignoreCache) {\n\t\tif (this.DisplayObject_draw(ctx, ignoreCache)) { return true; }\n\t\tthis._normalizeFrame();\n\t\tvar o = this.spriteSheet.getFrame(this._currentFrame|0);\n\t\tif (!o) { return false; }\n\t\tvar rect = o.rect;\n\t\tif (rect.width && rect.height) { ctx.drawImage(o.image, rect.x, rect.y, rect.width, rect.height, -o.regX, -o.regY, rect.width, rect.height); }\n\t\treturn true;\n\t};\n\n\t//Note, the doc sections below document using the specified APIs (from DisplayObject)  from\n\t//Bitmap. This is why they have no method implementations.\n\n\t/**\n\t * Because the content of a Sprite is already in a raster format, cache is unnecessary for Sprite instances.\n\t * You should not cache Sprite instances as it can degrade performance.\n\t * @method cache\n\t **/\n\n\t/**\n\t * Because the content of a Sprite is already in a raster format, cache is unnecessary for Sprite instances.\n\t * You should not cache Sprite instances as it can degrade performance.\n\t * @method updateCache\n\t **/\n\n\t/**\n\t * Because the content of a Sprite is already in a raster format, cache is unnecessary for Sprite instances.\n\t * You should not cache Sprite instances as it can degrade performance.\n\t * @method uncache\n\t **/\n\n\t/**\n\t * Play (unpause) the current animation. The Sprite will be paused if either {{#crossLink \"Sprite/stop\"}}{{/crossLink}}\n\t * or {{#crossLink \"Sprite/gotoAndStop\"}}{{/crossLink}} is called. Single frame animations will remain\n\t * unchanged.\n\t * @method play\n\t **/\n\tp.play = function() {\n\t\tthis.paused = false;\n\t};\n\n\t/**\n\t * Stop playing a running animation. The Sprite will be playing if {{#crossLink \"Sprite/gotoAndPlay\"}}{{/crossLink}}\n\t * is called. Note that calling {{#crossLink \"Sprite/gotoAndPlay\"}}{{/crossLink}} or {{#crossLink \"Sprite/play\"}}{{/crossLink}}\n\t * will resume playback.\n\t * @method stop\n\t **/\n\tp.stop = function() {\n\t\tthis.paused = true;\n\t};\n\n\t/**\n\t * Sets paused to false and plays the specified animation name, named frame, or frame number.\n\t * @method gotoAndPlay\n\t * @param {String|Number} frameOrAnimation The frame number or animation name that the playhead should move to\n\t * and begin playing.\n\t **/\n\tp.gotoAndPlay = function(frameOrAnimation) {\n\t\tthis.paused = false;\n\t\tthis._skipAdvance = true;\n\t\tthis._goto(frameOrAnimation);\n\t};\n\n\t/**\n\t * Sets paused to true and seeks to the specified animation name, named frame, or frame number.\n\t * @method gotoAndStop\n\t * @param {String|Number} frameOrAnimation The frame number or animation name that the playhead should move to\n\t * and stop.\n\t **/\n\tp.gotoAndStop = function(frameOrAnimation) {\n\t\tthis.paused = true;\n\t\tthis._goto(frameOrAnimation);\n\t};\n\n\t/**\n\t * Advances the playhead. This occurs automatically each tick by default.\n\t * @param [time] {Number} The amount of time in ms to advance by. Only applicable if framerate is set on the Sprite\n\t * or its SpriteSheet.\n\t * @method advance\n\t*/\n\tp.advance = function(time) {\n\t\tvar fps = this.framerate || this.spriteSheet.framerate;\n\t\tvar t = (fps && time != null) ? time/(1000/fps) : 1;\n\t\tthis._normalizeFrame(t);\n\t};\n\t\n\t/**\n\t * Returns a {{#crossLink \"Rectangle\"}}{{/crossLink}} instance defining the bounds of the current frame relative to\n\t * the origin. For example, a 90 x 70 frame with <code>regX=50</code> and <code>regY=40</code> would return a\n\t * rectangle with [x=-50, y=-40, width=90, height=70]. This ignores transformations on the display object.\n\t *\n\t * Also see the SpriteSheet {{#crossLink \"SpriteSheet/getFrameBounds\"}}{{/crossLink}} method.\n\t * @method getBounds\n\t * @return {Rectangle} A Rectangle instance. Returns null if the frame does not exist, or the image is not fully\n\t * loaded.\n\t **/\n\tp.getBounds = function() {\n\t\t// TODO: should this normalizeFrame?\n\t\treturn this.DisplayObject_getBounds() || this.spriteSheet.getFrameBounds(this.currentFrame, this._rectangle);\n\t};\n\n\t/**\n\t * Returns a clone of the Sprite instance. Note that the same SpriteSheet is shared between cloned\n\t * instances.\n\t * @method clone\n\t * @return {Sprite} a clone of the Sprite instance.\n\t **/\n\tp.clone = function() {\n\t\treturn this._cloneProps(new Sprite(this.spriteSheet));\n\t};\n\n\t/**\n\t * Returns a string representation of this object.\n\t * @method toString\n\t * @return {String} a string representation of the instance.\n\t **/\n\tp.toString = function() {\n\t\treturn \"[Sprite (name=\"+  this.name +\")]\";\n\t};\n\n// private methods:\n\t/**\n\t * @method _cloneProps\n\t * @param {Sprite} o\n\t * @return {Sprite} o\n\t * @protected\n\t **/\n\tp._cloneProps = function(o) {\n\t\tthis.DisplayObject__cloneProps(o);\n\t\to.currentFrame = this.currentFrame;\n\t\to.currentAnimation = this.currentAnimation;\n\t\to.paused = this.paused;\n\t\to.currentAnimationFrame = this.currentAnimationFrame;\n\t\to.framerate = this.framerate;\n\t\t\n\t\to._animation = this._animation;\n\t\to._currentFrame = this._currentFrame;\n\t\to._skipAdvance = this._skipAdvance;\n\t\treturn o;\n\t};\n\t\n\t/**\n\t * Advances the <code>currentFrame</code> if paused is not true. This is called automatically when the {{#crossLink \"Stage\"}}{{/crossLink}}\n\t * ticks.\n\t * @param {Object} evtObj An event object that will be dispatched to all tick listeners. This object is reused between dispatchers to reduce construction & GC costs.\n\t * @protected\n\t * @method _tick\n\t **/\n\tp._tick = function(evtObj) {\n\t\tif (!this.paused) {\n\t\t\tif (!this._skipAdvance) { this.advance(evtObj&&evtObj.delta); }\n\t\t\tthis._skipAdvance = false;\n\t\t}\n\t\tthis.DisplayObject__tick(evtObj);\n\t};\n\n\n\t/**\n\t * Normalizes the current frame, advancing animations and dispatching callbacks as appropriate.\n\t * @protected\n\t * @method _normalizeFrame\n\t **/\n\tp._normalizeFrame = function(frameDelta) {\n\t\tframeDelta = frameDelta || 0;\n\t\tvar animation = this._animation;\n\t\tvar paused = this.paused;\n\t\tvar frame = this._currentFrame;\n\t\tvar l;\n\t\t\n\t\tif (animation) {\n\t\t\tvar speed = animation.speed || 1;\n\t\t\tvar animFrame = this.currentAnimationFrame;\n\t\t\tl = animation.frames.length;\n\t\t\tif (animFrame + frameDelta * speed >= l) {\n\t\t\t\tvar next = animation.next;\n\t\t\t\tif (this._dispatchAnimationEnd(animation, frame, paused, next, l - 1)) {\n\t\t\t\t\t// something changed in the event stack, so we shouldn't make any more changes here.\n\t\t\t\t\treturn;\n\t\t\t\t} else if (next) {\n\t\t\t\t\t// sequence. Automatically calls _normalizeFrame again with the remaining frames.\n\t\t\t\t\treturn this._goto(next, frameDelta - (l - animFrame) / speed);\n\t\t\t\t} else {\n\t\t\t\t\t// end.\n\t\t\t\t\tthis.paused = true;\n\t\t\t\t\tanimFrame = animation.frames.length - 1;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tanimFrame += frameDelta * speed;\n\t\t\t}\n\t\t\tthis.currentAnimationFrame = animFrame;\n\t\t\tthis._currentFrame = animation.frames[animFrame | 0]\n\t\t} else {\n\t\t\tframe = (this._currentFrame += frameDelta);\n\t\t\tl = this.spriteSheet.getNumFrames();\n\t\t\tif (frame >= l && l > 0) {\n\t\t\t\tif (!this._dispatchAnimationEnd(animation, frame, paused, l - 1)) {\n\t\t\t\t\t// looped.\n\t\t\t\t\tif ((this._currentFrame -= l) >= l) { return this._normalizeFrame(); }\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tframe = this._currentFrame | 0;\n\t\tif (this.currentFrame != frame) {\n\t\t\tthis.currentFrame = frame;\n\t\t\tthis.dispatchEvent(\"change\");\n\t\t}\n\t};\n\n\t/**\n\t * Dispatches the \"animationend\" event. Returns true if a handler changed the animation (ex. calling {{#crossLink \"Sprite/stop\"}}{{/crossLink}},\n\t * {{#crossLink \"Sprite/gotoAndPlay\"}}{{/crossLink}}, etc.)\n\t * @property _dispatchAnimationEnd\n\t * @private\n\t * @type {Function}\n\t **/\n\tp._dispatchAnimationEnd = function(animation, frame, paused, next, end) {\n\t\tvar name = animation ? animation.name : null;\n\t\tif (this.hasEventListener(\"animationend\")) {\n\t\t\tvar evt = new createjs.Event(\"animationend\");\n\t\t\tevt.name = name;\n\t\t\tevt.next = next;\n\t\t\tthis.dispatchEvent(evt);\n\t\t}\n\t\t// did the animation get changed in the event stack?:\n\t\tvar changed = (this._animation != animation || this._currentFrame != frame);\n\t\t// if the animation hasn't changed, but the sprite was paused, then we want to stick to the last frame:\n\t\tif (!changed && !paused && this.paused) { this.currentAnimationFrame = end; changed = true; }\n\t\treturn changed;\n\t};\n\n\t/**\n\t * Moves the playhead to the specified frame number or animation.\n\t * @method _goto\n\t * @param {String|Number} frameOrAnimation The frame number or animation that the playhead should move to.\n\t * @param {Boolean} [frame] The frame of the animation to go to. Defaults to 0.\n\t * @protected\n\t **/\n\tp._goto = function(frameOrAnimation, frame) {\n\t\tthis.currentAnimationFrame = 0;\n\t\tif (isNaN(frameOrAnimation)) {\n\t\t\tvar data = this.spriteSheet.getAnimation(frameOrAnimation);\n\t\t\tif (data) {\n\t\t\t\tthis._animation = data;\n\t\t\t\tthis.currentAnimation = frameOrAnimation;\n\t\t\t\tthis._normalizeFrame(frame);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.currentAnimation = this._animation = null;\n\t\t\tthis._currentFrame = frameOrAnimation;\n\t\t\tthis._normalizeFrame();\n\t\t}\n\t};\n\n\n\tcreatejs.Sprite = createjs.promote(Sprite, \"DisplayObject\");\n}());\n\n//##############################################################################\n// Shape.js\n//##############################################################################\n\nthis.createjs = this.createjs||{};\n\n(function() {\n\t\"use strict\";\n\n\n// constructor:\n\t/**\n\t * A Shape allows you to display vector art in the display list. It composites a {{#crossLink \"Graphics\"}}{{/crossLink}}\n\t * instance which exposes all of the vector drawing methods. The Graphics instance can be shared between multiple Shape\n\t * instances to display the same vector graphics with different positions or transforms.\n\t *\n\t * If the vector art will not\n\t * change between draws, you may want to use the {{#crossLink \"DisplayObject/cache\"}}{{/crossLink}} method to reduce the\n\t * rendering cost.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *      var graphics = new createjs.Graphics().beginFill(\"#ff0000\").drawRect(0, 0, 100, 100);\n\t *      var shape = new createjs.Shape(graphics);\n\t *\n\t *      //Alternatively use can also use the graphics property of the Shape class to renderer the same as above.\n\t *      var shape = new createjs.Shape();\n\t *      shape.graphics.beginFill(\"#ff0000\").drawRect(0, 0, 100, 100);\n\t *\n\t * @class Shape\n\t * @extends DisplayObject\n\t * @constructor\n\t * @param {Graphics} graphics Optional. The graphics instance to display. If null, a new Graphics instance will be created.\n\t **/\n\tfunction Shape(graphics) {\n\t\tthis.DisplayObject_constructor();\n\t\t\n\t\t\n\t// public properties:\n\t\t/**\n\t\t * The graphics instance to display.\n\t\t * @property graphics\n\t\t * @type Graphics\n\t\t **/\n\t\tthis.graphics = graphics ? graphics : new createjs.Graphics();\n\t}\n\tvar p = createjs.extend(Shape, createjs.DisplayObject);\n\n\t// TODO: deprecated\n\t// p.initialize = function() {}; // searchable for devs wondering where it is. REMOVED. See docs for details.\n\n\n// public methods:\n\t/**\n\t * Returns true or false indicating whether the Shape would be visible if drawn to a canvas.\n\t * This does not account for whether it would be visible within the boundaries of the stage.\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\n\t * @method isVisible\n\t * @return {Boolean} Boolean indicating whether the Shape would be visible if drawn to a canvas\n\t **/\n\tp.isVisible = function() {\n\t\tvar hasContent = this.cacheCanvas || (this.graphics && !this.graphics.isEmpty());\n\t\treturn !!(this.visible && this.alpha > 0 && this.scaleX != 0 && this.scaleY != 0 && hasContent);\n\t};\n\n\t/**\n\t * Draws the Shape into the specified context ignoring its visible, alpha, shadow, and transform. Returns true if\n\t * the draw was handled (useful for overriding functionality).\n\t *\n\t * <i>NOTE: This method is mainly for internal use, though it may be useful for advanced uses.</i>\n\t * @method draw\n\t * @param {CanvasRenderingContext2D} ctx The canvas 2D context object to draw into.\n\t * @param {Boolean} [ignoreCache=false] Indicates whether the draw operation should ignore any current cache. For example,\n\t * used for drawing the cache (to prevent it from simply drawing an existing cache back into itself).\n\t * @return {Boolean}\n\t **/\n\tp.draw = function(ctx, ignoreCache) {\n\t\tif (this.DisplayObject_draw(ctx, ignoreCache)) { return true; }\n\t\tthis.graphics.draw(ctx, this);\n\t\treturn true;\n\t};\n\n\t/**\n\t * Returns a clone of this Shape. Some properties that are specific to this instance's current context are reverted to\n\t * their defaults (for example .parent).\n\t * @method clone\n\t * @param {Boolean} recursive If true, this Shape's {{#crossLink \"Graphics\"}}{{/crossLink}} instance will also be\n\t * cloned. If false, the Graphics instance will be shared with the new Shape.\n\t **/\n\tp.clone = function(recursive) {\n\t\tvar g = (recursive && this.graphics) ? this.graphics.clone() : this.graphics;\n\t\treturn  this._cloneProps(new Shape(g));\n\t};\n\n\t/**\n\t * Returns a string representation of this object.\n\t * @method toString\n\t * @return {String} a string representation of the instance.\n\t **/\n\tp.toString = function() {\n\t\treturn \"[Shape (name=\"+  this.name +\")]\";\n\t};\n\n\n\tcreatejs.Shape = createjs.promote(Shape, \"DisplayObject\");\n}());\n\n//##############################################################################\n// Text.js\n//##############################################################################\n\nthis.createjs = this.createjs||{};\n\n(function() {\n\t\"use strict\";\n\n\n// constructor:\n\t/**\n\t * Display one or more lines of dynamic text (not user editable) in the display list. Line wrapping support (using the\n\t * lineWidth) is very basic, wrapping on spaces and tabs only. Note that as an alternative to Text, you can position HTML\n\t * text above or below the canvas relative to items in the display list using the {{#crossLink \"DisplayObject/localToGlobal\"}}{{/crossLink}}\n\t * method, or using {{#crossLink \"DOMElement\"}}{{/crossLink}}.\n\t *\n\t * <b>Please note that Text does not support HTML text, and can only display one font style at a time.</b> To use\n\t * multiple font styles, you will need to create multiple text instances, and position them manually.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *      var text = new createjs.Text(\"Hello World\", \"20px Arial\", \"#ff7700\");\n\t *      text.x = 100;\n\t *      text.textBaseline = \"alphabetic\";\n\t *\n\t * CreateJS Text supports web fonts (the same rules as Canvas). The font must be loaded and supported by the browser\n\t * before it can be displayed.\n\t *\n\t * <strong>Note:</strong> Text can be expensive to generate, so cache instances where possible. Be aware that not all\n\t * browsers will render Text exactly the same.\n\t * @class Text\n\t * @extends DisplayObject\n\t * @constructor\n\t * @param {String} [text] The text to display.\n\t * @param {String} [font] The font style to use. Any valid value for the CSS font attribute is acceptable (ex. \"bold\n\t * 36px Arial\").\n\t * @param {String} [color] The color to draw the text in. Any valid value for the CSS color attribute is acceptable (ex.\n\t * \"#F00\", \"red\", or \"#FF0000\").\n\t **/\n\tfunction Text(text, font, color) {\n\t\tthis.DisplayObject_constructor();\n\t\t\n\t\t\n\t// public properties:\n\t\t/**\n\t\t * The text to display.\n\t\t * @property text\n\t\t * @type String\n\t\t **/\n\t\tthis.text = text;\n\t\n\t\t/**\n\t\t * The font style to use. Any valid value for the CSS font attribute is acceptable (ex. \"bold 36px Arial\").\n\t\t * @property font\n\t\t * @type String\n\t\t **/\n\t\tthis.font = font;\n\t\n\t\t/**\n\t\t * The color to draw the text in. Any valid value for the CSS color attribute is acceptable (ex. \"#F00\"). Default is \"#000\".\n\t\t * It will also accept valid canvas fillStyle values.\n\t\t * @property color\n\t\t * @type String\n\t\t **/\n\t\tthis.color = color;\n\t\n\t\t/**\n\t\t * The horizontal text alignment. Any of \"start\", \"end\", \"left\", \"right\", and \"center\". For detailed\n\t\t * information view the\n\t\t * <a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#text-styles\">\n\t\t * whatwg spec</a>. Default is \"left\".\n\t\t * @property textAlign\n\t\t * @type String\n\t\t **/\n\t\tthis.textAlign = \"left\";\n\t\n\t\t/**\n\t\t * The vertical alignment point on the font. Any of \"top\", \"hanging\", \"middle\", \"alphabetic\", \"ideographic\", or\n\t\t * \"bottom\". For detailed information view the <a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#text-styles\">\n\t\t * whatwg spec</a>. Default is \"top\".\n\t\t * @property textBaseline\n\t\t * @type String\n\t\t*/\n\t\tthis.textBaseline = \"top\";\n\t\n\t\t/**\n\t\t * The maximum width to draw the text. If maxWidth is specified (not null), the text will be condensed or\n\t\t * shrunk to make it fit in this width. For detailed information view the\n\t\t * <a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#text-styles\">\n\t\t * whatwg spec</a>.\n\t\t * @property maxWidth\n\t\t * @type Number\n\t\t*/\n\t\tthis.maxWidth = null;\n\t\n\t\t/**\n\t\t * If greater than 0, the text will be drawn as a stroke (outline) of the specified width.\n\t\t * @property outline\n\t\t * @type Number\n\t\t **/\n\t\tthis.outline = 0;\n\t\n\t\t/**\n\t\t * Indicates the line height (vertical distance between baselines) for multi-line text. If null or 0,\n\t\t * the value of getMeasuredLineHeight is used.\n\t\t * @property lineHeight\n\t\t * @type Number\n\t\t **/\n\t\tthis.lineHeight = 0;\n\t\n\t\t/**\n\t\t * Indicates the maximum width for a line of text before it is wrapped to multiple lines. If null,\n\t\t * the text will not be wrapped.\n\t\t * @property lineWidth\n\t\t * @type Number\n\t\t **/\n\t\tthis.lineWidth = null;\n\t}\n\tvar p = createjs.extend(Text, createjs.DisplayObject);\n\n\t// TODO: deprecated\n\t// p.initialize = function() {}; // searchable for devs wondering where it is. REMOVED. See docs for details.\n\n\t\n// static properties:\n\t/**\n\t * @property _workingContext\n\t * @type CanvasRenderingContext2D\n\t * @private\n\t **/\n\tvar canvas = (createjs.createCanvas?createjs.createCanvas():document.createElement(\"canvas\"));\n\tif (canvas.getContext) { Text._workingContext = canvas.getContext(\"2d\"); canvas.width = canvas.height = 1; }\n\t\n\t\n// constants:\n\t/**\n\t * Lookup table for the ratio to offset bounds x calculations based on the textAlign property.\n\t * @property H_OFFSETS\n\t * @type Object\n\t * @protected\n\t * @static\n\t **/\n\tText.H_OFFSETS = {start: 0, left: 0, center: -0.5, end: -1, right: -1};\n\t\n\t/**\n\t * Lookup table for the ratio to offset bounds y calculations based on the textBaseline property.\n\t * @property H_OFFSETS\n\t * @type Object\n\t * @protected\n\t * @static\n\t **/\n\tText.V_OFFSETS = {top: 0, hanging: -0.01, middle: -0.4, alphabetic: -0.8, ideographic: -0.85, bottom: -1};\n\n\n// public methods:\n\t/**\n\t * Returns true or false indicating whether the display object would be visible if drawn to a canvas.\n\t * This does not account for whether it would be visible within the boundaries of the stage.\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\n\t * @method isVisible\n\t * @return {Boolean} Whether the display object would be visible if drawn to a canvas\n\t **/\n\tp.isVisible = function() {\n\t\tvar hasContent = this.cacheCanvas || (this.text != null && this.text !== \"\");\n\t\treturn !!(this.visible && this.alpha > 0 && this.scaleX != 0 && this.scaleY != 0 && hasContent);\n\t};\n\n\t/**\n\t * Draws the Text into the specified context ignoring its visible, alpha, shadow, and transform.\n\t * Returns true if the draw was handled (useful for overriding functionality).\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\n\t * @method draw\n\t * @param {CanvasRenderingContext2D} ctx The canvas 2D context object to draw into.\n\t * @param {Boolean} ignoreCache Indicates whether the draw operation should ignore any current cache.\n\t * For example, used for drawing the cache (to prevent it from simply drawing an existing cache back\n\t * into itself).\n\t **/\n\tp.draw = function(ctx, ignoreCache) {\n\t\tif (this.DisplayObject_draw(ctx, ignoreCache)) { return true; }\n\n\t\tvar col = this.color || \"#000\";\n\t\tif (this.outline) { ctx.strokeStyle = col; ctx.lineWidth = this.outline*1; }\n\t\telse { ctx.fillStyle = col; }\n\t\t\n\t\tthis._drawText(this._prepContext(ctx));\n\t\treturn true;\n\t};\n\n\t/**\n\t * Returns the measured, untransformed width of the text without wrapping. Use getBounds for a more robust value.\n\t * @method getMeasuredWidth\n\t * @return {Number} The measured, untransformed width of the text.\n\t **/\n\tp.getMeasuredWidth = function() {\n\t\treturn this._getMeasuredWidth(this.text);\n\t};\n\n\t/**\n\t * Returns an approximate line height of the text, ignoring the lineHeight property. This is based on the measured\n\t * width of a \"M\" character multiplied by 1.2, which provides an approximate line height for most fonts.\n\t * @method getMeasuredLineHeight\n\t * @return {Number} an approximate line height of the text, ignoring the lineHeight property. This is\n\t * based on the measured width of a \"M\" character multiplied by 1.2, which approximates em for most fonts.\n\t **/\n\tp.getMeasuredLineHeight = function() {\n\t\treturn this._getMeasuredWidth(\"M\")*1.2;\n\t};\n\n\t/**\n\t * Returns the approximate height of multi-line text by multiplying the number of lines against either the\n\t * <code>lineHeight</code> (if specified) or {{#crossLink \"Text/getMeasuredLineHeight\"}}{{/crossLink}}. Note that\n\t * this operation requires the text flowing logic to run, which has an associated CPU cost.\n\t * @method getMeasuredHeight\n\t * @return {Number} The approximate height of the untransformed multi-line text.\n\t **/\n\tp.getMeasuredHeight = function() {\n\t\treturn this._drawText(null,{}).height;\n\t};\n\n\t/**\n\t * Docced in superclass.\n\t */\n\tp.getBounds = function() {\n\t\tvar rect = this.DisplayObject_getBounds();\n\t\tif (rect) { return rect; }\n\t\tif (this.text == null || this.text === \"\") { return null; }\n\t\tvar o = this._drawText(null, {});\n\t\tvar w = (this.maxWidth && this.maxWidth < o.width) ? this.maxWidth : o.width;\n\t\tvar x = w * Text.H_OFFSETS[this.textAlign||\"left\"];\n\t\tvar lineHeight = this.lineHeight||this.getMeasuredLineHeight();\n\t\tvar y = lineHeight * Text.V_OFFSETS[this.textBaseline||\"top\"];\n\t\treturn this._rectangle.setValues(x, y, w, o.height);\n\t};\n\t\n\t/**\n\t * Returns an object with width, height, and lines properties. The width and height are the visual width and height\n\t * of the drawn text. The lines property contains an array of strings, one for\n\t * each line of text that will be drawn, accounting for line breaks and wrapping. These strings have trailing\n\t * whitespace removed.\n\t * @method getMetrics\n\t * @return {Object} An object with width, height, and lines properties.\n\t **/\n\tp.getMetrics = function() {\n\t\tvar o = {lines:[]};\n\t\to.lineHeight = this.lineHeight || this.getMeasuredLineHeight();\n\t\to.vOffset = o.lineHeight * Text.V_OFFSETS[this.textBaseline||\"top\"];\n\t\treturn this._drawText(null, o, o.lines);\n\t};\n\n\t/**\n\t * Returns a clone of the Text instance.\n\t * @method clone\n\t * @return {Text} a clone of the Text instance.\n\t **/\n\tp.clone = function() {\n\t\treturn this._cloneProps(new Text(this.text, this.font, this.color));\n\t};\n\n\t/**\n\t * Returns a string representation of this object.\n\t * @method toString\n\t * @return {String} a string representation of the instance.\n\t **/\n\tp.toString = function() {\n\t\treturn \"[Text (text=\"+  (this.text.length > 20 ? this.text.substr(0, 17)+\"...\" : this.text) +\")]\";\n\t};\n\n\n// private methods:\n\t/**\n\t * @method _cloneProps\n\t * @param {Text} o\n\t * @protected\n\t * @return {Text} o\n\t **/\n\tp._cloneProps = function(o) {\n\t\tthis.DisplayObject__cloneProps(o);\n\t\to.textAlign = this.textAlign;\n\t\to.textBaseline = this.textBaseline;\n\t\to.maxWidth = this.maxWidth;\n\t\to.outline = this.outline;\n\t\to.lineHeight = this.lineHeight;\n\t\to.lineWidth = this.lineWidth;\n\t\treturn o;\n\t};\n\n\t/**\n\t * @method _getWorkingContext\n\t * @param {CanvasRenderingContext2D} ctx\n\t * @return {CanvasRenderingContext2D}\n\t * @protected\n\t **/\n\tp._prepContext = function(ctx) {\n\t\tctx.font = this.font||\"10px sans-serif\";\n\t\tctx.textAlign = this.textAlign||\"left\";\n\t\tctx.textBaseline = this.textBaseline||\"top\";\n\t\tctx.lineJoin = \"miter\";\n\t\tctx.miterLimit = 2.5;\n\t\treturn ctx;\n\t};\n\n\t/**\n\t * Draws multiline text.\n\t * @method _drawText\n\t * @param {CanvasRenderingContext2D} ctx\n\t * @param {Object} o\n\t * @param {Array} lines\n\t * @return {Object}\n\t * @protected\n\t **/\n\tp._drawText = function(ctx, o, lines) {\n\t\tvar paint = !!ctx;\n\t\tif (!paint) {\n\t\t\tctx = Text._workingContext;\n\t\t\tctx.save();\n\t\t\tthis._prepContext(ctx);\n\t\t}\n\t\tvar lineHeight = this.lineHeight||this.getMeasuredLineHeight();\n\t\t\n\t\tvar maxW = 0, count = 0;\n\t\tvar hardLines = String(this.text).split(/(?:\\r\\n|\\r|\\n)/);\n\t\tfor (var i=0, l=hardLines.length; i<l; i++) {\n\t\t\tvar str = hardLines[i];\n\t\t\tvar w = null;\n\t\t\t\n\t\t\tif (this.lineWidth != null && (w = ctx.measureText(str).width) > this.lineWidth) {\n\t\t\t\t// text wrapping:\n\t\t\t\tvar words = str.split(/(\\s)/);\n\t\t\t\tstr = words[0];\n\t\t\t\tw = ctx.measureText(str).width;\n\t\t\t\t\n\t\t\t\tfor (var j=1, jl=words.length; j<jl; j+=2) {\n\t\t\t\t\t// Line needs to wrap:\n\t\t\t\t\tvar wordW = ctx.measureText(words[j] + words[j+1]).width;\n\t\t\t\t\tif (w + wordW > this.lineWidth) {\n\t\t\t\t\t\tif (paint) { this._drawTextLine(ctx, str, count*lineHeight); }\n\t\t\t\t\t\tif (lines) { lines.push(str); }\n\t\t\t\t\t\tif (w > maxW) { maxW = w; }\n\t\t\t\t\t\tstr = words[j+1];\n\t\t\t\t\t\tw = ctx.measureText(str).width;\n\t\t\t\t\t\tcount++;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstr += words[j] + words[j+1];\n\t\t\t\t\t\tw += wordW;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif (paint) { this._drawTextLine(ctx, str, count*lineHeight); }\n\t\t\tif (lines) { lines.push(str); }\n\t\t\tif (o && w == null) { w = ctx.measureText(str).width; }\n\t\t\tif (w > maxW) { maxW = w; }\n\t\t\tcount++;\n\t\t}\n\t\t\n\t\tif (o) {\n\t\t\to.width = maxW;\n\t\t\to.height = count*lineHeight;\n\t\t}\n\t\tif (!paint) { ctx.restore(); }\n\t\treturn o;\n\t};\n\n\t/**\n\t * @method _drawTextLine\n\t * @param {CanvasRenderingContext2D} ctx\n\t * @param {String} text\n\t * @param {Number} y\n\t * @protected\n\t **/\n\tp._drawTextLine = function(ctx, text, y) {\n\t\t// Chrome 17 will fail to draw the text if the last param is included but null, so we feed it a large value instead:\n\t\tif (this.outline) { ctx.strokeText(text, 0, y, this.maxWidth||0xFFFF); }\n\t\telse { ctx.fillText(text, 0, y, this.maxWidth||0xFFFF); }\n\t};\n\t\n\t\n\t/**\n\t * @method _getMeasuredWidth\n\t * @param {String} text\n\t * @protected\n\t **/\n\tp._getMeasuredWidth = function(text) {\n\t\tvar ctx = Text._workingContext;\n\t\tctx.save();\n\t\tvar w = this._prepContext(ctx).measureText(text).width;\n\t\tctx.restore();\n\t\treturn w;\n\t};\n\n\n\tcreatejs.Text = createjs.promote(Text, \"DisplayObject\");\n}());\n\n//##############################################################################\n// BitmapText.js\n//##############################################################################\n\nthis.createjs = this.createjs || {};\n\n(function () {\n\t\"use strict\";\n\n\n// constructor:\n\t/**\n\t * Displays text using bitmap glyphs defined in a sprite sheet. Multi-line text is supported using new line characters,\n\t * but automatic wrapping is not supported. See the {{#crossLink \"BitmapText/spriteSheet:property\"}}{{/crossLink}}\n\t * property for more information on defining glyphs.\n\t *\n\t * <strong>Important:</strong> While BitmapText extends Container, it is not designed to be used as one.\n\t * As such, methods like addChild and removeChild are disabled.\n\t *\n\t *\n\t * @class BitmapText\n\t * @extends DisplayObject\n\t * @param {String} [text=\"\"] The text to display.\n\t * @param {SpriteSheet} [spriteSheet=null] The spritesheet that defines the character glyphs.\n\t * @constructor\n\t **/\n\tfunction BitmapText(text, spriteSheet) {\n\t\tthis.Container_constructor();\n\t\t\n\t\t\n\t// public properties:\n\t\t/**\n\t\t * The text to display.\n\t\t * @property text\n\t\t * @type String\n\t\t * @default \"\"\n\t\t **/\n\t\tthis.text = text||\"\";\n\t\t\n\t\t/**\n\t\t * A SpriteSheet instance that defines the glyphs for this bitmap text. Each glyph/character\n\t\t * should have a single frame animation defined in the sprite sheet named the same as\n\t\t * corresponding character. For example, the following animation definition:\n\t\t *\n\t\t * \t\t\"A\": {frames: [0]}\n\t\t *\n\t\t * would indicate that the frame at index 0 of the spritesheet should be drawn for the \"A\" character. The short form\n\t\t * is also acceptable:\n\t\t * \n\t\t * \t\t\"A\": 0\n\t\t *\n\t\t * Note that if a character in the text is not found in the sprite sheet, it will also\n\t\t * try to use the alternate case (upper or lower).\n\t\t *\n\t\t * See SpriteSheet for more information on defining sprite sheet data.\n\t\t * @property spriteSheet\n\t\t * @type SpriteSheet\n\t\t * @default null\n\t\t **/\n\t\tthis.spriteSheet = spriteSheet;\n\t\n\t\t/**\n\t\t * The height of each line of text. If 0, then it will use a line height calculated\n\t\t * by checking for the height of the \"1\", \"T\", or \"L\" character (in that order). If\n\t\t * those characters are not defined, it will use the height of the first frame of the\n\t\t * sprite sheet.\n\t\t * @property lineHeight\n\t\t * @type Number\n\t\t * @default 0\n\t\t **/\n\t\tthis.lineHeight = 0;\n\t\n\t\t/**\n\t\t * This spacing (in pixels) will be added after each character in the output.\n\t\t * @property letterSpacing\n\t\t * @type Number\n\t\t * @default 0\n\t\t **/\n\t\tthis.letterSpacing = 0;\n\t\n\t\t/**\n\t\t * If a space character is not defined in the sprite sheet, then empty pixels equal to\n\t\t * spaceWidth will be inserted instead. If 0, then it will use a value calculated\n\t\t * by checking for the width of the \"1\", \"l\", \"E\", or \"A\" character (in that order). If\n\t\t * those characters are not defined, it will use the width of the first frame of the\n\t\t * sprite sheet.\n\t\t * @property spaceWidth\n\t\t * @type Number\n\t\t * @default 0\n\t\t **/\n\t\tthis.spaceWidth = 0;\n\t\t\n\t\t\n\t// private properties:\n\t \t/**\n\t\t * @property _oldProps\n\t\t * @type Object\n\t\t * @protected\n\t\t **/\n\t\tthis._oldProps = {text:0,spriteSheet:0,lineHeight:0,letterSpacing:0,spaceWidth:0};\n\n\t\t/**\n\t\t * Used to track the object which this class attached listeners to, helps optimize listener attachment.\n\t\t * @property _oldStage\n\t\t * @type Stage\n\t\t * @protected\n\t\t */\n\t\tthis._oldStage = null;\n\t\t/**\n\t\t * The event listener proxy triggered drawing draw for special circumstances.\n\t\t * @property _drawAction\n\t\t * @type function\n\t\t * @protected\n\t\t */\n\t\tthis._drawAction = null;\n\t}\n\tvar p = createjs.extend(BitmapText, createjs.Container);\n\n// static properties:\n\t/**\n\t * BitmapText uses Sprite instances to draw text. To reduce the creation and destruction of instances (and thus garbage collection), it maintains\n\t * an internal object pool of sprite instances to reuse. Increasing this value can cause more sprites to be\n\t * retained, slightly increasing memory use, but reducing instantiation.\n\t * @property maxPoolSize\n\t * @type Number\n\t * @static\n\t * @default 100\n\t **/\n\tBitmapText.maxPoolSize = 100;\n\t\n\t/**\n\t * Sprite object pool.\n\t * @type {Array}\n\t * @static\n\t * @private\n\t */\n\tBitmapText._spritePool = [];\n\n\t\n// public methods:\n\t/**\n\t * Docced in superclass.\n\t **/\n\tp.draw = function(ctx, ignoreCache) {\n\t\tif (this.DisplayObject_draw(ctx, ignoreCache)) { return; }\n\t\tthis._updateState();\n\t\tthis.Container_draw(ctx, ignoreCache);\n\t};\n\t\n\t/**\n\t * Docced in superclass.\n\t **/\n\tp.getBounds = function() {\n\t\tthis._updateText();\n\t\treturn this.Container_getBounds();\n\t};\n\t\n\t/**\n\t * Returns true or false indicating whether the display object would be visible if drawn to a canvas.\n\t * This does not account for whether it would be visible within the boundaries of the stage.\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\n\t * @method isVisible\n\t * @return {Boolean} Boolean indicating whether the display object would be visible if drawn to a canvas\n\t **/\n\tp.isVisible = function() {\n\t\tvar hasContent = this.cacheCanvas || (this.spriteSheet && this.spriteSheet.complete && this.text);\n\t\treturn !!(this.visible && this.alpha > 0 && this.scaleX !== 0 && this.scaleY !== 0 && hasContent);\n\t};\n\t\n\tp.clone = function() {\n\t\treturn this._cloneProps(new BitmapText(this.text, this.spriteSheet));\n\t};\n\t\n\t/**\n\t * <strong>Disabled in BitmapText.</strong>\n\t * @method addChild\n\t **/\n\t/**\n\t * <strong>Disabled in BitmapText.</strong>\n\t * @method addChildAt\n\t **/\n\t/**\n\t * <strong>Disabled in BitmapText.</strong>\n\t * @method removeChild\n\t **/\n\t/**\n\t * <strong>Disabled in BitmapText.</strong>\n\t * @method removeChildAt\n\t **/\n\t/**\n\t * <strong>Disabled in BitmapText.</strong>\n\t * @method removeAllChildren\n\t **/\n\tp.addChild = p.addChildAt = p.removeChild = p.removeChildAt = p.removeAllChildren = function() {};\n\n\n// private methods:\n\t/**\n\t * Docced in superclass.\n\t **/\n\tp._updateState = function() {\n\t\tthis._updateText();\n\t};\n\n \t/**\n\t * @method _cloneProps\n\t * @param {BitmapText} o\n\t * @return {BitmapText} o\n\t * @protected\n\t **/\n\tp._cloneProps = function(o) {\n\t\tthis.Container__cloneProps(o);\n\t\to.lineHeight = this.lineHeight;\n\t\to.letterSpacing = this.letterSpacing;\n\t\to.spaceWidth = this.spaceWidth;\n\t\treturn o;\n\t};\n\t\n\t/**\n\t * @method _getFrameIndex\n\t * @param {String} character\n\t * @param {SpriteSheet} spriteSheet\n\t * @return {Number}\n\t * @protected\n\t **/\n\tp._getFrameIndex = function(character, spriteSheet) {\n\t\tvar c, o = spriteSheet.getAnimation(character);\n\t\tif (!o) {\n\t\t\t(character != (c = character.toUpperCase())) || (character != (c = character.toLowerCase())) || (c=null);\n\t\t\tif (c) { o = spriteSheet.getAnimation(c); }\n\t\t}\n\t\treturn o && o.frames[0];\n\t};\n\t\n\t/**\n\t * @method _getFrame\n\t * @param {String} character\n\t * @param {SpriteSheet} spriteSheet\n\t * @return {Object}\n\t * @protected\n\t **/\n\tp._getFrame = function(character, spriteSheet) {\n\t\tvar index = this._getFrameIndex(character, spriteSheet);\n\t\treturn index == null ? index : spriteSheet.getFrame(index);\n\t};\n\n\t/**\n\t * @method _getLineHeight\n\t * @param {SpriteSheet} ss\n\t * @return {Number}\n\t * @protected\n\t **/\n\tp._getLineHeight = function(ss) {\n\t\tvar frame = this._getFrame(\"1\",ss) || this._getFrame(\"T\",ss) || this._getFrame(\"L\",ss) || ss.getFrame(0);\n\t\treturn frame ? frame.rect.height : 1;\n\t};\n\n\t/**\n\t * @method _getSpaceWidth\n\t * @param {SpriteSheet} ss\n\t * @return {Number}\n\t * @protected\n\t **/\n\tp._getSpaceWidth = function(ss) {\n\t\tvar frame = this._getFrame(\"1\",ss) || this._getFrame(\"l\",ss) || this._getFrame(\"e\",ss) || this._getFrame(\"a\",ss) || ss.getFrame(0);\n\t\treturn frame ? frame.rect.width : 1;\n\t};\n\n\t/**\n\t * @method _updateText\n\t * @protected\n\t **/\n\tp._updateText = function() {\n\t\tvar x=0, y=0, o=this._oldProps, change=false, spaceW=this.spaceWidth, lineH=this.lineHeight, ss=this.spriteSheet;\n\t\tvar pool=BitmapText._spritePool, kids=this.children, childIndex=0, numKids=kids.length, sprite;\n\t\t\n\t\tfor (var n in o) {\n\t\t\tif (o[n] != this[n]) {\n\t\t\t\to[n] = this[n];\n\t\t\t\tchange = true;\n\t\t\t}\n\t\t}\n\t\tif (!change) { return; }\n\t\t\n\t\tvar hasSpace = !!this._getFrame(\" \", ss);\n\t\tif (!hasSpace && !spaceW) { spaceW = this._getSpaceWidth(ss); }\n\t\tif (!lineH) { lineH = this._getLineHeight(ss); }\n\t\t\n\t\tfor(var i=0, l=this.text.length; i<l; i++) {\n\t\t\tvar character = this.text.charAt(i);\n\t\t\tif (character == \" \" && !hasSpace) {\n\t\t\t\tx += spaceW;\n\t\t\t\tcontinue;\n\t\t\t} else if (character==\"\\n\" || character==\"\\r\") {\n\t\t\t\tif (character==\"\\r\" && this.text.charAt(i+1) == \"\\n\") { i++; } // crlf\n\t\t\t\tx = 0;\n\t\t\t\ty += lineH;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar index = this._getFrameIndex(character, ss);\n\t\t\tif (index == null) { continue; }\n\t\t\t\n\t\t\tif (childIndex < numKids) {\n\t\t\t\tsprite = kids[childIndex];\n\t\t\t} else {\n\t\t\t\tkids.push(sprite = pool.length ? pool.pop() : new createjs.Sprite());\n\t\t\t\tsprite.parent = this;\n\t\t\t\tnumKids++;\n\t\t\t}\n\t\t\tsprite.spriteSheet = ss;\n\t\t\tsprite.gotoAndStop(index);\n\t\t\tsprite.x = x;\n\t\t\tsprite.y = y;\n\t\t\tchildIndex++;\n\t\t\t\n\t\t\tx += sprite.getBounds().width + this.letterSpacing;\n\t\t}\n\t\twhile (numKids > childIndex) {\n\t\t\t // faster than removeChild.\n\t\t\tpool.push(sprite = kids.pop());\n\t\t\tsprite.parent = null;\n\t\t\tnumKids--;\n\t\t}\n\t\tif (pool.length > BitmapText.maxPoolSize) { pool.length = BitmapText.maxPoolSize; }\n\t};\n\n\n\tcreatejs.BitmapText = createjs.promote(BitmapText, \"Container\");\n}());\n\n//##############################################################################\n// MovieClip.js\n//##############################################################################\n\nthis.createjs = this.createjs||{};\n\n(function() {\n\t\"use strict\";\n\n\n// constructor:\n\t/**\n\t * The MovieClip class associates a TweenJS Timeline with an EaselJS {{#crossLink \"Container\"}}{{/crossLink}}. It allows\n\t * you to create objects which encapsulate timeline animations, state changes, and synched actions. The MovieClip\n\t * class has been included in the EaselJS minified file since 0.7.0.\n\t *\n\t * Currently MovieClip only works properly if it is tick based (as opposed to time based) though some concessions have\n\t * been made to support time-based timelines in the future.\n\t *\n\t * <h4>Example</h4>\n\t * This example animates two shapes back and forth. The grey shape starts on the left, but we jump to a mid-point in\n\t * the animation using {{#crossLink \"MovieClip/gotoAndPlay\"}}{{/crossLink}}.\n\t *\n\t *      var stage = new createjs.Stage(\"canvas\");\n\t *      createjs.Ticker.addEventListener(\"tick\", stage);\n\t *\n\t *      var mc = new createjs.MovieClip({loop:-1, labels:{myLabel:20}});\n\t *      stage.addChild(mc);\n\t *\n\t *      var child1 = new createjs.Shape(\n\t *          new createjs.Graphics().beginFill(\"#999999\")\n\t *              .drawCircle(30,30,30));\n\t *      var child2 = new createjs.Shape(\n\t *          new createjs.Graphics().beginFill(\"#5a9cfb\")\n\t *              .drawCircle(30,30,30));\n\t *\n\t *      mc.timeline.addTween(\n\t *          createjs.Tween.get(child1)\n\t *              .to({x:0}).to({x:60}, 50).to({x:0}, 50));\n\t *      mc.timeline.addTween(\n\t *          createjs.Tween.get(child2)\n\t *              .to({x:60}).to({x:0}, 50).to({x:60}, 50));\n\t *\n\t *      mc.gotoAndPlay(\"start\");\n\t *\n\t * It is recommended to use <code>tween.to()</code> to animate and set properties (use no duration to have it set\n\t * immediately), and the <code>tween.wait()</code> method to create delays between animations. Note that using the\n\t * <code>tween.set()</code> method to affect properties will likely not provide the desired result.\n\t *\n\t * @class MovieClip\n\t * @main MovieClip\n\t * @param {Object} [props] The configuration properties to apply to this instance (ex. `{mode:MovieClip.SYNCHED}`).\n\t * Supported props for the MovieClip are listed below. These props are set on the corresponding instance properties except where\n\t * specified.<UL>\n\t *    <LI> `mode`</LI>\n\t *    <LI> `startPosition`</LI>\n\t *    <LI> `frameBounds`</LI>\n\t * </UL>\n\t * \n\t * This object will also be passed into the Timeline instance associated with this MovieClip. See the documentation\n\t * for Timeline for a list of supported props (ex. `paused`, `labels`, `loop`, `reversed`, etc.)\n\t * @extends Container\n\t * @constructor\n\t **/\n\tfunction MovieClip(props) {\n\t\tthis.Container_constructor();\n\t\t!MovieClip.inited&&MovieClip.init(); // static init\n\t\t\n\t\tvar mode, startPosition, loop, labels;\n\t\t\n\t\t// handle old params (mode, startPosition, loop, labels):\n\t\t// TODO: deprecated param handling:\n\t\tif (props instanceof String || arguments.length > 1) {\n\t\t\tmode = props;\n\t\t\tstartPosition = arguments[1];\n\t\t\tloop = arguments[2];\n\t\t\tlabels = arguments[3];\n\t\t\tif (loop == null) { loop = -1; }\n\t\t\tprops = null;\n\t\t} else if (props) {\n\t\t\tmode = props.mode;\n\t\t\tstartPosition = props.startPosition;\n\t\t\tloop = props.loop;\n\t\t\tlabels = props.labels;\n\t\t}\n\t\tif (!props) { props = {labels:labels}; }\n\t\t\n\t\t\n\t// public properties:\n\t\t/**\n\t\t * Controls how this MovieClip advances its time. Must be one of 0 (INDEPENDENT), 1 (SINGLE_FRAME), or 2 (SYNCHED).\n\t\t * See each constant for a description of the behaviour.\n\t\t * @property mode\n\t\t * @type String\n\t\t * @default null\n\t\t **/\n\t\tthis.mode = mode||MovieClip.INDEPENDENT;\n\t\n\t\t/**\n\t\t * Specifies what the first frame to play in this movieclip, or the only frame to display if mode is SINGLE_FRAME.\n\t\t * @property startPosition\n\t\t * @type Number\n\t\t * @default 0\n\t\t */\n\t\tthis.startPosition = startPosition||0;\n\t\n\t\t/**\n\t\t * Specifies how many times this MovieClip should loop. A value of -1 indicates it should loop indefinitely. A value of\n\t\t * 1 would cause it to loop once (ie. play a total of twice).\n\t\t * @property loop\n\t\t * @type Number\n\t\t * @default -1\n\t\t */\n\t\tthis.loop = loop === true ? -1 : (loop || 0);\n\t\n\t\t/**\n\t\t * The current frame of the movieclip.\n\t\t * @property currentFrame\n\t\t * @type Number\n\t\t * @default 0\n\t\t * @readonly\n\t\t */\n\t\tthis.currentFrame = 0;\n\t\n\t\t/**\n\t\t * If true, the MovieClip's position will not advance when ticked.\n\t\t * @property paused\n\t\t * @type Boolean\n\t\t * @default false\n\t\t */\n\t\tthis.paused = props.paused||false;\n\t\n\t\t/**\n\t\t * If true, actions in this MovieClip's tweens will be run when the playhead advances.\n\t\t * @property actionsEnabled\n\t\t * @type Boolean\n\t\t * @default true\n\t\t */\n\t\tthis.actionsEnabled = true;\n\t\n\t\t/**\n\t\t * If true, the MovieClip will automatically be reset to its first frame whenever the timeline adds\n\t\t * it back onto the display list. This only applies to MovieClip instances with mode=INDEPENDENT.\n\t\t * <br><br>\n\t\t * For example, if you had a character animation with a \"body\" child MovieClip instance\n\t\t * with different costumes on each frame, you could set body.autoReset = false, so that\n\t\t * you can manually change the frame it is on, without worrying that it will be reset\n\t\t * automatically.\n\t\t * @property autoReset\n\t\t * @type Boolean\n\t\t * @default true\n\t\t */\n\t\tthis.autoReset = true;\n\t\t\n\t\t/**\n\t\t * An array of bounds for each frame in the MovieClip. This is mainly intended for tool output.\n\t\t * @property frameBounds\n\t\t * @type Array\n\t\t * @default null\n\t\t */\n\t\tthis.frameBounds = this.frameBounds||props.frameBounds; // frameBounds are set on the prototype in Animate.\n\t\t\n\t\t/**\n\t\t * By default MovieClip instances advance one frame per tick. Specifying a framerate for the MovieClip\n\t\t * will cause it to advance based on elapsed time between ticks as appropriate to maintain the target\n\t\t * framerate.\n\t\t *\n\t\t * For example, if a MovieClip with a framerate of 10 is placed on a Stage being updated at 40fps, then the MovieClip will\n\t\t * advance roughly one frame every 4 ticks. This will not be exact, because the time between each tick will\n\t\t * vary slightly between frames.\n\t\t *\n\t\t * This feature is dependent on the tick event object (or an object with an appropriate \"delta\" property) being\n\t\t * passed into {{#crossLink \"Stage/update\"}}{{/crossLink}}.\n\t\t * @property framerate\n\t\t * @type {Number}\n\t\t * @default null\n\t\t **/\n\t\tthis.framerate = null;\n\t\t\n\t\t// set up the needed props for Timeline:\n\t\tprops.useTicks = props.paused = true;\n\t\t\n\t\t/**\n\t\t * The TweenJS Timeline that is associated with this MovieClip. This is created automatically when the MovieClip\n\t\t * instance is initialized. Animations are created by adding <a href=\"http://tweenjs.com\">TweenJS</a> Tween\n\t\t * instances to the timeline.\n\t\t *\n\t\t * <h4>Example</h4>\n\t\t *\n\t\t *      var tween = createjs.Tween.get(target).to({x:0}).to({x:100}, 30);\n\t\t *      var mc = new createjs.MovieClip();\n\t\t *      mc.timeline.addTween(tween);\n\t\t *\n\t\t * Elements can be added and removed from the timeline by toggling an \"_off\" property\n\t\t * using the <code>tweenInstance.to()</code> method. Note that using <code>Tween.set</code> is not recommended to\n\t\t * create MovieClip animations. The following example will toggle the target off on frame 0, and then back on for\n\t\t * frame 1. You can use the \"visible\" property to achieve the same effect.\n\t\t *\n\t\t *      var tween = createjs.Tween.get(target).to({_off:false})\n\t\t *          .wait(1).to({_off:true})\n\t\t *          .wait(1).to({_off:false});\n\t\t *\n\t\t * @property timeline\n\t\t * @type Timeline\n\t\t * @default null\n\t\t */\n\t\tthis.timeline = new createjs.Timeline(props);\n\t\t\n\t\t\n\t// private properties:\n\t\t/**\n\t\t * @property _synchOffset\n\t\t * @type Number\n\t\t * @default 0\n\t\t * @private\n\t\t */\n\t\tthis._synchOffset = 0;\n\t\n\t\t/**\n\t\t * @property _rawPosition\n\t\t * @type Number\n\t\t * @default -1\n\t\t * @private\n\t\t */\n\t\tthis._rawPosition = -1; // TODO: evaluate using a ._reset Boolean prop instead of -1.\n\t\t\n\t\t/**\n\t\t * @property _bound_resolveState\n\t\t * @type Function\n\t\t * @private\n\t\t */\n\t\tthis._bound_resolveState = this._resolveState.bind(this);\n\t\n\t\n\t\t/**\n\t\t * The time remaining from the previous tick, only applicable when .framerate is set.\n\t\t * @property _t\n\t\t * @type Number\n\t\t * @private\n\t\t */\n\t\tthis._t = 0;\n\t\n\t\t/**\n\t\t * List of display objects that are actively being managed by the MovieClip.\n\t\t * @property _managed\n\t\t * @type Object\n\t\t * @private\n\t\t */\n\t\tthis._managed = {};\n\t}\n\tvar p = createjs.extend(MovieClip, createjs.Container);\n\n\n// constants:\n\t/**\n\t * The MovieClip will advance independently of its parent, even if its parent is paused.\n\t * This is the default mode.\n\t * @property INDEPENDENT\n\t * @static\n\t * @type String\n\t * @default \"independent\"\n\t * @readonly\n\t **/\n\tMovieClip.INDEPENDENT = \"independent\";\n\n\t/**\n\t * The MovieClip will only display a single frame (as determined by the startPosition property).\n\t * @property SINGLE_FRAME\n\t * @static\n\t * @type String\n\t * @default \"single\"\n\t * @readonly\n\t **/\n\tMovieClip.SINGLE_FRAME = \"single\";\n\n\t/**\n\t * The MovieClip will be advanced only when its parent advances and will be synched to the position of\n\t * the parent MovieClip.\n\t * @property SYNCHED\n\t * @static\n\t * @type String\n\t * @default \"synched\"\n\t * @readonly\n\t **/\n\tMovieClip.SYNCHED = \"synched\";\n\t\n\t\n// static properties:\n\tMovieClip.inited = false;\n\t\n\t\n// static methods:\n\tMovieClip.init = function() {\n\t\tif (MovieClip.inited) { return; }\n\t\t// plugins introduce some overhead to Tween, so we only install this if an MC is instantiated.\n\t\tMovieClipPlugin.install();\n\t\tMovieClip.inited = true;\n\t};\n\t\n\t\n// getter / setters:\n\t/**\n\t * Use the {{#crossLink \"MovieClip/labels:property\"}}{{/crossLink}} property instead.\n\t * @method _getLabels\n\t * @protected\n\t * @return {Array}\n\t **/\n\tp._getLabels = function() {\n\t\treturn this.timeline.getLabels();\n\t};\n\t// MovieClip.getLabels is @deprecated. Remove for 1.1+\n\tp.getLabels = createjs.deprecate(p._getLabels, \"MovieClip.getLabels\");\n\n\t/**\n\t * Use the {{#crossLink \"MovieClip/currentLabel:property\"}}{{/crossLink}} property instead.\n\t * @method _getCurrentLabel\n\t * @protected\n\t * @return {String}\n\t **/\n\tp._getCurrentLabel = function() {\n\t\treturn this.timeline.currentLabel;\n\t};\n\t// MovieClip.getCurrentLabel is @deprecated. Remove for 1.1+\n\tp.getCurrentLabel = createjs.deprecate(p._getCurrentLabel, \"MovieClip.getCurrentLabel\");\n\n\t/**\n\t * Use the {{#crossLink \"MovieClip/duration:property\"}}{{/crossLink}} property instead.\n\t * @method _getDuration\n\t * @protected\n\t * @return {Number}\n\t **/\n\tp._getDuration = function() {\n\t\treturn this.timeline.duration;\n\t};\n\t// MovieClip.getDuration is @deprecated. Remove for 1.1+\n\tp.getDuration = createjs.deprecate(p._getDuration, \"MovieClip.getDuration\");\n\n\t/**\n\t * Returns an array of objects with label and position (aka frame) properties, sorted by position.\n\t * @property labels\n\t * @type {Array}\n\t * @readonly\n\t **/\n\t\n\t/**\n\t * Returns the name of the label on or immediately before the current frame.\n\t * @property currentLabel\n\t * @type {String}\n\t * @readonly\n\t **/\n\t\n\t/**\n\t * Returns the duration of this MovieClip in seconds or ticks.\n\t * @property totalFrames\n\t * @type {Number}\n\t * @readonly\n\t **/\n\t\n\t/**\n\t * Returns the duration of this MovieClip in seconds or ticks.\n\t * @property duration\n\t * @type {Number}\n\t * @readonly\n\t **/\n\ttry {\n\t\tObject.defineProperties(p, {\n\t\t\tlabels: { get: p._getLabels },\n\t\t\tcurrentLabel: { get: p._getCurrentLabel },\n\t\t\ttotalFrames: { get: p._getDuration },\n\t\t\tduration: { get: p._getDuration }\n\t\t\t// TODO: can we just proxy .currentFrame to tl.position as well? Ditto for .loop (or just remove entirely).\n\t\t});\n\t} catch (e) {}\n\n\n// public methods:\n\t/**\n\t * Constructor alias for backwards compatibility. This method will be removed in future versions.\n\t * Subclasses should be updated to use {{#crossLink \"Utility Methods/extends\"}}{{/crossLink}}.\n\t * @method initialize\n\t * @deprecated in favour of `createjs.promote()`\n\t **/\n\tp.initialize = MovieClip; // TODO: Deprecated. This is for backwards support of Adobe Flash/Animate\n\n\t/**\n\t * Returns true or false indicating whether the display object would be visible if drawn to a canvas.\n\t * This does not account for whether it would be visible within the boundaries of the stage.\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\n\t * @method isVisible\n\t * @return {Boolean} Boolean indicating whether the display object would be visible if drawn to a canvas\n\t **/\n\tp.isVisible = function() {\n\t\t// children are placed in draw, so we can't determine if we have content.\n\t\treturn !!(this.visible && this.alpha > 0 && this.scaleX != 0 && this.scaleY != 0);\n\t};\n\n\t/**\n\t * Draws the display object into the specified context ignoring its visible, alpha, shadow, and transform.\n\t * Returns true if the draw was handled (useful for overriding functionality).\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\n\t * @method draw\n\t * @param {CanvasRenderingContext2D} ctx The canvas 2D context object to draw into.\n\t * @param {Boolean} ignoreCache Indicates whether the draw operation should ignore any current cache.\n\t * For example, used for drawing the cache (to prevent it from simply drawing an existing cache back\n\t * into itself).\n\t **/\n\tp.draw = function(ctx, ignoreCache) {\n\t\t// draw to cache first:\n\t\tif (this.DisplayObject_draw(ctx, ignoreCache)) { return true; }\n\t\tthis._updateState();\n\t\tthis.Container_draw(ctx, ignoreCache);\n\t\treturn true;\n\t};\n\n\t/**\n\t * Sets paused to false.\n\t * @method play\n\t **/\n\tp.play = function() {\n\t\tthis.paused = false;\n\t};\n\t\n\t/**\n\t * Sets paused to true.\n\t * @method stop\n\t **/\n\tp.stop = function() {\n\t\tthis.paused = true;\n\t};\n\t\n\t/**\n\t * Advances this movie clip to the specified position or label and sets paused to false.\n\t * @method gotoAndPlay\n\t * @param {String|Number} positionOrLabel The animation name or frame number to go to.\n\t **/\n\tp.gotoAndPlay = function(positionOrLabel) {\n\t\tthis.paused = false;\n\t\tthis._goto(positionOrLabel);\n\t};\n\t\n\t/**\n\t * Advances this movie clip to the specified position or label and sets paused to true.\n\t * @method gotoAndStop\n\t * @param {String|Number} positionOrLabel The animation or frame name to go to.\n\t **/\n\tp.gotoAndStop = function(positionOrLabel) {\n\t\tthis.paused = true;\n\t\tthis._goto(positionOrLabel);\n\t};\n\t\n\t/**\n\t * Advances the playhead. This occurs automatically each tick by default.\n\t * @param [time] {Number} The amount of time in ms to advance by. Only applicable if framerate is set.\n\t * @method advance\n\t*/\n\tp.advance = function(time) {\n\t\tvar independent = MovieClip.INDEPENDENT;\n\t\tif (this.mode !== independent) { return; } // update happens in draw for synched clips\n\t\t\n\t\t// if this MC doesn't have a framerate, hunt ancestors for one:\n\t\tvar o=this, fps = o.framerate;\n\t\twhile ((o = o.parent) && fps === null) { if (o.mode === independent) { fps = o._framerate; } }\n\t\tthis._framerate = fps;\n\t\t\n\t\tif (this.paused) { return; }\n\t\t\n\t\t// calculate how many frames to advance:\n\t\tvar t = (fps !== null && fps !== -1 && time !== null) ? time/(1000/fps) + this._t : 1;\n\t\tvar frames = t|0;\n\t\tthis._t = t-frames; // leftover time, save to add to next advance.\n\t\t\n\t\twhile (frames--) { this._updateTimeline(this._rawPosition+1, false); }\n\t};\n\t\n\t/**\n\t * MovieClip instances cannot be cloned.\n\t * @method clone\n\t **/\n\tp.clone = function() {\n\t\t// TODO: add support for this? Need to clone the Timeline & retarget tweens - pretty complex.\n\t\tthrow(\"MovieClip cannot be cloned.\");\n\t};\n\t\n\t/**\n\t * Returns a string representation of this object.\n\t * @method toString\n\t * @return {String} a string representation of the instance.\n\t **/\n\tp.toString = function() {\n\t\treturn \"[MovieClip (name=\"+  this.name +\")]\";\n\t};\n\n\n// private methods:\n\t/**\n\t * Docced in superclass.\n\t **/\n\tp._updateState = function() {\n\t\tif (this._rawPosition === -1 || this.mode !== MovieClip.INDEPENDENT) { this._updateTimeline(-1); }\n\t};\n\n\t/**\n\t * @method _tick\n\t * @param {Object} evtObj An event object that will be dispatched to all tick listeners. This object is reused between dispatchers to reduce construction & GC costs.\n\t * function.\n\t * @protected\n\t **/\n\tp._tick = function(evtObj) {\n\t\tthis.advance(evtObj&&evtObj.delta);\n\t\tthis.Container__tick(evtObj);\n\t};\n\t\n\t/**\n\t * @method _goto\n\t * @param {String|Number} positionOrLabel The animation name or frame number to go to.\n\t * @protected\n\t **/\n\tp._goto = function(positionOrLabel) {\n\t\tvar pos = this.timeline.resolve(positionOrLabel);\n\t\tif (pos == null) { return; }\n\t\tthis._t = 0;\n\t\tthis._updateTimeline(pos, true);\n\t};\n\t\n\t/**\n\t * @method _reset\n\t * @private\n\t **/\n\tp._reset = function() {\n\t\tthis._rawPosition = -1;\n\t\tthis._t = this.currentFrame = 0;\n\t\tthis.paused = false;\n\t};\n\t\n\t/**\n\t * @method _updateTimeline\n\t * @param {Boolean} jump Indicates whether this update is due to jumping (via gotoAndXX) to a new position.\n\t * @protected\n\t **/\n\tp._updateTimeline = function(rawPosition, jump) {\n\t\tvar synced = this.mode !== MovieClip.INDEPENDENT, tl = this.timeline;\n\t\tif (synced) { rawPosition = this.startPosition + (this.mode===MovieClip.SINGLE_FRAME?0:this._synchOffset); }\n\t\tif (rawPosition < 0) { rawPosition = 0; }\n\t\tif (this._rawPosition === rawPosition && !synced) { return; }\n\t\tthis._rawPosition = rawPosition;\n\t\t\n\t\t// update timeline position, ignoring actions if this is a graphic.\n\t\ttl.loop = this.loop; // TODO: should we maintain this on MovieClip, or just have it on timeline?\n\t\ttl.setPosition(rawPosition, synced || !this.actionsEnabled, jump, this._bound_resolveState);\n\t};\n\t\n\t/**\n\t * Renders position 0 without running actions or updating _rawPosition.\n\t * Primarily used by Animate CC to build out the first frame in the constructor of MC symbols.\n\t * NOTE: not tested when run after the MC advances past the first frame.\n\t * @method _renderFirstFrame\n\t * @protected\n\t **/\n\tp._renderFirstFrame = function() {\n\t\tvar tl = this.timeline, pos = tl.rawPosition;\n\t\ttl.setPosition(0, true, true, this._bound_resolveState);\n\t\ttl.rawPosition = pos;\n\t};\n\t\n\t/**\n\t * Runs via a callback after timeline property updates and before actions.\n\t * @method _resolveState\n\t * @protected\n\t **/\n\tp._resolveState = function() {\n\t\tvar tl = this.timeline;\n\t\tthis.currentFrame = tl.position;\n\t\t\n\t\tfor (var n in this._managed) { this._managed[n] = 1; }\n\n\t\tvar tweens = tl.tweens;\n\t\tfor (var i=0, l=tweens.length; i<l; i++) {\n\t\t\tvar tween = tweens[i],  target = tween.target;\n\t\t\tif (target === this || tween.passive) { continue; } // TODO: this assumes the actions tween from Animate has `this` as the target. There's likely a better approach.\n\t\t\tvar offset = tween._stepPosition;\n\n\t\t\tif (target instanceof createjs.DisplayObject) {\n\t\t\t\t// motion tween.\n\t\t\t\tthis._addManagedChild(target, offset);\n\t\t\t} else {\n\t\t\t\t// state tween.\n\t\t\t\tthis._setState(target.state, offset);\n\t\t\t}\n\t\t}\n\n\t\tvar kids = this.children;\n\t\tfor (i=kids.length-1; i>=0; i--) {\n\t\t\tvar id = kids[i].id;\n\t\t\tif (this._managed[id] === 1) {\n\t\t\t\tthis.removeChildAt(i);\n\t\t\t\tdelete(this._managed[id]);\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * @method _setState\n\t * @param {Array} state\n\t * @param {Number} offset\n\t * @protected\n\t **/\n\tp._setState = function(state, offset) {\n\t\tif (!state) { return; }\n\t\tfor (var i=state.length-1;i>=0;i--) {\n\t\t\tvar o = state[i];\n\t\t\tvar target = o.t;\n\t\t\tvar props = o.p;\n\t\t\tfor (var n in props) { target[n] = props[n]; }\n\t\t\tthis._addManagedChild(target, offset);\n\t\t}\n\t};\n\n\t/**\n\t * Adds a child to the timeline, and sets it up as a managed child.\n\t * @method _addManagedChild\n\t * @param {MovieClip} child The child MovieClip to manage\n\t * @param {Number} offset\n\t * @private\n\t **/\n\tp._addManagedChild = function(child, offset) {\n\t\tif (child._off) { return; }\n\t\tthis.addChildAt(child,0);\n\n\t\tif (child instanceof MovieClip) {\n\t\t\tchild._synchOffset = offset;\n\t\t\t// TODO: this does not precisely match Adobe Flash/Animate, which loses track of the clip if it is renamed or removed from the timeline, which causes it to reset.\n\t\t\t// TODO: should also reset when MovieClip loops, though that will be a bit tricky to detect.\n\t\t\tif (child.mode === MovieClip.INDEPENDENT && child.autoReset && (!this._managed[child.id])) { child._reset(); }\n\t\t}\n\t\tthis._managed[child.id] = 2;\n\t};\n\t\n\t/**\n\t * @method _getBounds\n\t * @param {Matrix2D} matrix\n\t * @param {Boolean} ignoreTransform\n\t * @return {Rectangle}\n\t * @protected\n\t **/\n\tp._getBounds = function(matrix, ignoreTransform) {\n\t\tvar bounds = this.DisplayObject_getBounds();\n\t\tif (!bounds) {\n\t\t\tif (this.frameBounds) { bounds = this._rectangle.copy(this.frameBounds[this.currentFrame]); }\n\t\t}\n\t\tif (bounds) { return this._transformBounds(bounds, matrix, ignoreTransform); }\n\t\treturn this.Container__getBounds(matrix, ignoreTransform);\n\t};\n\n\n\tcreatejs.MovieClip = createjs.promote(MovieClip, \"Container\");\n\n\n\n// MovieClipPlugin for TweenJS:\n\t/**\n\t * This plugin works with <a href=\"http://tweenjs.com\" target=\"_blank\">TweenJS</a> to prevent the startPosition\n\t * property from tweening.\n\t * @private\n\t * @class MovieClipPlugin\n\t * @constructor\n\t **/\n\tfunction MovieClipPlugin() {\n\t\tthrow(\"MovieClipPlugin cannot be instantiated.\")\n\t}\n\t\n\t/**\n\t * @property priority\n\t * @type {Number}\n\t * @static\n\t * @readonly\n\t **/\n\tMovieClipPlugin.priority = 100; // very high priority, should run first\n\t\n\t/**\n\t * @property ID\n\t * @type {String}\n\t * @static\n\t * @readonly\n\t **/\n\tMovieClipPlugin.ID = \"MovieClip\";\n\n\t/**\n\t * @method install\n\t * @static\n\t **/\n\tMovieClipPlugin.install = function() {\n\t\tcreatejs.Tween._installPlugin(MovieClipPlugin);\n\t};\n\t\n\t/**\n\t * @method init\n\t * @param {Tween} tween\n\t * @param {String} prop\n\t * @param {*} value\n\t * @static\n\t **/\n\tMovieClipPlugin.init = function(tween, prop, value) {\n\t\tif (prop === \"startPosition\" && tween.target instanceof MovieClip) { tween._addPlugin(MovieClipPlugin); }\n\t};\n\t\n\t/**\n\t * @method step\n\t * @param {Tween} tween\n\t * @param {TweenStep} step\n\t * @param {Object} props\n\t * @static\n\t **/\n\tMovieClipPlugin.step = function(tween, step, props) {};\n\n\t/**\n\t * @method change\n\t * @param {Tween} tween\n\t * @param {TweenStep} step\n\t * @param {*} value\n\t * @param {Number} ratio\n\t * @param {Object} end\n\t * @return {*}\n\t * @static\n\t */\n\tMovieClipPlugin.change = function(tween, step, prop, value, ratio, end) {\n\t\tif (prop === \"startPosition\") { return (ratio === 1 ? step.props[prop] : step.prev.props[prop]); }\n\t};\n\n}());\n\n//##############################################################################\n// SpriteSheetUtils.js\n//##############################################################################\n\nthis.createjs = this.createjs||{};\n\n(function() {\n\t\"use strict\";\n\t\n\t\n// constructor:\n\t/**\n\t * The SpriteSheetUtils class is a collection of static methods for working with {{#crossLink \"SpriteSheet\"}}{{/crossLink}}s.\n\t * A sprite sheet is a series of images (usually animation frames) combined into a single image on a regular grid. For\n\t * example, an animation consisting of 8 100x100 images could be combined into a 400x200 sprite sheet (4 frames across\n\t * by 2 high). The SpriteSheetUtils class uses a static interface and should not be instantiated.\n\t * @class SpriteSheetUtils\n\t * @static\n\t **/\n\tfunction SpriteSheetUtils() {\n\t\tthrow \"SpriteSheetUtils cannot be instantiated\";\n\t}\n\n\n// private static properties:\n\t/**\n\t * @property _workingCanvas\n\t * @static\n\t * @type HTMLCanvasElement | Object\n\t * @protected\n\t*/\n\t/**\n\t * @property _workingContext\n\t * @static\n\t * @type CanvasRenderingContext2D\n\t * @protected\n\t*/\n\tvar canvas = (createjs.createCanvas?createjs.createCanvas():document.createElement(\"canvas\"));\n\tif (canvas.getContext) {\n\t\tSpriteSheetUtils._workingCanvas = canvas;\n\t\tSpriteSheetUtils._workingContext = canvas.getContext(\"2d\");\n\t\tcanvas.width = canvas.height = 1;\n\t}\n\n\n// public static methods:\n\t/**\n\t * Returns a single frame of the specified sprite sheet as a new PNG image. An example of when this may be useful is\n\t * to use a spritesheet frame as the source for a bitmap fill.\n\t *\n\t * <strong>WARNING:</strong> In almost all cases it is better to display a single frame using a {{#crossLink \"Sprite\"}}{{/crossLink}}\n\t * with a {{#crossLink \"Sprite/gotoAndStop\"}}{{/crossLink}} call than it is to slice out a frame using this\n\t * method and display it with a Bitmap instance. You can also crop an image using the {{#crossLink \"Bitmap/sourceRect\"}}{{/crossLink}}\n\t * property of {{#crossLink \"Bitmap\"}}{{/crossLink}}.\n\t *\n\t * The extractFrame method may cause cross-domain warnings since it accesses pixels directly on the canvas.\n\t * @method extractFrame\n\t * @static\n\t * @param {SpriteSheet} spriteSheet The SpriteSheet instance to extract a frame from.\n\t * @param {Number|String} frameOrAnimation The frame number or animation name to extract. If an animation\n\t * name is specified, only the first frame of the animation will be extracted.\n\t * @return {HTMLImageElement} a single frame of the specified sprite sheet as a new PNG image.\n\t*/\n\tSpriteSheetUtils.extractFrame = function(spriteSheet, frameOrAnimation) {\n\t\tif (isNaN(frameOrAnimation)) {\n\t\t\tframeOrAnimation = spriteSheet.getAnimation(frameOrAnimation).frames[0];\n\t\t}\n\t\tvar data = spriteSheet.getFrame(frameOrAnimation);\n\t\tif (!data) { return null; }\n\t\tvar r = data.rect;\n\t\tvar canvas = SpriteSheetUtils._workingCanvas;\n\t\tcanvas.width = r.width;\n\t\tcanvas.height = r.height;\n\t\tSpriteSheetUtils._workingContext.drawImage(data.image, r.x, r.y, r.width, r.height, 0, 0, r.width, r.height);\n\t\tvar img = document.createElement(\"img\");\n\t\timg.src = canvas.toDataURL(\"image/png\");\n\t\treturn img;\n\t};\n\n\t// SpriteSheetUtils.addFlippedFrames is @deprecated. Remove for 1.1+\n\tSpriteSheetUtils.addFlippedFrames = createjs.deprecate(null, \"SpriteSheetUtils.addFlippedFrames\");\n\n\t// SpriteSheetUtils.addFlippedFrames is @deprecated. Remove for 1.1+\n\tSpriteSheetUtils.mergeAlpha = createjs.deprecate(null, \"SpriteSheetUtils.mergeAlpha\");\n\n\t\n// private static methods:\n\tSpriteSheetUtils._flip = function(spriteSheet, count, h, v) {\n\t\tvar imgs = spriteSheet._images;\n\t\tvar canvas = SpriteSheetUtils._workingCanvas;\n\t\tvar ctx = SpriteSheetUtils._workingContext;\n\t\tvar il = imgs.length/count;\n\t\tfor (var i=0;i<il;i++) {\n\t\t\tvar src = imgs[i];\n\t\t\tsrc.__tmp = i; // a bit hacky, but faster than doing indexOf below.\n\t\t\tctx.setTransform(1,0,0,1,0,0);\n\t\t\tctx.clearRect(0,0,canvas.width+1,canvas.height+1);\n\t\t\tcanvas.width = src.width;\n\t\t\tcanvas.height = src.height;\n\t\t\tctx.setTransform(h?-1:1, 0, 0, v?-1:1, h?src.width:0, v?src.height:0);\n\t\t\tctx.drawImage(src,0,0);\n\t\t\tvar img = document.createElement(\"img\");\n\t\t\timg.src = canvas.toDataURL(\"image/png\");\n\t\t\t// work around a strange bug in Safari:\n\t\t\timg.width = (src.width||src.naturalWidth);\n\t\t\timg.height = (src.height||src.naturalHeight);\n\t\t\timgs.push(img);\n\t\t}\n\n\t\tvar frames = spriteSheet._frames;\n\t\tvar fl = frames.length/count;\n\t\tfor (i=0;i<fl;i++) {\n\t\t\tsrc = frames[i];\n\t\t\tvar rect = src.rect.clone();\n\t\t\timg = imgs[src.image.__tmp+il*count];\n\n\t\t\tvar frame = {image:img,rect:rect,regX:src.regX,regY:src.regY};\n\t\t\tif (h) {\n\t\t\t\trect.x = (img.width||img.naturalWidth)-rect.x-rect.width; // update rect\n\t\t\t\tframe.regX = rect.width-src.regX; // update registration point\n\t\t\t}\n\t\t\tif (v) {\n\t\t\t\trect.y = (img.height||img.naturalHeight)-rect.y-rect.height;  // update rect\n\t\t\t\tframe.regY = rect.height-src.regY; // update registration point\n\t\t\t}\n\t\t\tframes.push(frame);\n\t\t}\n\n\t\tvar sfx = \"_\"+(h?\"h\":\"\")+(v?\"v\":\"\");\n\t\tvar names = spriteSheet._animations;\n\t\tvar data = spriteSheet._data;\n\t\tvar al = names.length/count;\n\t\tfor (i=0;i<al;i++) {\n\t\t\tvar name = names[i];\n\t\t\tsrc = data[name];\n\t\t\tvar anim = {name:name+sfx,speed:src.speed,next:src.next,frames:[]};\n\t\t\tif (src.next) { anim.next += sfx; }\n\t\t\tframes = src.frames;\n\t\t\tfor (var j=0,l=frames.length;j<l;j++) {\n\t\t\t\tanim.frames.push(frames[j]+fl*count);\n\t\t\t}\n\t\t\tdata[anim.name] = anim;\n\t\t\tnames.push(anim.name);\n\t\t}\n\t};\n\n\n\tcreatejs.SpriteSheetUtils = SpriteSheetUtils;\n}());\n\n//##############################################################################\n// SpriteSheetBuilder.js\n//##############################################################################\n\nthis.createjs = this.createjs||{};\n\n(function() {\n\t\"use strict\";\n\n\n// constructor:\n\t/**\n\t * The SpriteSheetBuilder allows you to generate {{#crossLink \"SpriteSheet\"}}{{/crossLink}} instances at run time\n\t * from any display object. This can allow you to maintain your assets as vector graphics (for low file size), and\n\t * render them at run time as SpriteSheets for better performance.\n\t *\n\t * SpriteSheets can be built either synchronously, or asynchronously, so that large SpriteSheets can be generated\n\t * without locking the UI.\n\t *\n\t * Note that the \"images\" used in the generated SpriteSheet are actually canvas elements, and that they will be\n\t * sized to the nearest power of 2 up to the value of {{#crossLink \"SpriteSheetBuilder/maxWidth:property\"}}{{/crossLink}}\n\t * or {{#crossLink \"SpriteSheetBuilder/maxHeight:property\"}}{{/crossLink}}.\n\t * @class SpriteSheetBuilder\n\t * @param {Number} [framerate=0] The {{#crossLink \"SpriteSheet/framerate:property\"}}{{/crossLink}} of\n\t * {{#crossLink \"SpriteSheet\"}}{{/crossLink}} instances that are created.\n\t * @extends EventDispatcher\n\t * @constructor\n\t **/\n\tfunction SpriteSheetBuilder(framerate) {\n\t\tthis.EventDispatcher_constructor();\n\t\t\n\t// public properties:\n\t\t/**\n\t\t * The maximum width for the images (not individual frames) in the generated SpriteSheet. It is recommended to\n\t\t * use a power of 2 for this value (ex. 1024, 2048, 4096). If the frames cannot all fit within the max\n\t\t * dimensions, then additional images will be created as needed.\n\t\t * @property maxWidth\n\t\t * @type Number\n\t\t * @default 2048\n\t\t*/\n\t\tthis.maxWidth = 2048;\n\t\n\t\t/**\n\t\t * The maximum height for the images (not individual frames) in the generated SpriteSheet. It is recommended to\n\t\t * use a power of 2 for this value (ex. 1024, 2048, 4096). If the frames cannot all fit within the max\n\t\t * dimensions, then additional images will be created as needed.\n\t\t * @property maxHeight\n\t\t * @type Number\n\t\t * @default 2048\n\t\t **/\n\t\tthis.maxHeight = 2048;\n\t\n\t\t/**\n\t\t * The SpriteSheet that was generated. This will be null before a build is completed successfully.\n\t\t * @property spriteSheet\n\t\t * @type SpriteSheet\n\t\t **/\n\t\tthis.spriteSheet = null;\n\t\n\t\t/**\n\t\t * The scale to apply when drawing all frames to the SpriteSheet. This is multiplied against any scale specified\n\t\t * in the addFrame call. This can be used, for example, to generate a SpriteSheet at run time that is tailored\n\t\t * to the a specific device resolution (ex. tablet vs mobile).\n\t\t * @property scale\n\t\t * @type Number\n\t\t * @default 1\n\t\t **/\n\t\tthis.scale = 1;\n\t\n\t\t/**\n\t\t* The padding to use between frames. This is helpful to preserve antialiasing on drawn vector content.\n\t\t* @property padding\n\t\t* @type Number\n\t\t* @default 1\n\t\t**/\n\t\tthis.padding = 1;\n\t\n\t\t/**\n\t\t * A number from 0.01 to 0.99 that indicates what percentage of time the builder can use. This can be\n\t\t * thought of as the number of seconds per second the builder will use. For example, with a timeSlice value of 0.3,\n\t\t * the builder will run 20 times per second, using approximately 15ms per build (30% of available time, or 0.3s per second).\n\t\t * Defaults to 0.3.\n\t\t * @property timeSlice\n\t\t * @type Number\n\t\t * @default 0.3\n\t\t **/\n\t\tthis.timeSlice = 0.3;\n\t\n\t\t/**\n\t\t * A value between 0 and 1 that indicates the progress of a build, or -1 if a build has not\n\t\t * been initiated.\n\t\t * @property progress\n\t\t * @type Number\n\t\t * @default -1\n\t\t * @readonly\n\t\t */\n\t\tthis.progress = -1;\n\n\t\t/**\n\t\t * A {{#crossLink \"SpriteSheet/framerate:property\"}}{{/crossLink}} value that will be passed to new {{#crossLink \"SpriteSheet\"}}{{/crossLink}} instances that are\n\t\t * created. If no framerate is specified (or it is 0), then SpriteSheets will use the {{#crossLink \"Ticker\"}}{{/crossLink}}\n\t\t * framerate.\n\t\t * @property framerate\n\t\t * @type Number\n\t\t * @default 0\n\t\t */\n\t\tthis.framerate = framerate || 0;\n\t\n\t\n\t// private properties:\n\t\t/**\n\t\t * @property _frames\n\t\t * @protected\n\t\t * @type Array\n\t\t **/\n\t\tthis._frames = [];\n\t\n\t\t/**\n\t\t * @property _animations\n\t\t * @protected\n\t\t * @type Array\n\t\t **/\n\t\tthis._animations = {};\n\t\n\t\t/**\n\t\t * @property _data\n\t\t * @protected\n\t\t * @type Array\n\t\t **/\n\t\tthis._data = null;\n\t\n\t\t/**\n\t\t * @property _nextFrameIndex\n\t\t * @protected\n\t\t * @type Number\n\t\t **/\n\t\tthis._nextFrameIndex = 0;\n\t\n\t\t/**\n\t\t * @property _index\n\t\t * @protected\n\t\t * @type Number\n\t\t **/\n\t\tthis._index = 0;\n\t\n\t\t/**\n\t\t * @property _timerID\n\t\t * @protected\n\t\t * @type Number\n\t\t **/\n\t\tthis._timerID = null;\n\t\n\t\t/**\n\t\t * @property _scale\n\t\t * @protected\n\t\t * @type Number\n\t\t **/\n\t\tthis._scale = 1;\n\t}\n\tvar p = createjs.extend(SpriteSheetBuilder, createjs.EventDispatcher);\n\n// constants:\n\tSpriteSheetBuilder.ERR_DIMENSIONS = \"frame dimensions exceed max spritesheet dimensions\";\n\tSpriteSheetBuilder.ERR_RUNNING = \"a build is already running\";\n\n// events:\n\t/**\n\t * Dispatched when a build completes.\n\t * @event complete\n\t * @param {Object} target The object that dispatched the event.\n\t * @param {String} type The event type.\n\t * @since 0.6.0\n\t */\n\n\t/**\n\t * Dispatched when an asynchronous build has progress.\n\t * @event progress\n\t * @param {Object} target The object that dispatched the event.\n\t * @param {String} type The event type.\n\t * @param {Number} progress The current progress value (0-1).\n\t * @since 0.6.0\n\t */\n\n\n// public methods:\n\t/**\n\t * Adds a frame to the {{#crossLink \"SpriteSheet\"}}{{/crossLink}}. Note that the frame will not be drawn until you\n\t * call {{#crossLink \"SpriteSheetBuilder/build\"}}{{/crossLink}} method. The optional setup params allow you to have\n\t * a function run immediately before the draw occurs. For example, this allows you to add a single source multiple\n\t * times, but manipulate it or its children to change it to generate different frames.\n\t *\n\t * Note that the source's transformations (x, y, scale, rotate, alpha) will be ignored, except for regX/Y. To apply\n\t * transforms to a source object and have them captured in the SpriteSheet, simply place it into a {{#crossLink \"Container\"}}{{/crossLink}}\n\t * and pass in the Container as the source.\n\t * @method addFrame\n\t * @param {DisplayObject} source The source {{#crossLink \"DisplayObject\"}}{{/crossLink}}  to draw as the frame.\n\t * @param {Rectangle} [sourceRect] A {{#crossLink \"Rectangle\"}}{{/crossLink}} defining the portion of the\n\t * source to draw to the frame. If not specified, it will look for a `getBounds` method, bounds property, or\n\t * `nominalBounds` property on the source to use. If one is not found, the frame will be skipped.\n\t * @param {Number} [scale=1] Optional. The scale to draw this frame at. Default is 1.\n\t * @param {Function} [setupFunction] A function to call immediately before drawing this frame. It will be called with two parameters: the source, and setupData.\n\t * @param {Object} [setupData] Arbitrary setup data to pass to setupFunction as the second parameter.\n\t * @return {Number} The index of the frame that was just added, or null if a sourceRect could not be determined.\n\t **/\n\tp.addFrame = function(source, sourceRect, scale, setupFunction, setupData) {\n\t\tif (this._data) { throw SpriteSheetBuilder.ERR_RUNNING; }\n\t\tvar rect = sourceRect||source.bounds||source.nominalBounds;\n\t\tif (!rect&&source.getBounds) { rect = source.getBounds(); }\n\t\tif (!rect) { return null; }\n\t\tscale = scale||1;\n\t\treturn this._frames.push({source:source, sourceRect:rect, scale:scale, funct:setupFunction, data:setupData, index:this._frames.length, height:rect.height*scale})-1;\n\t};\n\n\t/**\n\t * Adds an animation that will be included in the created {{#crossLink \"SpriteSheet\"}}{{/crossLink}}.\n\t * @method addAnimation\n\t * @param {String} name The name for the animation.\n\t * @param {Array} frames An array of frame indexes that comprise the animation. Ex. [3,6,5] would describe an animation\n\t * that played frame indexes 3, 6, and 5 in that order.\n\t * @param {String} [next] Specifies the name of the animation to continue to after this animation ends. You can\n\t * also pass false to have the animation stop when it ends. By default it will loop to the start of the same animation.\n\t * @param {Number} [speed] Specifies a frame advance speed for this animation. For example, a value of 0.5 would\n\t * cause the animation to advance every second tick. Note that earlier versions used `frequency` instead, which had\n\t * the opposite effect.\n\t **/\n\tp.addAnimation = function(name, frames, next, speed) {\n\t\tif (this._data) { throw SpriteSheetBuilder.ERR_RUNNING; }\n\t\tthis._animations[name] = {frames:frames, next:next, speed:speed};\n\t};\n\n\t/**\n\t * This will take a {{#crossLink \"MovieClip\"}}{{/crossLink}} instance, and add its frames and labels to this\n\t * builder. Labels will be added as an animation running from the label index to the next label. For example, if\n\t * there is a label named \"foo\" at frame 0 and a label named \"bar\" at frame 10, in a MovieClip with 15 frames, it\n\t * will add an animation named \"foo\" that runs from frame index 0 to 9, and an animation named \"bar\" that runs from\n\t * frame index 10 to 14.\n\t *\n\t * Note that this will iterate through the full MovieClip with {{#crossLink \"MovieClip/actionsEnabled:property\"}}{{/crossLink}}\n\t * set to `false`, ending on the last frame.\n\t * @method addMovieClip\n\t * @param {MovieClip} source The source MovieClip instance to add to the SpriteSheet.\n\t * @param {Rectangle} [sourceRect] A {{#crossLink \"Rectangle\"}}{{/crossLink}} defining the portion of the source to\n\t * draw to the frame. If not specified, it will look for a {{#crossLink \"DisplayObject/getBounds\"}}{{/crossLink}}\n\t * method, `frameBounds` Array, `bounds` property, or `nominalBounds` property on the source to use. If one is not\n\t * found, the MovieClip will be skipped.\n\t * @param {Number} [scale=1] The scale to draw the movie clip at.\n\t * @param {Function} [setupFunction] A function to call immediately before drawing each frame. It will be called\n\t * with three parameters: the source, setupData, and the frame index.\n\t * @param {Object} [setupData] Arbitrary setup data to pass to setupFunction as the second parameter.\n\t * @param {Function} [labelFunction] This method will be called for each MovieClip label that is added with four\n\t * parameters: the label name, the source MovieClip instance, the starting frame index (in the movieclip timeline)\n\t * and the end index. It must return a new name for the label/animation, or `false` to exclude the label.\n\t **/\n\tp.addMovieClip = function(source, sourceRect, scale, setupFunction, setupData, labelFunction) {\n\t\tif (this._data) { throw SpriteSheetBuilder.ERR_RUNNING; }\n\t\tvar rects = source.frameBounds;\n\t\tvar rect = sourceRect||source.bounds||source.nominalBounds;\n\t\tif (!rect&&source.getBounds) { rect = source.getBounds(); }\n\t\tif (!rect && !rects) { return; }\n\n\t\tvar i, l, baseFrameIndex = this._frames.length;\n\t\tvar duration = source.timeline.duration;\n\t\tfor (i=0; i<duration; i++) {\n\t\t\tvar r = (rects&&rects[i]) ? rects[i] : rect;\n\t\t\tthis.addFrame(source, r, scale, this._setupMovieClipFrame, {i:i, f:setupFunction, d:setupData});\n\t\t}\n\t\tvar labels = source.timeline._labels;\n\t\tvar lbls = [];\n\t\tfor (var n in labels) {\n\t\t\tlbls.push({index:labels[n], label:n});\n\t\t}\n\t\tif (lbls.length) {\n\t\t\tlbls.sort(function(a,b){ return a.index-b.index; });\n\t\t\tfor (i=0,l=lbls.length; i<l; i++) {\n\t\t\t\tvar label = lbls[i].label;\n\t\t\t\tvar start = baseFrameIndex+lbls[i].index;\n\t\t\t\tvar end = baseFrameIndex+((i == l-1) ? duration : lbls[i+1].index);\n\t\t\t\tvar frames = [];\n\t\t\t\tfor (var j=start; j<end; j++) { frames.push(j); }\n\t\t\t\tif (labelFunction) {\n\t\t\t\t\tlabel = labelFunction(label, source, start, end);\n\t\t\t\t\tif (!label) { continue; }\n\t\t\t\t}\n\t\t\t\tthis.addAnimation(label, frames, true); // for now, this loops all animations.\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Builds a {{#crossLink \"SpriteSheet\"}}{{/crossLink}} instance based on the current frames.\n\t * @method build\n\t * @return {SpriteSheet} The created SpriteSheet instance, or null if a build is already running or an error\n\t * occurred.\n\t **/\n\tp.build = function() {\n\t\tif (this._data) { throw SpriteSheetBuilder.ERR_RUNNING; }\n\t\tthis._startBuild();\n\t\twhile (this._drawNext()) {}\n\t\tthis._endBuild();\n\t\treturn this.spriteSheet;\n\t};\n\n\t/**\n\t * Asynchronously builds a {{#crossLink \"SpriteSheet\"}}{{/crossLink}} instance based on the current frames. It will\n\t * run 20 times per second, using an amount of time defined by `timeSlice`. When it is complete it will call the\n\t * specified callback.\n\t * @method buildAsync\n\t * @param {Number} [timeSlice] Sets the timeSlice property on this instance.\n\t **/\n\tp.buildAsync = function(timeSlice) {\n\t\tif (this._data) { throw SpriteSheetBuilder.ERR_RUNNING; }\n\t\tthis.timeSlice = timeSlice;\n\t\tthis._startBuild();\n\t\tvar _this = this;\n\t\tthis._timerID = setTimeout(function() { _this._run(); }, 50-Math.max(0.01, Math.min(0.99, this.timeSlice||0.3))*50);\n\t};\n\n\t/**\n\t * Stops the current asynchronous build.\n\t * @method stopAsync\n\t **/\n\tp.stopAsync = function() {\n\t\tclearTimeout(this._timerID);\n\t\tthis._data = null;\n\t};\n\n\t/**\n\t * SpriteSheetBuilder instances cannot be cloned.\n\t * @method clone\n\t **/\n\tp.clone = function() {\n\t\tthrow(\"SpriteSheetBuilder cannot be cloned.\");\n\t};\n\n\t/**\n\t * Returns a string representation of this object.\n\t * @method toString\n\t * @return {String} a string representation of the instance.\n\t **/\n\tp.toString = function() {\n\t\treturn \"[SpriteSheetBuilder]\";\n\t};\n\n\n// private methods:\n\t/**\n\t * @method _startBuild\n\t * @protected\n\t **/\n\tp._startBuild = function() {\n\t\tvar pad = this.padding||0;\n\t\tthis.progress = 0;\n\t\tthis.spriteSheet = null;\n\t\tthis._index = 0;\n\t\tthis._scale = this.scale;\n\t\tvar dataFrames = [];\n\t\tthis._data = {\n\t\t\timages: [],\n\t\t\tframes: dataFrames,\n\t\t\tframerate: this.framerate,\n\t\t\tanimations: this._animations // TODO: should we \"clone\" _animations in case someone adds more animations after a build?\n\t\t};\n\n\t\tvar frames = this._frames.slice();\n\t\tframes.sort(function(a,b) { return (a.height<=b.height) ? -1 : 1; });\n\n\t\tif (frames[frames.length-1].height+pad*2 > this.maxHeight) { throw SpriteSheetBuilder.ERR_DIMENSIONS; }\n\t\tvar y=0, x=0;\n\t\tvar img = 0;\n\t\twhile (frames.length) {\n\t\t\tvar o = this._fillRow(frames, y, img, dataFrames, pad);\n\t\t\tif (o.w > x) { x = o.w; }\n\t\t\ty += o.h;\n\t\t\tif (!o.h || !frames.length) {\n\t\t\t\tvar canvas = createjs.createCanvas?createjs.createCanvas():document.createElement(\"canvas\");\n\t\t\t\tcanvas.width = this._getSize(x,this.maxWidth);\n\t\t\t\tcanvas.height = this._getSize(y,this.maxHeight);\n\t\t\t\tthis._data.images[img] = canvas;\n\t\t\t\tif (!o.h) {\n\t\t\t\t\tx=y=0;\n\t\t\t\t\timg++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\t\n\t/**\n\t * @method _setupMovieClipFrame\n\t * @protected\n\t * @return {Number} The width & height of the row.\n\t **/\n\tp._setupMovieClipFrame = function(source, data) {\n\t\tvar ae = source.actionsEnabled;\n\t\tsource.actionsEnabled = false;\n\t\tsource.gotoAndStop(data.i);\n\t\tsource.actionsEnabled = ae;\n\t\tdata.f&&data.f(source, data.d, data.i);\n\t};\n\n\t/**\n\t * @method _getSize\n\t * @protected\n\t * @return {Number} The width & height of the row.\n\t **/\n\tp._getSize = function(size,max) {\n\t\tvar pow = 4;\n\t\twhile (Math.pow(2,++pow) < size){}\n\t\treturn Math.min(max,Math.pow(2,pow));\n\t};\n\n\t/**\n\t * @method _fillRow\n\t * @param {Array} frames\n\t * @param {Number} y\n\t * @param {HTMLImageElement} img\n\t * @param {Object} dataFrames\n\t * @param {Number} pad\n\t * @protected\n\t * @return {Number} The width & height of the row.\n\t **/\n\tp._fillRow = function(frames, y, img, dataFrames, pad) {\n\t\tvar w = this.maxWidth;\n\t\tvar maxH = this.maxHeight;\n\t\ty += pad;\n\t\tvar h = maxH-y;\n\t\tvar x = pad;\n\t\tvar height = 0;\n\t\tfor (var i=frames.length-1; i>=0; i--) {\n\t\t\tvar frame = frames[i];\n\t\t\tvar sc = this._scale*frame.scale;\n\t\t\tvar rect = frame.sourceRect;\n\t\t\tvar source = frame.source;\n\t\t\tvar rx = Math.floor(sc*rect.x-pad);\n\t\t\tvar ry = Math.floor(sc*rect.y-pad);\n\t\t\tvar rh = Math.ceil(sc*rect.height+pad*2);\n\t\t\tvar rw = Math.ceil(sc*rect.width+pad*2);\n\t\t\tif (rw > w) { throw SpriteSheetBuilder.ERR_DIMENSIONS; }\n\t\t\tif (rh > h || x+rw > w) { continue; }\n\t\t\tframe.img = img;\n\t\t\tframe.rect = new createjs.Rectangle(x,y,rw,rh);\n\t\t\theight = height || rh;\n\t\t\tframes.splice(i,1);\n\t\t\tdataFrames[frame.index] = [x,y,rw,rh,img,Math.round(-rx+sc*source.regX-pad),Math.round(-ry+sc*source.regY-pad)];\n\t\t\tx += rw;\n\t\t}\n\t\treturn {w:x, h:height};\n\t};\n\n\t/**\n\t * @method _endBuild\n\t * @protected\n\t **/\n\tp._endBuild = function() {\n\t\tthis.spriteSheet = new createjs.SpriteSheet(this._data);\n\t\tthis._data = null;\n\t\tthis.progress = 1;\n\t\tthis.dispatchEvent(\"complete\");\n\t};\n\n\t/**\n\t * @method _run\n\t * @protected\n\t **/\n\tp._run = function() {\n\t\tvar ts = Math.max(0.01, Math.min(0.99, this.timeSlice||0.3))*50;\n\t\tvar t = (new Date()).getTime()+ts;\n\t\tvar complete = false;\n\t\twhile (t > (new Date()).getTime()) {\n\t\t\tif (!this._drawNext()) { complete = true; break; }\n\t\t}\n\t\tif (complete) {\n\t\t\tthis._endBuild();\n\t\t} else {\n\t\t\tvar _this = this;\n\t\t\tthis._timerID = setTimeout(function() { _this._run(); }, 50-ts);\n\t\t}\n\t\tvar p = this.progress = this._index/this._frames.length;\n\t\tif (this.hasEventListener(\"progress\")) {\n\t\t\tvar evt = new createjs.Event(\"progress\");\n\t\t\tevt.progress = p;\n\t\t\tthis.dispatchEvent(evt);\n\t\t}\n\t};\n\n\t/**\n\t * @method _drawNext\n\t * @protected\n\t * @return Boolean Returns false if this is the last draw.\n\t **/\n\tp._drawNext = function() {\n\t\tvar frame = this._frames[this._index];\n\t\tvar sc = frame.scale*this._scale;\n\t\tvar rect = frame.rect;\n\t\tvar sourceRect = frame.sourceRect;\n\t\tvar canvas = this._data.images[frame.img];\n\t\tvar ctx = canvas.getContext(\"2d\");\n\t\tframe.funct&&frame.funct(frame.source, frame.data);\n\t\tctx.save();\n\t\tctx.beginPath();\n\t\tctx.rect(rect.x, rect.y, rect.width, rect.height);\n\t\tctx.clip();\n\t\tctx.translate(Math.ceil(rect.x-sourceRect.x*sc), Math.ceil(rect.y-sourceRect.y*sc));\n\t\tctx.scale(sc,sc);\n\t\tframe.source.draw(ctx); // display object will draw itself.\n\t\tctx.restore();\n\t\treturn (++this._index) < this._frames.length;\n\t};\n\n\n\tcreatejs.SpriteSheetBuilder = createjs.promote(SpriteSheetBuilder, \"EventDispatcher\");\n}());\n\n//##############################################################################\n// DOMElement.js\n//##############################################################################\n\nthis.createjs = this.createjs||{};\n\n(function() {\n\t\"use strict\";\n\n\n// constructor:\n\t/**\n\t * <b>This class is still experimental, and more advanced use is likely to be buggy. Please report bugs.</b>\n\t *\n\t * A DOMElement allows you to associate a HTMLElement with the display list. It will be transformed\n\t * within the DOM as though it is child of the {{#crossLink \"Container\"}}{{/crossLink}} it is added to. However, it is\n\t * not rendered to canvas, and as such will retain whatever z-index it has relative to the canvas (ie. it will be\n\t * drawn in front of or behind the canvas).\n\t *\n\t * The position of a DOMElement is relative to their parent node in the DOM. It is recommended that\n\t * the DOM Object be added to a div that also contains the canvas so that they share the same position\n\t * on the page.\n\t *\n\t * DOMElement is useful for positioning HTML elements over top of canvas content, and for elements\n\t * that you want to display outside the bounds of the canvas. For example, a tooltip with rich HTML\n\t * content.\n\t *\n\t * <h4>Mouse Interaction</h4>\n\t *\n\t * DOMElement instances are not full EaselJS display objects, and do not participate in EaselJS mouse\n\t * events or support methods like hitTest. To get mouse events from a DOMElement, you must instead add handlers to\n\t * the htmlElement (note, this does not support EventDispatcher)\n\t *\n\t *      var domElement = new createjs.DOMElement(htmlElement);\n\t *      domElement.htmlElement.onclick = function() {\n\t *          console.log(\"clicked\");\n\t *      }\n\t *\n\t * <strong>Important:</strong> This class needs to be notified it is about to be drawn, this will happen automatically\n\t * if you call stage.update, calling stage.draw or disabling tickEnabled will miss important steps and it will render\n\t * stale information.\n\t *\n\t * @class DOMElement\n\t * @extends DisplayObject\n\t * @constructor\n\t * @param {HTMLElement} htmlElement A reference or id for the DOM element to manage.\n\t */\n\tfunction DOMElement(htmlElement) {\n\t\tthis.DisplayObject_constructor();\n\t\t\n\t\tif (typeof(htmlElement)==\"string\") { htmlElement = document.getElementById(htmlElement); }\n\t\tthis.mouseEnabled = false;\n\t\t\n\t\tvar style = htmlElement.style;\n\t\tstyle.position = \"absolute\";\n\t\tstyle.transformOrigin = style.WebkitTransformOrigin = style.msTransformOrigin = style.MozTransformOrigin = style.OTransformOrigin = \"0% 0%\";\n\t\t\n\t\t\n\t// public properties:\n\t\t/**\n\t\t * The DOM object to manage.\n\t\t * @property htmlElement\n\t\t * @type HTMLElement\n\t\t */\n\t\tthis.htmlElement = htmlElement;\n\t\n\t\n\t// private properties:\n\t\t/**\n\t\t * @property _oldMtx\n\t\t * @type Matrix2D\n\t\t * @protected\n\t\t */\n\t\tthis._oldProps = null;\n\n\t\t/**\n\t\t * Used to track the object which this class attached listeners to, helps optimize listener attachment.\n\t\t * @property _oldStage\n\t\t * @type Stage\n\t\t * @protected\n\t\t */\n\t\tthis._oldStage = null;\n\t\t/**\n\t\t * The event listener proxy triggered drawing draw for special circumstances.\n\t\t * @property _drawAction\n\t\t * @type function\n\t\t * @protected\n\t\t */\n\t\tthis._drawAction = null;\n\t}\n\tvar p = createjs.extend(DOMElement, createjs.DisplayObject);\n\n\t// TODO: deprecated\n\t// p.initialize = function() {}; // searchable for devs wondering where it is. REMOVED. See docs for details.\n\n\n// public methods:\n\t/**\n\t * Returns true or false indicating whether the display object would be visible if drawn to a canvas.\n\t * This does not account for whether it would be visible within the boundaries of the stage.\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\n\t * @method isVisible\n\t * @return {Boolean} Boolean indicating whether the display object would be visible if drawn to a canvas\n\t */\n\tp.isVisible = function() {\n\t\treturn this.htmlElement != null;\n\t};\n\n\t/**\n\t * Draws the display object into the specified context ignoring its visible, alpha, shadow, and transform.\n\t * Returns true if the draw was handled (useful for overriding functionality).\n\t * NOTE: This method is mainly for internal use, though it may be useful for advanced uses.\n\t * @method draw\n\t * @param {CanvasRenderingContext2D} ctx The canvas 2D context object to draw into.\n\t * @param {Boolean} ignoreCache Indicates whether the draw operation should ignore any current cache.\n\t * For example, used for drawing the cache (to prevent it from simply drawing an existing cache back\n\t * into itself).\n\t * @return {Boolean}\n\t */\n\tp.draw = function(ctx, ignoreCache) {\n\t\t// this relies on the _tick method because draw isn't called if the parent is not visible.\n\t\t// the actual update happens in _handleDrawEnd\n\t\treturn true;\n\t};\n\n\t/**\n\t * Not applicable to DOMElement.\n\t * @method cache\n\t */\n\tp.cache = function() {};\n\n\t/**\n\t * Not applicable to DOMElement.\n\t * @method uncache\n\t */\n\tp.uncache = function() {};\n\n\t/**\n\t * Not applicable to DOMElement.\n\t * @method updateCache\n\t */\n\tp.updateCache = function() {};\n\n\t/**\n\t * Not applicable to DOMElement.\n\t * @method hitTest\n\t */\n\tp.hitTest = function() {};\n\n\t/**\n\t * Not applicable to DOMElement.\n\t * @method localToGlobal\n\t */\n\tp.localToGlobal = function() {};\n\n\t/**\n\t * Not applicable to DOMElement.\n\t * @method globalToLocal\n\t */\n\tp.globalToLocal = function() {};\n\n\t/**\n\t * Not applicable to DOMElement.\n\t * @method localToLocal\n\t */\n\tp.localToLocal = function() {};\n\n\t/**\n\t * DOMElement cannot be cloned. Throws an error.\n\t * @method clone\n\t */\n\tp.clone = function() {\n\t\tthrow(\"DOMElement cannot be cloned.\")\n\t};\n\n\t/**\n\t * Returns a string representation of this object.\n\t * @method toString\n\t * @return {String} a string representation of the instance.\n\t */\n\tp.toString = function() {\n\t\treturn \"[DOMElement (name=\"+  this.name +\")]\";\n\t};\n\n\t/**\n     * Interaction events should be added to `htmlElement`, and not the DOMElement instance, since DOMElement instances\n\t * are not full EaselJS display objects and do not participate in EaselJS mouse events.\n\t * @event click\n\t */\n\n     /**\n     * Interaction events should be added to `htmlElement`, and not the DOMElement instance, since DOMElement instances\n \t * are not full EaselJS display objects and do not participate in EaselJS mouse events.\n\t * @event dblClick\n\t */\n\n     /**\n      * Interaction events should be added to `htmlElement`, and not the DOMElement instance, since DOMElement instances\n \t  * are not full EaselJS display objects and do not participate in EaselJS mouse events.\n\t  * @event mousedown\n\t  */\n\n     /**\n      * The HTMLElement can listen for the mouseover event, not the DOMElement instance.\n      * Since DOMElement instances are not full EaselJS display objects and do not participate in EaselJS mouse events.\n      * @event mouseover\n\t  */\n\n     /**\n      * Not applicable to DOMElement.\n\t  * @event tick\n\t  */\n\n\n// private methods:\n\t/**\n\t * @method _tick\n\t * @param {Object} evtObj An event object that will be dispatched to all tick listeners. This object is reused between dispatchers to reduce construction & GC costs.\n\t * function.\n\t * @protected\n\t */\n\tp._tick = function(evtObj) {\n\t\tvar stage = this.stage;\n\t\tif(stage && stage !== this._oldStage) {\n\t\t\tthis._drawAction && stage.off(\"drawend\", this._drawAction);\n\t\t\tthis._drawAction = stage.on(\"drawend\", this._handleDrawEnd, this);\n\t\t\tthis._oldStage = stage;\n\t\t}\n\t\tthis.DisplayObject__tick(evtObj);\n\t};\n\t\n\t/**\n\t * @method _handleDrawEnd\n\t * @param {Event} evt\n\t * @protected\n\t */\n\tp._handleDrawEnd = function(evt) {\n\t\tvar o = this.htmlElement;\n\t\tif (!o) { return; }\n\t\tvar style = o.style;\n\t\t\n\t\tvar props = this.getConcatenatedDisplayProps(this._props), mtx = props.matrix;\n\t\t\n\t\tvar visibility = props.visible ? \"visible\" : \"hidden\";\n\t\tif (visibility != style.visibility) { style.visibility = visibility; }\n\t\tif (!props.visible) { return; }\n\t\t\n\t\tvar oldProps = this._oldProps, oldMtx = oldProps&&oldProps.matrix;\n\t\tvar n = 10000; // precision\n\t\t\n\t\tif (!oldMtx || !oldMtx.equals(mtx)) {\n\t\t\tvar str = \"matrix(\" + (mtx.a*n|0)/n +\",\"+ (mtx.b*n|0)/n +\",\"+ (mtx.c*n|0)/n +\",\"+ (mtx.d*n|0)/n +\",\"+ (mtx.tx+0.5|0);\n\t\t\tstyle.transform = style.WebkitTransform = style.OTransform = style.msTransform = str +\",\"+ (mtx.ty+0.5|0) +\")\";\n\t\t\tstyle.MozTransform = str +\"px,\"+ (mtx.ty+0.5|0) +\"px)\";\n\t\t\tif (!oldProps) { oldProps = this._oldProps = new createjs.DisplayProps(true, null); }\n\t\t\toldProps.matrix.copy(mtx);\n\t\t}\n\t\t\n\t\tif (oldProps.alpha != props.alpha) {\n\t\t\tstyle.opacity = \"\"+(props.alpha*n|0)/n;\n\t\t\toldProps.alpha = props.alpha;\n\t\t}\n\t};\n\n\n\tcreatejs.DOMElement = createjs.promote(DOMElement, \"DisplayObject\");\n}());\n\n//##############################################################################\n// Filter.js\n//##############################################################################\n\nthis.createjs = this.createjs||{};\n\n(function() {\n\t\"use strict\";\n\n\n// constructor:\n\t/**\n\t * Base class that all filters should inherit from. Filters need to be applied to objects that have been cached using\n\t * the {{#crossLink \"DisplayObject/cache\"}}{{/crossLink}} method. If an object changes, please cache it again, or use\n\t * {{#crossLink \"DisplayObject/updateCache\"}}{{/crossLink}}. Note that the filters must be applied before caching.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *      myInstance.filters = [\n\t *          new createjs.ColorFilter(0, 0, 0, 1, 255, 0, 0),\n\t *          new createjs.BlurFilter(5, 5, 10)\n\t *      ];\n\t *      myInstance.cache(0,0, 100, 100);\n\t *\n\t * Note that each filter can implement a {{#crossLink \"Filter/getBounds\"}}{{/crossLink}} method, which returns the\n\t * margins that need to be applied in order to fully display the filter. For example, the {{#crossLink \"BlurFilter\"}}{{/crossLink}}\n\t * will cause an object to feather outwards, resulting in a margin around the shape.\n\t *\n\t * <h4>EaselJS Filters</h4>\n\t * EaselJS comes with a number of pre-built filters:\n\t * <ul><li>{{#crossLink \"AlphaMapFilter\"}}{{/crossLink}} : Map a greyscale image to the alpha channel of a display object</li>\n\t *      <li>{{#crossLink \"AlphaMaskFilter\"}}{{/crossLink}}: Map an image's alpha channel to the alpha channel of a display object</li>\n\t *      <li>{{#crossLink \"BlurFilter\"}}{{/crossLink}}: Apply vertical and horizontal blur to a display object</li>\n\t *      <li>{{#crossLink \"ColorFilter\"}}{{/crossLink}}: Color transform a display object</li>\n\t *      <li>{{#crossLink \"ColorMatrixFilter\"}}{{/crossLink}}: Transform an image using a {{#crossLink \"ColorMatrix\"}}{{/crossLink}}</li>\n\t * </ul>\n\t *\n\t * @class Filter\n\t * @constructor\n\t **/\n\tfunction Filter() {\n\t\t/**\n\t\t * A flag stating that this filter uses a context draw mode and cannot be batched into imageData processing.\n\t\t * @property usesContext\n\t\t * @type {boolean}\n\t\t * @default false\n\t\t */\n\t\tthis.usesContext = false;\n\n\t\t/**\n\t\t * Pre-processed template shader code. It will be parsed before being fed in into the shader compiler.\n\t\t * This should be based upon StageGL.SHADER_VERTEX_BODY_REGULAR\n\t\t * @property VTX_SHADER\n\t\t * @virtual\n\t\t * @type {String}\n\t\t * @readonly\n\t\t */\n\t\tthis.VTX_SHADER_BODY = null;\n\n\t\t/**\n\t\t * Pre-processed template shader code. It will be parsed before being fed in into the shader compiler.\n\t\t * This should be based upon StageGL.SHADER_FRAGMENT_BODY_REGULAR\n\t\t * @property FRAG_SHADER\n\t\t * @virtual\n\t\t * @type {String}\n\t\t * @readonly\n\t\t */\n\t\tthis.FRAG_SHADER_BODY = null;\n\t}\n\tvar p = Filter.prototype;\n\n// public methods:\n\t/**\n\t * Provides padding values for this filter. That is, how much the filter will extend the visual bounds of an object it is applied to.\n\t * @method getBounds\n\t * @param {Rectangle} [rect] If specified, the provided Rectangle instance will be expanded by the padding amounts and returned.\n\t * @return {Rectangle} If a `rect` param was provided, it is returned. If not, either a new rectangle with the padding values, or null if no padding is required for this filter.\n\t **/\n\tp.getBounds = function(rect) {\n\t\treturn rect;\n\t};\n\n\t/**\n\t * Assign any unique uniforms or other setup functionality here.\n\t * @method shaderParamSetup\n\t * @virtual\n\t * @param {WebGLContext} gl The context associated with the stage performing the render.\n\t * @param {StageGL} stage The stage instance that will be rendering.\n\t * @param {ShaderProgram} shaderProgram The compiled shader that is going to be used to perform the render.\n\t */\n\tp.shaderParamSetup = function(gl, stage, shaderProgram) {};\n\n\t/**\n\t * Applies the filter to the specified context.\n\t * @method applyFilter\n\t * @param {CanvasRenderingContext2D} ctx The 2D context to use as the source.\n\t * @param {Number} x The x position to use for the source rect.\n\t * @param {Number} y The y position to use for the source rect.\n\t * @param {Number} width The width to use for the source rect.\n\t * @param {Number} height The height to use for the source rect.\n\t * @param {CanvasRenderingContext2D} [targetCtx] The 2D context to draw the result to. Defaults to the context passed to ctx.\n\t * @param {Number} [targetX] The x position to draw the result to. Defaults to the value passed to x.\n\t * @param {Number} [targetY] The y position to draw the result to. Defaults to the value passed to y.\n\t * @return {Boolean} If the filter was applied successfully.\n\t **/\n\tp.applyFilter = function(ctx, x, y, width, height, targetCtx, targetX, targetY) {\n\t\t// this is the default behaviour because most filters access pixel data. It is overridden when not needed.\n\t\ttargetCtx = targetCtx || ctx;\n\t\tif (targetX == null) { targetX = x; }\n\t\tif (targetY == null) { targetY = y; }\n\t\ttry {\n\t\t\tvar imageData = ctx.getImageData(x, y, width, height);\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t\tif (this._applyFilter(imageData)) {\n\t\t\ttargetCtx.putImageData(imageData, targetX, targetY);\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t};\n\n\t/**\n\t * Returns a string representation of this object.\n\t * @method toString\n\t * @return {String} a string representation of the instance.\n\t **/\n\tp.toString = function() {\n\t\treturn \"[Filter]\";\n\t};\n\n\t/**\n\t * Returns a clone of this Filter instance.\n\t * @method clone\n\t * @return {Filter} A clone of the current Filter instance.\n\t **/\n\tp.clone = function() {\n\t\treturn new Filter();\n\t};\n\t\n// private methods:\n\t/**\n\t * @method _applyFilter\n\t * @param {ImageData} imageData Target ImageData instance.\n\t * @return {Boolean}\n\t **/\n\tp._applyFilter = function(imageData) { return true; };\n\n\n\tcreatejs.Filter = Filter;\n}());\n\n//##############################################################################\n// BitmapCache.js\n//##############################################################################\n\nthis.createjs = this.createjs||{};\n\n(function() {\n\t\"use strict\";\n\n\n// constructor:\n\t/**\n\t * The BitmapCache is an internal representation of all the cache properties and logic required in order to \"cache\"\n\t * an object. This information and functionality used to be located on a {{#crossLink \"DisplayObject/cache\"}}{{/crossLink}}\n\t * method in {{#crossLink \"DisplayObject\"}}{{/crossLink}}, but was moved to its own class.\n\t *\n\t * Caching in this context is purely visual, and will render the DisplayObject out into an image to be used instead\n\t * of the object. The actual cache itself is still stored on the target with the {{#crossLink \"DisplayObject/cacheCanvas:property\"}}{{/crossLink}}.\n\t * Working with a singular image like a {{#crossLink \"Bitmap\"}}{{/crossLink}} there is little benefit to performing \n\t * a cache as it is already a single image. Caching is best done on containers containing multiple complex parts that \n\t * do not move often, so that rendering the image instead will improve overall rendering speed. A cached object will \n\t * not visually update until explicitly told to do so with a call to update, much like a Stage. If a cache is being \n\t * updated every frame it is likely not improving rendering performance. Cache are best used when updates will be sparse.\n\t *\n\t * Caching is also a co-requisite for applying filters to prevent expensive filters running constantly without need, \n\t * and to physically enable some effects. The BitmapCache is also responsible for applying filters to objects and \n\t * reads each {{#crossLink \"Filter\"}}{{/crossLink}} due to this relationship. Real-time Filters are not recommended \n\t * performance wise when dealing with a Context2D canvas. For best performance and to still allow for some visual \n\t * effects use a compositeOperation when possible.\n\t * @class BitmapCache\n\t * @constructor\n\t **/\n\tfunction BitmapCache() {\n\n\t\t// public:\n\t\t/**\n\t\t * Width of the cache relative to the target object.\n\t\t * @property width\n\t\t * @protected\n\t\t * @type {Number}\n\t\t * @default undefined\n\t\t **/\n\t\tthis.width = undefined;\n\n\t\t/**\n\t\t * Height of the cache relative to the target object.\n\t\t * @property height\n\t\t * @protected\n\t\t * @type {Number}\n\t\t * @default undefined\n\t\t * @todo Should the width and height be protected?\n\t\t **/\n\t\tthis.height = undefined;\n\n\t\t/**\n\t\t * Horizontal position of the cache relative to the target's origin.\n\t\t * @property x\n\t\t * @protected\n\t\t * @type {Number}\n\t\t * @default undefined\n\t\t **/\n\t\tthis.x = undefined;\n\n\t\t/**\n\t\t * Vertical position of the cache relative to target's origin.\n\t\t * @property y\n\t\t * @protected\n\t\t * @type {Number}\n\t\t * @default undefined\n\t\t **/\n\t\tthis.y = undefined;\n\n\t\t/**\n\t\t * The internal scale of the cache image, does not affects display size. This is useful to both increase and\n\t\t * decrease render quality. Objects with increased scales are more likely to look good when scaled up or rotated.\n\t\t * Objects with decreased scales can save on rendering performance.\n\t\t * @property scale\n\t\t * @protected\n\t\t * @type {Number}\n\t\t * @default 1\n\t\t **/\n\t\tthis.scale = 1;\n\n\t\t/**\n\t\t * The x offset used for drawing into the cache itself, accounts for both transforms applied.\n\t\t * @property offX\n\t\t * @protected\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t **/\n\t\tthis.offX = 0;\n\n\t\t/**\n\t\t * The y offset used for drawing into the cache itself, accounts for both transforms applied.\n\t\t * @property offY\n\t\t * @protected\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t **/\n\t\tthis.offY = 0;\n\n\t\t/**\n\t\t * Track how many times the cache has been updated, mostly used for preventing duplicate cacheURLs.\n\t\t * This can be useful to see if a cache has been updated.\n\t\t * @property cacheID\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t **/\n\t\tthis.cacheID = 0;\n\n\t\t// protected:\n\t\t/**\n\t\t * The relative offset of the filter's x position, used for drawing the cache onto its container.\n\t\t * Re-calculated every update call before drawing.\n\t\t * @property _filterOffY\n\t\t * @protected\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t **/\n\t\tthis._filterOffX = 0;\n\n\t\t/**\n\t\t * The relative offset of the filter's y position, used for drawing the cache onto its container.\n\t\t * Re-calculated every update call before drawing.\n\t\t * @property _filterOffY\n\t\t * @protected\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t **/\n\t\tthis._filterOffY = 0;\n\n\t\t/**\n\t\t * The cacheID when a DataURL was requested.\n\t\t * @property _cacheDataURLID\n\t\t * @protected\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t **/\n\t\tthis._cacheDataURLID = 0;\n\n\t\t/**\n\t\t * The cache's DataURL, generated on-demand using the getter.\n\t\t * @property _cacheDataURL\n\t\t * @protected\n\t\t * @type {String}\n\t\t * @default null\n\t\t **/\n\t\tthis._cacheDataURL = null;\n\n\t\t/**\n\t\t * Internal tracking of final bounding width, approximately width*scale; however, filters can complicate the actual value.\n\t\t * @property _drawWidth\n\t\t * @protected\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t **/\n\t\tthis._drawWidth = 0;\n\n\t\t/**\n\t\t * Internal tracking of final bounding height, approximately height*scale; however, filters can complicate the actual value.\n\t\t * @property _drawHeight\n\t\t * @protected\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t **/\n\t\tthis._drawHeight = 0;\n\t}\n\tvar p = BitmapCache.prototype;\n\n\t/**\n\t * Returns the bounds that surround all applied filters, relies on each filter to describe how it changes bounds.\n\t * @method getFilterBounds\n\t * @param {DisplayObject} target The object to check the filter bounds for.\n\t * @param {Rectangle} [output=null] Optional parameter, if provided then calculated bounds will be applied to that object.\n\t * @return {Rectangle} bounds object representing the bounds with filters.\n\t * @static\n\t **/\n\tBitmapCache.getFilterBounds = function(target, output) {\n\t\tif(!output){ output = new createjs.Rectangle(); }\n\t\tvar filters = target.filters;\n\t\tvar filterCount = filters && filters.length;\n\t\tif (!!filterCount <= 0) { return output; }\n\n\t\tfor(var i=0; i<filterCount; i++) {\n\t\t\tvar f = filters[i];\n\t\t\tif(!f || !f.getBounds){ continue; }\n\t\t\tvar test = f.getBounds();\n\t\t\tif(!test){ continue; }\n\t\t\tif(i==0) {\n\t\t\t\toutput.setValues(test.x, test.y, test.width, test.height);\n\t\t\t} else {\n\t\t\t\toutput.extend(test.x, test.y, test.width, test.height);\n\t\t\t}\n\t\t}\n\n\t\treturn output;\n\t};\n\n// public methods:\n\t/**\n\t * Returns a string representation of this object.\n\t * @method toString\n\t * @return {String} a string representation of the instance.\n\t **/\n\tp.toString = function() {\n\t\treturn \"[BitmapCache]\";\n\t};\n\n\t/**\n\t * Actually create the correct cache surface and properties associated with it. Caching and it's benefits are discussed\n\t * by the {{#crossLink \"DisplayObject/cache\"}}{{/crossLink}} function and this class description. Here are the detailed\n\t * specifics of how to use the options object.\n\t *\n\t * - If options.useGL is set to \"new\" a StageGL is created and contained on this for use when rendering the cache.\n\t * - If options.useGL is set to \"stage\" if the current stage is a StageGL it will be used. If not then it will default to \"new\".\n\t * - If options.useGL is a StageGL instance it will not create one but use the one provided.\n\t * - If options.useGL is undefined a Context 2D cache will be performed.\n\t *\n\t * This means you can use any combination of StageGL and 2D with either, neither, or both the stage and cache being\n\t * WebGL. Using \"new\" with a StageGL display list is highly unrecommended, but still an option. It should be avoided\n\t * due to negative performance reasons and the Image loading limitation noted in the class complications above.\n\t *\n\t * When \"options.useGL\" is set to the parent stage of the target and WebGL, performance is increased by using\n\t * \"RenderTextures\" instead of canvas elements. These are internal Textures on the graphics card stored in the GPU.\n\t * Because they are no longer canvases you cannot perform operations you could with a regular canvas. The benefit\n\t * is that this avoids the slowdown of copying the texture back and forth from the GPU to a Canvas element.\n\t * This means \"stage\" is the recommended option when available.\n\t *\n\t * A StageGL cache does not infer the ability to draw objects a StageGL cannot currently draw, i.e. do not use a\n\t * WebGL context cache when caching a Shape, Text, etc.\n\t * <h4>WebGL cache with a 2D context</h4>\n\t *\n\t *     var stage = new createjs.Stage();\n\t *     var bmp = new createjs.Bitmap(src);\n\t *     bmp.cache(0, 0, bmp.width, bmp.height, 1, {gl: \"new\"});          // no StageGL to use, so make one\n\t *\n\t *     var shape = new createjs.Shape();\n\t *     shape.graphics.clear().fill(\"red\").drawRect(0,0,20,20);\n\t *     shape.cache(0, 0, 20, 20, 1);                             // cannot use WebGL cache\n\t *\n\t * <h4>WebGL cache with a WebGL context</h4>\n\t *\n\t *     var stageGL = new createjs.StageGL();\n\t *     var bmp = new createjs.Bitmap(src);\n\t *     bmp.cache(0, 0, bmp.width, bmp.height, 1, {gl: \"stage\"});       // use our StageGL to cache\n\t *\n\t *     var shape = new createjs.Shape();\n\t *     shape.graphics.clear().fill(\"red\").drawRect(0,0,20,20);\n\t *     shape.cache(0, 0, 20, 20, 1);                             // cannot use WebGL cache\n\t *\n\t * You may wish to create your own StageGL instance to control factors like clear color, transparency, AA, and\n\t * others. If you do, pass a new instance in instead of \"true\", the library will automatically set the\n\t * {{#crossLink \"StageGL/isCacheControlled\"}}{{/crossLink}} to true on your instance. This will trigger it to behave\n\t * correctly, and not assume your main context is WebGL.\n\t *\n\t * @public\n\t * @method BitmapCache.cache\n\t * @param {Number} x The x coordinate origin for the cache region.\n\t * @param {Number} y The y coordinate origin for the cache region.\n\t * @param {Number} width The width of the cache region.\n\t * @param {Number} height The height of the cache region.\n\t * @param {Number} [scale=1] The scale at which the cache will be created. For example, if you cache a vector shape\n\t * using myShape.cache(0,0,100,100,2) then the resulting cacheCanvas will be 200x200 px. This lets you scale and\n\t * rotate cached elements with greater fidelity. Default is 1.\n\t * @param {Object} [options=undefined] Specify additional parameters for the cache logic\n\t * @param {undefined|\"new\"|\"stage\"|StageGL} [options.useGL=undefined] Select whether to use context 2D, or WebGL rendering, and\n\t * whether to make a new stage instance or use an existing one. See above for extensive details on use.\n\t * @for BitmapCache\n\t */\n\t p.define = function(target, x, y, width, height, scale, options) {\n\t\tif(!target){ throw \"No symbol to cache\"; }\n\t\tthis._options = options;\n\t\tthis.target = target;\n\n\t\tthis.width =\t\twidth >= 1 ? width : 1;\n\t\tthis.height =\t\theight >= 1 ? height : 1;\n\t\tthis.x =\t\t\tx || 0;\n\t\tthis.y =\t\t\ty || 0;\n\t\tthis.scale =\t\tscale || 1;\n\n\t\tthis.update();\n\t};\n\n\t/**\n\t * Directly called via {{#crossLink \"DisplayObject/updateCache:method\"}}{{/crossLink}}, but also internally. This\n\t * has the dual responsibility of making sure the surface is ready to be drawn to, and performing the draw. For\n\t * full details of each behaviour, check the protected functions {{#crossLink \"BitmapCache/_updateSurface\"}}{{/crossLink}}\n\t * and {{#crossLink \"BitmapCache/_drawToCache\"}}{{/crossLink}} respectively.\n\t * @method update\n\t * @param {String} [compositeOperation=null] The DisplayObject this cache is linked to.\n\t **/\n\tp.update = function(compositeOperation) {\n\t\tif(!this.target) { throw \"define() must be called before update()\"; }\n\n\t\tvar filterBounds = BitmapCache.getFilterBounds(this.target);\n\t\tvar surface = this.target.cacheCanvas;\n\n\t\tthis._drawWidth = Math.ceil(this.width*this.scale) + filterBounds.width;\n\t\tthis._drawHeight = Math.ceil(this.height*this.scale) + filterBounds.height;\n\n\t\tif(!surface || this._drawWidth != surface.width || this._drawHeight != surface.height) {\n\t\t\tthis._updateSurface();\n\t\t}\n\n\t\tthis._filterOffX = filterBounds.x;\n\t\tthis._filterOffY = filterBounds.y;\n\t\tthis.offX = this.x*this.scale + this._filterOffX;\n\t\tthis.offY = this.y*this.scale + this._filterOffY;\n\n\t\tthis._drawToCache(compositeOperation);\n\n\t\tthis.cacheID = this.cacheID?this.cacheID+1:1;\n\t};\n\n\t/**\n\t * Reset and release all the properties and memory associated with this cache.\n\t * @method release\n\t **/\n\tp.release = function() {\n\t\tif (this._webGLCache) {\n\t\t\t// if it isn't cache controlled clean up after yourself\n\t\t\tif (!this._webGLCache.isCacheControlled) {\n\t\t\t\tif (this.__lastRT){ this.__lastRT = undefined; }\n\t\t\t\tif (this.__rtA){ this._webGLCache._killTextureObject(this.__rtA); }\n\t\t\t\tif (this.__rtB){ this._webGLCache._killTextureObject(this.__rtB); }\n\t\t\t\tif (this.target && this.target.cacheCanvas){ this._webGLCache._killTextureObject(this.target.cacheCanvas); }\n\t\t\t}\n\t\t\t// set the context to none and let the garbage collector get the rest when the canvas itself gets removed\n\t\t\tthis._webGLCache = false;\n\t\t} else {\n\t\t\tvar stage = this.target.stage;\n\t\t\tif (stage instanceof createjs.StageGL){\n\t\t\t\tstage.releaseTexture(this.target.cacheCanvas);\n\t\t\t}\n\t\t}\n\n\t\tthis.target = this.target.cacheCanvas = null;\n\t\tthis.cacheID = this._cacheDataURLID = this._cacheDataURL = undefined;\n\t\tthis.width = this.height = this.x = this.y = this.offX = this.offY = 0;\n\t\tthis.scale = 1;\n\t};\n\n\t/**\n\t * Returns a data URL for the cache, or `null` if this display object is not cached.\n\t * Uses {{#crossLink \"BitmapCache/cacheID:property\"}}{{/crossLink}} to ensure a new data URL is not generated if the\n\t * cache has not changed.\n\t * @method getCacheDataURL\n\t * @return {String} The image data url for the cache.\n\t **/\n\tp.getCacheDataURL = function() {\n\t\tvar cacheCanvas = this.target && this.target.cacheCanvas;\n\t\tif (!cacheCanvas) { return null; }\n\t\tif (this.cacheID != this._cacheDataURLID) {\n\t\t\tthis._cacheDataURLID = this.cacheID;\n\t\t\tthis._cacheDataURL = cacheCanvas.toDataURL?cacheCanvas.toDataURL():null;\t// incase function is\n\t\t}\n\t\treturn this._cacheDataURL;\n\t};\n\n\t/**\n\t * Use context2D drawing commands to display the cache canvas being used.\n\t * @method draw\n\t * @param {CanvasRenderingContext2D} ctx The context to draw into.\n\t * @return {Boolean} Whether the draw was handled successfully.\n\t **/\n\tp.draw = function(ctx) {\n\t\tif(!this.target) { return false; }\n\t\tctx.drawImage(this.target.cacheCanvas,\n\t\t\tthis.x + (this._filterOffX/this.scale),\t\tthis.y + (this._filterOffY/this.scale),\n\t\t\tthis._drawWidth/this.scale,\t\t\t\t\tthis._drawHeight/this.scale\n\t\t);\n\t\treturn true;\n\t};\n\n// private methods:\n\t/**\n\t * Create or resize the invisible canvas/surface that is needed for the display object(s) to draw to,\n\t * and in turn be used in their stead when drawing. The surface is resized to the size defined\n\t * by the width and height, factoring in scaling and filters. Adjust them to adjust the output size.\n\t * @method _updateSurface\n\t * @protected\n\t **/\n\tp._updateSurface = function() {\n\t\tif (!this._options || !this._options.useGL) {\n\t\t\tvar surface = this.target.cacheCanvas;\n\n\t\t\t// create it if it's missing\n\t\t\tif(!surface) {\n\t\t\t\tsurface = this.target.cacheCanvas = createjs.createCanvas?createjs.createCanvas():document.createElement(\"canvas\");\n\t\t\t}\n\n\t\t\t// now size it\n\t\t\tsurface.width = this._drawWidth;\n\t\t\tsurface.height = this._drawHeight;\n\t\t\treturn;\n\t\t}\n\n\t\t// create it if it's missing\n\t\tif (!this._webGLCache) {\n\t\t\tif (this._options.useGL === \"stage\") {\n\t\t\t\tif(!(this.target.stage && this.target.stage.isWebGL)){\n\t\t\t\t\tvar error = \"Cannot use 'stage' for cache because the object's parent stage is \";\n\t\t\t\t\terror += this.target.stage ? \"non WebGL.\" : \"not set, please addChild to the correct stage.\";\n\t\t\t\t\tthrow error;\n\t\t\t\t}\n\t\t\t\tthis.target.cacheCanvas = true; // will be replaced with RenderTexture, temporary positive value for old \"isCached\" checks\n\t\t\t\tthis._webGLCache = this.target.stage;\n\n\t\t\t} else if(this._options.useGL === \"new\") {\n\t\t\t\tthis.target.cacheCanvas = document.createElement(\"canvas\"); // we can turn off autopurge because we wont be making textures here\n\t\t\t\tthis._webGLCache = new createjs.StageGL(this.target.cacheCanvas, {antialias: true, transparent: true, autoPurge: -1});\n\t\t\t\tthis._webGLCache.isCacheControlled = true;\t// use this flag to control stage sizing and final output\n\n\t\t\t} else if(this._options.useGL instanceof createjs.StageGL) {\n\t\t\t\tthis.target.cacheCanvas = true; // will be replaced with RenderTexture, temporary positive value for old \"isCached\" checks\n\t\t\t\tthis._webGLCache = this._options.useGL;\n\t\t\t\tthis._webGLCache.isCacheControlled = true;\t// use this flag to control stage sizing and final output\n\n\t\t\t} else {\n\t\t\t\tthrow \"Invalid option provided to useGL, expected ['stage', 'new', StageGL, undefined], got \"+ this._options.useGL;\n\t\t\t}\n\t\t}\n\n\t\t// now size render surfaces\n\t\tvar surface = this.target.cacheCanvas;\n\t\tvar stageGL = this._webGLCache;\n\n\t\t// if we have a dedicated stage we've gotta size it\n\t\tif (stageGL.isCacheControlled) {\n\t\t\tsurface.width = this._drawWidth;\n\t\t\tsurface.height = this._drawHeight;\n\t\t\tstageGL.updateViewport(this._drawWidth, this._drawHeight);\n\t\t}\n\t\tif (this.target.filters) {\n\t\t\t// with filters we can't tell how many we'll need but the most we'll ever need is two, so make them now\n\t\t\tstageGL.getTargetRenderTexture(this.target, this._drawWidth,this._drawHeight);\n\t\t\tstageGL.getTargetRenderTexture(this.target, this._drawWidth,this._drawHeight);\n\t\t} else {\n\t\t\t// without filters then we only need one RenderTexture, and that's only if its not a dedicated stage\n\t\t\tif (!stageGL.isCacheControlled) {\n\t\t\t\tstageGL.getTargetRenderTexture(this.target, this._drawWidth,this._drawHeight);\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Perform the cache draw out for context 2D now that the setup properties have been performed.\n\t * @method _drawToCache\n\t * @protected\n\t **/\n\tp._drawToCache = function(compositeOperation) {\n\t\tvar surface = this.target.cacheCanvas;\n\t\tvar target = this.target;\n\t\tvar webGL = this._webGLCache;\n\n\t\tif (webGL){\n\t\t\t//TODO: auto split blur into an x/y pass\n\t\t\twebGL.cacheDraw(target, target.filters, this);\n\n\t\t\t// we may of swapped around which element the surface is, so we re-fetch it\n\t\t\tsurface = this.target.cacheCanvas;\n\n\t\t\tsurface.width = this._drawWidth;\n\t\t\tsurface.height = this._drawHeight;\n\t\t} else {\n\t\t\tvar ctx = surface.getContext(\"2d\");\n\n\t\t\tif (!compositeOperation) {\n\t\t\t\tctx.clearRect(0, 0, this._drawWidth+1, this._drawHeight+1);\n\t\t\t}\n\n\t\t\tctx.save();\n\t\t\tctx.globalCompositeOperation = compositeOperation;\n\t\t\tctx.setTransform(this.scale,0,0,this.scale, -this._filterOffX,-this._filterOffY);\n\t\t\tctx.translate(-this.x, -this.y);\n\t\t\ttarget.draw(ctx, true);\n\t\t\tctx.restore();\n\n\n\t\t\tif (target.filters && target.filters.length) {\n\t\t\t\tthis._applyFilters(ctx);\n\t\t\t}\n\t\t}\n\t\tsurface._invalid = true;\n\t};\n\n\t/**\n\t * Work through every filter and apply its individual visual transformation.\n\t * @method _applyFilters\n\t * @protected\n\t **/\n\tp._applyFilters = function(ctx) {\n\t\tvar filters = this.target.filters;\n\n\t\tvar w = this._drawWidth;\n\t\tvar h = this._drawHeight;\n\n\t\tvar data;\n\n\t\tvar l = filters.length;\n\t\tfor (var i=0; i<l; i++) {\n\t\t\tvar filter = filters[i];\n\t\t\tif(filter.usesContext){\n\t\t\t\tif(data) {\n\t\t\t\t\tctx.putImageData(data, 0,0);\n\t\t\t\t\tdata = null;\n\t\t\t\t}\n\t\t\t\tfilter.applyFilter(ctx, 0,0, w,h);\n\t\t\t} else {\n\t\t\t\tif(!data) {\n\t\t\t\t\tdata = ctx.getImageData(0,0, w,h);\n\t\t\t\t}\n\t\t\t\tfilter._applyFilter(data);\n\t\t\t}\n\t\t}\n\n\t\t//done\n\t\tif(data) {\n\t\t\tctx.putImageData(data, 0,0);\n\t\t}\n\t};\n\n\tcreatejs.BitmapCache = BitmapCache;\n}());\n\n//##############################################################################\n// BlurFilter.js\n//##############################################################################\n\nthis.createjs = this.createjs||{};\n\n(function() {\n\t\"use strict\";\n\n\n// constructor:\n\t/**\n\t * Applies a box blur to DisplayObjects in context 2D and a Gaussian blur in webgl. Note that this filter is fairly\n\t * intensive, particularly if the quality is set higher than 1.\n\t *\n\t * <h4>Example</h4>\n\t * This example creates a red circle, and then applies a 5 pixel blur to it. It uses the {{#crossLink \"Filter/getBounds\"}}{{/crossLink}}\n\t * method to account for the spread that the blur causes.\n\t *\n\t *      var shape = new createjs.Shape().set({x:100,y:100});\n\t *      shape.graphics.beginFill(\"#ff0000\").drawCircle(0,0,50);\n\t *\n\t *      var blurFilter = new createjs.BlurFilter(5, 5, 1);\n\t *      shape.filters = [blurFilter];\n\t *      var bounds = blurFilter.getBounds();\n\t *\n\t *      shape.cache(-50+bounds.x, -50+bounds.y, 100+bounds.width, 100+bounds.height);\n\t *\n\t * See {{#crossLink \"Filter\"}}{{/crossLink}} for an more information on applying filters.\n\t * @class BlurFilter\n\t * @extends Filter\n\t * @constructor\n\t * @param {Number} [blurX=0] The horizontal blur radius in pixels.\n\t * @param {Number} [blurY=0] The vertical blur radius in pixels.\n\t * @param {Number} [quality=1] The number of blur iterations.\n\t **/\n\tfunction BlurFilter( blurX, blurY, quality) {\n\t\tthis.Filter_constructor();\n\n\t\t// public properties:\n\t\t/**\n\t\t * Horizontal blur radius in pixels\n\t\t * @property blurX\n\t\t * @default 0\n\t\t * @type Number\n\t\t **/\n\t\tthis._blurX = blurX;\n\t\tthis._blurXTable = [];\n\t\tthis._lastBlurX = null;\n\n\t\t/**\n\t\t * Vertical blur radius in pixels\n\t\t * @property blurY\n\t\t * @default 0\n\t\t * @type Number\n\t\t **/\n\t\tthis._blurY = blurY;\n\t\tthis._blurYTable = [];\n\t\tthis._lastBlurY = null;\n\n\t\t/**\n\t\t * Number of blur iterations. For example, a value of 1 will produce a rough blur. A value of 2 will produce a\n\t\t * smoother blur, but take twice as long to run.\n\t\t * @property quality\n\t\t * @default 1\n\t\t * @type Number\n\t\t **/\n\t\tthis._quality;\n\t\tthis._lastQuality = null;\n\n\t\t/**\n\t\t * This is a template to generate the shader for {{#crossLink FRAG_SHADER_BODY}}{{/crossLink}}\n\t\t */\n\t\tthis.FRAG_SHADER_TEMPLATE = (\n\t\t\t\"uniform float xWeight[{{blurX}}];\" +\n\t\t\t\"uniform float yWeight[{{blurY}}];\" +\n\t\t\t\"uniform vec2 textureOffset;\" +\n\t\t\t\"void main(void) {\" +\n\t\t\t\t\"vec4 color = vec4(0.0);\" +\n\n\t\t\t\t\"float xAdj = ({{blurX}}.0-1.0)/2.0;\" +\n\t\t\t\t\"float yAdj = ({{blurY}}.0-1.0)/2.0;\" +\n\t\t\t\t\"vec2 sampleOffset;\" +\n\n\t\t\t\t\"for(int i=0; i<{{blurX}}; i++) {\" +\n\t\t\t\t\t\"for(int j=0; j<{{blurY}}; j++) {\" +\n\t\t\t\t\t\t\"sampleOffset = vRenderCoord + (textureOffset * vec2(float(i)-xAdj, float(j)-yAdj));\" +\n\t\t\t\t\t\t\"color += texture2D(uSampler, sampleOffset) * (xWeight[i] * yWeight[j]);\" +\n\t\t\t\t\t\"}\" +\n\t\t\t\t\"}\" +\n\n\t\t\t\t\"gl_FragColor = color.rgba;\" +\n\t\t\t\"}\"\n\t\t);\n\n\t\t// update the filter using the setters\n\t\tif(isNaN(quality) || quality < 1){ quality = 1; }\n\t\tthis.setQuality(quality|0);\n\t}\n\tvar p = createjs.extend(BlurFilter, createjs.Filter);\n\n\t// TODO: deprecated\n\t// p.initialize = function() {}; // searchable for devs wondering where it is. REMOVED. See docs for details.\n\n\tp.getBlurX = function() { return this._blurX; };\n\tp.getBlurY = function() { return this._blurY; };\n\tp.setBlurX = function(value) {\n\t\tif(isNaN(value) || value < 0){ value = 0; }\n\t\tthis._blurX = value;\n\t};\n\tp.setBlurY = function(value) {\n\t\tif(isNaN(value) || value < 0){ value = 0; }\n\t\tthis._blurY = value;\n\t};\n\tp.getQuality = function() { return this._quality; };\n\tp.setQuality = function(value) {\n\t\tif(isNaN(value) || value < 0){ value = 0; }\n\t\tthis._quality = value | 0;\n\t};\n\tp._getShader = function() {\n\t\tvar xChange = this._lastBlurX !== this._blurX;\n\t\tvar yChange = this._lastBlurY !== this._blurY;\n\t\tvar qChange = this._lastQuality !== this._quality;\n\t\tif(xChange || yChange || qChange) {\n\t\t\tif(xChange || qChange) { this._blurXTable = this._getTable(this._blurX * this._quality); }\n\t\t\tif(yChange || qChange) { this._blurYTable = this._getTable(this._blurY * this._quality); }\n\t\t\tthis._updateShader();\n\t\t\tthis._lastBlurX = this._blurX;\n\t\t\tthis._lastBlurY = this._blurY;\n\t\t\tthis._lastQuality = this._quality;\n\t\t\treturn undefined; // force a rebuild\n\t\t}\n\t\treturn this._compiledShader;\n\t};\n\tp._setShader = function() { this._compiledShader; };\n\n\ttry {\n\t\tObject.defineProperties(p, {\n\t\t\tblurX: { get: p.getBlurX, set: p.setBlurX },\n\t\t\tblurY: { get: p.getBlurY, set: p.setBlurY },\n\t\t\tquality: { get: p.getQuality, set: p.setQuality },\n\t\t\t_builtShader: { get: p._getShader, set: p._setShader}\n\t\t});\n\t} catch (e) { console.log(e); }\n\n\t/**\n\t * Internal lookup function to create gaussian distribution.\n\t * @method _getTable\n\t * @param {Number} spread How many steps in the curve.\n\t * @return {Array<Number>} An array with Math.ceil(spread*2) entries with appropriately distributed weights.\n\t */\n\tp._getTable = function(spread) {\n\t\tvar EDGE = 4.2;\n\t\tif(spread<=1) { return [1]; }\n\n\t\tvar result = [];\n\t\tvar count = Math.ceil(spread*2);\n\t\tcount += (count%2)?0:1;\n\t\tvar adjust = (count/2)|0;\n\t\tfor(var i = -adjust; i<=adjust; i++) {\n\t\t\tvar x = (i/adjust)*EDGE;\n\t\t\tresult.push(1/Math.sqrt(2*Math.PI) * Math.pow(Math.E, -(Math.pow(x,2)/4)));\n\t\t}\n\t\tvar factor = result.reduce(function(a, b) { return a + b; });\n\t\treturn result.map(function(currentValue, index, array) { return currentValue/factor; });\n\t};\n\n\t/**\n\t * Internal update function to create shader properties.\n\t * @method _updateShader\n\t */\n\tp._updateShader = function() {\n\t\tif(this._blurX === undefined || this._blurY === undefined){ return; }\n\t\tvar result = this.FRAG_SHADER_TEMPLATE;\n\t\tresult = result.replace(/\\{\\{blurX\\}\\}/g, (this._blurXTable.length).toFixed(0));\n\t\tresult = result.replace(/\\{\\{blurY\\}\\}/g, (this._blurYTable.length).toFixed(0));\n\t\tthis.FRAG_SHADER_BODY = result;\n\t};\n\n\t/** docced in super class **/\n\tp.shaderParamSetup = function(gl, stage, shaderProgram) {\n\t\t// load the normalized gaussian weight tables\n\t\tgl.uniform1fv(\n\t\t\tgl.getUniformLocation(shaderProgram, \"xWeight\"),\n\t\t\tthis._blurXTable\n\t\t);\n\t\tgl.uniform1fv(\n\t\t\tgl.getUniformLocation(shaderProgram, \"yWeight\"),\n\t\t\tthis._blurYTable\n\t\t);\n\n\t\t// what is the size of a single pixel in -1, 1 (webGL) space\n\t\tgl.uniform2f(\n\t\t\tgl.getUniformLocation(shaderProgram, \"textureOffset\"),\n\t\t\t2/(stage._viewportWidth*this._quality), 2/(stage._viewportHeight*this._quality)\n\t\t);\n\t};\n\n// constants:\n\t/**\n\t * Array of multiply values for blur calculations.\n\t * @property MUL_TABLE\n\t * @type Array\n\t * @protected\n\t * @static\n\t **/\n\tBlurFilter.MUL_TABLE = [1, 171, 205, 293, 57, 373, 79, 137, 241, 27, 391, 357, 41, 19, 283, 265, 497, 469, 443, 421, 25, 191, 365, 349, 335, 161, 155, 149, 9, 278, 269, 261, 505, 245, 475, 231, 449, 437, 213, 415, 405, 395, 193, 377, 369, 361, 353, 345, 169, 331, 325, 319, 313, 307, 301, 37, 145, 285, 281, 69, 271, 267, 263, 259, 509, 501, 493, 243, 479, 118, 465, 459, 113, 446, 55, 435, 429, 423, 209, 413, 51, 403, 199, 393, 97, 3, 379, 375, 371, 367, 363, 359, 355, 351, 347, 43, 85, 337, 333, 165, 327, 323, 5, 317, 157, 311, 77, 305, 303, 75, 297, 294, 73, 289, 287, 71, 141, 279, 277, 275, 68, 135, 67, 133, 33, 262, 260, 129, 511, 507, 503, 499, 495, 491, 61, 121, 481, 477, 237, 235, 467, 232, 115, 457, 227, 451, 7, 445, 221, 439, 218, 433, 215, 427, 425, 211, 419, 417, 207, 411, 409, 203, 202, 401, 399, 396, 197, 49, 389, 387, 385, 383, 95, 189, 47, 187, 93, 185, 23, 183, 91, 181, 45, 179, 89, 177, 11, 175, 87, 173, 345, 343, 341, 339, 337, 21, 167, 83, 331, 329, 327, 163, 81, 323, 321, 319, 159, 79, 315, 313, 39, 155, 309, 307, 153, 305, 303, 151, 75, 299, 149, 37, 295, 147, 73, 291, 145, 289, 287, 143, 285, 71, 141, 281, 35, 279, 139, 69, 275, 137, 273, 17, 271, 135, 269, 267, 133, 265, 33, 263, 131, 261, 130, 259, 129, 257, 1];\n\n\t/**\n\t * Array of shift values for blur calculations.\n\t * @property SHG_TABLE\n\t * @type Array\n\t * @protected\n\t * @static\n\t **/\n\tBlurFilter.SHG_TABLE = [0, 9, 10, 11, 9, 12, 10, 11, 12, 9, 13, 13, 10, 9, 13, 13, 14, 14, 14, 14, 10, 13, 14, 14, 14, 13, 13, 13, 9, 14, 14, 14, 15, 14, 15, 14, 15, 15, 14, 15, 15, 15, 14, 15, 15, 15, 15, 15, 14, 15, 15, 15, 15, 15, 15, 12, 14, 15, 15, 13, 15, 15, 15, 15, 16, 16, 16, 15, 16, 14, 16, 16, 14, 16, 13, 16, 16, 16, 15, 16, 13, 16, 15, 16, 14, 9, 16, 16, 16, 16, 16, 16, 16, 16, 16, 13, 14, 16, 16, 15, 16, 16, 10, 16, 15, 16, 14, 16, 16, 14, 16, 16, 14, 16, 16, 14, 15, 16, 16, 16, 14, 15, 14, 15, 13, 16, 16, 15, 17, 17, 17, 17, 17, 17, 14, 15, 17, 17, 16, 16, 17, 16, 15, 17, 16, 17, 11, 17, 16, 17, 16, 17, 16, 17, 17, 16, 17, 17, 16, 17, 17, 16, 16, 17, 17, 17, 16, 14, 17, 17, 17, 17, 15, 16, 14, 16, 15, 16, 13, 16, 15, 16, 14, 16, 15, 16, 12, 16, 15, 16, 17, 17, 17, 17, 17, 13, 16, 15, 17, 17, 17, 16, 15, 17, 17, 17, 16, 15, 17, 17, 14, 16, 17, 17, 16, 17, 17, 16, 15, 17, 16, 14, 17, 16, 15, 17, 16, 17, 17, 16, 17, 15, 16, 17, 14, 17, 16, 15, 17, 16, 17, 13, 17, 16, 17, 17, 16, 17, 14, 17, 16, 17, 16, 17, 16, 17, 9];\n\n// public methods:\n\t/** docced in super class **/\n\tp.getBounds = function (rect) {\n\t\tvar x = this.blurX|0, y = this.blurY| 0;\n\t\tif(x <= 0 && y <= 0) { return rect; }\n\t\tvar q = Math.pow(this.quality, 0.2);\n\t\treturn (rect || new createjs.Rectangle()).pad(y*q+1,x*q+1,y*q+1,x*q+1);\n\t};\n\n\t/** docced in super class **/\n\tp.clone = function() {\n\t\treturn new BlurFilter(this.blurX, this.blurY, this.quality);\n\t};\n\n\t/** docced in super class **/\n\tp.toString = function() {\n\t\treturn \"[BlurFilter]\";\n\t};\n\n\n// private methods:\n\n\t/** docced in super class **/\n\tp._applyFilter = function (imageData) {\n\t\tvar radiusX = this._blurX >> 1;\n\t\tif (isNaN(radiusX) || radiusX < 0) return false;\n\t\tvar radiusY = this._blurY >> 1;\n\t\tif (isNaN(radiusY) || radiusY < 0) return false;\n\t\tif (radiusX == 0 && radiusY == 0) return false;\n\n\t\tvar iterations = this.quality;\n\t\tif (isNaN(iterations) || iterations < 1) iterations = 1;\n\t\titerations |= 0;\n\t\tif (iterations > 3) iterations = 3;\n\t\tif (iterations < 1) iterations = 1;\n\n\t\tvar px = imageData.data;\n\t\tvar x=0, y=0, i=0, p=0, yp=0, yi=0, yw=0, r=0, g=0, b=0, a=0, pr=0, pg=0, pb=0, pa=0;\n\n\t\tvar divx = (radiusX + radiusX + 1) | 0;\n\t\tvar divy = (radiusY + radiusY + 1) | 0;\n\t\tvar w = imageData.width | 0;\n\t\tvar h = imageData.height | 0;\n\n\t\tvar w1 = (w - 1) | 0;\n\t\tvar h1 = (h - 1) | 0;\n\t\tvar rxp1 = (radiusX + 1) | 0;\n\t\tvar ryp1 = (radiusY + 1) | 0;\n\n\t\tvar ssx = {r:0,b:0,g:0,a:0};\n\t\tvar sx = ssx;\n\t\tfor ( i = 1; i < divx; i++ )\n\t\t{\n\t\t\tsx = sx.n = {r:0,b:0,g:0,a:0};\n\t\t}\n\t\tsx.n = ssx;\n\n\t\tvar ssy = {r:0,b:0,g:0,a:0};\n\t\tvar sy = ssy;\n\t\tfor ( i = 1; i < divy; i++ )\n\t\t{\n\t\t\tsy = sy.n = {r:0,b:0,g:0,a:0};\n\t\t}\n\t\tsy.n = ssy;\n\n\t\tvar si = null;\n\n\n\t\tvar mtx = BlurFilter.MUL_TABLE[radiusX] | 0;\n\t\tvar stx = BlurFilter.SHG_TABLE[radiusX] | 0;\n\t\tvar mty = BlurFilter.MUL_TABLE[radiusY] | 0;\n\t\tvar sty = BlurFilter.SHG_TABLE[radiusY] | 0;\n\n\t\twhile (iterations-- > 0) {\n\n\t\t\tyw = yi = 0;\n\t\t\tvar ms = mtx;\n\t\t\tvar ss = stx;\n\t\t\tfor (y = h; --y > -1;) {\n\t\t\t\tr = rxp1 * (pr = px[(yi) | 0]);\n\t\t\t\tg = rxp1 * (pg = px[(yi + 1) | 0]);\n\t\t\t\tb = rxp1 * (pb = px[(yi + 2) | 0]);\n\t\t\t\ta = rxp1 * (pa = px[(yi + 3) | 0]);\n\n\t\t\t\tsx = ssx;\n\n\t\t\t\tfor( i = rxp1; --i > -1; )\n\t\t\t\t{\n\t\t\t\t\tsx.r = pr;\n\t\t\t\t\tsx.g = pg;\n\t\t\t\t\tsx.b = pb;\n\t\t\t\t\tsx.a = pa;\n\t\t\t\t\tsx = sx.n;\n\t\t\t\t}\n\n\t\t\t\tfor( i = 1; i < rxp1; i++ )\n\t\t\t\t{\n\t\t\t\t\tp = (yi + ((w1 < i ? w1 : i) << 2)) | 0;\n\t\t\t\t\tr += ( sx.r = px[p]);\n\t\t\t\t\tg += ( sx.g = px[p+1]);\n\t\t\t\t\tb += ( sx.b = px[p+2]);\n\t\t\t\t\ta += ( sx.a = px[p+3]);\n\n\t\t\t\t\tsx = sx.n;\n\t\t\t\t}\n\n\t\t\t\tsi = ssx;\n\t\t\t\tfor ( x = 0; x < w; x++ )\n\t\t\t\t{\n\t\t\t\t\tpx[yi++] = (r * ms) >>> ss;\n\t\t\t\t\tpx[yi++] = (g * ms) >>> ss;\n\t\t\t\t\tpx[yi++] = (b * ms) >>> ss;\n\t\t\t\t\tpx[yi++] = (a * ms) >>> ss;\n\n\t\t\t\t\tp = ((yw + ((p = x + radiusX + 1) < w1 ? p : w1)) << 2);\n\n\t\t\t\t\tr -= si.r - ( si.r = px[p]);\n\t\t\t\t\tg -= si.g - ( si.g = px[p+1]);\n\t\t\t\t\tb -= si.b - ( si.b = px[p+2]);\n\t\t\t\t\ta -= si.a - ( si.a = px[p+3]);\n\n\t\t\t\t\tsi = si.n;\n\n\t\t\t\t}\n\t\t\t\tyw += w;\n\t\t\t}\n\n\t\t\tms = mty;\n\t\t\tss = sty;\n\t\t\tfor (x = 0; x < w; x++) {\n\t\t\t\tyi = (x << 2) | 0;\n\n\t\t\t\tr = (ryp1 * (pr = px[yi])) | 0;\n\t\t\t\tg = (ryp1 * (pg = px[(yi + 1) | 0])) | 0;\n\t\t\t\tb = (ryp1 * (pb = px[(yi + 2) | 0])) | 0;\n\t\t\t\ta = (ryp1 * (pa = px[(yi + 3) | 0])) | 0;\n\n\t\t\t\tsy = ssy;\n\t\t\t\tfor( i = 0; i < ryp1; i++ )\n\t\t\t\t{\n\t\t\t\t\tsy.r = pr;\n\t\t\t\t\tsy.g = pg;\n\t\t\t\t\tsy.b = pb;\n\t\t\t\t\tsy.a = pa;\n\t\t\t\t\tsy = sy.n;\n\t\t\t\t}\n\n\t\t\t\typ = w;\n\n\t\t\t\tfor( i = 1; i <= radiusY; i++ )\n\t\t\t\t{\n\t\t\t\t\tyi = ( yp + x ) << 2;\n\n\t\t\t\t\tr += ( sy.r = px[yi]);\n\t\t\t\t\tg += ( sy.g = px[yi+1]);\n\t\t\t\t\tb += ( sy.b = px[yi+2]);\n\t\t\t\t\ta += ( sy.a = px[yi+3]);\n\n\t\t\t\t\tsy = sy.n;\n\n\t\t\t\t\tif( i < h1 )\n\t\t\t\t\t{\n\t\t\t\t\t\typ += w;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tyi = x;\n\t\t\t\tsi = ssy;\n\t\t\t\tif ( iterations > 0 )\n\t\t\t\t{\n\t\t\t\t\tfor ( y = 0; y < h; y++ )\n\t\t\t\t\t{\n\t\t\t\t\t\tp = yi << 2;\n\t\t\t\t\t\tpx[p+3] = pa =(a * ms) >>> ss;\n\t\t\t\t\t\tif ( pa > 0 )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpx[p]   = ((r * ms) >>> ss );\n\t\t\t\t\t\t\tpx[p+1] = ((g * ms) >>> ss );\n\t\t\t\t\t\t\tpx[p+2] = ((b * ms) >>> ss );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tpx[p] = px[p+1] = px[p+2] = 0\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tp = ( x + (( ( p = y + ryp1) < h1 ? p : h1 ) * w )) << 2;\n\n\t\t\t\t\t\tr -= si.r - ( si.r = px[p]);\n\t\t\t\t\t\tg -= si.g - ( si.g = px[p+1]);\n\t\t\t\t\t\tb -= si.b - ( si.b = px[p+2]);\n\t\t\t\t\t\ta -= si.a - ( si.a = px[p+3]);\n\n\t\t\t\t\t\tsi = si.n;\n\n\t\t\t\t\t\tyi += w;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tfor ( y = 0; y < h; y++ )\n\t\t\t\t\t{\n\t\t\t\t\t\tp = yi << 2;\n\t\t\t\t\t\tpx[p+3] = pa =(a * ms) >>> ss;\n\t\t\t\t\t\tif ( pa > 0 )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpa = 255 / pa;\n\t\t\t\t\t\t\tpx[p]   = ((r * ms) >>> ss ) * pa;\n\t\t\t\t\t\t\tpx[p+1] = ((g * ms) >>> ss ) * pa;\n\t\t\t\t\t\t\tpx[p+2] = ((b * ms) >>> ss ) * pa;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tpx[p] = px[p+1] = px[p+2] = 0\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tp = ( x + (( ( p = y + ryp1) < h1 ? p : h1 ) * w )) << 2;\n\n\t\t\t\t\t\tr -= si.r - ( si.r = px[p]);\n\t\t\t\t\t\tg -= si.g - ( si.g = px[p+1]);\n\t\t\t\t\t\tb -= si.b - ( si.b = px[p+2]);\n\t\t\t\t\t\ta -= si.a - ( si.a = px[p+3]);\n\n\t\t\t\t\t\tsi = si.n;\n\n\t\t\t\t\t\tyi += w;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t\treturn true;\n\t};\n\n\tcreatejs.BlurFilter = createjs.promote(BlurFilter, \"Filter\");\n}());\n\n//##############################################################################\n// AlphaMapFilter.js\n//##############################################################################\n\nthis.createjs = this.createjs || {};\n\n(function () {\n\t\"use strict\";\n\t\n\t\n// constructor:\n\t/**\n\t * Applies a greyscale alpha map image (or canvas) to the target, such that the alpha channel of the result will\n\t * be copied from the red channel of the map, and the RGB channels will be copied from the target.\n\t *\n\t * Generally, it is recommended that you use {{#crossLink \"AlphaMaskFilter\"}}{{/crossLink}}, because it has much\n\t * better performance.\n\t *\n\t * <h4>Example</h4>\n\t * This example draws a red->blue box, caches it, and then uses the cache canvas as an alpha map on a 100x100 image.\n\t *\n\t *       var box = new createjs.Shape();\n\t *       box.graphics.beginLinearGradientFill([\"#ff0000\", \"#0000ff\"], [0, 1], 0, 0, 0, 100)\n\t *       box.graphics.drawRect(0, 0, 100, 100);\n\t *       box.cache(0, 0, 100, 100);\n\t *\n\t *       var bmp = new createjs.Bitmap(\"path/to/image.jpg\");\n\t *       bmp.filters = [\n\t *           new createjs.AlphaMapFilter(box.cacheCanvas)\n\t *       ];\n\t *       bmp.cache(0, 0, 100, 100);\n\t *       stage.addChild(bmp);\n\t *\n\t * See {{#crossLink \"Filter\"}}{{/crossLink}} for more information on applying filters.\n\t * @class AlphaMapFilter\n\t * @extends Filter\n\t * @constructor\n\t * @param {HTMLImageElement|HTMLCanvasElement} alphaMap The greyscale image (or canvas) to use as the alpha value for the\n\t * result. This should be exactly the same dimensions as the target.\n\t **/\n\tfunction AlphaMapFilter(alphaMap) {\n\t\tthis.Filter_constructor();\n\t\n\t// public properties:\n\t\t/**\n\t\t * The greyscale image (or canvas) to use as the alpha value for the result. This should be exactly the same\n\t\t * dimensions as the target.\n\t\t * @property alphaMap\n\t\t * @type HTMLImageElement|HTMLCanvasElement\n\t\t **/\n\t\tthis.alphaMap = alphaMap;\n\t\t\n\t\t\n\t// private properties:\n\t\t/**\n\t\t * @property _alphaMap\n\t\t * @protected\n\t\t * @type HTMLImageElement|HTMLCanvasElement\n\t\t **/\n\t\tthis._alphaMap = null;\n\t\t\n\t\t/**\n\t\t * @property _mapData\n\t\t * @protected\n\t\t * @type Uint8ClampedArray\n\t\t **/\n\t\tthis._mapData = null;\n\t\tthis._mapTexture = null;\n\n\t\tthis.FRAG_SHADER_BODY = (\n\t\t\t\"uniform sampler2D uAlphaSampler;\"+\n\n\t\t\t\"void main(void) {\" +\n\t\t\t\t\"vec4 color = texture2D(uSampler, vRenderCoord);\" +\n\t\t\t\t\"vec4 alphaMap = texture2D(uAlphaSampler, vTextureCoord);\" +\n\n\t\t\t\t// some image formats can have transparent white rgba(1,1,1, 0) when put on the GPU, this means we need a slight tweak\n\t\t\t\t// using ceil ensure that the colour will be used so long as it exists but pure transparency will be treated black\n\t\t\t\t\"gl_FragColor = vec4(color.rgb, color.a * (alphaMap.r * ceil(alphaMap.a)));\" +\n\t\t\t\"}\"\n\t\t);\n\t}\n\tvar p = createjs.extend(AlphaMapFilter, createjs.Filter);\n\n\t// TODO: deprecated\n\t// p.initialize = function() {}; // searchable for devs wondering where it is. REMOVED. See docs for details.\n\n\t/** docced in super class **/\n\tp.shaderParamSetup = function(gl, stage, shaderProgram) {\n\t\tif(!this._mapTexture) { this._mapTexture = gl.createTexture(); }\n\n\t\tgl.activeTexture(gl.TEXTURE1);\n\t\tgl.bindTexture(gl.TEXTURE_2D, this._mapTexture);\n\t\tstage.setTextureParams(gl);\n\t\tgl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, this.alphaMap);\n\n\t\tgl.uniform1i(\n\t\t\tgl.getUniformLocation(shaderProgram, \"uAlphaSampler\"),\n\t\t\t1\n\t\t);\n\t};\n\n// public methods:\n\t/** docced in super class **/\n\tp.clone = function () {\n\t\tvar o = new AlphaMapFilter(this.alphaMap);\n\t\to._alphaMap = this._alphaMap;\n\t\to._mapData = this._mapData;\n\t\treturn o;\n\t};\n\n\t/** docced in super class **/\n\tp.toString = function () {\n\t\treturn \"[AlphaMapFilter]\";\n\t};\n\n\n// private methods:\n\t/** docced in super class **/\n\tp._applyFilter = function (imageData) {\n\t\tif (!this.alphaMap) { return true; }\n\t\tif (!this._prepAlphaMap()) { return false; }\n\t\t\n\t\t// TODO: update to support scenarios where the target has different dimensions.\n\t\tvar data = imageData.data;\n\t\tvar map = this._mapData;\n\t\tfor(var i=0, l=data.length; i<l; i += 4) { data[i + 3] = map[i] || 0; }\n\t\t\n\t\treturn true;\n\t};\n\n\t/**\n\t * @method _prepAlphaMap\n\t * @protected\n\t **/\n\tp._prepAlphaMap = function () {\n\t\tif (!this.alphaMap) { return false; }\n\t\tif (this.alphaMap == this._alphaMap && this._mapData) { return true; }\n\n\t\tthis._mapData = null;\n\t\tvar map = this._alphaMap = this.alphaMap;\n\t\tvar canvas = map;\n\t\tvar ctx;\n\t\tif (map instanceof HTMLCanvasElement) {\n\t\t\tctx = canvas.getContext(\"2d\");\n\t\t} else {\n\t\t\tcanvas = createjs.createCanvas ? createjs.createCanvas() : document.createElement(\"canvas\");\n\t\t\tcanvas.width = map.width;\n\t\t\tcanvas.height = map.height;\n\t\t\tctx = canvas.getContext(\"2d\");\n\t\t\tctx.drawImage(map, 0, 0);\n\t\t}\n\n\t\ttry {\n\t\t\tvar imgData = ctx.getImageData(0, 0, map.width, map.height);\n\t\t} catch (e) {\n\t\t\t//if (!this.suppressCrossDomainErrors) throw new Error(\"unable to access local image data: \" + e);\n\t\t\treturn false;\n\t\t}\n\t\t\n\t\tthis._mapData = imgData.data;\n\t\treturn true;\n\t};\n\n\n\tcreatejs.AlphaMapFilter = createjs.promote(AlphaMapFilter, \"Filter\");\n}());\n\n//##############################################################################\n// AlphaMaskFilter.js\n//##############################################################################\n\nthis.createjs = this.createjs || {};\n\n(function () {\n\t\"use strict\";\n\n\n// constructor:\n\t/**\n\t * Applies the alpha from the mask image (or canvas) to the target, such that the alpha channel of the result will\n\t * be derived from the mask, and the RGB channels will be copied from the target. This can be used, for example, to\n\t * apply an alpha mask to a display object. This can also be used to combine a JPG compressed RGB image with a PNG32\n\t * alpha mask, which can result in a much smaller file size than a single PNG32 containing ARGB.\n\t *\n\t * <b>IMPORTANT NOTE: This filter currently does not support the targetCtx, or targetX/Y parameters correctly.</b>\n\t *\n\t * <h4>Example</h4>\n\t * This example draws a gradient box, then caches it and uses the \"cacheCanvas\" as the alpha mask on a 100x100 image.\n\t *\n\t *      var box = new createjs.Shape();\n\t *      box.graphics.beginLinearGradientFill([\"#000000\", \"rgba(0, 0, 0, 0)\"], [0, 1], 0, 0, 100, 100)\n\t *      box.graphics.drawRect(0, 0, 100, 100);\n\t *      box.cache(0, 0, 100, 100);\n\t *\n\t *      var bmp = new createjs.Bitmap(\"path/to/image.jpg\");\n\t *      bmp.filters = [\n\t *          new createjs.AlphaMaskFilter(box.cacheCanvas)\n\t *      ];\n\t *      bmp.cache(0, 0, 100, 100);\n\t *\n\t * See {{#crossLink \"Filter\"}}{{/crossLink}} for more information on applying filters.\n\t * @class AlphaMaskFilter\n\t * @extends Filter\n\t * @constructor\n\t * @param {HTMLImageElement|HTMLCanvasElement} mask\n\t **/\n\tfunction AlphaMaskFilter(mask) {\n\t\tthis.Filter_constructor();\n\t\n\t// public properties:\n\t\t/**\n\t\t * The image (or canvas) to use as the mask.\n\t\t * @property mask\n\t\t * @type HTMLImageElement|HTMLCanvasElement\n\t\t **/\n\t\tthis.mask = mask;\n\n\t\t/** docced in super class **/\n\t\tthis.usesContext = true;\n\n\t\tthis.FRAG_SHADER_BODY = (\n\t\t\t\"uniform sampler2D uAlphaSampler;\"+\n\n\t\t\t\"void main(void) {\" +\n\t\t\t\t\"vec4 color = texture2D(uSampler, vRenderCoord);\" +\n\t\t\t\t\"vec4 alphaMap = texture2D(uAlphaSampler, vTextureCoord);\" +\n\n\t\t\t\t\"gl_FragColor = vec4(color.rgb, color.a * alphaMap.a);\" +\n\t\t\t\"}\"\n\t\t);\n\t}\n\tvar p = createjs.extend(AlphaMaskFilter, createjs.Filter);\n\n\t// TODO: deprecated\n\t// p.initialize = function() {}; // searchable for devs wondering where it is. REMOVED. See docs for details.\n\n\t/** docced in super class **/\n\tp.shaderParamSetup = function(gl, stage, shaderProgram) {\n\t\tif(!this._mapTexture) { this._mapTexture = gl.createTexture(); }\n\n\t\tgl.activeTexture(gl.TEXTURE1);\n\t\tgl.bindTexture(gl.TEXTURE_2D, this._mapTexture);\n\t\tstage.setTextureParams(gl);\n\t\tgl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, this.mask);\n\n\t\tgl.uniform1i(\n\t\t\tgl.getUniformLocation(shaderProgram, \"uAlphaSampler\"),\n\t\t\t1\n\t\t);\n\t};\n\n// public methods:\n\t/**\n\t * Applies the filter to the specified context.\n\t *\n\t * <strong>IMPORTANT NOTE: This filter currently does not support the targetCtx, or targetX/Y parameters\n\t * correctly.</strong>\n\t * @method applyFilter\n\t * @param {CanvasRenderingContext2D} ctx The 2D context to use as the source.\n\t * @param {Number} x The x position to use for the source rect.\n\t * @param {Number} y The y position to use for the source rect.\n\t * @param {Number} width The width to use for the source rect.\n\t * @param {Number} height The height to use for the source rect.\n\t * @param {CanvasRenderingContext2D} [targetCtx] NOT SUPPORTED IN THIS FILTER. The 2D context to draw the result to. Defaults to the context passed to ctx.\n\t * @param {Number} [targetX] NOT SUPPORTED IN THIS FILTER. The x position to draw the result to. Defaults to the value passed to x.\n\t * @param {Number} [targetY] NOT SUPPORTED IN THIS FILTER. The y position to draw the result to. Defaults to the value passed to y.\n\t * @return {Boolean} If the filter was applied successfully.\n\t **/\n\tp.applyFilter = function (ctx, x, y, width, height, targetCtx, targetX, targetY) {\n\t\tif (!this.mask) { return true; }\n\t\ttargetCtx = targetCtx || ctx;\n\t\tif (targetX == null) { targetX = x; }\n\t\tif (targetY == null) { targetY = y; }\n\n\t\ttargetCtx.save();\n\t\tif (ctx != targetCtx) {\n\t\t\t// TODO: support targetCtx and targetX/Y\n\t\t\t// clearRect, then draw the ctx in?\n\t\t\treturn false;\n\t\t}\n\n\t\ttargetCtx.globalCompositeOperation = \"destination-in\";\n\t\ttargetCtx.drawImage(this.mask, targetX, targetY);\n\t\ttargetCtx.restore();\n\t\treturn true;\n\t};\n\n\t/** docced in super class **/\n\tp.clone = function () {\n\t\treturn new AlphaMaskFilter(this.mask);\n\t};\n\n\t/** docced in super class **/\n\tp.toString = function () {\n\t\treturn \"[AlphaMaskFilter]\";\n\t};\n\n\n\tcreatejs.AlphaMaskFilter = createjs.promote(AlphaMaskFilter, \"Filter\");\n}());\n\n//##############################################################################\n// ColorFilter.js\n//##############################################################################\n\nthis.createjs = this.createjs||{};\n\n(function() {\n\t\"use strict\";\n\n\n// constructor:\n\t/**\n\t * Applies a color transform to DisplayObjects.\n\t *\n\t * <h4>Example</h4>\n\t * This example draws a red circle, and then transforms it to Blue. This is accomplished by multiplying all the channels\n\t * to 0 (except alpha, which is set to 1), and then adding 255 to the blue channel.\n\t *\n\t *      var shape = new createjs.Shape().set({x:100,y:100});\n\t *      shape.graphics.beginFill(\"#ff0000\").drawCircle(0,0,50);\n\t *\n\t *      shape.filters = [\n\t *          new createjs.ColorFilter(0,0,0,1, 0,0,255,0)\n\t *      ];\n\t *      shape.cache(-50, -50, 100, 100);\n\t *\n\t * See {{#crossLink \"Filter\"}}{{/crossLink}} for an more information on applying filters.\n\t * @class ColorFilter\n\t * @param {Number} [redMultiplier=1] The amount to multiply against the red channel. This is a range between 0 and 1.\n\t * @param {Number} [greenMultiplier=1] The amount to multiply against the green channel. This is a range between 0 and 1.\n\t * @param {Number} [blueMultiplier=1] The amount to multiply against the blue channel. This is a range between 0 and 1.\n\t * @param {Number} [alphaMultiplier=1] The amount to multiply against the alpha channel. This is a range between 0 and 1.\n\t * @param {Number} [redOffset=0] The amount to add to the red channel after it has been multiplied. This is a range\n\t * between -255 and 255.\n\t * @param {Number} [greenOffset=0] The amount to add to the green channel after it has been multiplied. This is a range\n\t  * between -255 and 255.\n\t * @param {Number} [blueOffset=0] The amount to add to the blue channel after it has been multiplied. This is a range\n\t  * between -255 and 255.\n\t * @param {Number} [alphaOffset=0] The amount to add to the alpha channel after it has been multiplied. This is a range\n\t  * between -255 and 255.\n\t * @constructor\n\t * @extends Filter\n\t **/\n\tfunction ColorFilter(redMultiplier, greenMultiplier, blueMultiplier, alphaMultiplier, redOffset, greenOffset, blueOffset, alphaOffset) {\n\t\tthis.Filter_constructor();\n\n\t// public properties:\n\t\t/**\n\t\t * Red channel multiplier.\n\t\t * @property redMultiplier\n\t\t * @type Number\n\t\t **/\n\t\tthis.redMultiplier = redMultiplier != null ? redMultiplier : 1;\n\t\n\t\t/**\n\t\t * Green channel multiplier.\n\t\t * @property greenMultiplier\n\t\t * @type Number\n\t\t **/\n\t\tthis.greenMultiplier = greenMultiplier != null ? greenMultiplier : 1;\n\t\n\t\t/**\n\t\t * Blue channel multiplier.\n\t\t * @property blueMultiplier\n\t\t * @type Number\n\t\t **/\n\t\tthis.blueMultiplier = blueMultiplier != null ? blueMultiplier : 1;\n\t\n\t\t/**\n\t\t * Alpha channel multiplier.\n\t\t * @property alphaMultiplier\n\t\t * @type Number\n\t\t **/\n\t\tthis.alphaMultiplier = alphaMultiplier != null ? alphaMultiplier : 1;\n\t\n\t\t/**\n\t\t * Red channel offset (added to value).\n\t\t * @property redOffset\n\t\t * @type Number\n\t\t **/\n\t\tthis.redOffset = redOffset || 0;\n\t\n\t\t/**\n\t\t * Green channel offset (added to value).\n\t\t * @property greenOffset\n\t\t * @type Number\n\t\t **/\n\t\tthis.greenOffset = greenOffset || 0;\n\t\n\t\t/**\n\t\t * Blue channel offset (added to value).\n\t\t * @property blueOffset\n\t\t * @type Number\n\t\t **/\n\t\tthis.blueOffset = blueOffset || 0;\n\t\n\t\t/**\n\t\t * Alpha channel offset (added to value).\n\t\t * @property alphaOffset\n\t\t * @type Number\n\t\t **/\n\t\tthis.alphaOffset = alphaOffset || 0;\n\n\t\tthis.FRAG_SHADER_BODY = (\n\t\t\t\"uniform vec4 uColorMultiplier;\" +\n\t\t\t\"uniform vec4 uColorOffset;\" +\n\n\t\t\t\"void main(void) {\" +\n\t\t\t\t\"vec4 color = texture2D(uSampler, vRenderCoord);\" +\n\n\t\t\t\t\"gl_FragColor = (color * uColorMultiplier) + uColorOffset;\" +\n\t\t\t\"}\"\n\t\t);\n\n\t}\n\tvar p = createjs.extend(ColorFilter, createjs.Filter);\n\n\t// TODO: deprecated\n\t// p.initialize = function() {}; // searchable for devs wondering where it is. REMOVED. See docs for details.\n\n\n// public methods:\n\t/** docced in super class **/\n\tp.shaderParamSetup = function(gl, stage, shaderProgram) {\n\t\tgl.uniform4f(\n\t\t\tgl.getUniformLocation(shaderProgram, \"uColorMultiplier\"),\n\t\t\tthis.redMultiplier, this.greenMultiplier, this.blueMultiplier, this.alphaMultiplier\n\t\t);\n\n\t\tgl.uniform4f(\n\t\t\tgl.getUniformLocation(shaderProgram, \"uColorOffset\"),\n\t\t\tthis.redOffset/255, this.greenOffset/255, this.blueOffset/255, this.alphaOffset/255\n\t\t);\n\t};\n\n\t/** docced in super class **/\n\tp.toString = function() {\n\t\treturn \"[ColorFilter]\";\n\t};\n\n\t/** docced in super class **/\n\tp.clone = function() {\n\t\treturn new ColorFilter(\n\t\t\tthis.redMultiplier, this.greenMultiplier, this.blueMultiplier, this.alphaMultiplier,\n\t\t\tthis.redOffset, this.greenOffset, this.blueOffset, this.alphaOffset\n\t\t);\n\t};\n\n// private methods:\n\t/** docced in super class **/\n\tp._applyFilter = function(imageData) {\n\t\tvar data = imageData.data;\n\t\tvar l = data.length;\n\t\tfor (var i=0; i<l; i+=4) {\n\t\t\tdata[i] = data[i]*this.redMultiplier+this.redOffset;\n\t\t\tdata[i+1] = data[i+1]*this.greenMultiplier+this.greenOffset;\n\t\t\tdata[i+2] = data[i+2]*this.blueMultiplier+this.blueOffset;\n\t\t\tdata[i+3] = data[i+3]*this.alphaMultiplier+this.alphaOffset;\n\t\t}\n\t\treturn true;\n\t};\n\n\n\tcreatejs.ColorFilter = createjs.promote(ColorFilter, \"Filter\");\n}());\n\n//##############################################################################\n// ColorMatrix.js\n//##############################################################################\n\nthis.createjs = this.createjs||{};\n\n(function() {\n\t\"use strict\";\n\n\n// constructor:\n\t/**\n\t * Provides helper functions for assembling a matrix for use with the {{#crossLink \"ColorMatrixFilter\"}}{{/crossLink}}.\n\t * Most methods return the instance to facilitate chained calls.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *      myColorMatrix.adjustHue(20).adjustBrightness(50);\n\t *\n\t * See {{#crossLink \"Filter\"}}{{/crossLink}} for an example of how to apply filters, or {{#crossLink \"ColorMatrixFilter\"}}{{/crossLink}}\n\t * for an example of how to use ColorMatrix to change a DisplayObject's color.\n\t * @class ColorMatrix\n\t * @param {Number} brightness\n\t * @param {Number} contrast\n\t * @param {Number} saturation\n\t * @param {Number} hue\n\t * @constructor\n\t **/\n\tfunction ColorMatrix(brightness, contrast, saturation, hue) {\n\t\tthis.setColor(brightness, contrast, saturation, hue);\n\t}\n\tvar p = ColorMatrix.prototype;\n\n// constants:\n\t/**\n\t * Array of delta values for contrast calculations.\n\t * @property DELTA_INDEX\n\t * @type Array\n\t * @protected\n\t * @static\n\t **/\n\tColorMatrix.DELTA_INDEX = [\n\t\t0,    0.01, 0.02, 0.04, 0.05, 0.06, 0.07, 0.08, 0.1,  0.11,\n\t\t0.12, 0.14, 0.15, 0.16, 0.17, 0.18, 0.20, 0.21, 0.22, 0.24,\n\t\t0.25, 0.27, 0.28, 0.30, 0.32, 0.34, 0.36, 0.38, 0.40, 0.42,\n\t\t0.44, 0.46, 0.48, 0.5,  0.53, 0.56, 0.59, 0.62, 0.65, 0.68,\n\t\t0.71, 0.74, 0.77, 0.80, 0.83, 0.86, 0.89, 0.92, 0.95, 0.98,\n\t\t1.0,  1.06, 1.12, 1.18, 1.24, 1.30, 1.36, 1.42, 1.48, 1.54,\n\t\t1.60, 1.66, 1.72, 1.78, 1.84, 1.90, 1.96, 2.0,  2.12, 2.25,\n\t\t2.37, 2.50, 2.62, 2.75, 2.87, 3.0,  3.2,  3.4,  3.6,  3.8,\n\t\t4.0,  4.3,  4.7,  4.9,  5.0,  5.5,  6.0,  6.5,  6.8,  7.0,\n\t\t7.3,  7.5,  7.8,  8.0,  8.4,  8.7,  9.0,  9.4,  9.6,  9.8,\n\t\t10.0\n\t];\n\n\t/**\n\t * Identity matrix values.\n\t * @property IDENTITY_MATRIX\n\t * @type Array\n\t * @protected\n\t * @static\n\t **/\n\tColorMatrix.IDENTITY_MATRIX = [\n\t\t1,0,0,0,0,\n\t\t0,1,0,0,0,\n\t\t0,0,1,0,0,\n\t\t0,0,0,1,0,\n\t\t0,0,0,0,1\n\t];\n\n\t/**\n\t * The constant length of a color matrix.\n\t * @property LENGTH\n\t * @type Number\n\t * @protected\n\t * @static\n\t **/\n\tColorMatrix.LENGTH = ColorMatrix.IDENTITY_MATRIX.length;\n\n\n// public methods:\n\t/**\n\t * Resets the instance with the specified values.\n\t * @method setColor\n\t * @param {Number} brightness\n\t * @param {Number} contrast\n\t * @param {Number} saturation\n\t * @param {Number} hue\n\t * @return {ColorMatrix} The ColorMatrix instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t */\n\tp.setColor = function(brightness,contrast,saturation,hue) {\n\t\treturn this.reset().adjustColor(brightness,contrast,saturation,hue);\n\t};\n\n\t/**\n\t * Resets the matrix to identity values.\n\t * @method reset\n\t * @return {ColorMatrix} The ColorMatrix instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t */\n\tp.reset = function() {\n\t\treturn this.copy(ColorMatrix.IDENTITY_MATRIX);\n\t};\n\n\t/**\n\t * Shortcut method to adjust brightness, contrast, saturation and hue.\n\t * Equivalent to calling adjustHue(hue), adjustContrast(contrast),\n\t * adjustBrightness(brightness), adjustSaturation(saturation), in that order.\n\t * @method adjustColor\n\t * @param {Number} brightness\n\t * @param {Number} contrast\n\t * @param {Number} saturation\n\t * @param {Number} hue\n\t * @return {ColorMatrix} The ColorMatrix instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t **/\n\tp.adjustColor = function(brightness,contrast,saturation,hue) {\n\t\tthis.adjustHue(hue);\n\t\tthis.adjustContrast(contrast);\n\t\tthis.adjustBrightness(brightness);\n\t\treturn this.adjustSaturation(saturation);\n\t};\n\n\t/**\n\t * Adjusts the brightness of pixel color by adding the specified value to the red, green and blue channels.\n\t * Positive values will make the image brighter, negative values will make it darker.\n\t * @method adjustBrightness\n\t * @param {Number} value A value between -255 & 255 that will be added to the RGB channels.\n\t * @return {ColorMatrix} The ColorMatrix instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t **/\n\tp.adjustBrightness = function(value) {\n\t\tif (value == 0 || isNaN(value)) { return this; }\n\t\tvalue = this._cleanValue(value,255);\n\t\tthis._multiplyMatrix([\n\t\t\t1,0,0,0,value,\n\t\t\t0,1,0,0,value,\n\t\t\t0,0,1,0,value,\n\t\t\t0,0,0,1,0,\n\t\t\t0,0,0,0,1\n\t\t]);\n\t\treturn this;\n\t};\n\n\t/**\n\t * Adjusts the contrast of pixel color.\n\t * Positive values will increase contrast, negative values will decrease contrast.\n\t * @method adjustContrast\n\t * @param {Number} value A value between -100 & 100.\n\t * @return {ColorMatrix} The ColorMatrix instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t **/\n\tp.adjustContrast = function(value) {\n\t\tif (value == 0 || isNaN(value)) { return this; }\n\t\tvalue = this._cleanValue(value,100);\n\t\tvar x;\n\t\tif (value<0) {\n\t\t\tx = 127+value/100*127;\n\t\t} else {\n\t\t\tx = value%1;\n\t\t\tif (x == 0) {\n\t\t\t\tx = ColorMatrix.DELTA_INDEX[value];\n\t\t\t} else {\n\t\t\t\tx = ColorMatrix.DELTA_INDEX[(value<<0)]*(1-x)+ColorMatrix.DELTA_INDEX[(value<<0)+1]*x; // use linear interpolation for more granularity.\n\t\t\t}\n\t\t\tx = x*127+127;\n\t\t}\n\t\tthis._multiplyMatrix([\n\t\t\tx/127,0,0,0,0.5*(127-x),\n\t\t\t0,x/127,0,0,0.5*(127-x),\n\t\t\t0,0,x/127,0,0.5*(127-x),\n\t\t\t0,0,0,1,0,\n\t\t\t0,0,0,0,1\n\t\t]);\n\t\treturn this;\n\t};\n\n\t/**\n\t * Adjusts the color saturation of the pixel.\n\t * Positive values will increase saturation, negative values will decrease saturation (trend towards greyscale).\n\t * @method adjustSaturation\n\t * @param {Number} value A value between -100 & 100.\n\t * @return {ColorMatrix} The ColorMatrix instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t **/\n\tp.adjustSaturation = function(value) {\n\t\tif (value == 0 || isNaN(value)) { return this; }\n\t\tvalue = this._cleanValue(value,100);\n\t\tvar x = 1+((value > 0) ? 3*value/100 : value/100);\n\t\tvar lumR = 0.3086;\n\t\tvar lumG = 0.6094;\n\t\tvar lumB = 0.0820;\n\t\tthis._multiplyMatrix([\n\t\t\tlumR*(1-x)+x,lumG*(1-x),lumB*(1-x),0,0,\n\t\t\tlumR*(1-x),lumG*(1-x)+x,lumB*(1-x),0,0,\n\t\t\tlumR*(1-x),lumG*(1-x),lumB*(1-x)+x,0,0,\n\t\t\t0,0,0,1,0,\n\t\t\t0,0,0,0,1\n\t\t]);\n\t\treturn this;\n\t};\n\n\n\t/**\n\t * Adjusts the hue of the pixel color.\n\t * @method adjustHue\n\t * @param {Number} value A value between -180 & 180.\n\t * @return {ColorMatrix} The ColorMatrix instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t **/\n\tp.adjustHue = function(value) {\n\t\tif (value == 0 || isNaN(value)) { return this; }\n\t\tvalue = this._cleanValue(value,180)/180*Math.PI;\n\t\tvar cosVal = Math.cos(value);\n\t\tvar sinVal = Math.sin(value);\n\t\tvar lumR = 0.213;\n\t\tvar lumG = 0.715;\n\t\tvar lumB = 0.072;\n\t\tthis._multiplyMatrix([\n\t\t\tlumR+cosVal*(1-lumR)+sinVal*(-lumR),lumG+cosVal*(-lumG)+sinVal*(-lumG),lumB+cosVal*(-lumB)+sinVal*(1-lumB),0,0,\n\t\t\tlumR+cosVal*(-lumR)+sinVal*(0.143),lumG+cosVal*(1-lumG)+sinVal*(0.140),lumB+cosVal*(-lumB)+sinVal*(-0.283),0,0,\n\t\t\tlumR+cosVal*(-lumR)+sinVal*(-(1-lumR)),lumG+cosVal*(-lumG)+sinVal*(lumG),lumB+cosVal*(1-lumB)+sinVal*(lumB),0,0,\n\t\t\t0,0,0,1,0,\n\t\t\t0,0,0,0,1\n\t\t]);\n\t\treturn this;\n\t};\n\n\t/**\n\t * Concatenates (multiplies) the specified matrix with this one.\n\t * @method concat\n\t * @param {Array} matrix An array or ColorMatrix instance.\n\t * @return {ColorMatrix} The ColorMatrix instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t **/\n\tp.concat = function(matrix) {\n\t\tmatrix = this._fixMatrix(matrix);\n\t\tif (matrix.length != ColorMatrix.LENGTH) { return this; }\n\t\tthis._multiplyMatrix(matrix);\n\t\treturn this;\n\t};\n\n\t/**\n\t * Returns a clone of this ColorMatrix.\n\t * @method clone\n\t * @return {ColorMatrix} A clone of this ColorMatrix.\n\t **/\n\tp.clone = function() {\n\t\treturn (new ColorMatrix()).copy(this);\n\t};\n\n\t/**\n\t * Return a length 25 (5x5) array instance containing this matrix's values.\n\t * @method toArray\n\t * @return {Array} An array holding this matrix's values.\n\t **/\n\tp.toArray = function() {\n\t\tvar arr = [];\n\t\tfor (var i= 0, l=ColorMatrix.LENGTH; i<l; i++) {\n\t\t\tarr[i] = this[i];\n\t\t}\n\t\treturn arr;\n\t};\n\n\t/**\n\t * Copy the specified matrix's values to this matrix.\n\t * @method copy\n\t * @param {Array} matrix An array or ColorMatrix instance.\n\t * @return {ColorMatrix} The ColorMatrix instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t **/\n\tp.copy = function(matrix) {\n\t\tvar l = ColorMatrix.LENGTH;\n\t\tfor (var i=0;i<l;i++) {\n\t\t\tthis[i] = matrix[i];\n\t\t}\n\t\treturn this;\n\t};\n\t\n\t/**\n\t * Returns a string representation of this object.\n\t * @method toString\n\t * @return {String} a string representation of the instance.\n\t **/\n\tp.toString = function() {\n\t\treturn \"[ColorMatrix]\";\n\t};\n\n\n// private methods:\n\t/**\n\t * @method _multiplyMatrix\n\t * @param {Array} matrix\n\t * @protected\n\t **/\n\tp._multiplyMatrix = function(matrix) {\n\t\tvar i, j, k, col = [];\n\n\t\tfor (i=0;i<5;i++) {\n\t\t\tfor (j=0;j<5;j++) {\n\t\t\t\tcol[j] = this[j+i*5];\n\t\t\t}\n\t\t\tfor (j=0;j<5;j++) {\n\t\t\t\tvar val=0;\n\t\t\t\tfor (k=0;k<5;k++) {\n\t\t\t\t\tval += matrix[j+k*5]*col[k];\n\t\t\t\t}\n\t\t\t\tthis[j+i*5] = val;\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Make sure values are within the specified range, hue has a limit of 180, brightness is 255, others are 100.\n\t * @method _cleanValue\n\t * @param {Number} value The raw number\n\t * @param {Number} limit The maximum that the number can be. The minimum is the limit * -1.\n\t * @protected\n\t **/\n\tp._cleanValue = function(value, limit) {\n\t\treturn Math.min(limit,Math.max(-limit,value));\n\t};\n\n\t/**\n\t * Makes sure matrixes are 5x5 (25 long).\n\t * @method _fixMatrix\n\t * @param {Array} matrix\n\t * @protected\n\t **/\n\tp._fixMatrix = function(matrix) {\n\t\tif (matrix instanceof ColorMatrix) { matrix = matrix.toArray(); }\n\t\tif (matrix.length < ColorMatrix.LENGTH) {\n\t\t\tmatrix = matrix.slice(0,matrix.length).concat(ColorMatrix.IDENTITY_MATRIX.slice(matrix.length,ColorMatrix.LENGTH));\n\t\t} else if (matrix.length > ColorMatrix.LENGTH) {\n\t\t\tmatrix = matrix.slice(0,ColorMatrix.LENGTH);\n\t\t}\n\t\treturn matrix;\n\t};\n\n\n\tcreatejs.ColorMatrix = ColorMatrix;\n}());\n\n//##############################################################################\n// ColorMatrixFilter.js\n//##############################################################################\n\nthis.createjs = this.createjs||{};\n\n(function() {\n\t\"use strict\";\n\n\n// constructor:\n\t/**\n\t * Allows you to carry out complex color operations such as modifying saturation, brightness, or inverting. See the\n\t * {{#crossLink \"ColorMatrix\"}}{{/crossLink}} for more information on changing colors. For an easier color transform,\n\t * consider the {{#crossLink \"ColorFilter\"}}{{/crossLink}}.\n\t *\n\t * <h4>Example</h4>\n\t * This example creates a red circle, inverts its hue, and then saturates it to brighten it up.\n\t *\n\t *      var shape = new createjs.Shape().set({x:100,y:100});\n\t *      shape.graphics.beginFill(\"#ff0000\").drawCircle(0,0,50);\n\t *\n\t *      var matrix = new createjs.ColorMatrix().adjustHue(180).adjustSaturation(100);\n\t *      shape.filters = [\n\t *          new createjs.ColorMatrixFilter(matrix)\n\t *      ];\n\t *\n\t *      shape.cache(-50, -50, 100, 100);\n\t *\n\t * See {{#crossLink \"Filter\"}}{{/crossLink}} for an more information on applying filters.\n\t * @class ColorMatrixFilter\n\t * @constructor\n\t * @extends Filter\n\t * @param {Array | ColorMatrix} matrix A 4x5 matrix describing the color operation to perform. See also the {{#crossLink \"ColorMatrix\"}}{{/crossLink}}\n\t * class.\n\t **/\n\tfunction ColorMatrixFilter(matrix) {\n\t\tthis.Filter_constructor();\n\n\t// public properties:\n\t\t/**\n\t\t * A 4x5 matrix describing the color operation to perform. See also the {{#crossLink \"ColorMatrix\"}}{{/crossLink}}\n\t\t * @property matrix\n\t\t * @type Array | ColorMatrix\n\t\t **/\n\t\tthis.matrix = matrix;\n\n\t\tthis.FRAG_SHADER_BODY = (\n\t\t\t\"uniform mat4 uColorMatrix;\" +\n\t\t\t\"uniform vec4 uColorMatrixOffset;\" +\n\n\t\t\t\"void main(void) {\" +\n\t\t\t\t\"vec4 color = texture2D(uSampler, vRenderCoord);\" +\n\n\t\t\t\t\"mat4 m = uColorMatrix;\" +\n\t\t\t\t\"vec4 newColor = vec4(0,0,0,0);\" +\n\t\t\t\t\"newColor.r = color.r*m[0][0] + color.g*m[0][1] + color.b*m[0][2] + color.a*m[0][3];\" +\n\t\t\t\t\"newColor.g = color.r*m[1][0] + color.g*m[1][1] + color.b*m[1][2] + color.a*m[1][3];\" +\n\t\t\t\t\"newColor.b = color.r*m[2][0] + color.g*m[2][1] + color.b*m[2][2] + color.a*m[2][3];\" +\n\t\t\t\t\"newColor.a = color.r*m[3][0] + color.g*m[3][1] + color.b*m[3][2] + color.a*m[3][3];\" +\n\n\t\t\t\t\"gl_FragColor = newColor + uColorMatrixOffset;\" +\n\t\t\t\"}\"\n\t\t);\n\t}\n\tvar p = createjs.extend(ColorMatrixFilter, createjs.Filter);\n\n\t// TODO: deprecated\n\t// p.initialize = function() {}; // searchable for devs wondering where it is. REMOVED. See docs for details.\n\n\t/** docced in super class **/\n\tp.shaderParamSetup = function(gl, stage, shaderProgram) {\n\t\tvar mat = this.matrix;\n\t\tvar colorMatrix = new Float32Array([\n\t\t\tmat[0],mat[1],mat[2],mat[3],\n\t\t\tmat[5],mat[6],mat[7],mat[8],\n\t\t\tmat[10],mat[11],mat[12],mat[13],\n\t\t\tmat[15],mat[16],mat[17],mat[18]\n\t\t]);\n\n\t\tgl.uniformMatrix4fv(\n\t\t\tgl.getUniformLocation(shaderProgram, \"uColorMatrix\"),\n\t\t\tfalse, colorMatrix\n\t\t);\n\t\tgl.uniform4f(\n\t\t\tgl.getUniformLocation(shaderProgram, \"uColorMatrixOffset\"),\n\t\t\tmat[4]/255, mat[9]/255, mat[14]/255, mat[19]/255\n\t\t);\n\t};\n\n// public methods:\n\t/** docced in super class **/\n\tp.toString = function() {\n\t\treturn \"[ColorMatrixFilter]\";\n\t};\n\n\t/** docced in super class **/\n\tp.clone = function() {\n\t\treturn new ColorMatrixFilter(this.matrix);\n\t};\n\n// private methods:\n\t/** docced in super class **/\n\tp._applyFilter = function(imageData) { \n\t\tvar data = imageData.data;\n\t\tvar l = data.length;\n\t\tvar r,g,b,a;\n\t\tvar mtx = this.matrix;\n\t\tvar m0 =  mtx[0],  m1 =  mtx[1],  m2 =  mtx[2],  m3 =  mtx[3],  m4 =  mtx[4];\n\t\tvar m5 =  mtx[5],  m6 =  mtx[6],  m7 =  mtx[7],  m8 =  mtx[8],  m9 =  mtx[9];\n\t\tvar m10 = mtx[10], m11 = mtx[11], m12 = mtx[12], m13 = mtx[13], m14 = mtx[14];\n\t\tvar m15 = mtx[15], m16 = mtx[16], m17 = mtx[17], m18 = mtx[18], m19 = mtx[19];\n\n\t\tfor (var i=0; i<l; i+=4) {\n\t\t\tr = data[i];\n\t\t\tg = data[i+1];\n\t\t\tb = data[i+2];\n\t\t\ta = data[i+3];\n\t\t\tdata[i] = r*m0+g*m1+b*m2+a*m3+m4; // red\n\t\t\tdata[i+1] = r*m5+g*m6+b*m7+a*m8+m9; // green\n\t\t\tdata[i+2] = r*m10+g*m11+b*m12+a*m13+m14; // blue\n\t\t\tdata[i+3] = r*m15+g*m16+b*m17+a*m18+m19; // alpha\n\t\t}\n\t\treturn true;\n\t};\n\n\tcreatejs.ColorMatrixFilter = createjs.promote(ColorMatrixFilter, \"Filter\");\n}());\n\n//##############################################################################\n// Touch.js\n//##############################################################################\n\nthis.createjs = this.createjs||{};\n\n(function() {\n\t\"use strict\";\n\n\n// constructor:\n\t/**\n * Global utility for working with multi-touch enabled devices in EaselJS. Currently supports W3C Touch API (iOS and\n * modern Android browser) and the Pointer API (IE), including ms-prefixed events in IE10, and unprefixed in IE11.\n *\n * Ensure that you {{#crossLink \"Touch/disable\"}}{{/crossLink}} touch when cleaning up your application. You do not have\n * to check if touch is supported to enable it, as it will fail gracefully if it is not supported.\n *\n * <h4>Example</h4>\n *\n *      var stage = new createjs.Stage(\"canvasId\");\n *      createjs.Touch.enable(stage);\n *\n * <strong>Note:</strong> It is important to disable Touch on a stage that you are no longer using:\n *\n *      createjs.Touch.disable(stage);\n *\n * @class Touch\n * @static\n **/\n\tfunction Touch() {\n\t\tthrow \"Touch cannot be instantiated\";\n\t}\n\n\n// public static methods:\n\t/**\n\t * Returns `true` if touch is supported in the current browser.\n\t * @method isSupported\n\t * @return {Boolean} Indicates whether touch is supported in the current browser.\n\t * @static\n\t **/\n\tTouch.isSupported = function() {\n\t\treturn\t!!(('ontouchstart' in window) // iOS & Android\n\t\t\t|| (window.navigator['msPointerEnabled'] && window.navigator['msMaxTouchPoints'] > 0) // IE10\n\t\t\t|| (window.navigator['pointerEnabled'] && window.navigator['maxTouchPoints'] > 0)); // IE11+\n\t};\n\n\t/**\n\t * Enables touch interaction for the specified EaselJS {{#crossLink \"Stage\"}}{{/crossLink}}. Currently supports iOS\n\t * (and compatible browsers, such as modern Android browsers), and IE10/11. Supports both single touch and\n\t * multi-touch modes. Extends the EaselJS {{#crossLink \"MouseEvent\"}}{{/crossLink}} model, but without support for\n\t * double click or over/out events. See the MouseEvent {{#crossLink \"MouseEvent/pointerId:property\"}}{{/crossLink}}\n\t * for more information.\n\t * @method enable\n\t * @param {Stage} stage The {{#crossLink \"Stage\"}}{{/crossLink}} to enable touch on.\n\t * @param {Boolean} [singleTouch=false] If `true`, only a single touch will be active at a time.\n\t * @param {Boolean} [allowDefault=false] If `true`, then default gesture actions (ex. scrolling, zooming) will be\n\t * allowed when the user is interacting with the target canvas.\n\t * @return {Boolean} Returns `true` if touch was successfully enabled on the target stage.\n\t * @static\n\t **/\n\tTouch.enable = function(stage, singleTouch, allowDefault) {\n\t\tif (!stage || !stage.canvas || !Touch.isSupported()) { return false; }\n\t\tif (stage.__touch) { return true; }\n\n\t\t// inject required properties on stage:\n\t\tstage.__touch = {pointers:{}, multitouch:!singleTouch, preventDefault:!allowDefault, count:0};\n\n\t\t// note that in the future we may need to disable the standard mouse event model before adding\n\t\t// these to prevent duplicate calls. It doesn't seem to be an issue with iOS devices though.\n\t\tif ('ontouchstart' in window) { Touch._IOS_enable(stage); }\n\t\telse if (window.navigator['msPointerEnabled'] || window.navigator[\"pointerEnabled\"]) { Touch._IE_enable(stage); }\n\t\treturn true;\n\t};\n\n\t/**\n\t * Removes all listeners that were set up when calling `Touch.enable()` on a stage.\n\t * @method disable\n\t * @param {Stage} stage The {{#crossLink \"Stage\"}}{{/crossLink}} to disable touch on.\n\t * @static\n\t **/\n\tTouch.disable = function(stage) {\n\t\tif (!stage) { return; }\n\t\tif ('ontouchstart' in window) { Touch._IOS_disable(stage); }\n\t\telse if (window.navigator['msPointerEnabled'] || window.navigator[\"pointerEnabled\"]) { Touch._IE_disable(stage); }\n\t\t\n\t\tdelete stage.__touch;\n\t};\n\n\n// Private static methods:\n\t/**\n\t * @method _IOS_enable\n\t * @protected\n\t * @param {Stage} stage\n\t * @static\n\t **/\n\tTouch._IOS_enable = function(stage) {\n\t\tvar canvas = stage.canvas;\n\t\tvar f = stage.__touch.f = function(e) { Touch._IOS_handleEvent(stage,e); };\n\t\tcanvas.addEventListener(\"touchstart\", f, false);\n\t\tcanvas.addEventListener(\"touchmove\", f, false);\n\t\tcanvas.addEventListener(\"touchend\", f, false);\n\t\tcanvas.addEventListener(\"touchcancel\", f, false);\n\t};\n\n\t/**\n\t * @method _IOS_disable\n\t * @protected\n\t * @param {Stage} stage\n\t * @static\n\t **/\n\tTouch._IOS_disable = function(stage) {\n\t\tvar canvas = stage.canvas;\n\t\tif (!canvas) { return; }\n\t\tvar f = stage.__touch.f;\n\t\tcanvas.removeEventListener(\"touchstart\", f, false);\n\t\tcanvas.removeEventListener(\"touchmove\", f, false);\n\t\tcanvas.removeEventListener(\"touchend\", f, false);\n\t\tcanvas.removeEventListener(\"touchcancel\", f, false);\n\t};\n\n\t/**\n\t * @method _IOS_handleEvent\n\t * @param {Stage} stage\n\t * @param {Object} e The event to handle\n\t * @protected\n\t * @static\n\t **/\n\tTouch._IOS_handleEvent = function(stage, e) {\n\t\tif (!stage) { return; }\n\t\tif (stage.__touch.preventDefault) { e.preventDefault&&e.preventDefault(); }\n\t\tvar touches = e.changedTouches;\n\t\tvar type = e.type;\n\t\tfor (var i= 0,l=touches.length; i<l; i++) {\n\t\t\tvar touch = touches[i];\n\t\t\tvar id = touch.identifier;\n\t\t\tif (touch.target != stage.canvas) { continue; }\n\n\t\t\tif (type == \"touchstart\") {\n\t\t\t\tthis._handleStart(stage, id, e, touch.pageX, touch.pageY);\n\t\t\t} else if (type == \"touchmove\") {\n\t\t\t\tthis._handleMove(stage, id, e, touch.pageX, touch.pageY);\n\t\t\t} else if (type == \"touchend\" || type == \"touchcancel\") {\n\t\t\t\tthis._handleEnd(stage, id, e);\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * @method _IE_enable\n\t * @protected\n\t * @param {Stage} stage\n\t * @static\n\t **/\n\tTouch._IE_enable = function(stage) {\n\t\tvar canvas = stage.canvas;\n\t\tvar f = stage.__touch.f = function(e) { Touch._IE_handleEvent(stage,e); };\n\n\t\tif (window.navigator[\"pointerEnabled\"] === undefined) {\n\t\t\tcanvas.addEventListener(\"MSPointerDown\", f, false);\n\t\t\twindow.addEventListener(\"MSPointerMove\", f, false);\n\t\t\twindow.addEventListener(\"MSPointerUp\", f, false);\n\t\t\twindow.addEventListener(\"MSPointerCancel\", f, false);\n\t\t\tif (stage.__touch.preventDefault) { canvas.style.msTouchAction = \"none\"; }\n\t\t} else {\n\t\t\tcanvas.addEventListener(\"pointerdown\", f, false);\n\t\t\twindow.addEventListener(\"pointermove\", f, false);\n\t\t\twindow.addEventListener(\"pointerup\", f, false);\n\t\t\twindow.addEventListener(\"pointercancel\", f, false);\n\t\t\tif (stage.__touch.preventDefault) { canvas.style.touchAction = \"none\"; }\n\n\t\t}\n\t\tstage.__touch.activeIDs = {};\n\t};\n\n\t/**\n\t * @method _IE_disable\n\t * @protected\n\t * @param {Stage} stage\n\t * @static\n\t **/\n\tTouch._IE_disable = function(stage) {\n\t\tvar f = stage.__touch.f;\n\n\t\tif (window.navigator[\"pointerEnabled\"] === undefined) {\n\t\t\twindow.removeEventListener(\"MSPointerMove\", f, false);\n\t\t\twindow.removeEventListener(\"MSPointerUp\", f, false);\n\t\t\twindow.removeEventListener(\"MSPointerCancel\", f, false);\n\t\t\tif (stage.canvas) {\n\t\t\t\tstage.canvas.removeEventListener(\"MSPointerDown\", f, false);\n\t\t\t}\n\t\t} else {\n\t\t\twindow.removeEventListener(\"pointermove\", f, false);\n\t\t\twindow.removeEventListener(\"pointerup\", f, false);\n\t\t\twindow.removeEventListener(\"pointercancel\", f, false);\n\t\t\tif (stage.canvas) {\n\t\t\t\tstage.canvas.removeEventListener(\"pointerdown\", f, false);\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * @method _IE_handleEvent\n\t * @param {Stage} stage\n\t * @param {Object} e The event to handle.\n\t * @protected\n\t * @static\n\t **/\n\tTouch._IE_handleEvent = function(stage, e) {\n\t\tif (!stage) { return; }\n\t\tif (stage.__touch.preventDefault) { e.preventDefault && e.preventDefault(); }\n\t\tvar type = e.type;\n\t\tvar id = e.pointerId;\n\t\tvar ids = stage.__touch.activeIDs;\n\n\t\tif (type == \"MSPointerDown\" || type == \"pointerdown\") {\n\t\t\tif (e.srcElement != stage.canvas) { return; }\n\t\t\tids[id] = true;\n\t\t\tthis._handleStart(stage, id, e, e.pageX, e.pageY);\n\t\t} else if (ids[id]) { // it's an id we're watching\n\t\t\tif (type == \"MSPointerMove\" || type == \"pointermove\") {\n\t\t\t\tthis._handleMove(stage, id, e, e.pageX, e.pageY);\n\t\t\t} else if (type == \"MSPointerUp\" || type == \"MSPointerCancel\"\n\t\t\t\t\t|| type == \"pointerup\" || type == \"pointercancel\") {\n\t\t\t\tdelete(ids[id]);\n\t\t\t\tthis._handleEnd(stage, id, e);\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * @method _handleStart\n\t * @param {Stage} stage\n\t * @param {String|Number} id\n\t * @param {Object} e\n\t * @param {Number} x\n\t * @param {Number} y\n\t * @protected\n\t **/\n\tTouch._handleStart = function(stage, id, e, x, y) {\n\t\tvar props = stage.__touch;\n\t\tif (!props.multitouch && props.count) { return; }\n\t\tvar ids = props.pointers;\n\t\tif (ids[id]) { return; }\n\t\tids[id] = true;\n\t\tprops.count++;\n\t\tstage._handlePointerDown(id, e, x, y);\n\t};\n\n\t/**\n\t * @method _handleMove\n\t * @param {Stage} stage\n\t * @param {String|Number} id\n\t * @param {Object} e\n\t * @param {Number} x\n\t * @param {Number} y\n\t * @protected\n\t **/\n\tTouch._handleMove = function(stage, id, e, x, y) {\n\t\tif (!stage.__touch.pointers[id]) { return; }\n\t\tstage._handlePointerMove(id, e, x, y);\n\t};\n\n\t/**\n\t * @method _handleEnd\n\t * @param {Stage} stage\n\t * @param {String|Number} id\n\t * @param {Object} e\n\t * @protected\n\t **/\n\tTouch._handleEnd = function(stage, id, e) {\n\t\t// TODO: cancel should be handled differently for proper UI (ex. an up would trigger a click, a cancel would more closely resemble an out).\n\t\tvar props = stage.__touch;\n\t\tvar ids = props.pointers;\n\t\tif (!ids[id]) { return; }\n\t\tprops.count--;\n\t\tstage._handlePointerUp(id, e, true);\n\t\tdelete(ids[id]);\n\t};\n\n\n\tcreatejs.Touch = Touch;\n}());\n\n//##############################################################################\n// version.js\n//##############################################################################\n\nthis.createjs = this.createjs || {};\n\n(function() {\n\t\"use strict\";\n\n\t/**\n\t * Static class holding library specific information such as the version and buildDate of\n\t * the library.\n\t * @class EaselJS\n\t **/\n\tvar s = createjs.EaselJS = createjs.EaselJS || {};\n\n\t/**\n\t * The version string for this release.\n\t * @property version\n\t * @type String\n\t * @static\n\t **/\n\ts.version = /*=version*/\"NEXT\"; // injected by build process\n\n\t/**\n\t * The build date for this release in UTC format.\n\t * @property buildDate\n\t * @type String\n\t * @static\n\t **/\n\ts.buildDate = /*=date*/\"Tue, 04 Jul 2017 15:42:51 GMT\"; // injected by build process\n\n})();\n\nmodule.exports = createjs;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/easeljs-NEXT.combined.js\n// module id = 6\n// module chunks = 0","import Flatten from 'flatten-js';\n\nimport * as createjs from '../../public/easeljs-NEXT.combined.js';\n\nlet {Point, Segment, Circle, Arc, Polygon, Box} = Flatten;\n\n/* Provide conversion methods from FlattenJS objects to CreateJS Graphics */\nexport function graphics(shape, style = undefined) {\n    if (shape instanceof Point) {\n        return graphics_point(shape, style);\n    }\n    if (shape instanceof Segment) {\n        return graphics_segment(shape, style);\n    }\n    if (shape instanceof Arc) {\n        return graphics_arc(shape, style);\n    }\n    if (shape instanceof Circle) {\n        return graphics_circle(shape, style);\n    }\n    if (shape instanceof Box) {\n        return graphics_box(shape, style);\n    }\n    if (shape instanceof Polygon) {\n        return graphics_polygon(shape, style);\n    }\n    return null;\n}\n\n// Point.prototype.graphics = function(style) {\nfunction graphics_point(point, style) {\n    let radius = (style && style.radius) ? style.radius : 3;\n    let fill = style && style.fill ? style.fill : \"#FF0303\";\n    let graphics = new createjs.Graphics();\n    graphics.fill = graphics.beginFill(fill).command;\n    graphics.circle = graphics.drawCircle(point.x, point.y, radius).command;\n    return graphics;\n};\n\n// Segment.prototype.graphics = function(style) {\nfunction graphics_segment(segment, style) {\n    let graphics = new createjs.Graphics();\n    let strokeStyle = style && style.strokeStyle !== undefined ? style.strokeStyle : 2;\n    let ignoreScale = style && style.ignoreScale !== undefined ? style.ignoreScale : true;\n    let stroke = style && style.stroke ? style.stroke : \"black\";\n    return graphics\n        .setStrokeStyle(strokeStyle,1,0,10,ignoreScale)\n        .beginStroke(stroke)\n        .moveTo(segment.ps.x, segment.ps.y)\n        .lineTo(segment.pe.x, segment.pe.y)\n        .endStroke();\n};\n\n// Arc.prototype.graphics = function(style) {\nfunction graphics_arc(arc, style) {\n    // let startAngle = 2 * Math.PI - this.startAngle;\n    // let endAngle =  2 * Math.PI - this.endAngle;\n    let graphics = new createjs.Graphics();\n    let strokeStyle = style && style.strokeStyle ? style.strokeStyle : 2;\n    let ignoreScale = style && style.ignoreScale !== undefined ? style.ignoreScale : true;\n    let stroke = style && style.stroke ? style.stroke : \"black\";\n    return graphics\n        .setStrokeStyle(strokeStyle,1,0,10,ignoreScale)\n        .beginStroke(stroke)\n        .arc(arc.pc.x, arc.pc.y, arc.r, arc.startAngle, arc.endAngle, !arc.counterClockwise)\n        .endStroke();\n};\n\n// Circle.prototype.graphics = function(style) {\nfunction graphics_circle(circle, style) {\n    let graphics = new createjs.Graphics();\n    let strokeStyle = style && style.strokeStyle ? style.strokeStyle : 2;\n    let stroke = style && style.stroke ? style.stroke : \"black\";\n    // graphics.setStrokeStyle(2).beginStroke(\"black\").beginFill(\"red\").drawCircle(pcx, pcy, r);\n    return graphics\n        .setStrokeStyle(strokeStyle,0,0,10,true)\n        .beginStroke(stroke)\n        .drawCircle(circle.pc.x, circle.pc.y, circle.r)\n        .endStroke();\n};\n\n// Box.prototype.graphics = function(style) {\nfunction graphics_box(box, style) {\n    let graphics = new createjs.Graphics();\n    let strokeStyle = style && style.strokeStyle ? style.strokeStyle : 1;\n    let stroke = style && style.stroke ? style.stroke : \"black\";\n    // graphics.setStrokeStyle(2).beginStroke(\"black\").beginFill(\"red\").drawCircle(pcx, pcy, r);\n    return graphics\n        .setStrokeStyle(strokeStyle,0,0,10,true)\n        .beginStroke(stroke)\n        .drawRect(box.xmin, box.ymin, box.xmax-box.xmin, box.ymax-box.ymin);\n};\n\nfunction setGraphicsEdgeSegment(graphics, segment) {\n    graphics.lineTo(segment.pe.x, segment.pe.y);\n}\n\nfunction setGraphicsEdgeArc(graphics, arc) {\n    // let startAngle = 2 * Math.PI - arc.startAngle;\n    // let endAngle = 2 * Math.PI - arc.endAngle;\n    graphics.arc(arc.pc.x, arc.pc.y, arc.r, arc.startAngle, arc.endAngle, !arc.counterClockwise);\n}\n\nfunction setGraphicsEdge(graphics, edge) {\n    if (edge.shape instanceof Segment) {\n        setGraphicsEdgeSegment(graphics, edge.shape);\n    }\n    else if (edge.shape instanceof Arc) {\n        setGraphicsEdgeArc(graphics, edge.shape);\n    }\n}\n\nfunction setGraphicsFace(graphics, face) {\n    let ps = face.first.start;\n    graphics.moveTo(ps.x, ps.y);\n\n    for (let edge of face) {\n        setGraphicsEdge(graphics, edge);\n    }\n}\n\n// Polygon.prototype.graphics = function(style) {\nfunction graphics_polygon(polygon, style) {\n    let graphics = new createjs.Graphics();\n    let strokeStyle = style && style.strokeStyle ? style.strokeStyle : 1;\n    let stroke = style && style.stroke ? style.stroke : \"#FF0303\";\n    let fill = style && style.fill ? style.fill : \"#FF0303\";\n    graphics.setStrokeStyle(strokeStyle,0,0,10,true);\n    graphics.stroke = graphics.beginStroke(stroke).command;\n    graphics.fill = graphics.beginFill(fill).command;\n\n    for (let face of polygon.faces) {\n        setGraphicsFace(graphics, face);\n    }\n\n    graphics.endStroke();\n    return graphics;\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/graphics.js","const Utils = {\n    is_equal: (obj1, obj2) => {\n        let equal = true;\n        for (let key of Object.keys(obj2)) {\n            if (obj2[key] !== obj1[key]) {\n                equal = false;\n                break;\n            }\n        }\n        return equal;\n    }\n};\n\nexport default Utils;\n\n\n// WEBPACK FOOTER //\n// ./src/utils.js","\"use strict\";\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\n\nfunction makeEmptyFunction(arg) {\n  return function () {\n    return arg;\n  };\n}\n\n/**\n * This function accepts and discards inputs; it has no side effects. This is\n * primarily useful idiomatically for overridable function endpoints which\n * always need to be callable, since JS lacks a null-call idiom ala Cocoa.\n */\nvar emptyFunction = function emptyFunction() {};\n\nemptyFunction.thatReturns = makeEmptyFunction;\nemptyFunction.thatReturnsFalse = makeEmptyFunction(false);\nemptyFunction.thatReturnsTrue = makeEmptyFunction(true);\nemptyFunction.thatReturnsNull = makeEmptyFunction(null);\nemptyFunction.thatReturnsThis = function () {\n  return this;\n};\nemptyFunction.thatReturnsArgument = function (arg) {\n  return arg;\n};\n\nmodule.exports = emptyFunction;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/fbjs/lib/emptyFunction.js\n// module id = 9\n// module chunks = 0","import Flatten from 'flatten-js';\n\nlet {Box} = Flatten;\n\nexport class Job {\n    constructor() {\n        this.filename = \"\";\n        this.title = \"\";\n        this.profiles = [];   // array of FlattenJS Polygons\n        this.materials = [];  // array of FlattenJS Polygons\n        this.shapes = [];     // array of other FlattenJS shapes\n    }\n\n    get box() {\n        let b = new Box();\n        for (let shape of this.profiles) {\n            b.merge(shape.box);\n        }\n        for (let shape of this.materials) {\n            b.merge(shape.box);\n        }\n        for (let shape of this.shapes) {\n            b.merge(shape.box);\n        }\n        return b;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/job.js","\nlet defaultStyle = {\n    strokeStyle: 1,\n    stroke: \"#FF0303\",\n    fill: \"#FF0303\",\n    alpha: 1.0\n};\n\n/* Class Model represents data model that will be added to layer */\nexport class Model {\n    constructor(geom = undefined, style = undefined, label = \"\") {\n        this.geom = geom;\n        this.style = style || defaultStyle;\n        this.label = label;\n    }\n\n    clone() {\n        let model = new Model(this.geom, this.style, this.label);\n        return Object.assign(model, this);\n    }\n\n    get box() {\n        return this.geom.box;\n    }\n/*\n    static transformPoint(pt, stage) {\n        return new Flatten.Point(stage.W2C_X(pt.x), stage.W2C_Y(pt.y));\n    }\n\n    static transformSegment(segment, stage) {\n        return new Flatten.Segment(\n            Model.transformPoint(segment.ps, stage),\n            Model.transformPoint(segment.pe, stage)\n        )\n    }\n\n    static transformArc(arc, stage) {\n        return new Flatten.Arc(\n            Model.transformPoint(arc.pc, stage),\n            stage.W2C_Scalar(arc.r),\n            arc.startAngle,\n            arc.endAngle,\n            arc.counterClockwise\n        )\n    }\n\n    static transformEdge(shape, stage) {\n        if (shape instanceof Flatten.Segment) {\n            return Model.transformSegment(shape, stage);\n        }\n        else if (shape instanceof Flatten.Arc) {\n            return Model.transformArc(shape, stage);\n        }\n    }\n\n    static transformFace(face, stage) {\n        // Get shapes of face as array\n        let shapes = [];\n        for (let edge of face) {\n            shapes.push(edge.shape);\n        }\n\n        // Transform array of edges\n        return shapes.map(shape => Model.transformEdge(shape, stage));\n    }\n\n    static transformPolygon(polygon, stage) {\n        let newPolygon = new Flatten.Polygon();\n        let shapes = [];\n        for (let face of polygon.faces) {\n            shapes = Model.transformFace(face, stage);\n            newPolygon.addFace(shapes);\n        }\n        return newPolygon;\n    }\n*/\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/model.js","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar validateFormat = function validateFormat(format) {};\n\nif (process.env.NODE_ENV !== 'production') {\n  validateFormat = function validateFormat(format) {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  };\n}\n\nfunction invariant(condition, format, a, b, c, d, e, f) {\n  validateFormat(format);\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(format.replace(/%s/g, function () {\n        return args[argIndex++];\n      }));\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n}\n\nmodule.exports = invariant;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/fbjs/lib/invariant.js\n// module id = 12\n// module chunks = 0","/**\r\n * Created by Alex Bol on 3/31/2017.\r\n */\r\n'use strict';\r\n\r\nlet Node = require('./classes/node');\r\nlet {RB_TREE_COLOR_RED, RB_TREE_COLOR_BLACK} = require('./utils/constants');\r\n\r\nlet nil_node = new Node();\r\n\r\n/**\r\n * Implementation of interval binary search tree <br/>\r\n * Interval tree may store items which are couples of {key:interval, value: value} <br/>\r\n * Interval is an object with high and low properties or simply array of numeric [low,high] values <br />\r\n * If interval is an object, it should implement and expose methods less_than, equals_to, intersect and others,\r\n * see documentation {link}\r\n * @type {IntervalTree}\r\n */\r\nlet IntervalTree = class IntervalTree {\r\n    /**\r\n     * Construct new empty instance of IntervalTree\r\n     */\r\n    constructor() {\r\n        this.root = null;\r\n    }\r\n\r\n    /**\r\n     * Returns number of items stored in the interval tree\r\n     * @returns {number}\r\n     */\r\n    get size() {\r\n        let count = 0;\r\n        this.tree_walk(this.root, () => count++);\r\n        return count;\r\n    }\r\n\r\n    get keys() {\r\n        let res = [];\r\n        this.tree_walk(this.root, (node) => res.push(node.item.key.output()));\r\n        return res;\r\n    }\r\n\r\n    get isEmpty() {\r\n        return (this.root == null || this.root == nil_node);\r\n    }\r\n\r\n    /**\r\n     * Insert new item into interval tree\r\n     * @param key - interval object or array of two numbers [low, high]\r\n     * @param value - value representing any object (optional)\r\n     * @returns {Node} - returns reference to inserted node as an object {key:interval, value: value}\r\n     */\r\n    insert(key, value = key) {\r\n        if (key === undefined) return;\r\n        let insert_node = new Node(key, value, nil_node, nil_node, null, RB_TREE_COLOR_RED);\r\n        this.tree_insert(insert_node);\r\n        this.recalc_max(insert_node);\r\n        return insert_node;\r\n    }\r\n\r\n    /**\r\n     * Returns true if item {key,value} exist in the tree\r\n     * @param key - interval correspondent to keys stored in the tree\r\n     * @param value - value object to be checked\r\n     * @returns {boolean} - true if item {key, value} exist in the tree, false otherwise\r\n     */\r\n    exist(key, value) {\r\n        let search_node = new Node(key, value);\r\n        return this.tree_search(this.root, search_node) ? true : false;\r\n    }\r\n\r\n    /**\r\n     * Remove entry {key, value} from the tree\r\n     * @param key - interval correspondent to keys stored in the tree\r\n     * @param value - - value object\r\n     * @returns {boolean} - true if item {key, value} deleted, false if not found\r\n     */\r\n    remove(key, value) {\r\n        let search_node = new Node(key, value);\r\n        let delete_node = this.tree_search(this.root, search_node);\r\n        if (delete_node) {\r\n            this.tree_delete(delete_node);\r\n        }\r\n        return delete_node;\r\n    }\r\n\r\n    /**\r\n     * Returns array of entry values which keys intersect with given interval <br/>\r\n     * If no values stored in the tree, returns array of keys which intersect given interval\r\n     * @param interval - search interval, or array [low, high]\r\n     * @returns {Array}\r\n     */\r\n    search(interval) {\r\n        let search_node = new Node(interval);\r\n        let resp_nodes = [];\r\n        this.tree_search_interval(this.root, search_node, resp_nodes);\r\n        let resp = [];\r\n        resp_nodes.forEach((node) => {\r\n            if (node.item.value) {         // if there are values, return only values\r\n                resp.push(node.item.value);\r\n            }\r\n            else {                         // otherwise, return keys\r\n                resp.push(node.item.key.output());\r\n            }\r\n        }, []);\r\n        return resp;\r\n    }\r\n\r\n    /**\r\n     * Tree visitor. For each node implement a callback function. <br/>\r\n     * Method calls a callback function with two parameters (key, value)\r\n     * @param visitor(key,value) - function to be called for each tree item\r\n     */\r\n    forEach(visitor) {\r\n        this.tree_walk(this.root, (node) => visitor(node.item.key, node.item.value));\r\n    };\r\n\r\n    recalc_max(node) {\r\n        let node_current = node;\r\n        while (node_current.parent != null) {\r\n            node_current.parent.update_max();\r\n            node_current = node_current.parent;\r\n        }\r\n    }\r\n\r\n    tree_insert(insert_node) {\r\n        let current_node = this.root;\r\n        let parent_node = null;\r\n\r\n        if (this.root == null || this.root == nil_node) {\r\n            this.root = insert_node;\r\n        }\r\n        else {\r\n            while (current_node != nil_node) {\r\n                parent_node = current_node;\r\n                if (insert_node.less_than(current_node)) {\r\n                    current_node = current_node.left;\r\n                }\r\n                else {\r\n                    current_node = current_node.right;\r\n                }\r\n            }\r\n\r\n            insert_node.parent = parent_node;\r\n\r\n            if (insert_node.less_than(parent_node)) {\r\n                parent_node.left = insert_node;\r\n            }\r\n            else {\r\n                parent_node.right = insert_node;\r\n            }\r\n        }\r\n\r\n        this.insert_fixup(insert_node);\r\n    }\r\n\r\n// After insertion insert_node may have red-colored parent, and this is a single possible violation\r\n// Go upwords to the root and re-color until violation will be resolved\r\n    insert_fixup(insert_node) {\r\n        let current_node;\r\n        let uncle_node;\r\n\r\n        current_node = insert_node;\r\n        while (current_node != this.root && current_node.parent.color == RB_TREE_COLOR_RED) {\r\n            if (current_node.parent == current_node.parent.parent.left) {   // parent is left child of grandfather\r\n                uncle_node = current_node.parent.parent.right;              // right brother of parent\r\n                if (uncle_node.color == RB_TREE_COLOR_RED) {             // Case 1. Uncle is red\r\n                    // re-color father and uncle into black\r\n                    current_node.parent.color = RB_TREE_COLOR_BLACK;\r\n                    uncle_node.color = RB_TREE_COLOR_BLACK;\r\n                    current_node.parent.parent.color = RB_TREE_COLOR_RED;\r\n                    current_node = current_node.parent.parent;\r\n                }\r\n                else {                                                    // Case 2 & 3. Uncle is black\r\n                    if (current_node == current_node.parent.right) {     // Case 2. Current if right child\r\n                        // This case is transformed into Case 3.\r\n                        current_node = current_node.parent;\r\n                        this.rotate_left(current_node);\r\n                    }\r\n                    current_node.parent.color = RB_TREE_COLOR_BLACK;    // Case 3. Current is left child.\r\n                    // Re-color father and grandfather, rotate grandfather right\r\n                    current_node.parent.parent.color = RB_TREE_COLOR_RED;\r\n                    this.rotate_right(current_node.parent.parent);\r\n                }\r\n            }\r\n            else {                                                         // parent is right child of grandfather\r\n                uncle_node = current_node.parent.parent.left;              // left brother of parent\r\n                if (uncle_node.color == RB_TREE_COLOR_RED) {             // Case 4. Uncle is red\r\n                    // re-color father and uncle into black\r\n                    current_node.parent.color = RB_TREE_COLOR_BLACK;\r\n                    uncle_node.color = RB_TREE_COLOR_BLACK;\r\n                    current_node.parent.parent.color = RB_TREE_COLOR_RED;\r\n                    current_node = current_node.parent.parent;\r\n                }\r\n                else {\r\n                    if (current_node == current_node.parent.left) {             // Case 5. Current is left child\r\n                        // Transform into case 6\r\n                        current_node = current_node.parent;\r\n                        this.rotate_right(current_node);\r\n                    }\r\n                    current_node.parent.color = RB_TREE_COLOR_BLACK;    // Case 6. Current is right child.\r\n                    // Re-color father and grandfather, rotate grandfather left\r\n                    current_node.parent.parent.color = RB_TREE_COLOR_RED;\r\n                    this.rotate_left(current_node.parent.parent);\r\n                }\r\n            }\r\n        }\r\n\r\n        this.root.color = RB_TREE_COLOR_BLACK;\r\n    }\r\n\r\n    tree_delete(delete_node) {\r\n        let cut_node;   // node to be cut - either delete_node or successor_node  (\"y\" from 14.4)\r\n        let fix_node;   // node to fix rb tree property   (\"x\" from 14.4)\r\n\r\n        if (delete_node.left == nil_node || delete_node.right == nil_node) {  // delete_node has less then 2 children\r\n            cut_node = delete_node;\r\n        }\r\n        else {                                                    // delete_node has 2 children\r\n            cut_node = this.tree_successor(delete_node);\r\n        }\r\n\r\n        // fix_node if single child of cut_node\r\n        if (cut_node.left != nil_node) {\r\n            fix_node = cut_node.left;\r\n        }\r\n        else {\r\n            fix_node = cut_node.right;\r\n        }\r\n\r\n        // remove cut_node from parent\r\n        /*if (fix_node != nil_node) {*/\r\n            fix_node.parent = cut_node.parent;\r\n        /*}*/\r\n\r\n        if (cut_node == this.root) {\r\n            this.root = fix_node;\r\n        }\r\n        else {\r\n            if (cut_node == cut_node.parent.left) {\r\n                cut_node.parent.left = fix_node;\r\n            }\r\n            else {\r\n                cut_node.parent.right = fix_node;\r\n            }\r\n            cut_node.parent.update_max();        // update max property of the parent\r\n        }\r\n\r\n        this.recalc_max(fix_node);              // update max property upward from fix_node to root\r\n\r\n        // COPY DATA !!!\r\n        // Delete_node becomes cut_node, it means that we cannot hold reference\r\n        // to node in outer structure and we will have to delete by key, additional search need\r\n        if (cut_node != delete_node) {\r\n            delete_node.copy_data(cut_node);\r\n            delete_node.update_max();           // update max property of the cut node at the new place\r\n            this.recalc_max(delete_node);       // update max property upward from delete_node to root\r\n        }\r\n\r\n        if (/*fix_node != nil_node && */cut_node.color == RB_TREE_COLOR_BLACK) {\r\n            this.delete_fixup(fix_node);\r\n        }\r\n    }\r\n\r\n    delete_fixup(fix_node) {\r\n        let current_node = fix_node;\r\n        let brother_node;\r\n\r\n        while (current_node != this.root && current_node.parent != null && current_node.color == RB_TREE_COLOR_BLACK) {\r\n            if (current_node == current_node.parent.left) {          // fix node is left child\r\n                brother_node = current_node.parent.right;\r\n                if (brother_node.color == RB_TREE_COLOR_RED) {   // Case 1. Brother is red\r\n                    brother_node.color = RB_TREE_COLOR_BLACK;         // re-color brother\r\n                    current_node.parent.color = RB_TREE_COLOR_RED;    // re-color father\r\n                    this.rotate_left(current_node.parent);\r\n                    brother_node = current_node.parent.right;                      // update brother\r\n                }\r\n                // Derive to cases 2..4: brother is black\r\n                if (brother_node.left.color == RB_TREE_COLOR_BLACK &&\r\n                    brother_node.right.color == RB_TREE_COLOR_BLACK) {  // case 2: both nephews black\r\n                    brother_node.color = RB_TREE_COLOR_RED;              // re-color brother\r\n                    current_node = current_node.parent;                  // continue iteration\r\n                }\r\n                else {\r\n                    if (brother_node.right.color == RB_TREE_COLOR_BLACK) {   // case 3: left nephew red, right nephew black\r\n                        brother_node.color = RB_TREE_COLOR_RED;          // re-color brother\r\n                        brother_node.left.color = RB_TREE_COLOR_BLACK;   // re-color nephew\r\n                        this.rotate_right(brother_node);\r\n                        brother_node = current_node.parent.right;                     // update brother\r\n                        // Derive to case 4: left nephew black, right nephew red\r\n                    }\r\n                    // case 4: left nephew black, right nephew red\r\n                    brother_node.color = current_node.parent.color;\r\n                    current_node.parent.color = RB_TREE_COLOR_BLACK;\r\n                    brother_node.right.color = RB_TREE_COLOR_BLACK;\r\n                    this.rotate_left(current_node.parent);\r\n                    current_node = this.root;                         // exit from loop\r\n                }\r\n            }\r\n            else {                                             // fix node is right child\r\n                brother_node = current_node.parent.left;\r\n                if (brother_node.color == RB_TREE_COLOR_RED) {   // Case 1. Brother is red\r\n                    brother_node.color = RB_TREE_COLOR_BLACK;         // re-color brother\r\n                    current_node.parent.color = RB_TREE_COLOR_RED;    // re-color father\r\n                    this.rotate_right(current_node.parent);\r\n                    brother_node = current_node.parent.left;                        // update brother\r\n                }\r\n                // Go to cases 2..4\r\n                if (brother_node.left.color == RB_TREE_COLOR_BLACK &&\r\n                    brother_node.right.color == RB_TREE_COLOR_BLACK) {   // case 2\r\n                    brother_node.color = RB_TREE_COLOR_RED;             // re-color brother\r\n                    current_node = current_node.parent;                              // continue iteration\r\n                }\r\n                else {\r\n                    if (brother_node.left.color == RB_TREE_COLOR_BLACK) {  // case 3: right nephew red, left nephew black\r\n                        brother_node.color = RB_TREE_COLOR_RED;            // re-color brother\r\n                        brother_node.right.color = RB_TREE_COLOR_BLACK;    // re-color nephew\r\n                        this.rotate_left(brother_node);\r\n                        brother_node = current_node.parent.left;                        // update brother\r\n                        // Derive to case 4: right nephew black, left nephew red\r\n                    }\r\n                    // case 4: right nephew black, left nephew red\r\n                    brother_node.color = current_node.parent.color;\r\n                    current_node.parent.color = RB_TREE_COLOR_BLACK;\r\n                    brother_node.left.color = RB_TREE_COLOR_BLACK;\r\n                    this.rotate_right(current_node.parent);\r\n                    current_node = this.root;                               // force exit from loop\r\n                }\r\n            }\r\n        }\r\n\r\n        current_node.color = RB_TREE_COLOR_BLACK;\r\n    }\r\n\r\n    tree_search(node, search_node) {\r\n        if (node == null || node == nil_node)\r\n            return undefined;\r\n\r\n        if (search_node.equal_to(node)) {\r\n            return node;\r\n        }\r\n        if (search_node.less_than(node)) {\r\n            return this.tree_search(node.left, search_node);\r\n        }\r\n        else {\r\n            return this.tree_search(node.right, search_node);\r\n        }\r\n    }\r\n\r\n    // Original search_interval method; container res support push() insertion\r\n    // Search all intervals intersecting given one\r\n    tree_search_interval(node, search_node, res) {\r\n        if (node != null && node != nil_node) {\r\n            // if (node->left != nil_node && node->left->max >= low) {\r\n            if (node.left != nil_node && !node.not_intersect_left_subtree(search_node)) {\r\n                this.tree_search_interval(node.left, search_node, res);\r\n            }\r\n            // if (low <= node->high && node->low <= high) {\r\n            if (node.intersect(search_node)) {\r\n                res.push(node);\r\n            }\r\n            // if (node->right != nil_node && node->low <= high) {\r\n            if (node.right != nil_node && !node.not_intersect_right_subtree(search_node)) {\r\n                this.tree_search_interval(node.right, search_node, res);\r\n            }\r\n        }\r\n    }\r\n\r\n    local_minimum(node) {\r\n        let node_min = node;\r\n        while (node_min.left != null && node_min.left != nil_node) {\r\n            node_min = node_min.left;\r\n        }\r\n        return node_min;\r\n    }\r\n\r\n    // not in use\r\n    local_maximum(node) {\r\n        let node_max = node;\r\n        while (node_max.right != null && node_max.right != nil_node) {\r\n            node_max = node_max.right;\r\n        }\r\n        return node_max;\r\n    }\r\n\r\n    tree_successor(node) {\r\n        let node_successor;\r\n        let current_node;\r\n        let parent_node;\r\n\r\n        if (node.right != nil_node) {\r\n            node_successor = this.local_minimum(node.right);\r\n        }\r\n        else {\r\n            current_node = node;\r\n            parent_node = node.parent;\r\n            while (parent_node != null && parent_node.right == current_node) {\r\n                current_node = parent_node;\r\n                parent_node = parent_node.parent;\r\n            }\r\n            node_successor = parent_node;\r\n        }\r\n        return node_successor;\r\n    }\r\n\r\n    //           |            right-rotate(T,y)       |\r\n    //           y            ---------------.       x\r\n    //          / \\                                  / \\\r\n    //         x   c          left-rotate(T,x)      a   y\r\n    //        / \\             <---------------         / \\\r\n    //       a   b                                    b   c\r\n\r\n    rotate_left(x) {\r\n        let y = x.right;\r\n\r\n        x.right = y.left;           // b goes to x.right\r\n\r\n        if (y.left != nil_node) {\r\n            y.left.parent = x;     // x becomes parent of b\r\n        }\r\n        y.parent = x.parent;       // move parent\r\n\r\n        if (x == this.root) {\r\n            this.root = y;           // y becomes root\r\n        }\r\n        else {                        // y becomes child of x.parent\r\n            if (x == x.parent.left) {\r\n                x.parent.left = y;\r\n            }\r\n            else {\r\n                x.parent.right = y;\r\n            }\r\n        }\r\n        y.left = x;                 // x becomes left child of y\r\n        x.parent = y;               // and y becomes parent of x\r\n\r\n        if (x != null && x != nil_node) {\r\n            x.update_max();\r\n        }\r\n\r\n        y = x.parent;\r\n        if (y != null && y != nil_node) {\r\n            y.update_max();\r\n        }\r\n    }\r\n\r\n    rotate_right(y) {\r\n        let x = y.left;\r\n\r\n        y.left = x.right;           // b goes to y.left\r\n\r\n        if (x.right != nil_node) {\r\n            x.right.parent = y;        // y becomes parent of b\r\n        }\r\n        x.parent = y.parent;          // move parent\r\n\r\n        if (y == this.root) {        // x becomes root\r\n            this.root = x;\r\n        }\r\n        else {                        // y becomes child of x.parent\r\n            if (y == y.parent.left) {\r\n                y.parent.left = x;\r\n            }\r\n            else {\r\n                y.parent.right = x;\r\n            }\r\n        }\r\n        x.right = y;                 // y becomes right child of x\r\n        y.parent = x;               // and x becomes parent of y\r\n\r\n        if (y != null && y != nil_node) {\r\n            y.update_max();\r\n        }\r\n\r\n        x = y.parent;\r\n        if (x != null && x != nil_node) {\r\n            x.update_max();\r\n        }\r\n    }\r\n\r\n    tree_walk(node, action) {\r\n        if (node != null && node != nil_node) {\r\n            this.tree_walk(node.left, action);\r\n            // arr.push(node.toArray());\r\n            action(node);\r\n            this.tree_walk(node.right, action);\r\n        }\r\n    }\r\n\r\n    /* Return true if all red nodes have exactly two black child nodes */\r\n    testRedBlackProperty() {\r\n        let res = true;\r\n        this.tree_walk(this.root, function (node) {\r\n            if (node.color == RB_TREE_COLOR_RED) {\r\n                if (!(node.left.color == RB_TREE_COLOR_BLACK && node.right.color == RB_TREE_COLOR_BLACK)) {\r\n                    res = false;\r\n                }\r\n            }\r\n        });\r\n        return res;\r\n    }\r\n\r\n    /* Throw error if not every path from root to bottom has same black height */\r\n    testBlackHeightProperty(node) {\r\n        let height = 0;\r\n        let heightLeft = 0;\r\n        let heightRight = 0;\r\n        if (node.color == RB_TREE_COLOR_BLACK) {\r\n            height++;\r\n        }\r\n        if (node.left != nil_node) {\r\n            heightLeft = this.testBlackHeightProperty(node.left);\r\n        }\r\n        else {\r\n            heightLeft = 1;\r\n        }\r\n        if (node.right != nil_node) {\r\n            heightRight = this.testBlackHeightProperty(node.right);\r\n        }\r\n        else {\r\n            heightRight = 1;\r\n        }\r\n        if (heightLeft != heightRight) {\r\n            throw new Error('Red-black height property violated');\r\n        }\r\n        height += heightLeft;\r\n        return height;\r\n    };\r\n};\r\n\r\nmodule.exports = IntervalTree;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/flatten-interval-tree/index.js\n// module id = 13\n// module chunks = 0","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/object-assign/index.js\n// module id = 14\n// module chunks = 0","import {Component} from 'react';\nimport ReactDOM from 'react-dom';\nimport '../../public/styles/App.css';\n\nconst modalRoot = document.getElementById('modal-root');\n\n// A Modal component that is an abstraction around the portal API.\nexport class Modal extends Component {\n    constructor(props) {\n        super(props);\n        // Create a div that we'll render the modal into. Because each\n        // Modal component has its own element, we can render multiple\n        // modal components into the modal container.\n        this.el = document.createElement('div');\n    }\n\n    componentDidMount() {\n        // Append the element into the DOM on mount. We'll render\n        // into the modal container element (see the HTML tab).\n        modalRoot.appendChild(this.el);\n    }\n\n    componentWillUnmount() {\n        // Remove the element from the DOM when we unmount\n        modalRoot.removeChild(this.el);\n    }\n\n    render() {\n        // Use a portal to render the children into the element\n        return ReactDOM.createPortal(\n            // Any valid React child: JSX, strings, arrays, etc.\n            this.props.children,\n            // A DOM element\n            this.el,\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/modalPopupComponent.js","import { Job } from '../models/job';\nimport Flatten from 'flatten-js';\n\nlet {Point, Segment, Arc, Polygon} = Flatten;\nlet { vector } = Flatten;\n\nconst inch2pixels = 10160000;\nconst mils2pixels = 10160;\nfunction InchToPixels(str) {\n    return Math.round(Number(str)*inch2pixels,0);\n}\nfunction MilsToPixels(str) {\n    return Math.round(Number(str)*mils2pixels,0);\n}\n\nfunction parsePolygon(lines, start) {\n    let shapes = [];\n    let i = start;\n    let line = lines[i];\n    let terms = line.split(' ');\n    let ps = new Point( InchToPixels(terms[1]), InchToPixels(terms[2]) );\n    let pe;\n    let pc;\n    let end_of_face = false;\n    while(true) {\n        line = lines[i];\n        terms = line.split(' ');\n        switch (terms[0]) {\n            case 'OS':\n                pe = new Point( InchToPixels(terms[1]), InchToPixels(terms[2]) );\n                shapes.push( new Segment(ps, pe));\n\n                ps = pe.clone();\n                break;\n            case 'OC':\n                pe = new Point( InchToPixels(terms[1]), InchToPixels(terms[2]) );\n                pc = new Point( InchToPixels(terms[3]), InchToPixels(terms[4]) );\n\n                let cwStr = terms[5];\n                let counterClockwise = cwStr === 'Y' ? Flatten.CW : Flatten.CCW; /* sic ! */\n\n                let startAngle = vector(pc,ps).slope;\n                let endAngle = vector(pc, pe).slope;\n                if (Flatten.Utils.EQ(startAngle, endAngle)) {\n                    endAngle += 2*Math.PI;\n                    counterClockwise = true;\n                }\n                let r = vector(pc, ps).length;\n\n                shapes.push(new Arc(pc, r, startAngle, endAngle, counterClockwise));\n\n                ps = pe.clone();\n                break;\n            case 'OE':\n                end_of_face = true;\n                break;\n            default:\n                break;\n        }\n        if (end_of_face) {\n            break;\n        }\n\n        i++;\n    }\n    return shapes;\n}\n\nfunction parseLine(str, apertures) {\n    let terms = str.split(' ');\n    let ps = new Point( InchToPixels(terms[1]), InchToPixels(terms[2]) );\n    let pe = new Point( InchToPixels(terms[3]), InchToPixels(terms[4]) );\n    let segment = new Segment(ps, pe);\n    let ap_key = Number(terms[5]);\n    let ap_value = apertures[ap_key];\n    segment.aperture = ap_value;     // augmentation\n    return segment;\n}\n\nfunction parseArc(str, apertures) {\n    let terms = str.split(' ');\n    let ps = new Point( InchToPixels(terms[1]), InchToPixels(terms[2]) );\n    let pe = new Point( InchToPixels(terms[3]), InchToPixels(terms[4]) );\n    let pc = new Point( InchToPixels(terms[5]), InchToPixels(terms[6]) );\n\n    let cwStr = terms[10];\n    let counterClockwise = cwStr === 'Y' ? Flatten.CW : Flatten.CCW; /* sic ! */\n\n    let startAngle = vector(pc,ps).slope;\n    let endAngle = vector(pc, pe).slope;\n    if (Flatten.Utils.EQ(startAngle, endAngle)) {\n        endAngle += 2*Math.PI;\n        counterClockwise = true;\n    }\n    let r = vector(pc, ps).length;\n\n    let arc = new Arc(pc, r, startAngle, endAngle, counterClockwise);\n\n    let ap_key = Number(terms[7]);\n    let ap_value = apertures[ap_key];\n    arc.aperture = ap_value;     // augmentation\n\n    return arc;\n}\n\nexport function parseODB(filename, str) {\n    let job = new Job();\n    job.filename = filename;\n\n    let arrayOfLines = str.match(/[^\\r\\n]+/g);\n    let polygon;\n\n    let apertures = [];\n\n    for (let i=0; i < arrayOfLines.length; i++) {\n        let line = arrayOfLines[i];\n        let terms = line.split(' ');\n\n        if (terms[0].substr(0,1) === '$') {\n            let ap_key = Number(terms[0].substr(1));\n            let ap_value = MilsToPixels(terms[1].substr(1));\n            apertures[ap_key] = ap_value;\n            continue;\n        }\n\n        switch (terms[0]) {\n            case 'S':                  // surface started\n                polygon = new Polygon();\n                let termArr = line.split(' ');\n                let polarity = termArr[1];      // consider later\n                polygon.polarity = polarity;\n                break;\n            case 'OB':                  // polygon started\n                let start = i;\n                let shapes = parsePolygon(arrayOfLines, start);\n                polygon.addFace(shapes);\n                i = start + shapes.length + 1;\n                break;\n            case 'SE':     // surface ended\n                job.shapes.push(polygon);\n                break;\n            case 'L':                  // line\n                let odbLine = parseLine(line, apertures);\n                job.shapes.push(odbLine);\n                break;\n            case 'A':                  // Arc\n                let odbArc = parseArc(line, apertures);\n                job.shapes.push(odbArc);\n                break;\n            default:\n                break;\n        }\n    }\n    return job;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/parserODB.js","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n'use strict';\n\nvar emptyObject = {};\n\nif (process.env.NODE_ENV !== 'production') {\n  Object.freeze(emptyObject);\n}\n\nmodule.exports = emptyObject;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/fbjs/lib/emptyObject.js\n// module id = 17\n// module chunks = 0","/**\r\n * Created by Alex Bol on 3/28/2017.\r\n */\r\n\r\n'use strict';\r\n\r\nmodule.exports = {\r\n    RB_TREE_COLOR_RED: 0,\r\n    RB_TREE_COLOR_BLACK: 1\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/flatten-interval-tree/utils/constants.js\n// module id = 18\n// module chunks = 0","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_Symbol.js\n// module id = 19\n// module chunks = 0","var baseGetTag = require('./_baseGetTag'),\n    getPrototype = require('./_getPrototype'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nmodule.exports = isPlainObject;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/isPlainObject.js\n// module id = 20\n// module chunks = 0","'use strict';\n\nvar asap = require('asap/raw');\n\nfunction noop() {}\n\n// States:\n//\n// 0 - pending\n// 1 - fulfilled with _value\n// 2 - rejected with _value\n// 3 - adopted the state of another promise, _value\n//\n// once the state is no longer pending (0) it is immutable\n\n// All `_` prefixed properties will be reduced to `_{random number}`\n// at build time to obfuscate them and discourage their use.\n// We don't use symbols or Object.defineProperty to fully hide them\n// because the performance isn't good enough.\n\n\n// to avoid using try/catch inside critical functions, we\n// extract them to here.\nvar LAST_ERROR = null;\nvar IS_ERROR = {};\nfunction getThen(obj) {\n  try {\n    return obj.then;\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\n\nfunction tryCallOne(fn, a) {\n  try {\n    return fn(a);\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\nfunction tryCallTwo(fn, a, b) {\n  try {\n    fn(a, b);\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\n\nmodule.exports = Promise;\n\nfunction Promise(fn) {\n  if (typeof this !== 'object') {\n    throw new TypeError('Promises must be constructed via new');\n  }\n  if (typeof fn !== 'function') {\n    throw new TypeError('not a function');\n  }\n  this._45 = 0;\n  this._81 = 0;\n  this._65 = null;\n  this._54 = null;\n  if (fn === noop) return;\n  doResolve(fn, this);\n}\nPromise._10 = null;\nPromise._97 = null;\nPromise._61 = noop;\n\nPromise.prototype.then = function(onFulfilled, onRejected) {\n  if (this.constructor !== Promise) {\n    return safeThen(this, onFulfilled, onRejected);\n  }\n  var res = new Promise(noop);\n  handle(this, new Handler(onFulfilled, onRejected, res));\n  return res;\n};\n\nfunction safeThen(self, onFulfilled, onRejected) {\n  return new self.constructor(function (resolve, reject) {\n    var res = new Promise(noop);\n    res.then(resolve, reject);\n    handle(self, new Handler(onFulfilled, onRejected, res));\n  });\n};\nfunction handle(self, deferred) {\n  while (self._81 === 3) {\n    self = self._65;\n  }\n  if (Promise._10) {\n    Promise._10(self);\n  }\n  if (self._81 === 0) {\n    if (self._45 === 0) {\n      self._45 = 1;\n      self._54 = deferred;\n      return;\n    }\n    if (self._45 === 1) {\n      self._45 = 2;\n      self._54 = [self._54, deferred];\n      return;\n    }\n    self._54.push(deferred);\n    return;\n  }\n  handleResolved(self, deferred);\n}\n\nfunction handleResolved(self, deferred) {\n  asap(function() {\n    var cb = self._81 === 1 ? deferred.onFulfilled : deferred.onRejected;\n    if (cb === null) {\n      if (self._81 === 1) {\n        resolve(deferred.promise, self._65);\n      } else {\n        reject(deferred.promise, self._65);\n      }\n      return;\n    }\n    var ret = tryCallOne(cb, self._65);\n    if (ret === IS_ERROR) {\n      reject(deferred.promise, LAST_ERROR);\n    } else {\n      resolve(deferred.promise, ret);\n    }\n  });\n}\nfunction resolve(self, newValue) {\n  // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n  if (newValue === self) {\n    return reject(\n      self,\n      new TypeError('A promise cannot be resolved with itself.')\n    );\n  }\n  if (\n    newValue &&\n    (typeof newValue === 'object' || typeof newValue === 'function')\n  ) {\n    var then = getThen(newValue);\n    if (then === IS_ERROR) {\n      return reject(self, LAST_ERROR);\n    }\n    if (\n      then === self.then &&\n      newValue instanceof Promise\n    ) {\n      self._81 = 3;\n      self._65 = newValue;\n      finale(self);\n      return;\n    } else if (typeof then === 'function') {\n      doResolve(then.bind(newValue), self);\n      return;\n    }\n  }\n  self._81 = 1;\n  self._65 = newValue;\n  finale(self);\n}\n\nfunction reject(self, newValue) {\n  self._81 = 2;\n  self._65 = newValue;\n  if (Promise._97) {\n    Promise._97(self, newValue);\n  }\n  finale(self);\n}\nfunction finale(self) {\n  if (self._45 === 1) {\n    handle(self, self._54);\n    self._54 = null;\n  }\n  if (self._45 === 2) {\n    for (var i = 0; i < self._54.length; i++) {\n      handle(self, self._54[i]);\n    }\n    self._54 = null;\n  }\n}\n\nfunction Handler(onFulfilled, onRejected, promise){\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.promise = promise;\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, promise) {\n  var done = false;\n  var res = tryCallTwo(fn, function (value) {\n    if (done) return;\n    done = true;\n    resolve(promise, value);\n  }, function (reason) {\n    if (done) return;\n    done = true;\n    reject(promise, reason);\n  })\n  if (!done && res === IS_ERROR) {\n    done = true;\n    reject(promise, LAST_ERROR);\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/promise/lib/core.js\n// module id = 21\n// module chunks = 0","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.min.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-dom/index.js\n// module id = 22\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _screenReaderStyles = require('./screen-reader-styles');\n\nvar _screenReaderStyles2 = _interopRequireDefault(_screenReaderStyles);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * A React component for the font-awesome icon library.\n *\n * @param {String} [ariaLabel] An extra accessibility label to put on the icon\n * @param {Boolean} [border=false] Whether or not to show a border radius\n * @param {String} [className] An extra set of CSS classes to add to the component\n * @param {Object} [cssModule] Option to pass FontAwesome CSS as a module\n * @param {Boolean} [fixedWidth=false] Make buttons fixed width\n * @param {String} [flip=false] Flip the icon's orientation.\n * @param {Boolean} [inverse=false]Inverse the icon's color\n * @param {String} name Name of the icon to use\n * @param {Boolean} [pulse=false] Rotate icon with 8 steps, rather than smoothly\n * @param {Number} [rotate] The degress to rotate the icon by\n * @param {String} [size] The icon scaling size\n * @param {Boolean} [spin=false] Spin the icon\n * @param {String} [stack] Stack an icon on top of another\n * @param {String} [tag=span] The HTML tag to use as a string, eg 'i' or 'em'\n * @module FontAwesome\n * @type {ReactClass}\n */\nvar FontAwesome = function (_React$Component) {\n  _inherits(FontAwesome, _React$Component);\n\n  function FontAwesome() {\n    _classCallCheck(this, FontAwesome);\n\n    var _this = _possibleConstructorReturn(this, (FontAwesome.__proto__ || Object.getPrototypeOf(FontAwesome)).call(this));\n\n    _this.displayName = 'FontAwesome';\n    return _this;\n  }\n\n  _createClass(FontAwesome, [{\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          border = _props.border,\n          cssModule = _props.cssModule,\n          className = _props.className,\n          fixedWidth = _props.fixedWidth,\n          flip = _props.flip,\n          inverse = _props.inverse,\n          name = _props.name,\n          pulse = _props.pulse,\n          rotate = _props.rotate,\n          size = _props.size,\n          spin = _props.spin,\n          stack = _props.stack,\n          _props$tag = _props.tag,\n          tag = _props$tag === undefined ? 'span' : _props$tag,\n          ariaLabel = _props.ariaLabel,\n          props = _objectWithoutProperties(_props, ['border', 'cssModule', 'className', 'fixedWidth', 'flip', 'inverse', 'name', 'pulse', 'rotate', 'size', 'spin', 'stack', 'tag', 'ariaLabel']);\n\n      var classNames = [];\n\n      if (cssModule) {\n        classNames.push(cssModule['fa']);\n        classNames.push(cssModule['fa-' + name]);\n        size && classNames.push(cssModule['fa-' + size]);\n        spin && classNames.push(cssModule['fa-spin']);\n        pulse && classNames.push(cssModule['fa-pulse']);\n        border && classNames.push(cssModule['fa-border']);\n        fixedWidth && classNames.push(cssModule['fa-fw']);\n        inverse && classNames.push(cssModule['fa-inverse']);\n        flip && classNames.push(cssModule['fa-flip-' + flip]);\n        rotate && classNames.push(cssModule['fa-rotate-' + rotate]);\n        stack && classNames.push(cssModule['fa-stack-' + stack]);\n      } else {\n        classNames.push('fa');\n        classNames.push('fa-' + name);\n        size && classNames.push('fa-' + size);\n        spin && classNames.push('fa-spin');\n        pulse && classNames.push('fa-pulse');\n        border && classNames.push('fa-border');\n        fixedWidth && classNames.push('fa-fw');\n        inverse && classNames.push('fa-inverse');\n        flip && classNames.push('fa-flip-' + flip);\n        rotate && classNames.push('fa-rotate-' + rotate);\n        stack && classNames.push('fa-stack-' + stack);\n      }\n\n      // Add any custom class names at the end.\n      className && classNames.push(className);\n      return _react2.default.createElement(tag, _extends({}, props, { 'aria-hidden': true, className: classNames.join(' ') }), ariaLabel ? _react2.default.createElement('span', { style: _screenReaderStyles2.default }, ariaLabel) : null);\n    }\n  }]);\n\n  return FontAwesome;\n}(_react2.default.Component);\n\nFontAwesome.propTypes = {\n  ariaLabel: _propTypes2.default.string,\n  border: _propTypes2.default.bool,\n  className: _propTypes2.default.string,\n  cssModule: _propTypes2.default.object,\n  fixedWidth: _propTypes2.default.bool,\n  flip: _propTypes2.default.oneOf(['horizontal', 'vertical']),\n  inverse: _propTypes2.default.bool,\n  name: _propTypes2.default.string.isRequired,\n  pulse: _propTypes2.default.bool,\n  rotate: _propTypes2.default.oneOf([90, 180, 270]),\n  size: _propTypes2.default.oneOf(['lg', '2x', '3x', '4x', '5x']),\n  spin: _propTypes2.default.bool,\n  stack: _propTypes2.default.oneOf(['1x', '2x']),\n  tag: _propTypes2.default.string\n};\n\nexports.default = FontAwesome;\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-fontawesome/lib/index.js\n// module id = 23\n// module chunks = 0","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = compose;\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\n\nfunction compose() {\n  for (var _len = arguments.length, funcs = Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(undefined, arguments));\n    };\n  });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/redux/lib/compose.js\n// module id = 24\n// module chunks = 0","'use strict';\n\nexports.__esModule = true;\nexports.ActionTypes = undefined;\nexports['default'] = createStore;\n\nvar _isPlainObject = require('lodash/isPlainObject');\n\nvar _isPlainObject2 = _interopRequireDefault(_isPlainObject);\n\nvar _symbolObservable = require('symbol-observable');\n\nvar _symbolObservable2 = _interopRequireDefault(_symbolObservable);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar ActionTypes = exports.ActionTypes = {\n  INIT: '@@redux/INIT'\n\n  /**\n   * Creates a Redux store that holds the state tree.\n   * The only way to change the data in the store is to call `dispatch()` on it.\n   *\n   * There should only be a single store in your app. To specify how different\n   * parts of the state tree respond to actions, you may combine several reducers\n   * into a single reducer function by using `combineReducers`.\n   *\n   * @param {Function} reducer A function that returns the next state tree, given\n   * the current state tree and the action to handle.\n   *\n   * @param {any} [preloadedState] The initial state. You may optionally specify it\n   * to hydrate the state from the server in universal apps, or to restore a\n   * previously serialized user session.\n   * If you use `combineReducers` to produce the root reducer function, this must be\n   * an object with the same shape as `combineReducers` keys.\n   *\n   * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n   * to enhance the store with third-party capabilities such as middleware,\n   * time travel, persistence, etc. The only store enhancer that ships with Redux\n   * is `applyMiddleware()`.\n   *\n   * @returns {Store} A Redux store that lets you read the state, dispatch actions\n   * and subscribe to changes.\n   */\n};function createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error('Expected the enhancer to be a function.');\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error('Expected the reducer to be a function.');\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n  function getState() {\n    return currentState;\n  }\n\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('Expected listener to be a function.');\n    }\n\n    var isSubscribed = true;\n\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      isSubscribed = false;\n\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n    };\n  }\n\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing what changed. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n  function dispatch(action) {\n    if (!(0, _isPlainObject2['default'])(action)) {\n      throw new Error('Actions must be plain objects. ' + 'Use custom middleware for async actions.');\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error('Actions may not have an undefined \"type\" property. ' + 'Have you misspelled a constant?');\n    }\n\n    if (isDispatching) {\n      throw new Error('Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error('Expected the nextReducer to be a function.');\n    }\n\n    currentReducer = nextReducer;\n    dispatch({ type: ActionTypes.INIT });\n  }\n\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object') {\n          throw new TypeError('Expected the observer to be an object.');\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return { unsubscribe: unsubscribe };\n      }\n    }, _ref[_symbolObservable2['default']] = function () {\n      return this;\n    }, _ref;\n  }\n\n  // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n  dispatch({ type: ActionTypes.INIT });\n\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[_symbolObservable2['default']] = observable, _ref2;\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/redux/lib/createStore.js\n// module id = 25\n// module chunks = 0","'use strict';\n\nexports.__esModule = true;\nexports.compose = exports.applyMiddleware = exports.bindActionCreators = exports.combineReducers = exports.createStore = undefined;\n\nvar _createStore = require('./createStore');\n\nvar _createStore2 = _interopRequireDefault(_createStore);\n\nvar _combineReducers = require('./combineReducers');\n\nvar _combineReducers2 = _interopRequireDefault(_combineReducers);\n\nvar _bindActionCreators = require('./bindActionCreators');\n\nvar _bindActionCreators2 = _interopRequireDefault(_bindActionCreators);\n\nvar _applyMiddleware = require('./applyMiddleware');\n\nvar _applyMiddleware2 = _interopRequireDefault(_applyMiddleware);\n\nvar _compose = require('./compose');\n\nvar _compose2 = _interopRequireDefault(_compose);\n\nvar _warning = require('./utils/warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n/*\n* This is a dummy function to check if the function name has been altered by minification.\n* If the function has been minified and NODE_ENV !== 'production', warn the user.\n*/\nfunction isCrushed() {}\n\nif (process.env.NODE_ENV !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  (0, _warning2['default'])('You are currently using minified code outside of NODE_ENV === \\'production\\'. ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or DefinePlugin for webpack (http://stackoverflow.com/questions/30030031) ' + 'to ensure you have the correct code for your production build.');\n}\n\nexports.createStore = _createStore2['default'];\nexports.combineReducers = _combineReducers2['default'];\nexports.bindActionCreators = _bindActionCreators2['default'];\nexports.applyMiddleware = _applyMiddleware2['default'];\nexports.compose = _compose2['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/redux/lib/index.js\n// module id = 26\n// module chunks = 0","'use strict';\n\nexports.__esModule = true;\nexports['default'] = warning;\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n    /* eslint-disable no-empty */\n  } catch (e) {}\n  /* eslint-enable no-empty */\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/redux/lib/utils/warning.js\n// module id = 27\n// module chunks = 0","\"use strict\";\n\nlet Flatten = require('flatten-js');\nlet {Point, Vector, Segment, Arc, Line, Box, Polygon} = Flatten;\n\nclass CollisionDistance {\n    static apply(polygon1, polygon2) {\n        let collision_distance = Number.POSITIVE_INFINITY;\n        for (let edge of [...polygon2.edges]) {\n            let distance = CollisionDistance.edge2polygon(edge, polygon1);\n            if (distance < collision_distance) {\n                collision_distance = distance;\n            }\n        }\n        return collision_distance;\n    }\n\n    static edge2polygon(edge2, polygon1) {\n        let shapeBox = edge2.shape.box;\n        let box = new Box(\n            Number.NEGATIVE_INFINITY,\n            shapeBox.ymin,\n            Number.POSITIVE_INFINITY,\n            shapeBox.ymax\n        );\n        let collision_distance = Number.POSITIVE_INFINITY;\n        let resp_edges =  polygon1.edges.search(box);\n        for (let edge1 of resp_edges) {\n            let distance;\n            if (edge1.shape instanceof Segment && edge2.shape instanceof Segment) {\n                distance = CollisionDistance.segment2segment(edge1.shape, edge2.shape);\n            }\n            else if (edge1.shape instanceof Arc && edge2.shape instanceof Segment) {\n                distance = CollisionDistance.segment2arc(edge2.shape, edge1.shape);\n            }\n            else if (edge1.shape instanceof Segment && edge2.shape instanceof Arc) {\n                distance = CollisionDistance.segment2arc(edge1.shape, edge2.shape);\n            }\n            else if (edge1.shape instanceof Arc && edge2.shape instanceof Arc) {\n                distance = CollisionDistance.arc2arc(edge1.shape, edge2.shape);\n            }\n\n            if (distance < collision_distance) {\n                collision_distance = distance;\n            }\n        }\n        return collision_distance;\n    }\n\n    static point2shape(point, shape) {\n        let line = new Line(point, new Vector(0,1));\n        let intersections = line.intersect(shape);          // segment or arc\n        let collision_distance = Number.POSITIVE_INFINITY;\n        for (let ip of intersections) {\n            let [distance, shortest_segment] = point.distanceTo(ip);\n            if (distance < collision_distance) {\n                collision_distance = distance;\n            }\n        }\n        return collision_distance;\n    }\n\n    static segment2segment(segment1, segment2) {\n        let collision_distance = Number.POSITIVE_INFINITY;\n        for (let point of segment1.vertices) {\n            let distance = CollisionDistance.point2shape(point, segment2);\n            if (distance < collision_distance) {\n                collision_distance = distance;\n            }\n        }\n        for (let point of segment2.vertices) {\n            let distance = CollisionDistance.point2shape(point, segment1);\n            if (distance < collision_distance) {\n                collision_distance = distance;\n            }\n        }\n        return collision_distance;\n    }\n\n    static segment2arc(segment, arc) {\n        let collision_distance = Number.POSITIVE_INFINITY;\n        let v_s = new Vector(segment.start, segment.end);\n        v_s = v_s.normalize();\n\n        let v_n = [v_s.rotate90CCW().multiply(arc.r), v_s.rotate90CW().multiply(arc.r)];\n        let distance;\n\n        // Distance between tangent point and segment\n        for (let v of v_n) {\n            let tangent_point = arc.center.translate(v);  // tangent point in direction of the normal vector\n            if (tangent_point.on(arc)) {\n                distance = CollisionDistance.point2shape(tangent_point, segment);\n                if (distance < collision_distance) {\n                    collision_distance = distance;\n                }\n            }\n        }\n\n        for (let point of arc.vertices) {\n            let distance = CollisionDistance.point2shape(point, segment);\n            if (distance < collision_distance) {\n                collision_distance = distance;\n            }\n        }\n        for (let point of segment.vertices) {\n            let distance = CollisionDistance.point2shape(point, arc);\n            if (distance < collision_distance) {\n                collision_distance = distance;\n            }\n        }\n        return collision_distance;\n    }\n\n    static arc2arc(arc1, arc2) {\n        let collision_distance = Number.POSITIVE_INFINITY;\n        let distance;\n\n        // test translation of arc2.center to arc1 enlarged by r2\n        let arc_enlarged = arc1.clone();\n        arc_enlarged.r += arc2.r;\n        distance = CollisionDistance.point2shape(arc2.center, arc_enlarged);\n        if (distance < collision_distance) {\n            // additional check that transformed arc actually touching\n            let [dist_tmp, shortest_segment_tmp] =\n                arc1.distanceTo( CollisionDistance.translateArc(arc2, new Vector(-distance,0)));\n            if (Flatten.Utils.EQ_0(dist_tmp)) {\n                collision_distance = distance;\n            }\n        }\n\n        // test translation of arc2.center to arc1 reduced by r2\n        if (Flatten.Utils.GE(arc1.r, arc2.r)) {\n            let arc_reduced = arc1.clone();\n            arc_reduced.r -= arc2.r;\n            distance = CollisionDistance.point2shape(arc2.center, arc_reduced);\n            if (distance < collision_distance) {\n                // additional check that transformed arc actually touching\n                let [dist_tmp, shortest_segment_tmp] =\n                    arc1.distanceTo( CollisionDistance.translateArc(arc2, new Vector(-distance,0)));\n                if (Flatten.Utils.EQ_0(dist_tmp)) {\n                    collision_distance = distance;\n                }\n            }\n        }\n\n        // test translation of arc1.center to arc2 reduced by r1\n        if (Flatten.Utils.LT(arc1.r, arc2.r)) {\n            let arc_reduced = arc2.clone();\n            arc_reduced.r -= arc1.r;\n            distance = CollisionDistance.point2shape(arc1.center, arc_reduced);\n            if (distance < collision_distance) {\n                // additional check that transformed arc actually touching\n                let [dist_tmp, shortest_segment_tmp] =\n                    arc1.distanceTo( CollisionDistance.translateArc(arc2, new Vector(-distance,0)));\n                if (Flatten.Utils.EQ_0(dist_tmp)) {\n                    collision_distance = distance;\n                }\n            }\n        }\n\n        for (let point of arc1.vertices) {\n            let distance = CollisionDistance.point2shape(point, arc2);\n            if (distance < collision_distance) {\n                collision_distance = distance;\n            }\n        }\n        for (let point of arc2.vertices) {\n            let distance = CollisionDistance.point2shape(point, arc1);\n            if (distance < collision_distance) {\n                collision_distance = distance;\n            }\n        }\n        return collision_distance;\n    }\n\n    static translateArc(arc, vec) {\n        let arc_tmp = arc.clone();\n        arc_tmp.pc = arc_tmp.pc.translate(vec);\n        return arc_tmp;\n    }\n\n    static translate(polygon, vec) {\n        let newPolygon = new Polygon();\n        for (let face of polygon.faces) {\n            let shapes = [];\n            for (let edge of face) {\n                if (edge.shape instanceof Segment) {\n                    shapes.push(\n                        new Segment(edge.shape.ps.translate(vec), edge.shape.pe.translate(vec))\n                    )\n                }\n                else if (edge.shape instanceof  Arc) {\n                    let arc_trans = edge.shape.clone();\n                    arc_trans.pc = edge.shape.pc.translate(vec);\n                    shapes.push(arc_trans);\n                }\n            }\n            newPolygon.addFace(shapes);\n        }\n        return newPolygon;\n    }\n\n};\n\nCollisionDistance.Flatten = Flatten;\n\nmodule.exports = CollisionDistance;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/@alexbol99/collision_distance/index.js\n// module id = 28\n// module chunks = 0","\"use strict\";\n\n// Use the fastest means possible to execute a task in its own turn, with\n// priority over other events including IO, animation, reflow, and redraw\n// events in browsers.\n//\n// An exception thrown by a task will permanently interrupt the processing of\n// subsequent tasks. The higher level `asap` function ensures that if an\n// exception is thrown by a task, that the task queue will continue flushing as\n// soon as possible, but if you use `rawAsap` directly, you are responsible to\n// either ensure that no exceptions are thrown from your task, or to manually\n// call `rawAsap.requestFlush` if an exception is thrown.\nmodule.exports = rawAsap;\nfunction rawAsap(task) {\n    if (!queue.length) {\n        requestFlush();\n        flushing = true;\n    }\n    // Equivalent to push, but avoids a function call.\n    queue[queue.length] = task;\n}\n\nvar queue = [];\n// Once a flush has been requested, no further calls to `requestFlush` are\n// necessary until the next `flush` completes.\nvar flushing = false;\n// `requestFlush` is an implementation-specific method that attempts to kick\n// off a `flush` event as quickly as possible. `flush` will attempt to exhaust\n// the event queue before yielding to the browser's own event loop.\nvar requestFlush;\n// The position of the next task to execute in the task queue. This is\n// preserved between calls to `flush` so that it can be resumed if\n// a task throws an exception.\nvar index = 0;\n// If a task schedules additional tasks recursively, the task queue can grow\n// unbounded. To prevent memory exhaustion, the task queue will periodically\n// truncate already-completed tasks.\nvar capacity = 1024;\n\n// The flush function processes all tasks that have been scheduled with\n// `rawAsap` unless and until one of those tasks throws an exception.\n// If a task throws an exception, `flush` ensures that its state will remain\n// consistent and will resume where it left off when called again.\n// However, `flush` does not make any arrangements to be called again if an\n// exception is thrown.\nfunction flush() {\n    while (index < queue.length) {\n        var currentIndex = index;\n        // Advance the index before calling the task. This ensures that we will\n        // begin flushing on the next task the task throws an error.\n        index = index + 1;\n        queue[currentIndex].call();\n        // Prevent leaking memory for long chains of recursive calls to `asap`.\n        // If we call `asap` within tasks scheduled by `asap`, the queue will\n        // grow, but to avoid an O(n) walk for every task we execute, we don't\n        // shift tasks off the queue after they have been executed.\n        // Instead, we periodically shift 1024 tasks off the queue.\n        if (index > capacity) {\n            // Manually shift all values starting at the index back to the\n            // beginning of the queue.\n            for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {\n                queue[scan] = queue[scan + index];\n            }\n            queue.length -= index;\n            index = 0;\n        }\n    }\n    queue.length = 0;\n    index = 0;\n    flushing = false;\n}\n\n// `requestFlush` is implemented using a strategy based on data collected from\n// every available SauceLabs Selenium web driver worker at time of writing.\n// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n\n// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n// have WebKitMutationObserver but not un-prefixed MutationObserver.\n// Must use `global` or `self` instead of `window` to work in both frames and web\n// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\n\n/* globals self */\nvar scope = typeof global !== \"undefined\" ? global : self;\nvar BrowserMutationObserver = scope.MutationObserver || scope.WebKitMutationObserver;\n\n// MutationObservers are desirable because they have high priority and work\n// reliably everywhere they are implemented.\n// They are implemented in all modern browsers.\n//\n// - Android 4-4.3\n// - Chrome 26-34\n// - Firefox 14-29\n// - Internet Explorer 11\n// - iPad Safari 6-7.1\n// - iPhone Safari 7-7.1\n// - Safari 6-7\nif (typeof BrowserMutationObserver === \"function\") {\n    requestFlush = makeRequestCallFromMutationObserver(flush);\n\n// MessageChannels are desirable because they give direct access to the HTML\n// task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n// 11-12, and in web workers in many engines.\n// Although message channels yield to any queued rendering and IO tasks, they\n// would be better than imposing the 4ms delay of timers.\n// However, they do not work reliably in Internet Explorer or Safari.\n\n// Internet Explorer 10 is the only browser that has setImmediate but does\n// not have MutationObservers.\n// Although setImmediate yields to the browser's renderer, it would be\n// preferrable to falling back to setTimeout since it does not have\n// the minimum 4ms penalty.\n// Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n// Desktop to a lesser extent) that renders both setImmediate and\n// MessageChannel useless for the purposes of ASAP.\n// https://github.com/kriskowal/q/issues/396\n\n// Timers are implemented universally.\n// We fall back to timers in workers in most engines, and in foreground\n// contexts in the following browsers.\n// However, note that even this simple case requires nuances to operate in a\n// broad spectrum of browsers.\n//\n// - Firefox 3-13\n// - Internet Explorer 6-9\n// - iPad Safari 4.3\n// - Lynx 2.8.7\n} else {\n    requestFlush = makeRequestCallFromTimer(flush);\n}\n\n// `requestFlush` requests that the high priority event queue be flushed as\n// soon as possible.\n// This is useful to prevent an error thrown in a task from stalling the event\n// queue if the exception handled by Node.jss\n// `process.on(\"uncaughtException\")` or by a domain.\nrawAsap.requestFlush = requestFlush;\n\n// To request a high priority event, we induce a mutation observer by toggling\n// the text of a text node between \"1\" and \"-1\".\nfunction makeRequestCallFromMutationObserver(callback) {\n    var toggle = 1;\n    var observer = new BrowserMutationObserver(callback);\n    var node = document.createTextNode(\"\");\n    observer.observe(node, {characterData: true});\n    return function requestCall() {\n        toggle = -toggle;\n        node.data = toggle;\n    };\n}\n\n// The message channel technique was discovered by Malte Ubl and was the\n// original foundation for this library.\n// http://www.nonblocking.io/2011/06/windownexttick.html\n\n// Safari 6.0.5 (at least) intermittently fails to create message ports on a\n// page's first load. Thankfully, this version of Safari supports\n// MutationObservers, so we don't need to fall back in that case.\n\n// function makeRequestCallFromMessageChannel(callback) {\n//     var channel = new MessageChannel();\n//     channel.port1.onmessage = callback;\n//     return function requestCall() {\n//         channel.port2.postMessage(0);\n//     };\n// }\n\n// For reasons explained above, we are also unable to use `setImmediate`\n// under any circumstances.\n// Even if we were, there is another bug in Internet Explorer 10.\n// It is not sufficient to assign `setImmediate` to `requestFlush` because\n// `setImmediate` must be called *by name* and therefore must be wrapped in a\n// closure.\n// Never forget.\n\n// function makeRequestCallFromSetImmediate(callback) {\n//     return function requestCall() {\n//         setImmediate(callback);\n//     };\n// }\n\n// Safari 6.0 has a problem where timers will get lost while the user is\n// scrolling. This problem does not impact ASAP because Safari 6.0 supports\n// mutation observers, so that implementation is used instead.\n// However, if we ever elect to use timers in Safari, the prevalent work-around\n// is to add a scroll event listener that calls for a flush.\n\n// `setTimeout` does not call the passed callback if the delay is less than\n// approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n// even then.\n\nfunction makeRequestCallFromTimer(callback) {\n    return function requestCall() {\n        // We dispatch a timeout with a specified delay of 0 for engines that\n        // can reliably accommodate that request. This will usually be snapped\n        // to a 4 milisecond delay, but once we're flushing, there's no delay\n        // between events.\n        var timeoutHandle = setTimeout(handleTimer, 0);\n        // However, since this timer gets frequently dropped in Firefox\n        // workers, we enlist an interval handle that will try to fire\n        // an event 20 times per second until it succeeds.\n        var intervalHandle = setInterval(handleTimer, 50);\n\n        function handleTimer() {\n            // Whichever timer succeeds will cancel both timers and\n            // execute the callback.\n            clearTimeout(timeoutHandle);\n            clearInterval(intervalHandle);\n            callback();\n        }\n    };\n}\n\n// This is for `asap.js` only.\n// Its name will be periodically randomized to break any code that depends on\n// its existence.\nrawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer;\n\n// ASAP was originally a nextTick shim included in Q. This was factored out\n// into this ASAP package. It was later adapted to RSVP which made further\n// amendments. These decisions, particularly to marginalize MessageChannel and\n// to capture the MutationObserver implementation in a closure, were integrated\n// back into ASAP proper.\n// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/asap/browser-raw.js\n// module id = 29\n// module chunks = 0","import React, {Component} from 'react';\n// import logo from './logo.svg';\nimport '../public/styles/App.css';\n\nimport {HeaderComponent} from './components/headerComponent';\nimport {MainComponent} from './components/mainComponent';\nimport {LayersListComponent} from './components/layersListComponent';\nimport {AsideComponent} from './components/asideComponent';\n\nimport * as ActionTypes from './actions/action-types';\n\nexport class App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = this.props.store.getState();\n        this.props.store.subscribe(() => {\n            this.setState(this.props.store.getState());\n        });\n        this.handlePaste = this.handlePaste.bind(this);\n        this.handleHashChange = this.handleHashChange.bind(this);\n    }\n\n    handlePaste(event) {\n        this.props.store.dispatch({\n            type: ActionTypes.DATA_FROM_BUFFER_PASTED,\n            data: event.clipboardData\n        });\n    }\n\n    handleHashChange(event) {\n        this.props.store.dispatch({\n            type: ActionTypes.WINDOW_HASH_CHANGED,\n            stage: this.state.stage\n        });\n    }\n\n    componentWillMount() {\n        // this.dispatch = this.props.store.dispatch;\n        this.setState(this.props.store.getState());\n    }\n\n    componentWillReceiveProps(nextProps) {\n        this.setState(nextProps.store.getState());\n    }\n\n    componentDidMount(e) {\n        window.onhashchange = this.handleHashChange;\n    }\n\n    render() {\n        return (\n            <div className=\"App\">\n                <HeaderComponent {...this.props} />\n                <div className=\"App-body\" onPaste={this.handlePaste}>\n                    <MainComponent {...this.props} />\n                    <LayersListComponent\n                        dispatch={this.props.store.dispatch}\n                        stage={this.state.stage}\n                        layers={this.state.layers}\n                    />\n                    <AsideComponent {...this.props} />\n                </div>\n            </div>\n        );\n    }\n}\n\n// export default App;\n\n/*\n <div className=\"App\">\n <div className=\"App-header\">\n <h2>Debug Viewer</h2>\n </div>\n\n </div>\n*/\n\n/*\n <img src={logo} className=\"App-logo\" alt=\"logo\" />\n */\n\n\n// WEBPACK FOOTER //\n// ./src/App.js","/**\n * Created by alexanderbol on 06/05/2017.\n */\n\nimport React, {Component} from 'react';\nimport '../../public/styles/App.css';\nimport * as ActionTypes from '../actions/action-types';\n// import {Layers} from '../models/layers';\n// import {Shape} from '../models/shape';\n\nexport class AsideComponent extends Component {\n    constructor() {\n        super();\n        this.onToggleWatchExpandButtonClicked = this.onToggleWatchExpandButtonClicked.bind(this);\n        this.onSelectShapeClicked = this.onSelectShapeClicked.bind(this);\n        // this.addSamplePolygon = this.addSamplePolygon.bind(this);\n        this.height = 0;\n    }\n\n    onToggleWatchExpandButtonClicked(shape) {\n        if (!shape) return;\n        this.dispatch({\n            type: ActionTypes.TOGGLE_WATCH_EXPAND_CLICKED,\n            shape: shape\n        });\n    }\n\n    onSelectShapeClicked(shape) {\n        if (!shape) return;\n        this.dispatch({\n            type: ActionTypes.PAN_AND_ZOOM_TO_SHAPE,\n            shape: shape\n        });\n    }\n\n    componentWillMount() {\n        this.dispatch = this.props.store.dispatch;\n        this.setState(this.props.store.getState());\n    }\n\n    componentWillReceiveProps(nextProps) {\n        this.setState(nextProps.store.getState());\n    }\n\n    componentDidUpdate() {\n        this.height = this.refs.aside.clientHeight;\n        // let container = this.refs.watchContainer;\n        // let parentHeight = container.parentElement.clientHeight;\n        // container.style.maxHeight = 0.7*parentHeight;\n    }\n\n    render() {\n        // let layer = Layers.getAffected(this.state.layers);\n        // let shapes = layer ? [...layer.shapes] : undefined;\n        // let title = layer ? layer.title : \"\";\n        // let watchContainerHeight = 0.75*this.height;\n        return (\n            <aside className=\"App-aside\" ref=\"aside\">\n                <h5> </h5>\n                {/*<h5>{title}</h5>*/}\n            </aside>\n        )\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/asideComponent.js","/**\n * Created by alexanderbol on 21/04/2017.\n */\n\nimport React, {Component} from 'react';\n// import * as createjs from '../../public/easeljs-NEXT.combined.js';\n\nimport '../../public/styles/App.css';\nimport {Stage} from '../models/stage';\n\nexport class CanvasComponent extends Component {\n    constructor() {\n        super();\n        this.handleMouseMove = this.handleMouseMove.bind(this);\n        this.handleMouseDown = this.handleMouseDown.bind(this);\n        this.handleMouseUp = this.handleMouseUp.bind(this);\n        this.handleMouseLeave = this.handleMouseLeave.bind(this);\n        this.handleMouseWheel = this.handleMouseWheel.bind(this);\n        this.handleMouseWheelFox = this.handleMouseWheelFox.bind(this);\n    }\n\n    handleMouseMove(event) {\n        this.props.stage.canvas.focus();\n        this.props.onMouseMove(event.stageX, event.stageY);\n    }\n\n    handleMouseDown(event) {\n        this.props.onMouseDown(event.stageX, event.stageY);\n    }\n\n    handleMouseUp(event) {\n        event.stopPropagation();\n        event.preventDefault();\n        this.props.onMouseUp(event.stageX, event.stageY);\n    }\n\n    handleMouseLeave(event) {   // nothing works except click\n        this.props.stage.canvas.blur();\n        document.body.focus();\n    }\n\n    handleMouseWheel(event) {\n        event.preventDefault();\n\n        let delta = event.detail || event.wheelDelta;\n        if (delta !== 0) {\n            this.props.onMouseWheelMove(event.offsetX, event.offsetY, delta);\n        }\n    }\n\n    handleMouseWheelFox(event) {\n        event.preventDefault();\n        if (event.detail !== 0) {\n            this.props.onMouseWheelMove(event.layerX, event.layerY, -event.detail);\n        }\n    }\n\n    componentDidMount() {\n        let stage = new Stage(this.refs.canvas);\n\n        // stage.setClearColor(\"#FFFFFF\");\n        // stage.update();\n\n        stage.on(\"stagemousemove\", this.handleMouseMove);\n        stage.on(\"stagemousedown\", this.handleMouseDown);\n        stage.on(\"stagemouseup\", this.handleMouseUp);\n        stage.on(\"mouseleave\", this.handleMouseLeave);\n        stage.canvas.addEventListener(\"mousewheel\", this.handleMouseWheel);\n        stage.canvas.addEventListener(\"DOMMouseScroll\", this.handleMouseWheelFox);\n\n        this.props.onStageCreated(stage);\n    }\n\n    render() {\n        return (\n            <canvas tabIndex=\"1\" ref=\"canvas\" id=\"mainCanvas\" className=\"App-canvas\">\n            </canvas>\n    )\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/canvasComponent.js","/**\n * Created by alexanderbol on 13/04/2017.\n */\n\nimport React from 'react';\n// import logo from './logo.svg';\nimport '../../public/styles/App.css';\n\nexport const HeaderComponent = (props) => {\n    let state = props.store.getState();\n    return (\n        <header className=\"App-header\">\n            <h2>{state.app.title}</h2>\n        </header>\n    )\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/headerComponent.js","/**\n * Created by alexanderbol on 19/06/2017.\n */\n\nimport {Component} from 'react';\nimport * as createjs from '../../public/easeljs-NEXT.combined.js';\nimport '../models/graphics';\nimport Utils from '../utils';\n\nexport class ImageComponent extends Component {\n    constructor(params) {\n        super();\n\n        this.bitmap = new createjs.Bitmap(params.model.geom.uri);\n        params.stage.addChild(this.bitmap);\n\n        this.labelShape = undefined;\n\n        if (params.model.label && params.model.label.trim() !== \"\") {\n            var html = document.createElement('div');\n            html.innerText = params.model.label;\n            html.style.position = \"absolute\";\n            html.style.top = 0;\n            html.style.left = 0;\n\n            document.body.appendChild(html);\n\n            this.labelShape = new createjs.DOMElement(html);\n\n            this.labelShape.geom = params.model.geom;     // augment label Shape with geom struct\n            params.stage.addChild(this.labelShape);\n        }\n\n\n        // this.handleMouseMove = this.handleMouseMove.bind(this);\n        this.handleMouseOver = this.handleMouseOver.bind(this);\n        this.handleMouseOut = this.handleMouseOut.bind(this);\n        this.handleClick = this.handleClick.bind(this);\n    }\n\n    handleMouseOver(event) {\n        this.props.onMouseOver(this.props.model);\n    }\n\n    handleMouseOut(event) {\n        this.props.onMouseOut();\n    }\n\n    handleClick(event) {\n        this.props.onClick(this.props.model, this.props.layer);\n    }\n\n    redrawLabels(showLabel) {\n        if (!this.labelShape) return;\n\n        let stage = this.props.stage;\n\n        this.labelShape.htmlElement.style.display = showLabel ? \"block\" : \"none\";\n\n        let box = this.props.model.geom.box;\n        let point = {x: (box.xmin + box.xmax) / 2, y: (box.ymin + box.ymax) / 2};\n        let dx = 6. / (stage.zoomFactor * stage.resolution);\n        let dy = 4. / (stage.zoomFactor * stage.resolution);\n\n        this.labelShape.htmlElement.style.font = \"16px Arial\";\n        let unscale = 1. / (stage.zoomFactor * stage.resolution);\n        let tx = stage.canvas.offsetLeft / (stage.zoomFactor * stage.resolution) + point.x + dx;\n        let ty = -stage.canvas.offsetTop / (stage.zoomFactor * stage.resolution) + point.y + dy;\n        this.labelShape.setTransform(tx, ty, unscale, -unscale);\n\n    }\n\n    redraw() {\n        // Draw shape\n\n        let alpha = 0.5; // (this.props.hovered || this.props.selected) ? 1.0 : 0.6;\n\n        this.bitmap.alpha = this.props.displayed ? alpha : 0.0;\n\n        let width = this.props.model.geom.width;\n\n        let ratio = this.bitmap.image.naturalWidth/this.bitmap.image.naturalHeight;\n        let scaleX = width/this.bitmap.image.naturalWidth; // 1. / (stage.zoomFactor * stage.resolution);\n        let scaleY = width/(this.bitmap.image.naturalHeight*ratio);\n        let tx = this.props.model.geom.center.x; // stage.canvas.offsetLeft / (stage.zoomFactor * stage.resolution) + point.x + dx;\n        let ty = this.props.model.geom.center.y; // -stage.canvas.offsetTop / (stage.zoomFactor * stage.resolution) + point.y + dy;\n\n        this.bitmap.setTransform(tx, ty, scaleX, -scaleY);\n\n        this.bitmap.regX = this.bitmap.image.naturalWidth/2;\n        this.bitmap.regY = this.bitmap.image.naturalHeight/2;\n\n        // let box = this.state.polygon.geom.box;\n        // this.shape.cache(box.xmin, box.ymin, box.xmax - box.xmin, box.ymax - box.ymin);\n\n        // Draw labels\n        let showLabel = this.props.displayed && this.props.displayLabels;\n        this.redrawLabels(showLabel);\n    }\n\n    componentDidMount() {\n        this.bitmap.on(\"mouseover\", this.handleMouseOver);\n        this.bitmap.on(\"mouseout\", this.handleMouseOut);\n        this.bitmap.on(\"click\", this.handleClick);\n\n        // this.shape.mouseEnabled = false;\n\n        this.redraw();\n    }\n\n\n    shouldComponentUpdate(nextProps, nextState) {\n        if (Utils.is_equal(this.props, nextProps)) {\n            return false;\n        }\n        return true;\n    }\n\n    componentDidUpdate() {\n        this.redraw();\n    }\n\n    componentWillUnmount() {\n        this.bitmap.off(\"mouseover\", this.handleMouseOver);\n        this.bitmap.off(\"mouseout\", this.handleMouseOut);\n        this.bitmap.off(\"click\", this.handleClick);\n    }\n\n    render() {\n        return null;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/imageComponent.js","import React, {Component} from 'react';\nimport {ShapeComponent} from './shapeComponent';\nimport {ImageComponent} from \"./imageComponent\";\nimport Utils from \"../utils\";\n\nexport class LayerComponent extends Component {\n    shouldComponentUpdate(nextProps, nextState) {\n        if (Utils.is_equal(this.props, nextProps)) {\n            return false;\n        }\n        return true;\n    }\n\n    render() {\n        return (\n            this.props.layer.shapes.map((shape, index) => {\n                return shape.geom.uri ? (\n                    <ImageComponent\n                        key={index}\n                        stage={this.props.stage}\n                        layer={this.props.layer}\n                        model={shape}\n                        displayed={this.props.layer.displayed}\n                        hovered={shape === this.props.hoveredShape}\n                        selected={\n                            shape === this.props.firstMeasuredShape ||\n                            shape === this.props.secondMeasuredShape\n                        }\n                        color={this.props.layer.color}\n                        widthOn={this.props.widthOn}\n                        displayLabels={this.props.displayLabels}\n                        zoomFactor={this.props.zoomFactor}\n                        onMouseOver={this.props.onMouseOver}\n                        onMouseOut={this.props.onMouseOut}\n                        onClick={this.props.onClick}\n                    />\n                    ) : (\n                    <ShapeComponent\n                        key={index}\n                        stage={this.props.stage}\n                        layer={this.props.layer}\n                        model={shape}\n                        displayed={this.props.layer.displayed}\n                        hovered={shape === this.props.hoveredShape}\n                        selected={\n                            shape === this.props.firstMeasuredShape ||\n                            shape === this.props.secondMeasuredShape\n                        }\n                        color={this.props.layer.color}\n                        widthOn={this.props.widthOn}\n                        displayVertices={this.props.displayVertices}\n                        displayLabels={this.props.displayLabels}\n                        zoomFactor={this.props.zoomFactor}\n                        onMouseOver={this.props.onMouseOver}\n                        onMouseOut={this.props.onMouseOut}\n                        onClick={this.props.onClick}\n                    /> )\n                }\n            )\n        )\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/layerComponent.js","/**\n * Created by alexanderbol on 17/04/2017.\n */\n\nimport React, { Component } from 'react';\nimport '../../public/styles/App.css';\nimport {Modal} from \"../components/modalPopupComponent\";\nimport {LayerEditForm} from \"../forms/layerEditForm\";\n\nexport class LayerListElement extends Component {\n    componentDidUpdate() {\n        if (document.activeElement.nodeName === \"CANVAS\")\n            return;\n        let elem = this.refs.layerName;\n        if (this.props.layer.affected) {\n            elem.focus();\n        }\n    }\n\n    rgba(hex,opacity){\n        let r,g,b, percent;\n        if (hex) {\n            hex = hex.replace('#', '');\n            r = parseInt(hex.substring(0, 2), 16);\n            g = parseInt(hex.substring(2, 4), 16);\n            b = parseInt(hex.substring(4, 6), 16);\n            percent = opacity;\n        }\n        else {\n            r = 147;\n            g = 128;\n            b = 108;\n            percent = 0;\n        }\n        let result = `rgba(${r},${g},${b},${percent / 100})`;\n\n        return result;\n    }\n\n    render() {\n         // let style = this.props.layer.displayed ?\n         //     styleSheet.displayed : styleSheet.undisplayed;\n\n        let displayed = this.props.layer.displayed ? \"Layer-displayed\" : \"Layer-undisplayed\";\n        let color = displayed ? this.rgba(this.props.layer.color,100) : this.rgba();\n        let bgcolor = displayed ? this.rgba(this.props.layer.color,30) : this.rgba();\n        let alpha = this.props.layer.affected ? 1 : 0;\n        return [\n            <li key={1}\n                className={`Layer ${displayed}`}\n                onClick={this.props.onLayerClicked}\n                onDoubleClick={this.props.onLayerDoubleClicked}>\n\n                <div\n                    style={{flex: 2, marginRight: 3}}\n                    onClick={this.props.onAffectedBoxClicked}\n                >\n                    <h4 style={{opacity: alpha, color: color,\n                        width: 16, marginLeft: 2, cursor: \"default\"\n                    }}>\n                        \n                    </h4>\n                </div>\n\n                <div style={{flex: 8, cursor: \"default\", padding: 3,\n                    backgroundColor: bgcolor }}>\n                    <h4 ref=\"layerName\"\n                        title={this.props.layer.name}\n                        tabIndex='1'\n                    >\n                        {this.props.layer.name}\n                    </h4>\n                </div>\n\n            </li>,\n            this.props.layer.edited ? (\n            <Modal key={2}>\n                <LayerEditForm\n                    layer={this.props.layer}\n                    onSubmitLayerEditForm={this.props.onSubmitLayerEditForm}\n                    onEscapeLayerEditForm={this.props.onEscapeLayerEditForm}\n                />\n            </Modal>) : null]\n    }\n}\n/*\nthis.props.layer.edited ? (\n\n            <div\n                className={`Layer ${displayed}`}\n                onClick={this.props.onLayerClicked}\n            >\n                <input val={this.props.layer.name}/>\n            </div>\n        ) : (\n */\n\n\n// WEBPACK FOOTER //\n// ./src/components/layerListElement.js","/**\n * Created by alexanderbol on 17/04/2017.\n */\n\nimport React, {Component} from 'react';\nimport FontAwesome from 'react-fontawesome';\n\n// import icon_add from '../../public/icons/Add.png';\n// import icon_edit from '../../public/icons/Delete.png';\n// import icon_delete from '../../public/icons/Delete.png';\n// import icon_sort from '../../public/icons/Delete.png';\n\nimport '../../public/styles/App.css';\n\nexport class LayerListToolbarComponent extends Component {\n    constructor() {\n        super();\n        this.openJobButtonClicked = this.openJobButtonClicked.bind(this);\n        this.notImplemented = this.notImplemented.bind(this);\n    }\n\n    openJobButtonClicked() {\n        document.getElementById(\"browseFiles\").click();\n    }\n\n    notImplemented() {\n        alert(\"Not implemented yet\")\n    }\n\n    render() {\n        return (\n            <div className=\"App-toolbar\">\n                <button title=\"Add layer\" onClick={this.props.onAddLayerButtonClicked}>\n                    {/*<img src={icon_add} alt=\"add_layer\" />*/}\n                    <FontAwesome\n                        name='plus'\n                        size='2x'\n                        style={{color:\"grey\"}}\n                    />\n                </button>\n                <button title=\"Edit selected layer's name and info\" onClick={this.props.onEditLayerButtonClicked}>\n                    {/*<img src={icon_edit} alt=\"edit_layer\" />*/}\n                    <FontAwesome\n                        name='pencil'\n                        size='2x'\n                        style={{color:\"grey\"}}\n                    />\n                </button>\n                <button title=\"Delete selected layer\" onClick={this.props.onDeleteLayerButtonClicked}>\n                    {/*<img src={icon_delete} alt=\"add_layer\" />*/}\n                    <FontAwesome\n                        name='times'\n                        size='2x'\n                        style={{color:\"grey\"}}\n                    />\n                </button>\n                <button title=\"Sort layer list\" onClick={this.props.onSortLayersButtonClicked}>\n                    {/*<img src={icon_sort} alt=\"toggle_sorting_layer_list\" />*/}\n                    <FontAwesome\n                        name='sort-alpha-asc'\n                        size='2x'\n                        style={{color:\"grey\"}}\n                    />\n                </button>\n            </div>\n        )\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/layerListToolbarComponent.js","/**\n * Created by alexanderbol on 17/04/2017.\n */\n\nimport React, {Component} from 'react';\nimport '../../public/styles/App.css';\nimport {LayerListToolbarComponent} from \"./layerListToolbarComponent\";\nimport {LayerListElement} from './layerListElement';\nimport * as ActionTypes from '../actions/action-types';\nimport { Layers } from '../models/layers';\n\nexport class LayersListComponent extends Component {\n    constructor(param) {\n        super();\n        this.onLayerListClicked = this.onLayerListClicked.bind(this);\n        this.onLayerClicked = this.onLayerClicked.bind(this);\n        this.onLayerDoubleClicked = this.onLayerDoubleClicked.bind(this);\n        this.onSubmitLayerEditForm = this.onSubmitLayerEditForm.bind(this);\n        this.onEscapeLayerEditForm = this.onEscapeLayerEditForm.bind(this);\n\n        this.onAddLayerSelected = this.onAddLayerSelected.bind(this);\n        this.onEditLayerSelected = this.onEditLayerSelected.bind(this);\n        this.onDeleteLayerSelected = this.onDeleteLayerSelected.bind(this);\n        this.onSortLayersSelected = this.onSortLayersSelected.bind(this);\n\n        this.onAffectedBoxClicked = this.onAffectedBoxClicked.bind(this);\n        this.handleKeyDown = this.handleKeyDown.bind(this);\n        this.height = 0;\n        this.dispatch = param.dispatch;\n    }\n\n    onLayerListClicked() {\n        this.dispatch({\n            type: ActionTypes.LAYER_LIST_PANEL_PRESSED\n        });\n    }\n\n    onLayerClicked(layer) {\n        this.dispatch({\n            type: ActionTypes.TOGGLE_DISPLAY_LAYER_PRESSED,\n            layer: layer\n        });\n    }\n\n    onLayerDoubleClicked(layer) {\n        // this.dispatch({\n        //     type: ActionTypes.OPEN_LAYER_EDIT_FORM_PRESSED,\n        //     layer: layer\n        // });\n    }\n\n    onSubmitLayerEditForm(layer, newLayer) {\n        this.dispatch({\n            type: ActionTypes.SUBMIT_LAYER_EDIT_FORM_PRESSED,\n            layer: layer,\n            newLayer: newLayer\n        });\n    };\n\n    onEscapeLayerEditForm(layer) {\n        this.dispatch({\n            type: ActionTypes.ESCAPE_LAYER_EDIT_FORM_PRESSED,\n            layer: layer\n        });\n    }\n\n    onAffectedBoxClicked(layer) {\n        this.dispatch({\n            type: ActionTypes.TOGGLE_AFFECTED_LAYER_PRESSED,\n            layer: layer\n        });\n    }\n\n    onAddLayerSelected() {\n        let layer = Layers.newLayer(this.props.stage, this.props.layers);\n\n        this.dispatch({\n            type: ActionTypes.ADD_LAYER_PRESSED,\n            stage: this.props.stage,\n            layer: layer\n        })\n    }\n\n    onEditLayerSelected() {\n        let layer = Layers.getAffected(this.props.layers);\n        if (!layer) return;\n\n        this.dispatch({\n            type: ActionTypes.OPEN_LAYER_EDIT_FORM_PRESSED,\n            layer: layer\n        });\n    }\n\n    onDeleteLayerSelected() {\n        let layer = Layers.getAffected(this.props.layers);\n        if (!layer) return;\n\n        this.dispatch({\n            type: ActionTypes.DELETE_LAYER_BUTTON_PRESSED,\n            layers: this.props.layers,\n            layer: layer\n        });\n    }\n\n    onSortLayersSelected() {\n        this.dispatch({\n            type: ActionTypes.SORT_LAYERS_BUTTON_PRESSED,\n            layers: this.props.layers\n        });\n    }\n\n    handleKeyDown(e) {\n        // e.stopPropagation();\n        // e.preventDefault();\n\n        if (e.target.parentElement.parentElement.parentElement &&\n            e.target.parentElement.parentElement.parentElement.id &&\n            e.target.parentElement.parentElement.parentElement.id === \"layersList\") {\n\n\n            switch (e.code) {\n                case \"ArrowRight\":\n                case \"ArrowDown\":\n                    this.dispatch({\n                        type: ActionTypes.LAYERS_LIST_ARROW_DOWN_PRESSED\n                    });\n                    break;\n                case \"ArrowLeft\":\n                case \"ArrowUp\":\n                    this.dispatch({\n                        type: ActionTypes.LAYERS_LIST_ARROW_UP_PRESSED\n                    });\n                    break;\n                /* tab does not work properly\n            case \"Tab\":\n                if (e.shiftKey) {\n                    this.dispatch({\n                        type: ActionTypes.LAYERS_LIST_ARROW_UP_PRESSED\n                    });\n                }\n                else {\n                    this.dispatch({\n                        type: ActionTypes.LAYERS_LIST_ARROW_DOWN_PRESSED\n                    });\n                }\n                break;\n                */\n                default:\n                    break;\n            }\n        }\n\n    }\n\n    componentDidMount() {\n        // Keyboard event\n        // var _keydown = _.throttle(this.keydown, 100);\n        document.addEventListener('keydown', this.handleKeyDown);\n        // var _keyup = _.throttle(this.keyup, 500);\n        // document.addEventListener('keyup', this.handleKeyUp);\n    }\n\n    componentDidUpdate() {\n        this.height = this.refs.layersComponent.clientHeight;\n        // let container = this.refs.watchContainer;\n        // let parentHeight = container.parentElement.clientHeight;\n        // container.style.maxHeight = 0.7*parentHeight;\n    }\n\n    render() {\n        // let addLayer =\n        //     (<div\n        //         style={{padding:4, backgroundColor: \"lightgray\"}}\n        //         onClick={this.onAddLayerSelected}>\n        //         <h5 style={{margin:0}}>Add layer</h5>\n        //     </div>)\n\n        // let layers = this.props.layers.slice();\n        // layers.sort( function(l1, l2) {\n        //     let name1 = l1.name.toUpperCase();\n        //     let name2 = l2.name.toUpperCase();\n        //     if (name1 < name2) {\n        //         return -1;\n        //     }\n        //     if (name1 > name2) {\n        //         return 1;\n        //     }\n        //     return 0;\n        // });\n\n        return (\n            <div className=\"App-layers\"\n                 ref=\"layersComponent\"\n                 onClick={this.onLayerListClicked}\n            >\n                {/*<h5>Layers</h5>*/}\n                <LayerListToolbarComponent\n                    onAddLayerButtonClicked={this.onAddLayerSelected}\n                    onEditLayerButtonClicked={this.onEditLayerSelected}\n                    onDeleteLayerButtonClicked={this.onDeleteLayerSelected}\n                    onSortLayersButtonClicked={this.onSortLayersSelected}\n                />\n                <ul id=\"layersList\"\n                    style={{maxHeight:0.82*(this.height-40),padding:0,overflow:'auto'}}>\n                { this.props.layers.map((layer) =>\n                    <LayerListElement\n                        onLayerClicked={() => this.onLayerClicked(layer)}\n                        onLayerDoubleClicked={() => this.onLayerDoubleClicked(layer)}\n                        onAffectedBoxClicked={() => this.onAffectedBoxClicked(layer)}\n                        onSubmitLayerEditForm={this.onSubmitLayerEditForm}\n                        onEscapeLayerEditForm={this.onEscapeLayerEditForm}\n                        key={layer.name}\n                        layer={layer}\n                    />)\n                }\n                </ul>\n                {/*{addLayer}*/}\n            </div>\n        )\n\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/layersListComponent.js","/**\n * Created by alexanderbol on 17/04/2017.\n */\n\nimport React, {Component} from 'react';\nimport '../../public/styles/App.css';\nimport {ToolbarComponent} from './toolbarComponent';\nimport {CanvasComponent} from './canvasComponent';\nimport {StatusComponent} from './statusComponent';\nimport {StageComponent} from \"./stageComponent\";\n\nimport * as ActionTypes from '../actions/action-types';\nimport {Layers} from '../models/layers';\nimport {MeasurePointsTool} from '../tools/measurePointsTool';\n//import {MeasureShapesTool} from \"../tools/measureShapesTool\";\n// import {DisplayCoordsTool} from \"../tools/displayCoordsTool\";\n\nimport {Modal} from \"../components/modalPopupComponent\";\nimport {AboutPopup} from \"../forms/aboutPopup\";\n\nexport class MainComponent extends Component {\n    constructor() {\n        super();\n        this.handleMouseMove = this.handleMouseMove.bind(this);\n        this.handleMouseDown = this.handleMouseDown.bind(this);\n        this.handleMouseUp = this.handleMouseUp.bind(this);\n        this.handleMouseWheelMove = this.handleMouseWheelMove.bind(this);\n        this.registerStage = this.registerStage.bind(this);\n        this.toggleUnits = this.toggleUnits.bind(this);\n\n        this.onMouseRollOverShape = this.onMouseRollOverShape.bind(this);\n        this.onMouseRollOutShape = this.onMouseRollOutShape.bind(this);\n        this.onClickOnShape = this.onClickOnShape.bind(this);\n\n        this.resizeStage = this.resizeStage.bind(this);\n\n        this.handleFileSelect = this.handleFileSelect.bind(this);\n        this.setHomeView = this.setHomeView.bind(this);\n        this.toggleWidthMode = this.toggleWidthMode.bind(this);\n        this.toggleDisplayVertices = this.toggleDisplayVertices.bind(this);\n        this.toggleDisplayLabels = this.toggleDisplayLabels.bind(this);\n        this.showAboutPopup = this.showAboutPopup.bind(this);\n        this.closeAboutPopup = this.closeAboutPopup.bind(this);\n\n        this.onMeasurePointsButtonPressed = this.onMeasurePointsButtonPressed.bind(this);\n        this.onMeasureBetweenShapesButtonPressed = this.onMeasureBetweenShapesButtonPressed.bind(this);\n        this.onPanByDragPressed = this.onPanByDragPressed.bind(this);\n\n        this.handleKeyDown = this.handleKeyDown.bind(this);\n        this.handleKeyUp = this.handleKeyUp.bind(this);\n\n        this.aabbToolNext = this.aabbToolNext.bind(this);\n        this.nextAabbDistStep = this.nextAabbDistStep.bind(this);\n        this.onCollisionDemoButtonPressed = this.onCollisionDemoButtonPressed.bind(this);\n        this.onSkeletonRecognitionButtonPressed = this.onSkeletonRecognitionButtonPressed.bind(this)\n    }\n\n    registerStage(stage) {\n        // let layer = Layers.newLayer(stage, this.state.layers);\n        this.dispatch({\n            type: ActionTypes.NEW_STAGE_CREATED,\n            stage: stage,\n            /*layer: layer*/\n        });\n    }\n\n    resizeStage() {\n        // alert(\"resized\")\n        this.dispatch({\n            type: ActionTypes.STAGE_RESIZED,\n            stage: this.state.stage\n        });\n    }\n\n    toggleUnits() {\n        this.dispatch({\n            type: ActionTypes.TOGGLE_UNITS_CLICKED\n        });\n    }\n\n    handleMouseMove(stageX, stageY) {\n        this.dispatch({\n            type: ActionTypes.MOUSE_MOVED_ON_STAGE,\n            stage: this.state.stage,\n            x: stageX,\n            y: stageY,\n            dx: this.state.mouse.startX ? stageX - this.state.mouse.startX : undefined,\n            dy: this.state.mouse.startY ? stageY - this.state.mouse.startY : undefined\n        });\n    }\n\n    handleMouseDown(stageX, stageY) {\n        // start pan stage\n        this.dispatch({\n            type: ActionTypes.MOUSE_DOWN_ON_STAGE,\n            stage: this.state.stage,\n            x: stageX,\n            y: stageY\n        })\n    }\n\n    handleMouseUp(stageX, stageY) {\n        // stop pan stage\n        // Patch bug in Firefox when dispatch is not fired\n        this.state.stage.panByMouseStop();\n        this.dispatch({\n            type: ActionTypes.MOUSE_UP_ON_STAGE,\n            state: this.state.stage,\n            x: event.stageX,\n            y: event.stageY\n        })\n    }\n\n    handleMouseWheelMove(stageX, stageY, delta) {\n        if (delta !== 0) {\n            this.dispatch({\n                type: ActionTypes.MOUSE_WHEEL_MOVE_ON_STAGE,\n                stage: this.state.stage,\n                x: stageX,\n                y: stageY,\n                delta: delta\n            });\n        }\n    }\n\n    onMouseRollOverShape(shape) {\n        this.dispatch({\n            type: ActionTypes.MOUSE_ROLL_OVER_SHAPE,\n            shape: shape\n        })\n    }\n\n    onMouseRollOutShape() {\n        this.dispatch({\n            type: ActionTypes.MOUSE_ROLL_OUT_SHAPE,\n        })\n    }\n\n    onClickOnShape(shape, layer) {\n        this.dispatch({\n            type: ActionTypes.MOUSE_CLICKED_ON_SHAPE,\n            shape: shape,\n            layer: layer\n        })\n    }\n\n    handleFileSelect(event) {\n        if (!(File && FileReader && FileList)) return;\n\n        let files = event.target.files; // FileList object\n\n        this.dispatch({\n            type: ActionTypes.FILENAME_LIST_SELECTED,\n            files: files,\n            stage: this.state.stage,\n            layers: this.state.layers\n        });\n    }\n\n    setHomeView() {\n        let layer = Layers.getAffected(this.state.layers);\n        if (!layer) return;\n        // TODO: dispatch PAN_AND_ZOOM instead ?\n        this.dispatch({\n            type: ActionTypes.PAN_AND_ZOOM_TO_SHAPE,\n            stage: this.state.stage,\n            shape: layer\n        })\n    }\n\n    onPanByDragPressed() {\n        this.dispatch({\n            type: ActionTypes.PAN_BY_DRAG_BUTTON_CLICKED\n        })\n    }\n\n    toggleWidthMode() {\n        this.dispatch({\n            type: ActionTypes.TOGGLE_WIDTH_MODE_CLICKED,\n            widthOn: this.state.app.widthOn\n        })\n\n    }\n\n    toggleDisplayVertices() {\n        // if (this.state.app.widthOn)\n        //     return;\n        this.dispatch({\n            type: ActionTypes.TOGGLE_DISPLAY_VERTICES_CLICKED\n        })\n    }\n\n    toggleDisplayLabels() {\n        this.dispatch({\n            type: ActionTypes.TOGGLE_DISPLAY_LABELS_CLICKED\n        })\n    }\n\n    showAboutPopup() {\n        this.dispatch({\n            type: ActionTypes.SHOW_ABOUT_POPUP_BUTTON_PRESSED\n        })\n    }\n    closeAboutPopup(event) {\n        this.dispatch({\n            type: ActionTypes.CLOSE_ABOUT_POPUP_BUTTON_PRESSED\n        })\n    }\n\n    onMeasurePointsButtonPressed() {\n        this.dispatch({\n            type: ActionTypes.MEASURE_POINTS_BUTTON_PRESSED\n        });\n    }\n\n    onMeasureBetweenShapesButtonPressed() {\n        this.dispatch({\n            type: ActionTypes.MEASURE_SHAPES_BUTTON_PRESSED\n        });\n    }\n\n    aabbToolNext() {\n        this.dispatch({\n            type: ActionTypes.AABB_TREE_NEXT_LEVEL\n        })\n    }\n\n    nextAabbDistStep() {\n        this.dispatch({\n            type: ActionTypes.AABB_DEMO_NEXT_DIST_STEP\n        })\n    }\n\n    onCollisionDemoButtonPressed() {\n        this.dispatch({\n            type: ActionTypes.COLLISION_DEMO_BUTTON_PRESSED\n        })\n    }\n\n    onSkeletonRecognitionButtonPressed() {\n        this.dispatch({\n            type: ActionTypes.SKELETON_RECOGNITION_BUTTON_PRESSED\n        })\n    }\n\n    handleKeyDown(e) {\n        // let ctrl = e.ctrlKey;\n        if (e.target.id !== \"mainCanvas\")\n            return;\n        switch (e.code) {\n            case \"KeyH\":\n                this.setHomeView();\n                break;\n\n            case \"KeyW\":\n                this.toggleWidthMode();     // toggle width On/Off in graphics model\n                break;\n\n            case \"KeyE\":\n                this.toggleDisplayVertices();  // toggle vertices On/Off\n                break;\n\n            case \"ArrowRight\":\n                this.nextAabbDistStep();\n                break;\n\n            case \"ArrowLeft\":\n                break;\n            case \"ArrowUp\":\n                break;\n            case \"ArrowDown\":\n                break;\n            default:\n                break;\n        }\n    }\n\n    handleKeyUp(event) {\n    }\n\n    componentWillMount() {\n        this.dispatch = this.props.store.dispatch;\n        this.setState(this.props.store.getState());\n    }\n\n    componentDidMount() {\n        window.onresize = this.resizeStage;\n        // Keyboard event\n        // var _keydown = _.throttle(this.keydown, 100);\n        document.addEventListener('keydown', this.handleKeyDown);\n        // var _keyup = _.throttle(this.keyup, 500);\n        document.addEventListener('keyup', this.handleKeyUp);\n    }\n\n    componentWillReceiveProps(nextProps) {\n        this.setState(nextProps.store.getState());\n    }\n\n    render() {\n        return (\n            <main className=\"App-content\">\n                <ToolbarComponent\n                    units={this.state.app.units}\n                    aabbDemoToolActivated={this.state.aabbDemoTool.aabbDemoToolActivated}\n                    showCollisionDemoToolButton={this.state.collisionDistanceDemoTool.showCollisionDemoToolButton}\n                    showSkeletonRecognitionButton={this.state.app.showSkeletonRecognitionButton}\n                    onFileSelected={this.handleFileSelect}\n                    onHomeButtonPressed={this.setHomeView}\n                    onPanByDragPressed={this.onPanByDragPressed}\n                    onMeasurePointsButtonPressed={this.onMeasurePointsButtonPressed}\n                    onMeasureBetweenShapesButtonPressed={this.onMeasureBetweenShapesButtonPressed}\n                    onToggleWidthModePressed={this.toggleWidthMode}\n                    onToggleVerticesPressed={this.toggleDisplayVertices}\n                    onToggleLabelsPressed={this.toggleDisplayLabels}\n                    onShowAboutPopupPressed={this.showAboutPopup}\n                    onAabbToolNext={this.aabbToolNext}\n                    onCollisionDemoButtonPressed={this.onCollisionDemoButtonPressed}\n                    onSkeletonRecognitionButtonPressed={this.onSkeletonRecognitionButtonPressed}\n                    onUnitClicked={this.toggleUnits}\n                />\n\n                <CanvasComponent\n                    stage={this.state.stage}\n                    onStageCreated={this.registerStage}\n                    onMouseDown={this.handleMouseDown}\n                    onMouseMove={this.handleMouseMove}\n                    onMouseUp={this.handleMouseUp}\n                    onMouseWheelMove={this.handleMouseWheelMove}\n                />\n\n                <StageComponent\n                    stage={this.state.stage}\n                    layers={this.state.layers}\n                    displayVertices={this.state.app.displayVertices}\n                    displayLabels={this.state.app.displayLabels}\n                    widthOn={this.state.app.widthOn}\n                    zoomFactor={this.state.app.zoomFactor}\n                    originX={this.state.app.originX}\n                    originY={this.state.app.originY}\n                    hoveredShape={this.state.measureShapesTool.hoveredShape}\n                    firstMeasuredShape={this.state.measureShapesTool.firstMeasuredShape}\n                    secondMeasuredShape={this.state.measureShapesTool.secondMeasuredShape}\n                    firstMeasuredLayer={this.state.measureShapesTool.firstMeasuredLayer}\n                    secondMeasuredLayer={this.state.measureShapesTool.secondMeasuredLayer}\n                    distance={this.state.measureShapesTool.distance}\n                    shortestSegment={this.state.measureShapesTool.shortestSegment}\n                    aabbDemoToolActivated={this.state.aabbDemoTool.aabbDemoToolActivated}\n                    firstMeasuredShapeLevel={this.state.aabbDemoTool.firstMeasuredShapeLevel}\n                    secondMeasuredShapeLevel={this.state.aabbDemoTool.secondMeasuredShapeLevel}\n                    selectedEdgesTree={this.state.aabbDemoTool.tree}\n                    minStop={this.state.aabbDemoTool.min_stop}\n                    collisionDistanceDemoToolActivated={this.state.collisionDistanceDemoTool.collisionDistanceDemoToolActivated}\n                    units={this.state.app.units}\n                    divisor={this.state.app.divisor}\n                    decimals={this.state.app.decimals}\n                    coordX={this.state.mouse.x}\n                    coordY={this.state.mouse.y}\n                    onMouseOver={this.onMouseRollOverShape}\n                    onMouseOut={this.onMouseRollOutShape}\n                    onClick={this.onClickOnShape}\n                />\n\n                {\n                    this.state.app.measurePointsActive ? (\n                        <MeasurePointsTool\n                            stage={this.state.stage}\n                            divisor={this.state.app.divisor}\n                            decimals={this.state.app.decimals}\n                            onMouseWheelMove={this.handleMouseWheelMove}\n                        />\n                    ) : null\n                }\n\n\n                <StatusComponent\n                    stage={this.state.stage}\n                    units={this.state.app.units}\n                    divisor={this.state.app.divisor}\n                    decimals={this.state.app.decimals}\n                    distance={this.state.measureShapesTool.distance}\n                    shortestSegment={this.state.measureShapesTool.shortestSegment}\n                    coordX={this.state.mouse.x}\n                    coordY={this.state.mouse.y}\n                    onUnitClicked={this.toggleUnits}\n                />\n\n                {this.state.app.showAboutPopup ? (\n                    <Modal>\n                        <AboutPopup\n                            title={this.state.app.title}\n                            version={this.state.app.version}\n                            build={this.state.app.build}\n                            onCloseAboutPopupPressed={this.closeAboutPopup}\n                        />\n                    </Modal>\n                ) : null}\n\n            </main>\n        )\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/mainComponent.js","/**\n * Created by alexanderbol on 19/06/2017.\n */\n\nimport {Component} from 'react';\nimport * as createjs from '../../public/easeljs-NEXT.combined.js';\nimport {graphics} from '../models/graphics';\nimport Utils from '../utils';\n\nexport class ShapeComponent extends Component {\n    constructor(params) {\n        super();\n\n        this.shape = new createjs.Shape();\n        params.stage.addChild(this.shape);\n\n        this.vertexShapes = [];\n        this.labelShape = undefined;\n\n        for (let vertex of params.model.geom.vertices) {\n            let vertexShape = new createjs.Shape();\n            vertexShape.geom = vertex;   // augment Shape with geom struct\n            vertexShape.mouseEnabled = false;\n            params.stage.addChild(vertexShape);\n            this.vertexShapes.push(vertexShape);\n        }\n\n        if (params.model.label && params.model.label.trim() !== \"\") {\n            var html = document.createElement('div');\n            html.innerText = params.model.label;\n            html.style.position = \"absolute\";\n            html.style.top = 0;\n            html.style.left = 0;\n\n            document.body.appendChild(html);\n\n            this.labelShape = new createjs.DOMElement(html);\n\n            this.labelShape.geom = params.model.geom;     // augment label Shape with geom struct\n            params.stage.addChild(this.labelShape);\n        }\n\n        // this.handleMouseMove = this.handleMouseMove.bind(this);\n        this.handleMouseOver = this.handleMouseOver.bind(this);\n        this.handleMouseOut = this.handleMouseOut.bind(this);\n        this.handleClick = this.handleClick.bind(this);\n    }\n\n    handleMouseOver(event) {\n        this.props.onMouseOver(this.props.model);\n    }\n\n    handleMouseOut(event) {\n        this.props.onMouseOut();\n    }\n\n    handleClick(event) {\n        this.props.onClick(this.props.model, this.props.layer);\n    }\n\n    redrawVertices(stroke, fill, alpha) {\n        let stage = this.props.stage;\n\n        for (let vertexShape of this.vertexShapes) {\n            let vertex = vertexShape.geom;\n            if (vertexShape.graphics.isEmpty()) {\n                vertexShape.graphics = graphics(vertex,   // vertex.graphics({\n                    {\n                        stroke: stroke,     // this.props.color,\n                        fill: fill,\n                        radius: 3. / (stage.zoomFactor * stage.resolution)\n                    });\n            }\n            else {\n                vertexShape.graphics.circle.radius = 3. / (stage.zoomFactor * stage.resolution);\n                vertexShape.graphics.fill.style = fill;\n            }\n            vertexShape.alpha = alpha;\n        }\n    }\n\n    redrawLabels(showLabel) {\n        if (!this.labelShape) return;\n\n        let stage = this.props.stage;\n\n        this.labelShape.htmlElement.style.display = showLabel ? \"block\" : \"none\";\n\n        let box = this.props.model.geom.box;\n        let point = {x: (box.xmin + box.xmax) / 2, y: (box.ymin + box.ymax) / 2};\n        let dx = 6. / (stage.zoomFactor * stage.resolution);\n        let dy = 4. / (stage.zoomFactor * stage.resolution);\n\n        this.labelShape.htmlElement.style.font = \"16px Arial\";\n        let unscale = 1. / (stage.zoomFactor * stage.resolution);\n        let tx = stage.canvas.offsetLeft / (stage.zoomFactor * stage.resolution) + point.x + dx;\n        let ty = -stage.canvas.offsetTop / (stage.zoomFactor * stage.resolution) + point.y + dy;\n        this.labelShape.setTransform(tx, ty, unscale, -unscale);\n    }\n\n    redraw() {\n        // Draw shape\n        let stage = this.props.stage;\n        let color = (this.props.hovered || this.props.selected) ? \"black\" : this.props.color;\n        let alpha = (this.props.hovered || this.props.selected) ? 1.0 : 0.6;\n        let widthOn = this.props.widthOn;\n\n        let strokeStyle = this.props.model.geom.aperture ? this.props.model.geom.aperture : undefined;\n        let fill = (widthOn && !this.props.displayVertices) ? this.props.color : \"white\";\n\n        if (this.shape.graphics.isEmpty()) {\n            this.shape.graphics = graphics(this.props.model.geom,{\n                strokeStyle: strokeStyle,\n                ignoreScale: true,\n                stroke: color,\n                fill: fill,\n                radius: 3. / (stage.zoomFactor * stage.resolution)\n            });\n\n            // this.skeletonShape = new createjs.Shape();\n            // this.skeletonShape.graphics = this.props.model.geom.graphics({\n            //     strokeStyle: 1,\n            //     ignoreScale: true,\n            //     stroke: color,\n            //     fill: fill,\n            //     radius: 3. / (stage.zoomFactor * stage.resolution)\n            // });\n            // this.skeletonShape.alpha = 1;\n            // this.props.stage.addChild(this.skeletonShape);\n        }\n        else {\n            if (this.shape.graphics.stroke) this.shape.graphics.stroke.style = color;\n            if (this.shape.graphics.fill) this.shape.graphics.fill.style = fill;\n            if (this.shape.graphics.circle) this.shape.graphics.circle.radius =\n                3. / (stage.zoomFactor * stage.resolution);\n        }\n        this.shape.alpha = this.props.displayed ? alpha : 0.0;\n\n        // let box = this.props.model.geom.box;\n        // this.shape.cache(box.xmin, box.ymin, box.xmax - box.xmin, box.ymax - box.ymin);\n\n        // Draw vertices\n        alpha = this.props.displayed && this.props.displayVertices ? 1.0 : 0.0;\n        this.redrawVertices(color, color, alpha);\n\n        // Draw labels\n        let showLabel = this.props.displayed && this.props.displayLabels;\n        this.redrawLabels(showLabel);\n    }\n\n    componentDidMount() {\n        this.shape.on(\"mouseover\", this.handleMouseOver);\n        this.shape.on(\"mouseout\", this.handleMouseOut);\n        this.shape.on(\"click\", this.handleClick);\n\n        // this.shape.mouseEnabled = false;\n\n        this.redraw();\n    }\n\n    shouldComponentUpdate(nextProps, nextState) {\n        if (Utils.is_equal(this.props, nextProps)) {\n            return false;\n        }\n        return true;\n    }\n\n    componentDidUpdate() {\n        this.redraw();\n    }\n\n    componentWillUnmount() {\n        this.shape.off(\"mouseover\", this.handleMouseOver);\n        this.shape.off(\"mouseout\", this.handleMouseOut);\n        this.shape.off(\"click\", this.handleClick);\n        this.props.stage.removeChild(this.shape);\n        this.shape.graphics.clear();\n        this.props.stage.removeChild(this.labelShape);\n        this.labelShape = undefined;\n        for (let vertexShape of this.vertexShapes) {\n            this.props.stage.removeChild(vertexShape);\n        }\n        this.vertexShapes = [];\n    }\n\n    render() {\n        return null;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/shapeComponent.js","import React, {Component} from 'react';\nimport {LayerComponent} from './layerComponent';\nimport {MeasureShapesTool} from \"../tools/measureShapesTool\";\nimport {AabbDemoTool} from \"../tools/aabbDemoTool\";\nimport {CollisionDistanceDemoTool} from \"../tools/collisionDistanceDemoTool\";\nimport {DisplayCoordsTool} from \"../tools/displayCoordsTool\";\n\nimport Utils from \"../utils\";\n\nexport class StageComponent extends Component {\n    shouldComponentUpdate(nextProps, nextState) {\n        if (Utils.is_equal(this.props, nextProps)) {\n            return false;\n        }\n        return true;\n    }\n\n    componentDidUpdate() {\n        if (this.props.stage.canvas && this.props.stage.canvas.getContext('2d')) {\n\n            let origin = this.props.stage.origin;\n            let zoomFactor = this.props.stage.zoomFactor*this.props.stage.resolution;\n            this.props.stage.setTransform(origin.x, origin.y, zoomFactor, -zoomFactor);\n\n            this.props.stage.update();\n        }\n    }\n\n    render() {\n        let layerComponents = this.props.layers.map((layer) =>\n                <LayerComponent\n                    key={layer.name}\n                    stage={this.props.stage}\n                    layer={layer}\n                    color={layer.color}\n                    displayed={layer.displayed}\n                    displayVertices={this.props.displayVertices}\n                    displayLabels={this.props.displayLabels}\n                    widthOn={this.props.widthOn}\n                    hoveredShape={this.props.hoveredShape}\n                    firstMeasuredShape={this.props.firstMeasuredShape}\n                    secondMeasuredShape={this.props.secondMeasuredShape}\n                    zoomFactor={this.props.zoomFactor}\n                    onMouseOver={this.props.onMouseOver}\n                    onMouseOut={this.props.onMouseOut}\n                    onClick={this.props.onClick}\n                />\n            );\n\n        let displayCoordsTool = this.props.stage ? (\n            <DisplayCoordsTool\n                key=\"displayCoordinatedTool\"\n                stage={this.props.stage}\n                units={this.props.units}\n                divisor={this.props.divisor}\n                decimals={this.props.decimals}\n                coordX={this.props.coordX}\n                coordY={this.props.coordY}\n            />\n        ) : null;\n\n        let measuredLayersDisplayed = this.props.firstMeasuredShape && this.props.secondMeasuredShape &&\n            this.props.firstMeasuredLayer.displayed && this.props.secondMeasuredLayer.displayed;\n\n        let measureShapesTool = this.props.distance && this.props.shortestSegment && measuredLayersDisplayed ? (\n            <MeasureShapesTool\n                key=\"MeasureShapesTool\"\n                stage={this.props.stage}\n                firstMeasuredShape={this.props.firstMeasuredShape}\n                secondMeasuredShape={this.props.secondMeasuredShape}\n                firstMeasuredLayer={this.props.firstMeasuredLayer}\n                secondMeasuredLayer={this.props.secondMeasuredLayer}\n                distance={this.props.distance}\n                shortestSegment={this.props.shortestSegment}\n                divisor={this.props.divisor}\n                decimals={this.props.decimals}\n            />\n        ) : null;\n\n        let aabbDdemoTool = this.props.aabbDemoToolActivated ? (\n            <AabbDemoTool\n                key=\"AabbDemoTool\"\n                stage={this.props.stage}\n                firstMeasuredShape={this.props.firstMeasuredShape}\n                secondMeasuredShape={this.props.secondMeasuredShape}\n                firstMeasuredLayer={this.props.firstMeasuredLayer}\n                secondMeasuredLayer={this.props.secondMeasuredLayer}\n                firstMeasuredShapeLevel={this.props.firstMeasuredShapeLevel}\n                secondMeasuredShapeLevel={this.props.secondMeasuredShapeLevel}\n                distance={this.props.distance}\n                shortestSegment={this.props.shortestSegment}\n                selectedEdgesTree={this.props.selectedEdgesTree}\n                minStop={this.props.minStop}\n            />\n            ) : null;\n\n        let collisionDemoTool = this.props.collisionDistanceDemoToolActivated ? (\n            <CollisionDistanceDemoTool\n                key=\"CollisionDemoTool\"\n                stage={this.props.stage}\n                firstMeasuredShape={this.props.firstMeasuredShape}\n                secondMeasuredShape={this.props.secondMeasuredShape}\n                firstMeasuredLayer={this.props.firstMeasuredLayer}\n                secondMeasuredLayer={this.props.secondMeasuredLayer}\n            />\n            ) : null;\n\n        let components = [\n            ...layerComponents,\n            displayCoordsTool,\n            measureShapesTool,\n            aabbDdemoTool,\n            collisionDemoTool\n        ];\n\n        return components;\n\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/stageComponent.js","/**\n * Created by alexanderbol on 17/06/2017.\n */\nimport React, {Component} from 'react';\n// import '../App.css';\n\nexport class StatusComponent extends Component {\n    measurement() {\n        let message = \"\"\n        if (this.props.shortestSegment && this.props.distance) {\n            let segment = this.props.shortestSegment;\n            let dx = segment.end.x - segment.start.x;\n            let dy = segment.end.y - segment.start.y;\n            let dist = this.props.distance;\n\n            message = \"DX=\" + this.format(dx) + \",DY=\" + this.format(dy) + \",D=\" + this.format(dist);\n        }\n        return message;\n    }\n\n    format(num) {\n        return (num/this.props.divisor).toFixed(this.props.decimals);\n    }\n\n    render() {\n        // let stage = this.props.stage;\n        // let coordX = 0;\n        // let coordY = 0;\n        // if (stage) {\n        //     coordX = this.format(stage.C2W_X(this.props.coordX));\n        //     coordY = this.format(stage.C2W_Y(this.props.coordY));\n        // }\n        // let message = this.measurement();\n\n        return (\n            <div className=\"App-status-bar\">\n                <div style={{flex: 6, textAlign: \"left\", marginLeft: 10, padding: 5}}>\n                    <h5 style={{ margin:0, padding: 0}}>\n                        &nbsp;\n                    </h5>\n                </div>\n            </div>\n        )\n    }\n}\n\n/*\n                <div style={{flex: 4, textAlign: \"left\", marginLeft: 10, padding: 5}}>\n                    <h5>\n                        {`X: ${coordX} Y: ${coordY}`}\n                    </h5>\n                </div>\n\n                <div style={{flex: 6, textAlign: \"left\", marginLeft: 10, padding: 5}}>\n                    <h5>\n                        {message}\n                    </h5>\n                </div>\n\n                <button\n                    style={{flex: 2, height: \"50%\", margin: 5, border: \"1px\", backgroundColor: \"inherit\"}}\n                    onClick={this.props.onUnitClicked}\n                >\n                    <h3>Units</h3>\n                </button>\n                <h5 style={{flex: 2, height: \"50%\", margin: 5}}>\n                    {this.props.units}\n                </h5>\n\n */\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/statusComponent.js","/**\n * Created by alexanderbol on 17/04/2017.\n */\n\nimport React, {Component} from 'react';\nimport FontAwesome from 'react-fontawesome';\n\n// import open from '../../public/icons/Browse.png';\n// import home from '../../public/icons/homeIcon20x20.png';\n// import pan from '../../public/icons/handDrag20.png';\nimport measureShapes from '../../public/icons/measureContour.png';\nimport measurePoints from '../../public/icons/measurePoints.png';\nimport width from '../../public/icons/WidthOn.png';\nimport vertices from '../../public/icons/editContourVertextOnOff.png';\n// import label from '../../public/icons/label_icon.png';\n// import setting from '../../public/icons/Setting.png';\n// import about from '../../public/icons/About.png';\n\nimport '../../public/styles/App.css';\n\nexport class ToolbarComponent extends Component {\n    constructor() {\n        super();\n        this.openJobButtonClicked = this.openJobButtonClicked.bind(this);\n        this.notImplemented = this.notImplemented.bind(this);\n    }\n\n    openJobButtonClicked() {\n        document.getElementById(\"browseFiles\").click();\n    }\n\n    notImplemented() {\n        alert(\"Not implemented yet\")\n    }\n\n    render() {\n        return (\n            <div className=\"App-toolbar\">\n                {/*<h4>Toolbar</h4>*/}\n                <button title=\"Open file\" onClick={this.openJobButtonClicked}>\n                    {/*<img src={open} alt=\"open\" />*/}\n                    <FontAwesome\n                        name='folder-open-o'\n                        size='2x'\n                        style={{color:\"grey\"}}\n                    />\n                </button>\n\n                <input style={{fontSize: 16, marginTop: 5, marginBottom: 5, display: \"none\"}}\n                       type=\"file\" id=\"browseFiles\" name=\"files[]\" multiple\n                       onChange={this.props.onFileSelected}\n                />\n\n                <button title=\"Zoom and pan to home view\" onClick={this.props.onHomeButtonPressed}>\n                    {/*<img src={home} alt=\"home\" />*/}\n                    <FontAwesome\n                        name='home'\n                        size='2x'\n                        style={{color:\"grey\"}}\n                    />\n                </button>\n                <button title=\"Pan by drag\" onClick={this.props.onPanByDragPressed}>\n                    {/*<img src={pan} alt=\"panByDrag\" />*/}\n                    <FontAwesome\n                        name='arrows'\n                        size='2x'\n                        style={{color:\"grey\"}}\n                    />\n                </button>\n                <button title=\"Measure distance between points\" onClick={this.props.onMeasurePointsButtonPressed}>\n                    <img src={measurePoints} alt=\"measurePoints\" />\n                </button>\n                <button title=\"Measure distance between shapes\" onClick={this.props.onMeasureBetweenShapesButtonPressed}>\n                    <img src={measureShapes} alt=\"measureShapes\" />\n                </button>\n                <button title=\"Display solid or wire\" onClick={this.props.onToggleWidthModePressed}>\n                    <img src={width} alt=\"width\" />\n                </button>\n                <button title=\"Display vertices on/off\" onClick={this.props.onToggleVerticesPressed}>\n                    <img src={vertices} alt=\"vertices\" />\n                </button>\n                <button title=\"Display labels on/off\" onClick={this.props.onToggleLabelsPressed}>\n                    {/*<img src={label} alt=\"labels\" />*/}\n                    <FontAwesome\n                        name='tag'\n                        size='2x'\n                        style={{color:\"grey\"}}\n                    />\n                </button>\n                {/*<button title=\"Settings\" onClick={this.notImplemented}>*/}\n                    {/*<img src={setting} alt=\"setting\" />*/}\n                {/*</button>*/}\n                {this.props.aabbDemoToolActivated ? (\n                    <button title=\"AABB Tree Demo\" onClick={this.props.onAabbToolNext}>\n                        <FontAwesome\n                            name='tree'\n                            size='2x'\n                            style={{color: \"grey\"}}\n                        />\n                    </button>\n                ) : null}\n\n                {this.props.showCollisionDemoToolButton ? (\n                    <button title=\"Collision Distance Demo\" onClick={this.props.onCollisionDemoButtonPressed}>\n                        <FontAwesome\n                            name='arrows-h'\n                            size='2x'\n                            style={{color: \"grey\"}}\n                        />\n                    </button>\n                ) : null}\n\n                {this.props.showSkeletonRecognitionButton ? (\n                    <button title=\"Skeleton Recognition Demo\" onClick={this.props.onSkeletonRecognitionButtonPressed}>\n                        <FontAwesome\n                            name='tree'\n                            size='2x'\n                            style={{color: \"grey\"}}\n                        />\n                    </button>\n                ) : null}\n\n                <button title=\"About\" onClick={this.props.onShowAboutPopupPressed}>\n                    {/*<img src={about} alt=\"about\" />*/}\n                    <FontAwesome\n                        name='info'\n                        size='2x'\n                        style={{color:\"grey\"}}\n                    />\n                </button>\n\n                <button>\n                    <FontAwesome\n                        name='ellipsis-v'\n                        size='2x'\n                        style={{color:\"white\"}}\n                    />\n                </button>\n\n                <span style={{position:\"relative\", top:-3}}>\n                    Units:\n                </span>\n                <button\n                    style={{position:\"relative\", top:-3}}\n                    onClick={this.props.onUnitClicked}\n                >\n                    <h3>{this.props.units}</h3>\n                </button>\n            </div>\n        )\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/toolbarComponent.js","/**\n * Created by alexanderbol on 13/04/2017.\n */\n\nimport React from 'react';\nimport '../../public/styles/App.css';\n\nexport const AboutPopup = (props) => {\n    let offsetX, offsetY;\n    let dragX, dragY;\n\n    let onCloseButtonPressed = () => {\n        props.onCloseAboutPopupPressed();\n    };\n\n    let handleKeyDown = (ev) => {\n        if (ev.code === \"Escape\") {\n            props.onCloseAboutPopupPressed();\n        }\n    };\n\n    let elementDrag = (ev) => {\n        ev = ev || window.event;\n        // calculate the new cursor position:\n        offsetX = dragX - ev.clientX;\n        offsetY = dragY - ev.clientY;\n        dragX = ev.clientX;\n        dragY = ev.clientY;\n        // set the element's new position:\n        let element = ev.target;\n        element.style.top = (element.offsetTop - offsetY) + \"px\";\n        element.style.left = (element.offsetLeft - offsetX) + \"px\";\n    }\n\n    let closeDragElement = (ev) => {\n        /* stop moving when mouse button is released:*/\n        ev.target.onmouseup = null;\n        ev.target.onmousemove = null;\n    }\n\n    let dragMouseDown = (ev) => {\n        ev = ev || window.event;\n        // get the mouse cursor position at startup:\n        dragX = ev.clientX;\n        dragY = ev.clientY;\n        ev.target.onmouseup = closeDragElement;\n        // call a function whenever the cursor moves:\n        ev.target.onmousemove = elementDrag;\n    }\n\n    document.addEventListener('keydown', handleKeyDown);\n\n    return (\n        <div className=\"modal\">\n            <div className=\"App-modal-popup\"\n                 id=\"aboutPopup\"\n                 onMouseDown={dragMouseDown}\n                 onMouseMove={elementDrag}\n            >\n                <h2>{props.title} v{props.version}</h2>\n                <h4>Build 362de89c 25/02/2018</h4>\n                <button onClick={onCloseButtonPressed}>Close</button>\n            </div>\n        </div>\n    )\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/forms/aboutPopup.js","/**\n * Created by alexanderbol on 13/04/2017.\n */\n\nimport React from 'react';\nimport '../../public/styles/App.css';\n\nexport const LayerEditForm = (props) => {\n    let onSubmitLayerEditForm = (ev) => {\n        ev.stopPropagation();\n        ev.preventDefault();\n        let form = ev.target.parentElement;\n        let newLayer = Object.assign({}, props.layer, {\n            name: form.layerName.value,\n            title: form.layerTitle.value\n        });\n        props.onSubmitLayerEditForm(props.layer, newLayer);\n        return false;\n    };\n    let setFocus = (ev) => {\n        ev.stopPropagation();\n        ev.target.focus();\n    };\n\n    let onCancelLayerEditForm = () => {\n        props.onEscapeLayerEditForm(props.layer);\n    };\n\n    let handleKeyDown = (ev) => {\n        if (ev.code === \"Escape\") {\n            props.onEscapeLayerEditForm(props.layer);\n        }\n    };\n\n    document.addEventListener('keydown', handleKeyDown);\n\n    return (\n        <div className=\"modal\">\n            <form className=\"App-modal-popup App-layer-edit-form\"\n                  id=\"layerEditForm\"\n                  draggable=\"true\"\n                  onSubmit={onSubmitLayerEditForm}\n            >\n                <label>Layer name:</label><br/>\n                <input type=\"text\" id=\"layer-name\" name=\"layerName\" size=\"80\" defaultValue={props.layer.name} onClick={setFocus}/><br/>\n                <label>Layer info:</label><br/>\n                <textarea id=\"layer-title\" name=\"layerTitle\" cols=\"78\" rows=\"3\" defaultValue={props.layer.title} onClick={setFocus}></textarea><br/>\n                <button onClick={onCancelLayerEditForm}>Cancel</button>\n                <button onClick={onSubmitLayerEditForm}>OK</button>\n            </form>\n        </div>\n    )\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/forms/layerEditForm.js","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {App} from './App';\nimport '../public/styles/index.css';\n\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport { reducer } from './reducer';\n\n// import about from './middleware/about';\nimport log from './middleware/log';\nimport readFiles from './middleware/readFiles';\nimport pasteData from './middleware/pasteData';\nimport stageController from './middleware/stageController';\nimport demo from './middleware/demo';\nimport aabb_demo from './middleware/aabb_demo';\nimport collision_demo from './middleware/collision_demo';\nimport boolean_test from './middleware/boolean_test';\nimport skeleton_recognition from './middleware/skeleton_recognition'\n\n// import matrix_test from './middleware/matrix-test';\n// import webgl_test from './middleware/webgl-test';\n\nconst store = createStore(reducer, compose(applyMiddleware(\n    log,\n    readFiles,\n    pasteData,\n    demo,\n    aabb_demo,\n    collision_demo,\n    boolean_test,\n    skeleton_recognition,\n    stageController,\n)));\n\nReactDOM.render(\n  <App store={store} />,\n  document.getElementById('root')\n);\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import * as ActionTypes from '../actions/action-types';\n// import { parseXML } from \"../models/parserXML\";\n// import { Layers } from '../models/layers';\n// import { Model } from \"../models/model\";\n\n// let {point, arc, segment, circle, Polygon} = Flatten;\n\nconst aabb_demo = ({ dispatch, getState }) => next => action => {\n\n    if (action.type === ActionTypes.NEW_STAGE_CREATED || action.type === ActionTypes.WINDOW_HASH_CHANGED) {\n        if (document.location.href.split('#')[1] === 'aabb_demo') {\n            dispatch({\n                type: ActionTypes.AABB_DEMO_URI\n            })\n        }\n    }\n    return next(action);\n};\n\n\nexport default aabb_demo;\n\n\n\n// WEBPACK FOOTER //\n// ./src/middleware/aabb_demo.js","import Flatten from 'flatten-js';\nimport * as ActionTypes from '../actions/action-types';\nimport { Layers } from '../models/layers';\n// import { Model } from \"../models/model\";\n// import * as createjs from '../../public/easeljs-NEXT.combined.js';\n\nlet {point, /*circle, segment,*/ Polygon} = Flatten;\n// let {union, subtract, intersect, arrange} = BooleanOp;\n\nfunction zoomHome(shape, stage) {\n    let box = shape.box;\n    let x = (box.xmin + box.xmax)/2;\n    let y = (box.ymin + box.ymax)/2;\n    stage.panToCoordinate(x, y);\n    stage.zoomToLimits(box.xmax - box.xmin, box.ymax - box.ymin);\n}\n\nconst boolean_test = ({ dispatch, getState }) => next => action => {\n\n    if (action.type === ActionTypes.NEW_STAGE_CREATED) {\n        if (document.location.href.split('#')[1] === 'boolean_test') {\n\n            let stage = action.stage;\n            let state = getState();\n            let layers = state.layers;\n\n\n            let polygon1 = new Polygon();\n            polygon1.addFace([\n                point(-20, 0),\n                point(-20, 20),\n                point(20, 20),\n                point(20, 0)\n            ]);\n\n            let polygon2 = new Polygon();\n            polygon2.addFace([\n                point(-5, -10),\n                point(-5, 30),\n                point(5, 30),\n                point(5, -10)\n            ]);\n\n            let layer = Layers.newLayer(stage, layers);\n            layer.name = \"polygon1\";\n            layer.title = \"data\";\n\n            layer.add(polygon1);\n            layer.add(polygon2);\n\n            // layer = Layers.newLayer(stage, layers);\n            // layer.name = \"polygon2\";\n            // layer.add(polygon2);\n            // state.layers.push(layer);\n\n            zoomHome(layer, stage);\n            state.layers.push(layer);\n        }\n    }\n    return next(action);\n};\n\nexport default boolean_test;\n\n\n\n// WEBPACK FOOTER //\n// ./src/middleware/boolean_test.js","\nimport * as ActionTypes from '../actions/action-types';\nimport { Layers } from '../models/layers';\n// import { Model } from \"../models/model\";\n// import file1 from '../../public/Block_53388_2parts_Cont.txt';\n// import {parseODB} from \"../models/parserODB\";\n\nimport Flatten from 'flatten-js';\n\nlet {Segment, Arc, Vector, Polygon} = Flatten;\n\nlet filename = \"Block_53388_2parts_Cont.txt\";\n// let filename = \"polygon.txt\";\n\nfunction zoomHome(shape, stage) {\n    let box = shape.box;\n    let x = (box.xmin + box.xmax)/2;\n    let y = (box.ymin + box.ymax)/2;\n    stage.panToCoordinate(x, y);\n    stage.zoomToLimits(box.xmax - box.xmin, box.ymax - box.ymin);\n}\n\nfunction translate(polygon, vec) {\n    let newPolygon = new Polygon();\n    for (let face of polygon.faces) {\n        let shapes = [];\n        for (let edge of face) {\n            if (edge.shape instanceof Segment) {\n                shapes.push(\n                    new Segment(edge.shape.ps.translate(vec), edge.shape.pe.translate(vec))\n                )\n            }\n            else if (edge.shape instanceof  Arc) {\n                let arc_trans = edge.shape.clone();\n                arc_trans.pc = edge.shape.pc.translate(vec);\n                shapes.push(arc_trans);\n            }\n        }\n        newPolygon.addFace(shapes);\n    }\n    return newPolygon;\n}\n\nconst collision_demo = ({ dispatch, getState }) => next => action => {\n\n    if (action.type === ActionTypes.NEW_STAGE_CREATED || action.type === ActionTypes.WINDOW_HASH_CHANGED) {\n        if (document.location.href.split('#')[1] === 'collision_demo') {\n            // let str = file1;\n            // let text = atob(str.split(',')[1]);\n\n            let stage = action.stage;\n            let state = getState();\n\n            let xhr = new XMLHttpRequest();\n            let url = process.env.PUBLIC_URL + '/' + filename;\n            // let url = \"./public/\" + filename;\n            xhr.open('GET',url,true);\n            xhr.onreadystatechange = function(event) {\n                if (this.readyState === 4 && this.status === 200) {\n                    let text = this.responseText;\n\n                    let layers = state.layers;\n                    let layer = Layers.newLayer(stage, layers);\n                    layer.name = \"collision_demo\";\n                    layer.title = \"collision_demo\";\n\n                    let parser = state.app.parser;\n                    let polygon = parser.parseToPolygon(text);\n                    layer.add(polygon);\n\n                    let vec = new Vector( 2*(polygon.box.xmax - polygon.box.xmin), 0 );\n                    // let vec = new Vector(500000, 0);\n                    let trPolygon = translate(polygon, vec);\n                    layer.add(trPolygon);\n\n                    zoomHome(layer, stage);\n                    state.layers.push(layer);\n\n                    dispatch({\n                        type: ActionTypes.PAN_AND_ZOOM_TO_SHAPE,\n                        stage: stage,\n                        shape: layer\n                    })\n\n                    dispatch({\n                        type: ActionTypes.COLLISION_DEMO_URI\n                    })\n                }\n            }\n            xhr.send();\n        }\n    }\n    return next(action);\n};\n\n\nexport default collision_demo;\n\n\n\n// WEBPACK FOOTER //\n// ./src/middleware/collision_demo.js","import * as ActionTypes from '../actions/action-types';\nimport { Layers } from '../models/layers';\nimport { Model } from \"../models/model\";\n\nimport { parseODB } from \"../models/parserODB\";\n// let {point, arc, segment, circle, Polygon} = Flatten;\n\nfunction zoomHome(shape, stage) {\n    let box = shape.box;\n    let x = (box.xmin + box.xmax)/2;\n    let y = (box.ymin + box.ymax)/2;\n    stage.panToCoordinate(x, y);\n    stage.zoomToLimits(box.xmax - box.xmin, box.ymax - box.ymin);\n}\n\nconst demo = ({ dispatch, getState }) => next => action => {\n\n    if (action.type === ActionTypes.NEW_STAGE_CREATED || action.type === ActionTypes.WINDOW_HASH_CHANGED) {\n        if (document.location.href.split('#')[1] === 'demo') {\n            // console.log(document.location.pathname);\n            // console.log(getState());\n\n            let stage = action.stage;\n            let state = getState();\n\n            let layers = state.layers;\n            let layer = Layers.newLayer(stage, layers);\n            layer.name = \"features\";\n            layer.title = \"features\";\n\n            let xhr = new XMLHttpRequest();\n            xhr.open('GET',process.env.PUBLIC_URL + '/features',true);\n            xhr.onreadystatechange = function(event) {\n                if (this.readyState === 4 && this.status === 200) {\n                    let text = this.responseText;\n                    let job = parseODB(\"features\", text);\n\n                    for (let shape of job.shapes) {\n                        let model = new Model(shape, undefined, shape.label);\n                        layer.add(model);\n                    }\n\n                    zoomHome(layer, stage);\n                    state.layers.push(layer);\n\n                    dispatch({\n                        type: ActionTypes.PAN_AND_ZOOM_TO_SHAPE,\n                        stage: stage,\n                        shape: layer\n                    })\n                }\n            };\n            xhr.send();\n        }\n    }\n    return next(action);\n};\n\n\nexport default demo;\n\n\n\n// WEBPACK FOOTER //\n// ./src/middleware/demo.js","import * as ActionTypes from '../actions/action-types';\n\nconst log = ({ getState, dispatch }) => next => action => {\n\n    if(action.type !== ActionTypes.MOUSE_MOVED_ON_STAGE) {\n        console.log('ACTION: ' + action.type, action);\n    }\n\n    next(action);\n};\n\nexport default log;\n\n\n// WEBPACK FOOTER //\n// ./src/middleware/log.js","import * as ActionTypes from \"../actions/action-types\";\nimport {Layers} from \"../models/layers\";\n\nconst pasteData = ({ dispatch, getState }) => next => action => {\n\n    if (action.type !== ActionTypes.DATA_FROM_BUFFER_PASTED) {\n        return next(action);\n    }\n\n    let state = getState();\n    let stage = state.stage;\n    let layers = state.layers;\n    let parser = state.app.parser;\n\n    let layer = undefined;\n    if (state.app.importDataToNewLayer) {   // import data to new layer\n        layer = Layers.newLayer(stage, layers);\n        layers.push(layer);\n    }\n    else {                                  // import data to affected layer\n        layer = layers.find((lay) => lay.affected);\n        if (!layer) {                       // if no layer affected, add new\n            layer = Layers.newLayer(stage, layers);\n            layers.push(layer);\n        }\n    }\n\n    // Paste data from ClipBoard\n    for (let item of action.data.items) {\n        item.getAsString((string) => {\n            let shapesArray = parser.parse(string);\n\n            // TODO: add something like poly.valid()\n\n            if (shapesArray.length > 0) {\n                for (let shape of shapesArray) {\n                    layer.add(shape);\n                }\n            }\n\n            if (layer.shapes.length > 0) {\n                dispatch({\n                    type: ActionTypes.PAN_AND_ZOOM_TO_SHAPE,\n                    shape: layer,\n                    stage: stage\n                });\n                dispatch({\n                    type: ActionTypes.TOGGLE_DISPLAY_LAYER_PRESSED,\n                    layer: layer\n                })\n            }\n\n        });\n\n        break;\n    }\n\n};\n\nexport default pasteData;\n\n\n\n// WEBPACK FOOTER //\n// ./src/middleware/pasteData.js","import * as ActionTypes from '../actions/action-types';\nimport { Layers } from '../models/layers';\n// import { Shape } from '../models/shape';\nimport { Model } from \"../models/model\";\nimport { parseXML } from '../models/parserXML';\nimport { parseODB } from \"../models/parserODB\";\nimport { parseImage } from \"../models/parsePGM\";\nimport { parseCSV } from \"../models/parseCSV\";\n\nconst readAsText = (reader, file, stage, layers, dispatch, files) => {\n\n    // Closure to capture file information and parameters\n    reader.onload = (function(theFile, stage, layers, dispatch, files) {\n        return (event) => {\n            let string = event.target.result;\n\n            let namesplitted = theFile.name.split('.');\n            let extension = namesplitted[namesplitted.length-1];\n            let job;\n            if (extension === 'xml') {\n                job = parseXML(theFile.name, string);\n            }\n            else if (extension === 'csv') {\n                job = parseCSV(theFile.name, string);\n            }\n            else {\n                job = parseODB(theFile.name, string);\n            }\n            let layer = Layers.newLayer(stage, layers);\n            if (theFile.name !== \"\") {\n                layer.name = theFile.name;\n            }\n            layer.title = job.title;\n\n            for (let polygon of job.profiles) {\n                if (polygon.edges.size > 0 && polygon.faces.size > 0) {\n                    // let watch = undefined; //  parser.parseToWatchArray(string);\n                    // let shape = new Shape(polygon, stage, polygon.style, watch);\n                    let shape = new Model(polygon, undefined, polygon.label);\n\n                    layer.add(shape);\n                }\n            }\n\n            for (let polygon of job.materials) {\n                if (polygon.edges.size > 0 && polygon.faces.size > 0) {\n                    // let watch = undefined; //  parser.parseToWatchArray(string);\n                    // let shape = new Shape(polygon, stage, polygon.style, watch);\n                    let shape = new Model(polygon, undefined, polygon.label);\n\n                    layer.add(shape);\n                }\n            }\n\n            for (let shape of job.shapes) {\n                let model = new Model(shape, undefined, shape.label);\n                layer.add(model);\n            }\n\n            layers.push(layer);\n\n            if (theFile === files[0]) {\n                Layers.setAffected(layers, layer);\n                layer.color = Layers.getNextColor(layers);\n                layer.displayed = true;\n                dispatch({\n                    type: ActionTypes.PAN_AND_ZOOM_TO_SHAPE,\n                    stage: stage,\n                    shape: layer\n                });\n            }\n\n        }\n    })(file, stage, layers, dispatch, files);\n\n    reader.readAsText(file);\n};\n\nconst readAsImage = (reader, file, stage, layers, dispatch, files) => {\n    reader.addEventListener(\"load\", function () {\n        // let image = {};          // TODO: to be Flatten.Image\n        // image.uri = this.result;\n        // image.center = new Flatten.Point(0,0);\n        // image.width = 2*400000;    // 2 micron\n        // image.box = new Flatten.Box(\n        //     image.center.x - image.width/2,\n        //     image.center.y - image.width/2,\n        //     image.center.x + image.width/2,\n        //     image.center.y + image.width/2,\n        // );\n\n        let image = parseImage(file);\n        image.uri = this.result;\n\n        let model = new Model(image);\n\n        let layer = Layers.newLayer(stage, layers);\n        if (file.name !== \"\") {\n            layer.name = file.name;\n        }\n\n        layer.add(model);\n\n        layers.push(layer);\n\n        if (file === files[0]) {\n            Layers.setAffected(layers, layer);\n            layer.color = Layers.getNextColor(layers);\n            layer.displayed = true;\n            dispatch({\n                type: ActionTypes.PAN_AND_ZOOM_TO_SHAPE,\n                stage: stage,\n                shape: layer\n            });\n        }\n        else {\n            dispatch({\n                type: ActionTypes.ADD_LAYER_PRESSED,\n                layer: layer\n            })\n        }\n\n    }, false);\n\n    reader.readAsDataURL(file);\n};\n\nconst readFile = (file, stage, layers, dispatch, files) => {\n    if (file.type !== \"\" &&\n        !(file.type.match('text.*') ||\n        file.type.match('image.*')) ) return;   // validate type is text\n\n    let reader = new FileReader();\n\n    if (file.type.match('text.*') || file.name.match('features*')) {\n        readAsText(reader, file, stage, layers, dispatch, files);\n    }\n\n    else if (file.type.match('image.*')) {\n        readAsImage(reader, file, stage, layers, dispatch, files);\n    }\n\n};\n\nconst readFiles = ({ dispatch, getState }) => next => action => {\n\n    if (action.type !== ActionTypes.FILENAME_LIST_SELECTED) {\n        return next(action);\n    }\n\n    let stage = action.stage;\n    let layers = action.layers;\n\n    // Load and parse files\n    for (let file of action.files) {\n        readFile(file, stage, layers, dispatch, action.files);\n    }\n};\n\nexport default readFiles;\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/middleware/readFiles.js","import * as ActionTypes from '../actions/action-types';\nimport {Layers} from \"../models/layers\";\n\nlet Algorithmia = Window.Algorithmia\n\n// import { Model } from \"../models/model\";\n\nimport Flatten from 'flatten-js';\nlet {point, arc, segment} = Flatten;\n\n// function zoomHome(shape, stage) {\n//     let box = shape.box;\n//     let x = (box.xmin + box.xmax)/2;\n//     let y = (box.ymin + box.ymax)/2;\n//     stage.panToCoordinate(x, y);\n//     stage.zoomToLimits(box.xmax - box.xmin, box.ymax - box.ymin);\n// }\n\nconst skeleton_recognition = ({ dispatch, getState }) => next => action => {\n\n    if (action.type === ActionTypes.NEW_STAGE_CREATED || action.type === ActionTypes.WINDOW_HASH_CHANGED ||\n        action.type == ActionTypes.SKELETON_RECOGNITION_BUTTON_PRESSED) {\n        if (document.location.href.split('#')[1] === 'skeleton') {\n            // console.log(document.location.pathname);\n            if (action.type == ActionTypes.SKELETON_RECOGNITION_BUTTON_PRESSED) {\n                let state = getState();\n                let stage = state.stage;\n\n                let layers = state.layers;\n                let currentLayer = Layers.getAffected(layers);\n                let shapes = currentLayer.shapes;\n                let input = shapes.map( shape =>\n                    [shape.geom.x/400.,shape.geom.y/400.,shape.geom.nx,shape.geom.ny]\n                );\n\n                let client = Algorithmia.client(\"simby4RUwqQmtMDaHAPj5wsQwlD1\");\n                let algorithm = \"alexbol99/SeketonRecognition\"   // demo/Hello\n\n                client.algo(algorithm)\n                    .pipe(input)\n                    .then(function (output) {\n                        if (output.error) return console.error(\"error: \" + output.error);\n\n                        let newLayer = Layers.newLayer(stage, layers);\n                        newLayer.name = \"recognized\";\n                        newLayer.title = \"recognized\";\n                        // newLayer.displayed = true;\n\n                        for (let row of output.result) {\n                            let seg = segment(\n                                point(row[0]*400,row[1]*400),\n                                point(row[2]*400,row[3]*400))\n                            newLayer.add(seg)\n                        }\n                        layers.push(newLayer);\n\n                        dispatch({\n                            type: ActionTypes.PAN_AND_ZOOM_TO_SHAPE,\n                            stage: stage,\n                            shape: currentLayer\n                        })\n                    });\n\n            }\n            else {\n                dispatch({\n                    type: ActionTypes.SKELETON_RECOGNITION_URI\n                })\n            }\n        }\n    }\n    return next(action);\n};\n\n\nexport default skeleton_recognition;\n\n\n\n// WEBPACK FOOTER //\n// ./src/middleware/skeleton_recognition.js","import * as ActionTypes from '../actions/action-types';\n\nconst stageController = ({ getState, dispatch }) => next => action => {\n\n    // let state = getState();\n    let stage = action.stage;\n\n    if (stage) {\n        switch (action.type) {\n            case ActionTypes.STAGE_RESIZED:\n                stage.resize();\n                break;\n\n            case ActionTypes.MOUSE_DOWN_ON_STAGE:\n                stage.panByMouseStart();\n                break;\n\n            case ActionTypes.MOUSE_MOVED_ON_STAGE:\n                if (action.dx !== undefined && action.dy !== undefined) {\n                    stage.panByMouseMove(action.dx, action.dy);\n                }\n                break;\n\n            case ActionTypes.MOUSE_UP_ON_STAGE:\n                stage.panByMouseStop();\n                break;\n\n            case ActionTypes.PAN_AND_ZOOM_TO_SHAPE:\n                let center = action.shape.center;\n                let box = action.shape.box;\n                stage.panToCoordinate(center.x, center.y);\n                stage.zoomToLimits(box.xmax - box.xmin, box.ymax - box.ymin);\n                break;\n\n            case ActionTypes.MOUSE_WHEEL_MOVE_ON_STAGE:\n                let bIn = action.delta > 0;\n                // stage.zoomByMouse(action.x, action.y, bIn, 1 + Math.abs(action.delta)/100.);\n                stage.zoomByMouse(action.x, action.y, bIn, 1.2);\n                break;\n\n            default:\n                break;\n        }\n    }\n\n    next(action);\n};\n\nexport default stageController;\n\n\n// WEBPACK FOOTER //\n// ./src/middleware/stageController.js","/**\n * Created by alexanderbol on 17/04/2017.\n */\n\nimport Flatten from 'flatten-js';\n\nexport class Distance {\n    /**\n     }\n     * Returns [mindist, maxdist] array of squared minimal and maximal distance between boxes\n     * Minimal distance by x is\n     *    (box2.xmin - box1.xmax), if box1 is left to box2\n     *    (box1.xmin - box2.xmax), if box2 is left to box1\n     *    0,                       if box1 and box2 are intersected by x\n     * Minimal distance by y is defined in the same way\n     *\n     * Maximal distance is estimated as a sum of squared dimensions of the merged box\n     *\n     * @param box1\n     * @param box2\n     * @returns {Number | Number} - minimal and maximal distance\n     */\n    static box2box_minmax(box1, box2) {\n        let mindist_x = Math.max(Math.max(box1.xmin - box2.xmax, 0), Math.max(box2.xmin - box1.xmax, 0));\n        let mindist_y = Math.max(Math.max(box1.ymin - box2.ymax, 0), Math.max(box2.ymin - box1.ymax, 0));\n        let mindist = mindist_x * mindist_x + mindist_y * mindist_y;\n\n        let box = box1.merge(box2);\n        let dx = box.xmax - box.xmin;\n        let dy = box.ymax - box.ymin;\n        let maxdist = dx * dx + dy * dy;\n\n        return [mindist, maxdist];\n    }\n\n    static minmax_tree_process_level(shape, level, min_stop, tree) {\n        // Calculate minmax distance to each shape in current level\n        // Insert result into the interval tree for further processing\n        // update min_stop with maxdist, it will be the new stop distance\n        let mindist, maxdist;\n        for (let node of level) {\n\n            // [mindist, maxdist] = Distance.box2box_minmax(shape.box, node.max);\n            // if (Flatten.Utils.GT(mindist, min_stop))\n            //     continue;\n\n            // Estimate min-max dist to the shape stored in the node.item, using node.item.key which is shape's box\n            [mindist, maxdist] = Distance.box2box_minmax(shape.box, node.item.key);\n            if (node.item.value instanceof Flatten.Edge) {\n                tree.insert([mindist, maxdist], node.item.value.shape);\n            }\n            else {\n                tree.insert([mindist, maxdist], node.item.value);\n            }\n            if (Flatten.Utils.LT(maxdist, min_stop)) {\n                min_stop = maxdist;                       // this will be the new distance estimation\n            }\n        }\n\n        if (level.length === 0)\n            return [min_stop, level, tree];\n\n        // Calculate new level from left and right children of the current\n        let new_level_left = level.map(node => node.left.isNil() ? undefined : node.left).filter(node => node !== undefined);\n        let new_level_right = level.map(node => node.right.isNil() ? undefined : node.right).filter(node => node !== undefined);\n        // Merge left and right subtrees and leave only relevant subtrees\n        let new_level = [...new_level_left, ...new_level_right].filter(node => {\n            // Node subtree quick reject, node.max is a subtree box\n            let mindist = Distance.box2box_minmax(shape.box, node.max)[0];\n            return (Flatten.Utils.LE(mindist, min_stop));\n        });\n\n        // min_stop = Distance.minmax_tree_process_level(shape, new_level, min_stop, tree);\n        return [min_stop, new_level, tree];\n    }\n\n    /**\n     * Calculates sorted tree of [mindist, maxdist] intervals between query shape\n     * and shapes of the planar set.\n     * @param shape\n     * @param set\n     */\n    static minmax_tree(shape, set, min_stop) {\n        let tree = new Flatten.IntervalTree();\n        let level = [set.index.root];\n        let squared_min_stop = min_stop < Number.POSITIVE_INFINITY ? min_stop * min_stop : Number.POSITIVE_INFINITY;\n        Distance.minmax_tree_process_level(shape, level, squared_min_stop, tree);\n        return tree;\n    }\n\n    static minmax_tree_calc_distance(shape, node, min_dist_and_segment) {\n        let min_dist_and_segment_new, stop;\n        if (node != null && !node.isNil()) {\n            [min_dist_and_segment_new, stop] = Distance.minmax_tree_calc_distance(shape, node.left, min_dist_and_segment);\n\n            if (stop) {\n                return [min_dist_and_segment_new, stop];\n            }\n\n            if (Flatten.Utils.LT(min_dist_and_segment_new[0], Math.sqrt(node.item.key.low))) {\n                return [min_dist_and_segment_new, true];   // stop condition\n            }\n\n            let [dist, shortest_segment] = Distance.distance(shape, node.item.value);\n            // console.log(dist)\n            if (Flatten.Utils.LT(dist, min_dist_and_segment_new[0])) {\n                min_dist_and_segment_new = [dist, shortest_segment];\n            }\n\n            [min_dist_and_segment_new, stop] = Distance.minmax_tree_calc_distance(shape, node.right, min_dist_and_segment_new);\n\n            return [min_dist_and_segment_new, stop];\n        }\n\n        return [min_dist_and_segment, false];\n    }\n    static shape2planarSet(shape, set, min_stop = Number.POSITIVE_INFINITY) {\n        let min_dist_and_segment = [min_stop, new Flatten.Segment()];\n        let stop = false;\n        if (set instanceof Flatten.PlanarSet) {\n            let tree = Distance.minmax_tree(shape, set, min_stop);\n            [min_dist_and_segment, stop] = Distance.minmax_tree_calc_distance(shape, tree.root, min_dist_and_segment);\n        }\n        return min_dist_and_segment;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/distance.js","/**\n * Created by alexanderbol on 17/04/2017.\n */\n\nimport Flatten from 'flatten-js';\n// import { Shape } from '../models/shape';\nimport { Model } from './model';\n\nexport class Layer {\n    constructor(stage) {\n        // super();\n        // cannot define Layer as extension of PlanarSet due to bug in compiler ?\n        this.stage = stage;\n        this.shapes = [];         // new Flatten.PlanarSet();\n        this.name = \"\";\n        this.color = \"\";\n        this.title = \"\";\n        this.displayed = false;\n        this.edited = false;\n        this.affected = false;\n    }\n\n    clone() {\n        let layer = new Layer(this.stage);\n        return Object.assign(layer, this);\n    }\n\n    add(shape) {\n        if (shape instanceof Model) {\n            this.shapes.push(shape);       // add(shape)\n        }\n        else {\n            let geom = shape;\n            let newShape = new Model(geom, {}, shape.label) // , this.stage);\n            this.shapes.push(newShape);     // add(newShape);\n        }\n        return this;\n    }\n\n    addShapesArray(shapes) {\n        for (let shape of shapes) {\n            this.add(shape);\n        }\n        return this;\n    }\n\n    get box() {\n        let box = new Flatten.Box();\n        for (let shape of this.shapes) {\n            box = box.merge(shape.box);\n        }\n        return box;\n    }\n\n    get center() {\n        let box = this.box;\n        return new Flatten.Point((box.xmin + box.xmax)/2, (box.ymin + box.ymax)/2);\n    }\n\n    toggleDisplayed(color) {\n        let displayed = !this.displayed;\n        return Object.assign(this.clone(),\n            {\n                displayed : displayed,\n                color: color\n            });\n    }\n\n    setAffected(affected) {\n        return Object.assign(this.clone(),\n            {\n                affected : affected\n            });\n    }\n\n    setEdited(edited) {\n        return Object.assign(this.clone(),\n            {\n                edited : edited\n            });\n    }\n\n    setNameAndTitle(name,title) {\n        return Object.assign(this.clone(),\n            {\n                name : name,\n                title: title,\n                edited: false\n            });\n    }\n\n    setAlpha() {\n        for(let shape of this.shapes) {\n            shape.alpha = this.displayed ? 1 : 0;\n        }\n        return this.shapes;\n    }\n\n    toggleExpanded(shapeToggle) {\n        for(let shape of this.shapes) {\n            if (shape === shapeToggle) {\n                shape.expanded = !shape.expanded;\n            }\n        }\n        return this;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/layer.js","import { Job } from '../models/job';\nimport Flatten from 'flatten-js';\n\nlet {point, vector, line} = Flatten;\n\nconst micron2pixels = 400;\nfunction micronToPixels(str) {\n    return Math.round(Number(str)*micron2pixels,0);\n}\n\nexport function parseCSV(filename, str) {\n    let job = new Job();\n    job.filename = filename;\n\n    let arrayOfLines = str.match(/[^\\r\\n]+/g);\n\n    for (let i = 0; i < arrayOfLines.length; i++) {\n        let line = arrayOfLines[i];\n        let terms = line.split(',');\n\n        let px = micronToPixels(terms[0]);\n        let py = micronToPixels(terms[1]);\n        let nx = Number(terms[2]);\n        let ny = Number(terms[3]);\n        let shape = point(px,py);\n        shape.nx = nx\n        shape.ny = ny;\n        job.shapes.push(shape)\n    }\n\n    return job\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/parseCSV.js","import Flatten from 'flatten-js';\n\nconst pgmResolution = 25.500025;\nconst microns2pixels = 400;\n// const inch2pixels = 10160;\n// const offsetX = 12.322830;\n// const offsetY = 8.326776;\nconst sizeX = 3.0303;\n\nfunction toPixels(str) {\n    let num = Number(str);\n    return Math.round(num*pgmResolution*microns2pixels,0);\n}\n\nexport function parseImage(file) {\n    let image = {};          // TODO: to be Flatten.Image\n\n    let terms = file.name.split('_');\n    let yStr = terms[0].substr(1);\n    let xStr = terms[1].substr(1);\n\n    let x = toPixels(xStr) + 90000;\n    let y = toPixels(yStr) - 40000;\n\n    image.center = new Flatten.Point(x,y);\n    image.width = sizeX*microns2pixels*1000;    // 2 mm\n    image.box = new Flatten.Box(\n        image.center.x - image.width/2,\n        image.center.y - image.width/2,\n        image.center.x + image.width/2,\n        image.center.y + image.width/2,\n    );\n\n    return image;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/parsePGM.js","/**\n * Created by alexanderbol on 01/05/2017.\n */\n\nimport Flatten from 'flatten-js';\nlet {Point, Segment, Arc, Polygon} = Flatten;\nlet { vector } = Flatten;\n\n/*\nlet debug_str = `+\t\t[0]\t{nrec=27 nalloc=27 h_ind_id=-1 ...} mat_cont_hdr_struc\tmat_cont_struc\n    +\t\t[1]\t{pmin=59146400,5973200 pmax=59606001,6438000} mat_cont_lim_struc\tmat_cont_struc\n+\t\t[2]\t{nedge=23 nalloc=25 ntop=2 ...} mat_cont_poly_struc\tmat_cont_struc\n+\t\t[3]\t{pmin=59146400,5973200 pmax=59606001,6438000} mat_cont_lim_struc\tmat_cont_struc\n+\t\t[4]\t{ps=59192738,6363124 pe=59216000,6372800 pc=59216000,6340000 cw=1} mat_curve_struc\tmat_cont_struc\n+\t\t[5]\t{ps=59216000,6372800 pe=59267652,6372800} mat_seg_struc\tmat_cont_struc\n+\t\t[6]\t{ps=59267652,6372800 pe=59267652,6307200 pc=59360000,6340000 cw=1} mat_curve_struc\tmat_cont_struc\n+\t\t[7]\t{ps=59267652,6307200 pe=59229586,6307200} mat_seg_struc\tmat_cont_struc\n+\t\t[8]\t{ps=59229586,6307200 pe=59212000,6289614} mat_seg_struc\tmat_cont_struc\n+\t\t[9]\t{ps=59212000,6289614 pe=59212000,6056386} mat_seg_struc\tmat_cont_struc\n+\t\t[10]\t{ps=59212000,6056386 pe=59229586,6038800} mat_seg_struc\tmat_cont_struc\n+\t\t[11]\t{ps=59229586,6038800 pe=59469614,6038800} mat_seg_struc\tmat_cont_struc\n+\t\t[12]\t{ps=59469614,6038800 pe=59487200,6056386} mat_seg_struc\tmat_cont_struc\n+\t\t[13]\t{ps=59487200,6056386 pe=59487200,6100500} mat_seg_struc\tmat_cont_struc\n+\t\t[14]\t{ps=59487200,6100500 pe=59434000,6180000 pc=59520000,6180000 cw=1} mat_curve_struc\tmat_cont_struc\n+\t\t[15]\t{ps=59434000,6180000 pe=59552800,6100500 pc=59520000,6180000 cw=1} mat_curve_struc\tmat_cont_struc\n+\t\t[16]\t{ps=59552800,6100500 pe=59552800,6042800} mat_seg_struc\tmat_cont_struc\n+\t\t[17]\t{ps=59552800,6042800 pe=59543124,6019538 pc=59520000,6042800 cw=1} mat_curve_struc\tmat_cont_struc\n+\t\t[18]\t{ps=59543124,6019538 pe=59506462,5982876} mat_seg_struc\tmat_cont_struc\n+\t\t[19]\t{ps=59506462,5982876 pe=59483200,5973200 pc=59483200,6006000 cw=1} mat_curve_struc\tmat_cont_struc\n+\t\t[20]\t{ps=59483200,5973200 pe=59216000,5973200} mat_seg_struc\tmat_cont_struc\n+\t\t[21]\t{ps=59216000,5973200 pe=59192738,5982876 pc=59216000,6006000 cw=1} mat_curve_struc\tmat_cont_struc\n+\t\t[22]\t{ps=59192738,5982876 pe=59156076,6019538} mat_seg_struc\tmat_cont_struc\n+\t\t[23]\t{ps=59156076,6019538 pe=59146400,6042800 pc=59179200,6042800 cw=1} mat_curve_struc\tmat_cont_struc\n+\t\t[24]\t{ps=59146400,6042800 pe=59146400,6303200} mat_seg_struc\tmat_cont_struc\n+\t\t[25]\t{ps=59146400,6303200 pe=59156076,6326462 pc=59179200,6303200 cw=1} mat_curve_struc\tmat_cont_struc\n+\t\t[26]\t{ps=59156076,6326462 pe=59192738,6363124} mat_seg_struc\tmat_cont_struc\n`;\n*/\n\nexport class Parser {\n    parseToWatchArray(str) {\n        let arrayOfLines = str.match(/[^\\r\\n]+/g);\n        let watchArray = [];\n        for (let line of arrayOfLines) {\n            watchArray.push(line.substring(line.indexOf('{')));\n        }\n        return watchArray;\n    }\n\n    parseToSegment(line) {\n        let parenth = line.match(/\\{([^)]+)\\}/)[1];   // string inside {..}\n        let termArr = parenth.split(' ');             // array of terms \"attr=value\"\n\n        let psArr = termArr[0].split('=')[1].split(',');\n        let ps = new Point(parseInt(psArr[0],10), parseInt(psArr[1],10));\n\n        let peArr = termArr[1].split('=')[1].split(',');\n        let pe = new Point(parseInt(peArr[0],10), parseInt(peArr[1],10));\n\n        return new Segment(ps, pe);\n    }\n\n    parseToArc(line) {\n        let parenth = line.match(/\\{([^)]+)\\}/)[1];   // string inside {..}\n        let termArr = parenth.split(' ');             // array of terms \"attr=value\"\n\n        let psArr = termArr[0].split('=')[1].split(',');\n        let ps = new Point(parseInt(psArr[0],10), parseInt(psArr[1],10));\n\n        let peArr = termArr[1].split('=')[1].split(',');\n        let pe = new Point(parseInt(peArr[0],10), parseInt(peArr[1],10));\n\n        let pcArr = termArr[2].split('=')[1].split(',');\n        let pc = new Point(parseInt(pcArr[0],10), parseInt(pcArr[1],10));\n\n        let cwStr = termArr[3].split('=')[1];\n        let counterClockwise = cwStr === '0' ? true : false;\n\n        let startAngle = vector(pc,ps).slope;\n        let endAngle = vector(pc, pe).slope;\n\n        if (Flatten.Utils.EQ(startAngle, endAngle)) {\n            endAngle += 2*Math.PI;\n        }\n        let r = vector(pc, ps).length;\n\n        return new Arc(pc, r, startAngle, endAngle, counterClockwise);\n    }\n\n    parseToPolygon(str) {\n        let polygon = new Polygon();\n        // let mulitystr = debug_str;\n        let arrayOfLines = str.match(/[^\\r\\n]+/g);\n\n        for (let i=0; i < arrayOfLines.length; i++) {\n            let line = arrayOfLines[i];\n            if (line.search('mat_cont_poly_struc') >= 0) {\n                let parenth = line.match(/\\{([^)]+)\\}/)[1];       // string inside {..}\n                let termArr = parenth.split(' ');                 // array of terms \"attr=value\"\n                let nedgesTerm = termArr[0];                      // \"nedge=nn\"\n                let nedgesStr = nedgesTerm.split('=')[1];\n                let nedges = parseInt(nedgesStr,10);\n\n                // Create new face from next #nedges of segments and arcs\n                let edges = [];\n                for (let j=i+2; j < i+2+nedges; j++) {\n                    line = arrayOfLines[j];\n                    // let parenth = line.match(/\\{([^)]+)\\}/)[1];   // string inside {..}\n                    // let termArr = parenth.split(' ');             // array of terms \"attr=value\"\n\n                    if (line.search('mat_seg_struc') >= 0) {\n                        let segment = this.parseToSegment(line);\n                        edges.push(segment);\n\n                        // let psArr = termArr[0].split('=')[1].split(',');\n                        // let ps = new Point(parseInt(psArr[0],10), parseInt(psArr[1],10));\n                        //\n                        // let peArr = termArr[1].split('=')[1].split(',');\n                        // let pe = new Point(parseInt(peArr[0],10), parseInt(peArr[1],10));\n                        //\n                        // edges.push(new Segment(ps, pe));\n                    }\n                    else if (line.search('mat_curve_struc') >= 0) {\n                        let arc = this.parseToArc(line);\n                        edges.push(arc);\n\n                        // let psArr = termArr[0].split('=')[1].split(',');\n                        // let ps = new Point(parseInt(psArr[0],10), parseInt(psArr[1],10));\n                        //\n                        // let peArr = termArr[1].split('=')[1].split(',');\n                        // let pe = new Point(parseInt(peArr[0],10), parseInt(peArr[1],10));\n                        //\n                        // let pcArr = termArr[2].split('=')[1].split(',');\n                        // let pc = new Point(parseInt(pcArr[0],10), parseInt(pcArr[1],10));\n                        //\n                        // let cwStr = termArr[3].split('=')[1];\n                        // let counterClockwise = cwStr === '0' ? true : false;\n                        //\n                        // let startAngle = vector(pc,ps).slope;\n                        // let endAngle = vector(pc, pe).slope;\n                        //\n                        // if (Flatten.Utils.EQ(startAngle, endAngle)) {\n                        //     endAngle += 2*Math.PI;\n                        // }\n                        // let r = vector(pc, ps).length;\n                        //\n                        // edges.push(new Arc(pc, r, startAngle, endAngle, counterClockwise));\n                    }\n                }\n                polygon.addFace(edges);\n            }\n        }\n        return polygon;\n    }\n\n    parseToPoints(str) {\n        let points = [];\n        let arrayOfLines = str.match(/[^\\r\\n]+/g);\n        for (let line of arrayOfLines) {\n            if (line.search('point_struc') >= 0) {\n                let parenth = line.match(/\\{([^)]+)\\}/)[1];   // string inside {..}\n                let pointArr = parenth.split('=')[1].split(',');\n                let point = new Point(parseInt(pointArr[0],10), parseInt(pointArr[1],10));\n                point.label = line.split(/\\s+/)[1];\n                points.push(point);\n            }\n        }\n        return points;\n    }\n\n    parseToSegmentsArcs(str) {\n        let shapes = [];\n        let arrayOfLines = str.match(/[^\\r\\n]+/g);\n        for (let line of arrayOfLines) {\n            if (line.search('mat_seg_struc') >= 0) {\n                let segment = this.parseToSegment(line);\n                shapes.push(segment);\n            }\n            else if (line.search('mat_curve_struc') >= 0) {\n                let arc = this.parseToArc(line);\n                shapes.push(arc);\n            }\n        }\n        return shapes;\n    }\n\n    parse(str) {\n        /* try polygon */\n        let polygon = this.parseToPolygon(str);\n        if (polygon.edges.size > 0 && polygon.faces.size > 0) {\n            return [polygon];\n        }\n\n        /* try array of points */\n        let points = this.parseToPoints(str);\n        if (points.length > 0) {\n            return points;\n        }\n\n        /* try array of segments and arcs */\n        let shapes = this.parseToSegmentsArcs(str);\n        if (shapes.length > 0) {\n            return shapes;\n        }\n    }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/parser.js","import { Job } from '../models/job';\nimport Flatten from 'flatten-js';\n\nlet {Point, Segment, Arc, Polygon} = Flatten;\nlet { vector } = Flatten;\n\nfunction parseEdges(edgesXML) {\n    let edges = [];\n\n    for (let edge of edgesXML) {\n        let type = edge.getAttribute('type');\n\n        if (type === \"segment\") {\n            let ps = new Point(parseInt(edge.getAttribute('xs'),10), parseInt(edge.getAttribute('ys'),10));\n            let pe = new Point(parseInt(edge.getAttribute('xe'),10), parseInt(edge.getAttribute('ye'),10));\n\n            edges.push(new Segment(ps, pe));\n        }\n\n        if (type === \"curve\") {\n            let ps = new Point(parseInt(edge.getAttribute('xs'),10), parseInt(edge.getAttribute('ys'),10));\n            let pe = new Point(parseInt(edge.getAttribute('xe'),10), parseInt(edge.getAttribute('ye'),10));\n            let pc = new Point(parseInt(edge.getAttribute('xc'),10), parseInt(edge.getAttribute('yc'),10));\n\n            let counterClockwise = edge.getAttribute('cw') === 'no' ? true : false;\n\n            let startAngle = vector(pc,ps).slope;\n            let endAngle = vector(pc, pe).slope;\n\n            let r = vector(pc, ps).length;\n\n            edges.push(new Arc(pc, r, startAngle, endAngle, counterClockwise));\n        }\n    }\n\n    return edges;\n}\n\nfunction parsePolygon(polygonsXML) {\n    let polygon = new Polygon();\n\n    // let nedges = parseInt(profile.getAttribute(\"n_edges\"), 10);\n\n    // Augment Flatten object with style\n    let color = polygonsXML.getAttribute(\"color\");\n    polygon.style = {\n        stroke: color || undefined,\n        fill: color || undefined,\n        alpha: 1.0\n    };\n\n    // Augment Flatten object with label\n    let label = polygonsXML.getAttribute(\"label\");\n    polygon.label = label;\n\n    // Add islands\n    let islands = polygonsXML.getElementsByTagName('island');\n    for (let island of islands) {\n        let edgesXML = island.getElementsByTagName('edge');\n        polygon.addFace(parseEdges(edgesXML));\n    }\n\n    // Add holes\n    let holes = polygonsXML.getElementsByTagName('hole');\n    for (let hole of holes) {\n        let edgesXML = hole.getElementsByTagName('edge');\n        polygon.addFace(parseEdges(edgesXML));\n    }\n\n    return polygon;\n}\n\nfunction parseSegment(segmentXML) {\n    let ps = new Point(parseInt(segmentXML.getAttribute('xs'),10), parseInt(segmentXML.getAttribute('ys'),10));\n    let pe = new Point(parseInt(segmentXML.getAttribute('xe'),10), parseInt(segmentXML.getAttribute('ye'),10));\n\n    let segment = new Segment(ps, pe);\n\n    // Augment Flatten object with label property\n    let label = segmentXML.getAttribute(\"label\");\n    segment.label = label;\n\n    return segment;\n}\n\nfunction parseCurve(curveXML) {\n    let ps = new Point(parseInt(curveXML.getAttribute('xs'),10), parseInt(curveXML.getAttribute('ys'),10));\n    let pe = new Point(parseInt(curveXML.getAttribute('xe'),10), parseInt(curveXML.getAttribute('ye'),10));\n    let pc = new Point(parseInt(curveXML.getAttribute('xc'),10), parseInt(curveXML.getAttribute('yc'),10));\n\n    let counterClockwise = curveXML.getAttribute('cw') === 'yes' ? true : false;\n\n    let startAngle = vector(pc,ps).slope;\n    let endAngle = vector(pc, pe).slope;\n\n    let r = vector(pc, ps).length;\n\n    let arc = new Arc(pc, r, startAngle, endAngle, counterClockwise);\n\n    // Augment Flatten object with label property\n    let label = curveXML.getAttribute(\"label\");\n    arc.label = label;\n\n    return arc;\n}\n\nfunction parsePoint(pointXML) {\n    let point = new Point(parseInt(pointXML.getAttribute('x'),10), parseInt(pointXML.getAttribute('y'),10));\n\n    // Augment Flatten object with label property\n    let label = pointXML.getAttribute(\"label\");\n    point.label = label;\n\n    return point;\n}\nexport function parseXML(filename, str) {\n    let job = new Job();\n\n    job.filename = filename;\n\n    let parser = new DOMParser();\n    let xmlDoc = parser.parseFromString(str, \"text/xml\");\n\n    // Parse document title\n    let titles = xmlDoc.getElementsByTagName('title');\n    if (titles && titles.length > 0) {\n        job.title = titles[0].firstChild.nodeValue;          // take the first title if more than one\n    }\n\n    // Parse profiles and add polygons to the job\n    let profilesXML = xmlDoc.getElementsByTagName('profile');\n    for (let profileXML of profilesXML) {\n        let polygon = parsePolygon(profileXML);\n        job.profiles.push(polygon);\n    }\n\n    // Parse materials and add polygons to the job\n    let materialXML = xmlDoc.getElementsByTagName('material');\n    for (let shapeXML of materialXML) {\n        let polygon = parsePolygon(shapeXML);\n        job.materials.push(polygon);\n    }\n\n    // Parse segments\n    let segmentsXML = xmlDoc.getElementsByTagName('segment');\n    for (let segmentXML of segmentsXML) {\n        let segment = parseSegment(segmentXML);\n        job.shapes.push(segment);\n    }\n\n    // Parse segments\n    let curvesXML = xmlDoc.getElementsByTagName('curve');\n    for (let curveXML of curvesXML) {\n        let curve = parseCurve(curveXML);\n        job.shapes.push(curve);\n    }\n\n    // Parse points\n    let pointsXML = xmlDoc.getElementsByTagName('point');\n    for (let pointXML of pointsXML) {\n        let point = parsePoint(pointXML);\n        job.shapes.push(point);\n    }\n    return job;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/parserXML.js","/**\n * Created by alexanderbol on 21/04/2017.\n */\nimport * as createjs from '../../public/easeljs-NEXT.combined.js';\n// import * as createjs from '../easeljs-NEXT.combined';\n\nimport Flatten from 'flatten-js';\n\n// import { Shape } from '../models/shape';\n\nexport class Stage extends createjs.Stage {\n    constructor(canvas) {\n        super(canvas);\n\n        createjs.Touch.enable(this);\n        this.mouseMoveOutside = false;   // true;\n        // this.enableDOMEvents(false);\n        this.enableMouseOver(20);\n\n        if (this.canvas.clientWidth > 0 && this.canvas.clientHeight > 0) {\n            this.canvas.width = this.canvas.clientWidth;\n            this.canvas.height = this.canvas.clientHeight;\n            // this.updateViewport(this.canvas.width, this.canvas.height);\n        }\n        this.origin = {x: this.canvas.width / 2, y: this.canvas.height / 2};\n        this.oldOrigin = {x: undefined, y: undefined};   // used by pan\n        this.resolution = 0.00001;          // MM 2 Pixels when zoomFactor = 1;\n        this.zoomFactor = 1.0;\n    }\n\n    get box() {\n        let minX = this.C2W_X(0);\n        let minY = this.C2W_Y(this.canvas.height);\n        let maxX = this.C2W_X(this.canvas.width);\n        let maxY = this.C2W_Y(0);\n\n        return ( new Flatten.Box(minX, minY, maxX, maxY) );\n    }\n\n    clone() {\n        let stage = new Stage(this.canvas);\n        return Object.assign(stage, this);\n    }\n\n    add(shape) {\n        this.addChild(shape);\n        return this;\n    }\n\n    scalingFactor() {\n        return this.resolution * this.zoomFactor;\n    }\n\n    C2W_Scalar(scalar) {\n        return (scalar / this.scalingFactor());\n    }\n\n    W2C_Scalar(scalar) {\n        return (this.scalingFactor() * scalar);\n    }\n\n    C2W_X(canvasX) {\n        return ((canvasX - this.origin.x) / this.scalingFactor());\n    }\n\n    C2W_Y(canvasY) {\n        return ((this.origin.y - canvasY) / this.scalingFactor());\n    }\n\n    W2C_X(worldX) {\n        return (this.scalingFactor() * worldX + this.origin.x);\n    }\n\n    W2C_Y(worldY) {\n        return (this.origin.y - this.scalingFactor() * worldY);\n    }\n\n    W2C(point) {\n        return {x: this.W2C_X(point.x), y: this.W2C_Y(point.y)}\n    }\n\n    panTo(newOrigin) {\n        this.origin = {x: newOrigin.x, y: newOrigin.y}\n    }\n\n    panBy(deltaX, deltaY) {\n        this.origin = {\n            x: this.origin.x + deltaX,\n            y: this.origin.y + deltaY\n        }\n    }\n\n    // zoom by 10% each time\n    zoomIn(ratio) {\n        let curRatio = ratio || 1.1;\n        this.zoomFactor = Math.min(10000000, curRatio * this.zoomFactor);\n    }\n\n    zoomOut(ratio) {\n        let curRatio = ratio || 1.1;\n        this.zoomFactor = Math.max(0.001, this.zoomFactor / curRatio);\n    }\n\n    // ZoomIn/Out + \"Focus follows mouse\"\n    zoom(focusX, focusY, bIn, ratio) {\n        let worldX = this.C2W_X(focusX);    // world coordinate of mouse focus before zoom\n        let worldY = this.C2W_Y(focusY);\n\n        bIn ? this.zoomIn(ratio) : this.zoomOut(ratio);\n\n        let newFocusX = this.W2C_X(worldX); // canvas coordinate after zoom\n        let newFocusY = this.W2C_Y(worldY);\n\n        this.panBy(focusX - newFocusX, focusY - newFocusY);\n\n        return [newFocusX, newFocusY];\n    }\n\n    zoomByMouse(focusX, focusY, bIn, ratio) {\n        this.zoom(focusX, focusY, bIn, ratio);\n    }\n\n    zoomToLimits(width, height) {\n        // prevent zero division in case of single point box\n        if (width === 0) width = 400000;\n        if (height === 0) height = 400000;\n        let resolution = Math.min(this.canvas.width / (1.1*width), this.canvas.height / (1.1*height));\n        let zoomFactor = resolution / this.resolution;\n        let ratio = zoomFactor / this.zoomFactor;\n        let bIn = true; //ratio > 1;\n\n        let focusX = this.canvas.width/2;\n        let focusY = this.canvas.height/2;\n        this.zoom(focusX, focusY, bIn, ratio);\n    }\n\n    resize() {\n        // this.origin.x = this.canvas.width / 2;\n        // this.origin.y = this.canvas.height / 2;\n        if (this.canvas.clientWidth > 0 && this.canvas.clientHeight > 0) {\n            this.canvas.width = this.canvas.clientWidth;\n            this.canvas.height = this.canvas.clientHeight;\n        }\n    }\n\n    // drawSomething() {\n    //     let shape = new Shape();\n    //     shape.graphics.beginFill('red').drawRect(0, 0, 20, 20);\n    //     this.addChild(shape);\n    //     this.update();\n    // }\n\n    panByMouseStart() {\n        this.oldOrigin.x = this.origin.x;\n        this.oldOrigin.y = this.origin.y;\n    }\n\n    panByMouseMove(dx, dy) {\n        if (dx !== undefined && dy !== undefined &&\n            this.oldOrigin.x !== undefined && this.oldOrigin.y !== undefined) {\n            this.origin = {\n                    x: this.oldOrigin.x + dx,\n                    y: this.oldOrigin.y + dy\n                };\n        }\n    }\n\n    panByMouseStop() {\n        this.oldOrigin.x = undefined;\n        this.oldOrigin.y = undefined;\n        this.tx = undefined;\n        this.ty = undefined;\n    }\n\n    panToCoordinate(x, y) {\n        let canvasX = this.W2C_X(x);\n        let canvasY = this.W2C_Y(y);\n\n        let dx = this.canvas.width / 2 - canvasX;\n        let dy = this.canvas.height / 2 - canvasY;\n        this.panBy(dx, dy);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/stage.js","/**\n * Created by alexanderbol on 13/04/2017.\n */\n\nimport * as ActionTypes from './actions/action-types';\nimport {combineReducers} from 'redux';\n\nimport Flatten from 'flatten-js';\nimport IntervalTree from 'flatten-interval-tree';\n\n// import {Stage} from './models/stage';\n// import {Layer} from './models/layer';\nimport {Layers} from './models/layers';\nimport {Parser} from './models/parser';\nimport {Distance} from \"./models/distance\";\n\nconst unitsList = [\n    {\n        name: \"pixels\",\n        decimals: 0,\n        divisor: 1\n    },\n    {\n        name: \"inch\",\n        decimals: 7,\n        divisor: 10160000\n    },\n    {\n        name: \"mm\",\n        decimals: 6,\n        divisor: 400000\n    }];\n\nconst defaultAppState = {\n    title: \"Debug Viewer\",\n    version: \"1.0\",\n    build: \"\",\n    units: \"pixels\",\n    decimals: 0,\n    divisor: 1,\n    bg: \"#F1F1F1\",\n    parser: new Parser(),\n    widthOn: true,\n    displayVertices: false,\n    displayLabels: true,\n    measurePointsActive: false,\n    zoomFactor: undefined,\n    originX: undefined,\n    originY: undefined,\n    showAboutPopup: false,\n    importDataToNewLayer: true,       // if false, import data to affected layer\n    showSkeletonRecognitionButton: false,\n    applySkeletonRecognition: false\n};\n\nconst defaultMeasureShapesTool = {\n    measureShapesActive: false,\n    measureShapesFirstClick: true,\n    hoveredShape: null,\n    firstMeasuredShape: null,\n    secondMeasuredShape: null,\n    firstMeasuredLayer: null,\n    secondMeasuredLayer: null,\n    distance: undefined,\n    shortestSegment: null\n};\n\nconst defaultAabbDemoToolState = {\n    aabbDemoToolActivated: false,\n    measureShapesActive: false,\n    measureShapesFirstClick: true,\n    hoveredShape: null,\n    firstMeasuredShape: null,\n    secondMeasuredShape: null,\n    firstMeasuredLayer: null,\n    secondMeasuredLayer: null,\n    distance: undefined,\n    shortestSegment: null,\n    firstMeasuredShapeLevel: [],\n    secondMeasuredShapeLevel: [],\n    min_stop: Number.POSITIVE_INFINITY,\n    tree: null\n};\n\nconst defaultCollisionDistanceDemoToolState = {\n    showCollisionDemoToolButton: false,\n    collisionDistanceDemoToolActivated: false\n};\n\nconst defaultMouseState = {\n    x: 0,\n    y: 0,\n    startX: undefined,\n    startY: undefined\n};\n\nfunction app(state = defaultAppState, action) {\n    switch (action.type) {\n        case ActionTypes.NEW_STAGE_CREATED:\n        case ActionTypes.MOUSE_WHEEL_MOVE_ON_STAGE:\n        case ActionTypes.PAN_AND_ZOOM_TO_SHAPE:\n            return Object.assign({}, state, {\n                zoomFactor: action.stage.zoomFactor * action.stage.resolution,\n                originX: action.stage.origin.x,\n                originY: action.stage.origin.y\n            });\n        case ActionTypes.MOUSE_MOVED_ON_STAGE:\n            return Object.assign({}, state, {\n                originX: action.stage.origin.x,\n                originY: action.stage.origin.y\n            });\n        case ActionTypes.TOGGLE_UNITS_CLICKED:\n            let curUnitsId = unitsList.findIndex(units => state.units === units.name);\n            let newUnits = unitsList[(curUnitsId + 1) % 3];\n            return Object.assign({}, state, {\n                units: newUnits.name,\n                decimals: newUnits.decimals,\n                divisor: newUnits.divisor\n            });\n        case ActionTypes.TOGGLE_WIDTH_MODE_CLICKED:\n            return Object.assign({}, state, {\n                widthOn: !state.widthOn,\n                displayVertices: state.widthOn ? state.displayVertices : false\n            });\n        case ActionTypes.TOGGLE_DISPLAY_VERTICES_CLICKED:\n            if (state.displayVertices) {\n                return Object.assign({}, state, {\n                    displayVertices: false\n                });\n            }\n            else {\n                return Object.assign({}, state, {\n                    widthOn: false,\n                    displayVertices: true\n                });\n            }\n\n        case ActionTypes.TOGGLE_DISPLAY_LABELS_CLICKED:\n            return Object.assign({}, state, {\n                displayLabels: !state.displayLabels\n            });\n\n        case ActionTypes.SHOW_ABOUT_POPUP_BUTTON_PRESSED:\n            return Object.assign({}, state, {\n                showAboutPopup: true\n            });\n        case ActionTypes.CLOSE_ABOUT_POPUP_BUTTON_PRESSED:\n            return Object.assign({}, state, {\n                showAboutPopup: false\n            });\n\n        case ActionTypes.MEASURE_POINTS_BUTTON_PRESSED:\n            return Object.assign({}, state, {\n                measurePointsActive: true\n            });\n        case ActionTypes.MEASURE_SHAPES_BUTTON_PRESSED:\n            return Object.assign({}, state, {\n                measurePointsActive: false\n            });\n        case ActionTypes.MOUSE_DOWN_ON_STAGE:\n            if (state.hoveredShape) {\n                return state\n            }\n            else {\n                return Object.assign({}, state, {\n                    measureShapesFirstClick: true,\n                    firstMeasuredShape: null,\n                    firstMeasuredLayer: null,\n                    secondMeasuredShape: null,\n                    secondMeasuredLayer: null,\n                    distance: undefined,\n                    shortestSegment: null\n                });\n            }\n        case ActionTypes.SKELETON_RECOGNITION_URI:\n            return Object.assign({}, state, {\n                showSkeletonRecognitionButton: true\n            });\n        case ActionTypes.SKELETON_RECOGNITION_BUTTON_PRESSED:\n            return Object.assign({}, state, {\n                applySkeletonRecognition: true\n            });\n        case ActionTypes.LAYER_LIST_PANEL_PRESSED:\n            return state;  // only to cause refresh of layers list component\n        case ActionTypes.AABB_TREE_NEXT_LEVEL:\n            return state;\n        default:\n            return state;\n    }\n}\n\nfunction layers(state = [], action) {\n    let curLayer = state.find(layer => layer.affected);\n    let curLayerId = state.findIndex(layer => layer.affected);\n\n    switch (action.type) {\n        /*\n        case ActionTypes.NEW_STAGE_CREATED:\n            return [...state, action.layer];\n            */\n\n        case ActionTypes.ADD_LAYER_PRESSED:\n            return [...state, action.layer];\n\n        case ActionTypes.DELETE_LAYER_BUTTON_PRESSED:\n            return Layers.delete(action.layers, action.layer);\n\n        case ActionTypes.SORT_LAYERS_BUTTON_PRESSED:\n            return Layers.sort(action.layers);\n\n        case ActionTypes.TOGGLE_DISPLAY_LAYER_PRESSED:\n            let color = \"\";\n            if (!action.layer.displayed) {\n                color = Layers.getNextColor(state);\n                if (color === \"\") return;  // no free colors\n            }\n            return state.map((layer) => {\n                if (layer !== action.layer) {\n                    // if action.layer will be undisplayed,\n                    // it cannot become affected, then\n                    // keep affected on this layer\n                    if (action.layer.displayed) {\n                        return layer;\n                    }\n                    else {\n                        return layer.setAffected(false);\n                    }\n                }\n                else {\n                    let newLayer = layer.toggleDisplayed(color);\n                    newLayer.affected = newLayer.displayed;\n                    return newLayer;\n                }\n                // return layer.toggleDisplayed(color);\n            });\n\n        case ActionTypes.TOGGLE_AFFECTED_LAYER_PRESSED:\n            return state.map((layer) => {\n                if (layer !== action.layer) {\n                    return layer.setAffected(false);\n                }\n                else {\n                    return layer.setAffected(!layer.affected);\n                }\n            });\n\n        case ActionTypes.NEW_SHAPE_PASTED:\n            return state.map((layer) => {\n                if (layer.affected) {\n                    return layer.addShapesArray(action.shapesArray);\n                }\n                else {\n                    return layer;\n                }\n            });\n\n        case ActionTypes.TOGGLE_WATCH_EXPAND_CLICKED:\n            return state.map((layer) => {\n                if (layer.affected) {\n                    return layer.toggleExpanded(action.shape);\n                }\n                else {\n                    return layer;\n                }\n            });\n\n        case ActionTypes.OPEN_LAYER_EDIT_FORM_PRESSED:\n            return state.map((layer) => {\n                if (layer !== action.layer) {\n                    return layer;\n                }\n                else {\n                    return layer.setEdited(true);\n                }\n            });\n\n        case ActionTypes.SUBMIT_LAYER_EDIT_FORM_PRESSED:\n            return state.map((layer) => {\n                if (layer !== action.layer) {\n                    return layer;\n                }\n                else {\n                    return layer.setNameAndTitle(action.newLayer.name, action.newLayer.title);\n                }\n            });\n\n        case ActionTypes.ESCAPE_LAYER_EDIT_FORM_PRESSED:\n            return state.map((layer) => {\n                if (layer !== action.layer) {\n                    return layer;\n                }\n                else {\n                    return layer.setEdited(false);\n                }\n            });\n\n        case ActionTypes.LAYERS_LIST_ARROW_DOWN_PRESSED:\n            if (curLayerId === state.length - 1) {\n                return state;\n            }\n            else {\n\n                let nextLayer = state[curLayerId + 1];\n\n                return state.map(layer => {\n                    if (layer === curLayer) {\n                        let newCurLayer = layer.toggleDisplayed(\"\")\n                        newCurLayer.affected = false;\n                        return newCurLayer;\n                    }\n                    else if (layer === nextLayer) {\n                        let color = curLayer.color;\n                        let newNextLayer = layer.toggleDisplayed(color);\n                        newNextLayer.affected = true;\n                        return newNextLayer;\n                    }\n                    else {\n                        return layer;\n                    }\n                });\n            }\n\n        case ActionTypes.LAYERS_LIST_ARROW_UP_PRESSED:\n            if (curLayerId === 0) {\n                return state;\n            }\n            else {\n                let nextLayer = state[curLayerId - 1];\n\n                return state.map(layer => {\n                    if (layer === curLayer) {\n                        let newCurLayer = layer.toggleDisplayed(\"\");\n                        newCurLayer.affected = false;\n                        return newCurLayer;\n                    }\n                    else if (layer === nextLayer) {\n                        let newNextLayer = layer.toggleDisplayed(curLayer.color);\n                        newNextLayer.displayed = true;\n                        newNextLayer.affected = true;\n                        return newNextLayer;\n                    }\n                    else {\n                        return layer;\n                    }\n                });\n            }\n\n        default:\n            return state;\n    }\n}\n\nfunction stage(state = null, action) {\n    switch (action.type) {\n        case ActionTypes.NEW_STAGE_CREATED:\n            return action.stage;\n\n        default:\n            return state;\n    }\n}\n\nfunction measureShapesTool(state = defaultMeasureShapesTool, action) {\n    switch (action.type) {\n        case ActionTypes.MEASURE_SHAPES_BUTTON_PRESSED:\n            return Object.assign({}, defaultMeasureShapesTool, {\n                measureShapesActive: true\n            });\n            case ActionTypes.PAN_BY_DRAG_BUTTON_CLICKED:\n            return Object.assign({}, defaultMeasureShapesTool);\n\n        case ActionTypes.MEASURE_POINTS_BUTTON_PRESSED:\n            return Object.assign({}, defaultMeasureShapesTool);\n\n        case ActionTypes.MOUSE_ROLL_OVER_SHAPE:\n            return Object.assign({}, state, {\n                hoveredShape: state.measureShapesActive ? action.shape : null\n            });\n        case ActionTypes.MOUSE_ROLL_OUT_SHAPE:\n            return Object.assign({}, state, {\n                hoveredShape: null\n            });\n        case ActionTypes.MOUSE_CLICKED_ON_SHAPE:\n            if (!state.measureShapesActive) {\n                return state;\n            }\n            // measureShapesActive\n\n            if (state.measureShapesFirstClick) {\n                return Object.assign({}, state, {\n                    firstMeasuredShape: action.shape,\n                    firstMeasuredLayer: action.layer,\n                    secondMeasuredShape: null,\n                    secondMeasuredLayer: null,\n                    measureShapesFirstClick: false,\n                    distance: undefined,\n                    shortestSegment: null\n                })\n            }\n            else {    // second click\n                if (action.shape === state.firstMeasuredShape) {\n                    return state;  // second click on the same shape\n                }\n\n                let shape1 = state.firstMeasuredShape.geom;\n                let shape2 = action.shape.geom;\n                let distance, shortestSegment;\n                // if (shape1 instanceof Flatten.Polygon && shape2 instanceof Flatten.Polygon) {\n                //     [distance, shortestSegment] = Flatten.Distance.polygon2polygon(shape1, shape2);\n                // }\n                // else {\n                [distance, shortestSegment] = Flatten.Distance.distance(shape1, shape2);\n                // }\n\n\n                return Object.assign({}, state, {\n                    secondMeasuredShape: action.shape,\n                    secondMeasuredLayer: action.layer,\n                    measureShapesFirstClick: true,\n                    distance: distance,\n                    shortestSegment: shortestSegment\n                });\n            }\n        case ActionTypes.MOUSE_DOWN_ON_STAGE:\n            if (state.hoveredShape) {\n                return state\n            }\n            else {\n                return Object.assign({}, state, {\n                    measureShapesFirstClick: true,\n                    firstMeasuredShape: null,\n                    firstMeasuredLayer: null,\n                    secondMeasuredShape: null,\n                    secondMeasuredLayer: null,\n                    distance: undefined,\n                    shortestSegment: null\n                });\n            }\n        default:\n            return state;\n    }\n}\n\nfunction aabbDemoTool(state = defaultAabbDemoToolState, action) {\n    let firstShapeNewLevel = [];\n    let secondShapeNewLevel = [];\n    let level = [];\n    let min_stop = Number.POSITIVE_INFINITY;\n    let tree = null;\n\n    switch(action.type) {\n        case ActionTypes.AABB_DEMO_URI:\n            return Object.assign({}, state, {\n                aabbDemoToolActivated: true\n            });\n        case ActionTypes.AABB_TREE_NEXT_LEVEL: {\n            if (state.firstMeasuredShape) {\n                if (state.firstMeasuredShapeLevel.length === 0) {\n                    firstShapeNewLevel = [state.firstMeasuredShape.geom.edges.index.root];\n                }\n                else {\n                    firstShapeNewLevel = [];\n                    for (let node of state.firstMeasuredShapeLevel) {\n                        if (!node.left.isNil()) {\n                            firstShapeNewLevel.push(node.left);\n                        }\n                        if (!node.right.isNil()) {\n                            firstShapeNewLevel.push(node.right);\n                        }\n                    }\n                }\n            }\n            if (state.secondMeasuredShape) {\n                if (state.secondMeasuredShapeLevel.length === 0) {\n                    secondShapeNewLevel = [state.secondMeasuredShape.geom.edges.index.root];\n                }\n                else {\n                    secondShapeNewLevel = [];\n                    for (let node of state.secondMeasuredShapeLevel) {\n                        if (!node.left.isNil()) {\n                            secondShapeNewLevel.push(node.left);\n                        }\n                        if (!node.right.isNil()) {\n                            secondShapeNewLevel.push(node.right);\n                        }\n                    }\n                }\n            }\n            if (state.firstMeasuredShape || state.secondMeasuredShape) {\n                return Object.assign({}, state, {\n                    firstMeasuredShapeLevel: firstShapeNewLevel,\n                    secondMeasuredShapeLevel: secondShapeNewLevel\n                });\n            }\n            else {\n                return state;\n            }\n        }\n        case ActionTypes.MOUSE_CLICKED_ON_SHAPE:\n            if (!state.aabbDemoToolActivated) {\n                return state;\n            }\n\n            if (state.measureShapesFirstClick) {\n                return Object.assign({}, state, {\n                    firstMeasuredShape: action.shape,\n                    firstMeasuredLayer: action.layer,\n                    firstMeasuredShapeLevel: [],\n                    secondMeasuredShapeLevel: [],\n                    min_stop: Number.POSITIVE_INFINITY,\n                    tree: null,\n                    measureShapesFirstClick: false\n                })\n            }\n            else {    // second click\n                if (action.shape === state.firstMeasuredShape) {\n                    return state;  // second click on the same shape\n                }\n                return Object.assign({}, state, {\n                    secondMeasuredShape: action.shape,\n                    secondMeasuredLayer: action.layer,\n                    measureShapesFirstClick: true\n                });\n            }\n        case ActionTypes.AABB_DEMO_NEXT_DIST_STEP:\n            if (!state.aabbDemoToolActivated) {\n                return state;\n            }\n            if (!state.firstMeasuredShape || !state.secondMeasuredShape) {\n                return state;\n            }\n            if (state.secondMeasuredShapeLevel.length === 0) {\n                level = [state.secondMeasuredShape.geom.edges.index.root];\n                min_stop = Number.POSITIVE_INFINITY;\n                tree = new IntervalTree();\n            }\n            else {\n                [min_stop, level, tree] = Distance.minmax_tree_process_level(state.firstMeasuredShape,\n                    state.secondMeasuredShapeLevel, state.min_stop, state.tree);\n            }\n            return Object.assign({}, state, {\n                secondMeasuredShapeLevel: level,\n                min_stop: min_stop,\n                tree: tree\n            });\n\n\n        default:\n            return state;\n    }\n}\n\nfunction collisionDistanceDemoTool(state = defaultCollisionDistanceDemoToolState, action) {\n    switch(action.type) {\n        case ActionTypes.COLLISION_DEMO_URI:\n            return Object.assign({}, state, {\n                showCollisionDemoToolButton: true\n            });\n        case ActionTypes.COLLISION_DEMO_BUTTON_PRESSED:\n            return Object.assign({}, state, {\n                collisionDistanceDemoToolActivated: true\n            });\n        default:\n            return state;\n    }\n}\n\nfunction mouse(state = defaultMouseState, action) {\n    switch (action.type) {\n        case ActionTypes.MOUSE_MOVED_ON_STAGE:\n            return Object.assign({}, state, {\n                x: action.x,\n                y: action.y\n            });\n        case ActionTypes.MOUSE_DOWN_ON_STAGE:\n            return Object.assign({}, state, {\n                startX: action.x,\n                startY: action.y\n            });\n        case ActionTypes.MOUSE_UP_ON_STAGE:\n            return Object.assign({}, state, {\n                startX: undefined,\n                startY: undefined\n            });\n        default:\n            return state;\n    }\n}\n\nexport let reducer = combineReducers({\n    app,\n    layers,\n    stage,\n    measureShapesTool,\n    aabbDemoTool,\n    collisionDistanceDemoTool,\n    mouse\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/reducer.js","/**\n * Created by alexanderbol on 21/04/2017.\n */\n\nimport {Component} from 'react';\n// import createjs from 'easel-js';\nimport * as createjs from '../../public/easeljs-NEXT.combined.js';\nimport {graphics} from '../models/graphics';\nimport '../../public/styles/App.css';\nexport class AabbDemoTool extends Component {\n    constructor(params) {\n        super();\n        this.boxShapes = [];\n        this.edgeShapes = [];\n    }\n    draw() {\n        for (let shape of this.boxShapes) {\n            this.props.stage.removeChild(shape);\n        }\n        this.boxShapes = [];\n        this.drawTreeLevel(this.props.firstMeasuredShapeLevel);\n        this.drawTreeLevel(this.props.secondMeasuredShapeLevel);\n\n        for (let shape of this.edgeShapes) {\n            this.props.stage.removeChild(shape);\n        }\n        this.edgeShapes = [];\n        this.drawSelectedEdges();\n    }\n\n    drawTreeLevel(level) {\n        if (level.length === 0) return;\n        let stage = this.props.stage;\n        for (let node of level) {\n            let nodeGraphics;\n            if (node.max) {\n                nodeGraphics = graphics(node.max);\n            }\n            if (nodeGraphics) {\n                let shape = new createjs.Shape(nodeGraphics);\n                stage.addChild(shape);\n                this.boxShapes.push(shape);\n\n                let edge = new createjs.Shape(graphics(node.item.key,{\n                    strokeStyle: 3,\n                    stroke: \"blue\"\n                }));\n                stage.addChild(edge);\n                this.boxShapes.push(edge);\n            }\n        }\n    }\n\n    drawSelectedEdges() {\n        let stage = this.props.stage;\n        let _this = this;\n        if (!this.props.selectedEdgesTree) return;\n        this.props.selectedEdgesTree.forEach((interval, shape) => {\n            if (interval.low < _this.props.minStop) {\n                let edge = new createjs.Shape(graphics(shape,{\n                    strokeStyle: 3,\n                    stroke: \"blue\"\n                }));\n                stage.addChild(edge);\n                _this.edgeShapes.push(edge);\n            }\n        });\n    }\n\n    componentDidMount() {\n        this.draw();\n    }\n    componentDidUpdate() {\n        if ( (this.props.firstMeasuredShape && this.props.firstMeasuredLayer.displayed) ||\n            (this.props.secondMeasuredShape && this.props.secondMeasuredLayer.displayed) ) {\n\n            this.draw();\n        }\n    }\n\n    componentWillUnmount() {\n        for (let shape of this.boxShapes) {\n            this.props.stage.removeChild(shape);\n        }\n        this.boxShapes = [];\n        for (let shape of this.edgeShapes) {\n            this.props.stage.removeChild(shape);\n        }\n        this.edgeShapes = [];\n    }\n\n    render() {\n        return null\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/tools/aabbDemoTool.js","/**\n * Created by alexanderbol on 21/04/2017.\n */\n\nimport {Component} from 'react';\nimport * as createjs from '../../public/easeljs-NEXT.combined.js';\nimport {graphics} from '../models/graphics';\nimport '../../public/styles/App.css';\nimport CollisionDistance from '@alexbol99/collision_distance';\nimport Flatten from 'flatten-js';\nlet {vector} = Flatten;\n\nexport class CollisionDistanceDemoTool extends Component {\n    constructor(params) {\n        super();\n        this.shape = new createjs.Shape();\n        params.stage.addChild(this.shape);\n    }\n\n    draw() {\n        let polygon1 = this.props.firstMeasuredShape.geom;\n        let polygon2 = this.props.secondMeasuredShape.geom;\n        let stage = this.props.stage;\n        let color = \"magenta\";\n        let alpha = 0.6;\n        // let widthOn = this.props.widthOn;\n\n        let strokeStyle = 1;\n        let fill = \"grey\";  // (widthOn && !this.props.displayVertices) ? this.props.color : \"white\";\n\n        if (this.shape.graphics.isEmpty()) {\n            let collision = CollisionDistance.apply(polygon1, polygon2);\n            let polygon3 = CollisionDistance.translate(polygon2, vector(-collision,0));\n            // let [distance, shortest_segment] = polygon1.distanceTo(polygon3);\n\n            this.shape.graphics = graphics(polygon3,{\n                strokeStyle: strokeStyle,\n                ignoreScale: true,\n                stroke: color,\n                fill: fill,\n                radius: 3. / (stage.zoomFactor * stage.resolution)\n            });\n        }\n        else {\n            if (this.shape.graphics.stroke) this.shape.graphics.stroke.style = color;\n            if (this.shape.graphics.fill) this.shape.graphics.fill.style = fill;\n        }\n        this.shape.alpha = alpha;  // this.props.displayed ? alpha : 0.0;\n    }\n    clean() {\n        if (this.shape) {\n            this.shape.graphics.clear();\n        }\n    }\n\n    componentDidMount() {\n        if ( (this.props.firstMeasuredShape && this.props.firstMeasuredLayer.displayed) &&\n            (this.props.secondMeasuredShape && this.props.secondMeasuredLayer.displayed) ) {\n            this.draw();\n        }\n    }\n    componentDidUpdate() {\n        if ( (this.props.firstMeasuredShape && this.props.firstMeasuredLayer.displayed) &&\n            (this.props.secondMeasuredShape && this.props.secondMeasuredLayer.displayed) ) {\n            this.draw();\n        }\n        else {\n            this.clean();\n        }\n    }\n\n    componentWillUnmount() {\n        if (this.shape) {\n            this.props.stage.removeChild(this.shape);\n            this.shape.graphics.clear();\n        }\n    }\n\n    render() {\n        return null;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/tools/collisionDistanceDemoTool.js","/**\n * Created by alexanderbol on 21/04/2017.\n */\nimport React,{Component} from 'react';\nexport class DisplayCoordsTool extends Component {\n    format(num) {\n        return (num/this.props.divisor).toFixed(this.props.decimals);\n    }\n    render() {\n        let mainCanvas = this.props.stage.canvas;\n        let top = mainCanvas.offsetTop + 10;\n        let left = mainCanvas.offsetLeft + 10;\n        let x = this.props.stage.C2W_X(this.props.coordX);\n        let y = this.props.stage.C2W_Y(this.props.coordY);\n        return (\n            <div style={{position: 'absolute', top: top, left: left}}>\n                <h5 style={{margin:0, padding:3}}>\n                    X: {this.format(x)}  Y: {this.format(y)}\n                </h5>\n            </div>\n        )\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/tools/displayCoordsTool.js","/**\n * Created by alexanderbol on 21/04/2017.\n */\n\nimport React, {Component} from 'react';\n// import createjs from 'easel-js';\n// import * as createjs from '../../public/easeljs-NEXT.combined.js';\n\nimport '../../public/styles/App.css';\n\nexport class MeasurePointsTool extends Component {\n    constructor() {\n        super();\n        this.handleMouseMove = this.handleMouseMove.bind(this);\n        this.handleMouseDown = this.handleMouseDown.bind(this);\n        this.handleMouseUp = this.handleMouseUp.bind(this);\n\n        this.handleMouseWheel = this.handleMouseWheel.bind(this);\n        this.handleMouseWheelFox = this.handleMouseWheelFox.bind(this);\n\n        this.startX = undefined;\n        this.startY = undefined;\n        this.endX = undefined;\n        this.endY = undefined;\n        this.measureStarted = false;\n    }\n\n    handleMouseDown(event) {\n        event.preventDefault();\n\n        let canvas = this.refs.measureCanvas;\n        let stage = this.props.stage;\n\n        canvas.width = canvas.width;\n\n        let coordX = event.offsetX || event.originalEvent.layerX;    // layerX for Firefox\n        let coordY = event.offsetY || event.originalEvent.layerY;    // layery for Firefox\n\n        if (this.measureStarted) {   // second click - clear measurement\n            this.startX = undefined;\n            this.startY = undefined;\n            this.endX = undefined;\n            this.endY = undefined;\n            this.measureStarted = false;\n            canvas.style.cursor = \"auto\";\n        }\n        else {                       // first click - start measurment\n            this.startX = stage.C2W_X(coordX);\n            this.startY = stage.C2W_Y(coordY);\n            this.measureStarted = true;\n            canvas.style.cursor = \"crosshair\";\n        }\n    }\n\n\n    handleMouseMove(event) {\n        let stage = this.props.stage;\n\n        let coordX = event.offsetX /*|| event.originalEvent ? event.originalEvent.layerX : undefined*/;    // layerX for Firefox\n        let coordY = event.offsetY /*|| event.originalEvent ? event.originalEvent.layerY : undefined*/;    // layerY for Firefox\n\n        if (this.measureStarted) {\n            this.endX = stage.C2W_X(coordX);\n            this.endY = stage.C2W_Y(coordY);\n\n            this.draw();\n        }\n    }\n\n    handleMouseUp(event) {\n    }\n\n    handleMouseWheel(event) {\n        event.preventDefault();\n\n        let delta = event.detail || event.wheelDelta;\n        if (delta !== 0) {\n            this.props.onMouseWheelMove(event.offsetX, event.offsetY, delta);\n        }\n    }\n\n    handleMouseWheelFox(event) {\n        event.preventDefault();\n\n        if (event.detail !== 0) {\n            this.props.onMousewheelMove(event.layerX, event.layerY, -event.detail);\n        }\n    }\n\n    draw() {\n        let canvas = this.refs.measureCanvas;\n        let context = canvas.getContext('2d');\n        let stage = this.props.stage;\n\n        canvas.width = canvas.width;\n\n        // Draw rectangle\n        let pllX = Math.min(stage.W2C_X(this.startX), stage.W2C_X(this.endX));\n        let pllY = Math.min(stage.W2C_Y(this.startY), stage.W2C_Y(this.endY));\n        let width = Math.abs(stage.W2C_Scalar(this.startX - this.endX));\n        let height = Math.abs(stage.W2C_Scalar(this.startY - this.endY));\n\n        context.beginPath();\n        context.rect(pllX, pllY, width, height);\n\n        // Draw segment\n        context.moveTo(stage.W2C_X(this.startX), stage.W2C_Y(this.startY));\n        context.lineTo(stage.W2C_X(this.endX), stage.W2C_Y(this.endY));\n\n        context.lineWidth = 1;\n        context.strokeStyle = 'black';\n        context.stroke();\n\n        // Draw text\n        let textX, textY, textHeight, textWidth;\n        let backX, backY;                      // background rectangle\n        let text = this.measurement();\n\n        context.font = \"12pt Arial\";\n\n        textHeight = 12;         /* font size*/\n        textWidth = context.measureText(text).width;\n\n        // Rectangle to the right of current point, text aligned left\n        if (Math.abs(stage.W2C_X(this.endX) - pllX) <= 2) {\n            context.textAlign = \"left\";\n            textX = pllX + 3;\n            backX = pllX;\n        }\n        // Rectangle to the left of current point, text aligned right\n        else {\n            context.textAlign = \"right\";\n            textX = pllX + width - 3;\n            backX = textX - textWidth - 3;\n        }\n\n        if (Math.abs(stage.W2C_Y(this.endY) - pllY) <= 2) {\n            textY = pllY - 3;\n        }\n        else {\n            textY = pllY + height + textHeight + 3;\n        }\n        backY = textY - textHeight - 3;\n\n        context.fillStyle = 'white';\n        context.globalAlpha = 0.4;\n        context.fillRect(backX, backY, textWidth + 6, textHeight + 6);\n\n        context.fillStyle = \"black\";\n        context.globalAlpha = 1;\n        context.fillText(this.measurement(), textX, textY);\n    }\n\n    measurement() {\n        let dx = this.endX - this.startX;\n        let dy = this.endY - this.startY;\n        let dist = Math.sqrt(dx * dx + dy * dy);\n        let message = \"DX=\" + this.format(dx) + \",DY=\" + this.format(dy) + \",D=\" + this.format(dist);\n        return message;\n    }\n\n    format(num) {\n        return (num/this.props.divisor).toFixed(this.props.decimals);\n    }\n\n    componentWillMount() {\n        // this.dispatch = this.props.store.dispatch;\n        // this.setState(this.props.store.getState());\n    }\n\n    componentDidMount() {\n        let canvas = this.refs.measureCanvas;\n        canvas.addEventListener(\"mousedown\", this.handleMouseDown);\n        canvas.addEventListener(\"mousemove\", this.handleMouseMove);\n        canvas.addEventListener(\"mouseup\", this.handleMouseUp);\n\n        canvas.addEventListener(\"mousewheel\", this.handleMouseWheel);\n        canvas.addEventListener(\"DOMMouseScroll\", this.handleMouseWheelFox);\n    }\n\n    componentDidUpdate() {\n        if (this.measureStarted) {\n            this.draw();\n        }\n    }\n\n    componentWillUnmount() {\n        let canvas = this.refs.measureCanvas;\n        canvas.width = canvas.width;\n    }\n\n    render() {\n        let mainCanvas = this.props.stage.canvas;\n        let width = mainCanvas.width;\n        let height = mainCanvas.height;\n        let top = mainCanvas.offsetTop;\n        let left = mainCanvas.offsetLeft;\n        return (\n            <canvas tabIndex=\"1\" ref=\"measureCanvas\" id=\"measurePoints\"\n                    width={width}\n                    height={height}\n                    style={{position:'absolute',top:top,left:left}}\n            >\n            </canvas>\n        )\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/tools/measurePointsTool.js","/**\n * Created by alexanderbol on 21/04/2017.\n */\n\nimport {Component} from 'react';\n// import createjs from 'easel-js';\nimport * as createjs from '../../public/easeljs-NEXT.combined.js';\nimport {graphics} from '../models/graphics';\nimport '../../public/styles/App.css';\nexport class MeasureShapesTool extends Component {\n    constructor(params) {\n        super();\n        this.segment = new createjs.Shape();\n        params.stage.addChild(this.segment);\n\n        this.labelShape = new createjs.Text();\n        this.labelShape.x = 0;\n        this.labelShape.y = 0;\n        params.stage.addChild(this.labelShape);\n\n        // var html = document.createElement('div');\n        // html.innerText = \"\"; // params.model.label;\n        // html.style.position = \"absolute\";\n        // html.style.top = 0;\n        // html.style.left = 0;\n        //\n        // document.body.appendChild(html);\n        // this.labelShape = new createjs.DOMElement(html);\n        // params.stage.addChild(this.labelShape);\n    }\n\n    // redrawLabel() {\n    //     if (!this.labelShape) return;\n    //\n    //     let stage = this.props.stage;\n    //\n    //     this.labelShape.htmlElement.style.display = \"block\";\n    //\n    //     let box = this.props.shortestSegment.box;\n    //     let point = {x: (box.xmin + box.xmax) / 2, y: (box.ymin + box.ymax) / 2};\n    //     let dx = 6. / (stage.zoomFactor * stage.resolution);\n    //     let dy = 4. / (stage.zoomFactor * stage.resolution);\n    //\n    //     this.labelShape.htmlElement.style.font = \"16px Arial\";\n    //     this.labelShape.htmlElement.innerText = this.props.shortestSegment.length;\n    //\n    //     let unscale = 1. / (stage.zoomFactor * stage.resolution);\n    //     let tx = stage.canvas.offsetLeft / (stage.zoomFactor * stage.resolution) + point.x + dx;\n    //     let ty = -stage.canvas.offsetTop / (stage.zoomFactor * stage.resolution) + point.y + dy;\n    //     this.labelShape.setTransform(tx, ty, unscale, -unscale);\n    // }\n\n    format(num) {\n        return (num/this.props.divisor).toFixed(this.props.decimals);\n    }\n\n    redrawLabel() {\n        if (!this.labelShape) return;\n\n        let stage = this.props.stage;\n\n        let box = this.props.shortestSegment.box;\n        let point = {x: (box.xmin + box.xmax) / 2, y: (box.ymin + box.ymax) / 2};\n        let dx = 6. / (stage.zoomFactor * stage.resolution);\n        let dy = 4. / (stage.zoomFactor * stage.resolution);\n\n        if (box.ymin === box.ymax) {\n            dx = 0;\n            dy = -dy;\n        }\n\n        // this.labelShape.htmlElement.style.display = \"block\";\n        // this.labelShape.htmlElement.style.font = \"16px Arial\";\n        // this.labelShape.htmlElement.innerText = this.props.shortestSegment.length;\n\n        this.labelShape.text = this.format(this.props.shortestSegment.length);\n\n        let fontSize = 14.; // / (stage.zoomFactor * stage.resolution);\n        this.labelShape.font = `${fontSize}px Arial`;\n\n        let unscale = 1. / (stage.zoomFactor * stage.resolution);\n        // let tx = stage.canvas.offsetLeft / (stage.zoomFactor * stage.resolution) + point.x + dx;\n        // let ty = -stage.canvas.offsetTop / (stage.zoomFactor * stage.resolution) + point.y + dy;\n        let tx = point.x + dx;\n        let ty = point.y + dy;\n        this.labelShape.setTransform(tx, ty, unscale, -unscale);\n    }\n\n    draw() {\n        if (this.props.shortestSegment) {\n            this.segment.graphics = graphics(this.props.shortestSegment);\n            this.redrawLabel();\n        }\n    }\n    componentDidMount() {\n        this.draw();\n    }\n    componentDidUpdate() {\n        this.segment.graphics.clear();\n        if (this.props.firstMeasuredShape && this.props.secondMeasuredShape &&\n            this.props.firstMeasuredLayer.displayed &&\n            this.props.secondMeasuredLayer.displayed) {\n\n            this.draw();\n            this.redrawLabel();\n        }\n    }\n\n    componentWillUnmount() {\n        this.props.stage.removeChild(this.segment);\n        this.segment.graphics.clear();\n        this.props.stage.removeChild(this.labelShape);\n        this.labelShape.text = \"\";\n    }\n    render() {\n        return null;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/tools/measureShapesTool.js","'use strict';\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n */\n\nvar emptyFunction = require('./emptyFunction');\n\n/**\n * Upstream version of event listener. Does not take into account specific\n * nature of platform.\n */\nvar EventListener = {\n  /**\n   * Listen to DOM events during the bubble phase.\n   *\n   * @param {DOMEventTarget} target DOM element to register listener on.\n   * @param {string} eventType Event type, e.g. 'click' or 'mouseover'.\n   * @param {function} callback Callback function.\n   * @return {object} Object with a `remove` method.\n   */\n  listen: function listen(target, eventType, callback) {\n    if (target.addEventListener) {\n      target.addEventListener(eventType, callback, false);\n      return {\n        remove: function remove() {\n          target.removeEventListener(eventType, callback, false);\n        }\n      };\n    } else if (target.attachEvent) {\n      target.attachEvent('on' + eventType, callback);\n      return {\n        remove: function remove() {\n          target.detachEvent('on' + eventType, callback);\n        }\n      };\n    }\n  },\n\n  /**\n   * Listen to DOM events during the capture phase.\n   *\n   * @param {DOMEventTarget} target DOM element to register listener on.\n   * @param {string} eventType Event type, e.g. 'click' or 'mouseover'.\n   * @param {function} callback Callback function.\n   * @return {object} Object with a `remove` method.\n   */\n  capture: function capture(target, eventType, callback) {\n    if (target.addEventListener) {\n      target.addEventListener(eventType, callback, true);\n      return {\n        remove: function remove() {\n          target.removeEventListener(eventType, callback, true);\n        }\n      };\n    } else {\n      if (process.env.NODE_ENV !== 'production') {\n        console.error('Attempted to listen to events during the capture phase on a ' + 'browser that does not support the capture phase. Your application ' + 'will not receive some events.');\n      }\n      return {\n        remove: emptyFunction\n      };\n    }\n  },\n\n  registerDefault: function registerDefault() {}\n};\n\nmodule.exports = EventListener;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/fbjs/lib/EventListener.js\n// module id = 70\n// module chunks = 0","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n'use strict';\n\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n\n/**\n * Simple, lightweight module assisting with the detection and context of\n * Worker. Helps avoid circular dependencies and allows code to reason about\n * whether or not they are in a Worker, even if they never include the main\n * `ReactWorker` dependency.\n */\nvar ExecutionEnvironment = {\n\n  canUseDOM: canUseDOM,\n\n  canUseWorkers: typeof Worker !== 'undefined',\n\n  canUseEventListeners: canUseDOM && !!(window.addEventListener || window.attachEvent),\n\n  canUseViewport: canUseDOM && !!window.screen,\n\n  isInWorker: !canUseDOM // For now, this is true - might change in the future.\n\n};\n\nmodule.exports = ExecutionEnvironment;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/fbjs/lib/ExecutionEnvironment.js\n// module id = 71\n// module chunks = 0","'use strict';\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\n\nvar isTextNode = require('./isTextNode');\n\n/*eslint-disable no-bitwise */\n\n/**\n * Checks if a given DOM node contains or is another DOM node.\n */\nfunction containsNode(outerNode, innerNode) {\n  if (!outerNode || !innerNode) {\n    return false;\n  } else if (outerNode === innerNode) {\n    return true;\n  } else if (isTextNode(outerNode)) {\n    return false;\n  } else if (isTextNode(innerNode)) {\n    return containsNode(outerNode, innerNode.parentNode);\n  } else if ('contains' in outerNode) {\n    return outerNode.contains(innerNode);\n  } else if (outerNode.compareDocumentPosition) {\n    return !!(outerNode.compareDocumentPosition(innerNode) & 16);\n  } else {\n    return false;\n  }\n}\n\nmodule.exports = containsNode;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/fbjs/lib/containsNode.js\n// module id = 72\n// module chunks = 0","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n'use strict';\n\n/**\n * @param {DOMElement} node input/textarea to focus\n */\n\nfunction focusNode(node) {\n  // IE8 can throw \"Can't move focus to the control because it is invisible,\n  // not enabled, or of a type that does not accept the focus.\" for all kinds of\n  // reasons that are too expensive and fragile to test.\n  try {\n    node.focus();\n  } catch (e) {}\n}\n\nmodule.exports = focusNode;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/fbjs/lib/focusNode.js\n// module id = 73\n// module chunks = 0","'use strict';\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n */\n\n/* eslint-disable fb-www/typeof-undefined */\n\n/**\n * Same as document.activeElement but wraps in a try-catch block. In IE it is\n * not safe to call document.activeElement if there is nothing focused.\n *\n * The activeElement will be null only if the document or document body is not\n * yet defined.\n *\n * @param {?DOMDocument} doc Defaults to current document.\n * @return {?DOMElement}\n */\nfunction getActiveElement(doc) /*?DOMElement*/{\n  doc = doc || (typeof document !== 'undefined' ? document : undefined);\n  if (typeof doc === 'undefined') {\n    return null;\n  }\n  try {\n    return doc.activeElement || doc.body;\n  } catch (e) {\n    return doc.body;\n  }\n}\n\nmodule.exports = getActiveElement;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/fbjs/lib/getActiveElement.js\n// module id = 74\n// module chunks = 0","'use strict';\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n */\n\n/**\n * @param {*} object The object to check.\n * @return {boolean} Whether or not the object is a DOM node.\n */\nfunction isNode(object) {\n  var doc = object ? object.ownerDocument || object : document;\n  var defaultView = doc.defaultView || window;\n  return !!(object && (typeof defaultView.Node === 'function' ? object instanceof defaultView.Node : typeof object === 'object' && typeof object.nodeType === 'number' && typeof object.nodeName === 'string'));\n}\n\nmodule.exports = isNode;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/fbjs/lib/isNode.js\n// module id = 75\n// module chunks = 0","'use strict';\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n */\n\nvar isNode = require('./isNode');\n\n/**\n * @param {*} object The object to check.\n * @return {boolean} Whether or not the object is a DOM text node.\n */\nfunction isTextNode(object) {\n  return isNode(object) && object.nodeType == 3;\n}\n\nmodule.exports = isTextNode;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/fbjs/lib/isTextNode.js\n// module id = 76\n// module chunks = 0","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n * \n */\n\n/*eslint-disable no-self-compare */\n\n'use strict';\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\n/**\n * inlined Object.is polyfill to avoid requiring consumers ship their own\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n */\nfunction is(x, y) {\n  // SameValue algorithm\n  if (x === y) {\n    // Steps 1-5, 7-10\n    // Steps 6.b-6.e: +0 != -0\n    // Added the nonzero y check to make Flow happy, but it is redundant\n    return x !== 0 || y !== 0 || 1 / x === 1 / y;\n  } else {\n    // Step 6.a: NaN == NaN\n    return x !== x && y !== y;\n  }\n}\n\n/**\n * Performs equality by iterating through keys on an object and returning false\n * when any key has values which are not strictly equal between the arguments.\n * Returns true when the values of all keys are strictly equal.\n */\nfunction shallowEqual(objA, objB) {\n  if (is(objA, objB)) {\n    return true;\n  }\n\n  if (typeof objA !== 'object' || objA === null || typeof objB !== 'object' || objB === null) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  // Test for A's keys different from B.\n  for (var i = 0; i < keysA.length; i++) {\n    if (!hasOwnProperty.call(objB, keysA[i]) || !is(objA[keysA[i]], objB[keysA[i]])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nmodule.exports = shallowEqual;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/fbjs/lib/shallowEqual.js\n// module id = 77\n// module chunks = 0","/**\r\n * Created by Alex Bol on 4/1/2017.\r\n */\r\n\r\nlet Interval = class Interval {\r\n    constructor(low, high) {\r\n        this.low = low;\r\n        this.high = high;\r\n    }\r\n\r\n    get max() {\r\n        return this.high;\r\n    }\r\n\r\n    interval(low, high) {\r\n        return new Interval(low, high);\r\n    }\r\n\r\n    clone() {\r\n        return new Interval(this.low, this.high);\r\n    }\r\n\r\n    less_than(other_interval) {\r\n        return this.low < other_interval.low ||\r\n            this.low == other_interval.low && this.high < other_interval.high;\r\n    }\r\n\r\n    equal_to(other_interval) {\r\n        return this.low == other_interval.low && this.high == other_interval.high;\r\n    }\r\n\r\n    intersect(other_interval) {\r\n        return !this.not_intersect(other_interval);\r\n    }\r\n\r\n    not_intersect(other_interval) {\r\n        return (this.high < other_interval.low || other_interval.high < this.low);\r\n    }\r\n\r\n    output() {\r\n        return [this.low, this.high];\r\n    }\r\n\r\n    maximal_val(val1, val2) {\r\n        return Math.max(val1, val2);\r\n    }\r\n\r\n    val_less_than(val1, val2 ) {     // trait to compare max property with item ?\r\n        return val1 < val2;\r\n    }\r\n};\r\n\r\nmodule.exports = Interval;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/flatten-interval-tree/classes/interval.js\n// module id = 78\n// module chunks = 0","/**\r\n * Created by Alex Bol on 4/1/2017.\r\n */\r\n\r\n'use strict';\r\n\r\n// let defaultTraits = require('../utils/numeric_traits');\r\nlet Interval = require('../classes/interval');\r\nlet {RB_TREE_COLOR_RED, RB_TREE_COLOR_BLACK} = require('../utils/constants');\r\n\r\nlet Node = class Node {\r\n    constructor(key = undefined, value = undefined,\r\n                left = null, right = null, parent = null, color = RB_TREE_COLOR_BLACK) {\r\n        this.left = left;                     // reference to left child node\r\n        this.right = right;                   // reference to right child node\r\n        this.parent = parent;                 // reference to parent node\r\n        this.color = color;\r\n\r\n        this.item = {key: key, value: value};   // key is supposed to be       instance of Interval\r\n\r\n        /* If not, this should by an array of two numbers */\r\n        if (key && key instanceof Array && key.length == 2) {\r\n            if (!Number.isNaN(key[0]) && !Number.isNaN(key[1])) {\r\n                this.item.key = new Interval(Math.min(key[0], key[1]), Math.max(key[0], key[1]));\r\n            }\r\n        }\r\n        this.max = this.item.key ? this.item.key.max : undefined;\r\n    }\r\n\r\n    isNil() {\r\n        return (this.item.key === undefined && this.item.value === undefined &&\r\n            this.left === null && this.right === null && this.color === RB_TREE_COLOR_BLACK);\r\n    }\r\n\r\n    less_than(other_node) {\r\n        return this.item.key.less_than(other_node.item.key);\r\n    }\r\n\r\n    equal_to(other_node) {\r\n        let value_equal = true;\r\n        if (this.item.value && other_node.item.value) {\r\n            value_equal = this.item.value.equal_to ? this.item.value.equal_to(other_node.item.value) :\r\n                this.item.value == other_node.item.value;\r\n        }\r\n        return this.item.key.equal_to(other_node.item.key) && value_equal;\r\n    }\r\n\r\n    intersect(other_node) {\r\n        return this.item.key.intersect(other_node.item.key);\r\n    }\r\n\r\n    copy_data(other_node) {\r\n        this.item.key = other_node.item.key.clone();\r\n        this.item.value = other_node.item.value;\r\n    }\r\n\r\n    update_max() {\r\n        // use key (Interval) max property instead of key.high\r\n        this.max = this.item.key ? this.item.key.max : undefined;\r\n        if (this.right && this.right.max) {\r\n            let maximal_val = this.item.key.maximal_val;\r\n            this.max = maximal_val(this.max, this.right.max);\r\n        }\r\n        if (this.left && this.left.max) {\r\n            let maximal_val = this.item.key.maximal_val;\r\n            this.max = maximal_val(this.max, this.left.max);\r\n        }\r\n    }\r\n\r\n    // Other_node does not intersect any node of left subtree, if this.left.max < other_node.item.key.low\r\n    not_intersect_left_subtree(search_node) {\r\n        let val_less_than = this.item.key.val_less_than;\r\n        let high = this.left.max.high ? this.left.max.high : this.left.max;\r\n        return val_less_than(high, search_node.item.key.low);\r\n    }\r\n\r\n    // Other_node does not intersect right subtree if other_node.item.key.high < this.right.key.low\r\n    not_intersect_right_subtree(search_node) {\r\n        let val_less_than = this.item.key.val_less_than;\r\n        let low = this.right.max.low ? this.right.max.low : this.right.item.key.low;\r\n        return val_less_than(search_node.item.key.high, low);\r\n    }\r\n};\r\n\r\nmodule.exports = Node;\r\n\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/flatten-interval-tree/classes/node.js\n// module id = 79\n// module chunks = 0","\"use strict\";\n\nlet IntervalTree = require('flatten-interval-tree');\n\nmodule.exports = function(Flatten) {\n    let {Polygon, Point, Segment, Arc, Circle, Line, Ray, Vector} = Flatten;\n\n    let {vector} = Flatten;\n\n    Flatten.Distance = class Distance {\n        /**\n         * Calculate distance and shortest segment between points\n         * @param pt1\n         * @param pt2\n         * @returns {Number | Segment} - distance and shortest segment\n         */\n        static point2point(pt1, pt2) {\n            return pt1.distanceTo(pt2);\n        }\n\n        /**\n         * Calculate distance and shortest segment between point and line\n         * @param pt\n         * @param line\n         * @returns {Number | Segment} - distance and shortest segment\n         */\n        static point2line(pt, line) {\n            let closest_point = pt.projectionOn(line);\n            let vec = vector(pt, closest_point);\n            return [vec.length, new Segment(pt, closest_point)];\n        }\n\n        /**\n         * Calculate distance and shortest segment between point and circle\n         * @param pt\n         * @param circle\n         * @returns {Number | Segment} - distance and shortest segment\n         */\n        static point2circle(pt, circle) {\n            let [dist2center, shortest_dist] = pt.distanceTo(circle.center);\n            if (Flatten.Utils.EQ_0(dist2center)) {\n                return [circle.r, new Segment(pt, circle.toArc().start)];\n            }\n            else {\n                let dist = Math.abs(dist2center - circle.r);\n                let v = vector(circle.pc, pt).normalize().multiply(circle.r);\n                let closest_point = circle.pc.translate(v);\n                return [dist, new Segment(pt, closest_point)];\n            }\n        }\n\n        /**\n         * Calculate distance and shortest segment between point and segment\n         * @param pt\n         * @param segment\n         * @returns {Number | Segment} - distance and shortest segment\n         */\n        static point2segment(pt, segment) {\n            /* Degenerated case of zero-length segment */\n            if (segment.start.equalTo(segment.end)) {\n                return  Distance.point2point(pt, segment.start);\n            }\n\n            let v_seg = new Flatten.Vector(segment.start, segment.end);\n            let v_ps2pt = new Flatten.Vector(segment.start, pt);\n            let v_pe2pt = new Flatten.Vector(segment.end, pt);\n            let start_sp = v_seg.dot(v_ps2pt);\n            /* dot product v_seg * v_ps2pt */\n            let end_sp = -v_seg.dot(v_pe2pt);\n            /* minus dot product v_seg * v_pe2pt */\n\n            let dist;\n            let closest_point;\n            if (Flatten.Utils.GE(start_sp, 0) && Flatten.Utils.GE(end_sp, 0)) {    /* point inside segment scope */\n                let v_unit = segment.tangentInStart(); // new Flatten.Vector(v_seg.x / this.length, v_seg.y / this.length);\n                /* unit vector ||v_unit|| = 1 */\n                dist = Math.abs(v_unit.cross(v_ps2pt));\n                /* dist = abs(v_unit x v_ps2pt) */\n                closest_point = segment.start.translate(v_unit.multiply(v_unit.dot(v_ps2pt)));\n                return [dist, new Segment(pt, closest_point)];\n            }\n            else if (start_sp < 0) {                             /* point is out of scope closer to ps */\n                return pt.distanceTo(segment.start);\n            }\n            else {                                               /* point is out of scope closer to pe */\n                return pt.distanceTo(segment.end);\n            }\n        };\n\n        /**\n         * Calculate distance and shortest segment between point and arc\n         * @param pt\n         * @param arc\n         * @returns {Number | Segment} - distance and shortest segment\n         */\n        static point2arc(pt, arc) {\n            let circle = new Flatten.Circle(arc.pc, arc.r);\n            let dist_and_segment = [];\n            let dist, shortest_segment;\n            [dist, shortest_segment] = Distance.point2circle(pt, circle);\n            if (shortest_segment.end.on(arc)) {\n                dist_and_segment.push(Distance.point2circle(pt, circle));\n            }\n            dist_and_segment.push( Distance.point2point(pt, arc.start) );\n            dist_and_segment.push( Distance.point2point(pt, arc.end) );\n\n            Distance.sort(dist_and_segment);\n\n            return dist_and_segment[0];\n        }\n\n        /**\n         * Calculate distance and shortest segment between segment and line\n         * @param seg\n         * @param line\n         * @returns {Number | Segment}\n         */\n        static segment2line(seg, line) {\n            let ip = seg.intersect(line);\n            if (ip.length > 0) {\n                return [0, new Segment(ip[0],ip[0])];   // distance = 0, closest point is the first point\n            }\n            let dist_and_segment = [];\n            dist_and_segment.push(Distance.point2line(seg.start, line));\n            dist_and_segment.push(Distance.point2line(seg.end, line));\n\n            Distance.sort( dist_and_segment );\n            return dist_and_segment[0];\n\n        }\n\n        /**\n         * Calculate distance and shortest segment between two segments\n         * @param seg1\n         * @param seg2\n         * @returns {Number | Segment} - distance and shortest segment\n         */\n        static segment2segment(seg1, seg2) {\n            let ip = Segment.intersectSegment2Segment(seg1, seg2);\n            if (ip.length > 0) {\n                return [0, new Segment(ip[0],ip[0])];   // distance = 0, closest point is the first point\n            }\n\n            // Seg1 and seg2 not intersected\n            let dist_and_segment = [];\n\n            dist_and_segment.push(Distance.point2segment(seg2.start, seg1));\n            dist_and_segment.push(Distance.point2segment(seg2.end, seg1));\n            dist_and_segment.push(Distance.point2segment(seg1.start, seg2));\n            dist_and_segment.push(Distance.point2segment(seg1.end, seg2));\n\n            Distance.sort( dist_and_segment );\n            return dist_and_segment[0];\n        }\n\n        /**\n         * Calculate distance and shortest segment between segment and circle\n         * @param seg\n         * @param circle\n         * @returns {Number | Segment} - distance and shortest segment\n         */\n        static segment2circle(seg, circle) {\n            /* Case 1 Segment and circle intersected. Return the first point and zero distance */\n            let ip = seg.intersect(circle);\n            if (ip.length > 0) {\n                return [0, new Segment(ip[0], ip[0])];\n            }\n\n            // No intersection between segment and circle\n\n            /* Case 2. Distance to projection of center point to line bigger than radius\n             * And projection point belong to segment\n              * Then measure again distance from projection to circle and return it */\n            let line = new Flatten.Line(seg.ps, seg.pe);\n            let [dist, shortest_segment] = Distance.point2line(circle.center, line);\n            if (Flatten.Utils.GE(dist, circle.r) && shortest_segment.end.on(seg)) {\n                return Distance.point2circle(shortest_segment.end, circle);\n            }\n            /* Case 3. Otherwise closest point is one of the end points of the segment */\n            else {\n                let [dist_from_start, shortest_segment_from_start] = Distance.point2circle(seg.start, circle);\n                let [dist_from_end, shortest_segment_from_end] = Distance.point2circle(seg.end, circle);\n                return Flatten.Utils.LT(dist_from_start, dist_from_end) ?\n                    [dist_from_start, shortest_segment_from_start] :\n                    [dist_from_end, shortest_segment_from_end];\n            }\n        }\n\n        /**\n         * Calculate distance and shortest segment between segment and arc\n         * @param seg\n         * @param arc\n         * @returns {Number | Segment} - distance and shortest segment\n         */\n        static segment2arc(seg, arc) {\n            /* Case 1 Segment and arc intersected. Return the first point and zero distance */\n            let ip = seg.intersect(arc);\n            if (ip.length > 0) {\n                return [0, new Segment(ip[0], ip[0])];\n            }\n\n            // No intersection between segment and arc\n            let line = new Flatten.Line(seg.ps, seg.pe);\n            let circle = new Flatten.Circle(arc.pc, arc.r);\n\n            /* Case 2. Distance to projection of center point to line bigger than radius AND\n             * projection point belongs to segment AND\n               * distance from projection point to circle belongs to arc  =>\n               * return this distance from projection to circle */\n            let [dist_from_center, shortest_segment_from_center] = Distance.point2line(circle.center, line);\n            if (Flatten.Utils.GE(dist_from_center, circle.r) && shortest_segment_from_center.end.on(seg)) {\n                let [dist_from_projection, shortest_segment_from_projection] =\n                    Distance.point2circle(shortest_segment_from_center.end, circle);\n                if (shortest_segment_from_projection.end.on(arc)) {\n                    return [dist_from_projection, shortest_segment_from_projection];\n                }\n            }\n            /* Case 3. Otherwise closest point is one of the end points of the segment */\n            let dist_and_segment = [];\n            dist_and_segment.push(Distance.point2arc(seg.start, arc));\n            dist_and_segment.push(Distance.point2arc(seg.end, arc));\n\n            let dist_tmp, segment_tmp;\n            [dist_tmp, segment_tmp] = Distance.point2segment(arc.start, seg);\n            dist_and_segment.push([dist_tmp, segment_tmp.reverse()]);\n\n            [dist_tmp, segment_tmp] = Distance.point2segment(arc.end, seg);\n            dist_and_segment.push([dist_tmp, segment_tmp.reverse()]);\n\n            Distance.sort(dist_and_segment);\n            return dist_and_segment[0];\n        }\n\n        /**\n         * Calculate distance and shortest segment between two circles\n         * @param circle1\n         * @param circle2\n         * @returns {Number | Segment} - distance and shortest segment\n         */\n        static circle2circle(circle1, circle2) {\n            let ip = circle1.intersect(circle2);\n            if (ip.length > 0) {\n                return [0, new Segment(ip[0], ip[0])];\n            }\n\n            // Case 1. Concentric circles. Convert to arcs and take distance between two arc starts\n            if (circle1.center.equalTo(circle2.center)) {\n                let arc1 = circle1.toArc();\n                let arc2 = circle2.toArc();\n                return Distance.point2point(arc1.start, arc2.start);\n            }\n            else {\n                // Case 2. Not concentric circles\n                let line = new Line(circle1.center, circle2.center);\n                let ip1 = line.intersect(circle1);\n                let ip2 = line.intersect(circle2);\n\n                let dist_and_segment = [];\n\n                dist_and_segment.push(Distance.point2point(ip1[0], ip2[0]));\n                dist_and_segment.push(Distance.point2point(ip1[0], ip2[1]));\n                dist_and_segment.push(Distance.point2point(ip1[1], ip2[0]));\n                dist_and_segment.push(Distance.point2point(ip1[1], ip2[1]));\n\n                Distance.sort(dist_and_segment);\n                return dist_and_segment[0];\n            }\n        }\n\n        /**\n         * Calculate distance and shortest segment between two circles\n         * @param circle\n         * @param line\n         * @returns {Number | Segment} - distance and shortest segment\n         */\n        static circle2line(circle, line) {\n            let ip = circle.intersect(line);\n            if (ip.length > 0) {\n                return [0, new Segment(ip[0], ip[0])];\n            }\n\n            let [dist_from_center, shortest_segment_from_center] = Distance.point2line(circle.center, line);\n            let [dist, shortest_segment] = Distance.point2circle(shortest_segment_from_center.end, circle);\n            shortest_segment = shortest_segment.reverse();\n            return [dist, shortest_segment];\n        }\n\n        /**\n         * Calculate distance and shortest segment between arc and line\n         * @param arc\n         * @param line\n         * @returns {Number | Segment} - distance and shortest segment\n         */\n        static arc2line(arc, line) {\n            /* Case 1 Line and arc intersected. Return the first point and zero distance */\n            let ip = line.intersect(arc);\n            if (ip.length > 0) {\n                return [0, new Segment(ip[0], ip[0])];\n            }\n\n            let circle = new Flatten.Circle(arc.center, arc.r);\n\n            /* Case 2. Distance to projection of center point to line bigger than radius AND\n             * projection point belongs to segment AND\n               * distance from projection point to circle belongs to arc  =>\n               * return this distance from projection to circle */\n            let [dist_from_center, shortest_segment_from_center] = Distance.point2line(circle.center, line);\n            if (Flatten.Utils.GE(dist_from_center, circle.r)) {\n                let [dist_from_projection, shortest_segment_from_projection] =\n                    Distance.point2circle(shortest_segment_from_center.end, circle);\n                if (shortest_segment_from_projection.end.on(arc)) {\n                    return [dist_from_projection, shortest_segment_from_projection];\n                }\n            }\n            else {\n                let dist_and_segment = [];\n                dist_and_segment.push( Distance.point2line(arc.start, line) );\n                dist_and_segment.push( Distance.point2line(arc.end, line) );\n\n                Distance.sort(dist_and_segment);\n                return dist_and_segment[0];\n            }\n        }\n\n        /**\n         * Calculate distance and shortest segment between arc and circle\n         * @param arc\n         * @param circle2\n         * @returns {Number | Segment} - distance and shortest segment\n         */\n        static arc2circle(arc, circle2) {\n            let ip = arc.intersect(circle2);\n            if (ip.length > 0) {\n                return [0, new Segment(ip[0], ip[0])];\n            }\n\n            let circle1 = new Flatten.Circle(arc.center, arc.r);\n\n            let [dist, shortest_segment] = Distance.circle2circle(circle1, circle2);\n            if (shortest_segment.start.on(arc)) {\n                return [dist, shortest_segment];\n            }\n            else {\n                let dist_and_segment = [];\n\n                dist_and_segment.push(Distance.point2circle(arc.start, circle2));\n                dist_and_segment.push(Distance.point2circle(arc.end, circle2));\n\n                Distance.sort(dist_and_segment);\n\n                return dist_and_segment[0];\n            }\n        }\n\n        /**\n         * Calculate distance and shortest segment between two arcs\n         * @param arc1\n         * @param arc2\n         * @returns {Number | Segment} - distance and shortest segment\n         */\n        static arc2arc(arc1, arc2) {\n            let ip = arc1.intersect(arc2);\n            if (ip.length > 0) {\n                return [0, new Segment(ip[0], ip[0])];\n            }\n\n            let circle1 = new Flatten.Circle(arc1.center, arc1.r);\n            let circle2 = new Flatten.Circle(arc2.center, arc2.r);\n\n            let [dist, shortest_segment] = Distance.circle2circle(circle1, circle2);\n            if (shortest_segment.start.on(arc1) && shortest_segment.end.on(arc2)) {\n                return [dist, shortest_segment];\n            }\n            else {\n                let dist_and_segment = [];\n\n                let dist_tmp, segment_tmp;\n\n                [dist_tmp, segment_tmp] = Distance.point2arc(arc1.start, arc2);\n                if (segment_tmp.end.on(arc2)) {\n                    dist_and_segment.push([dist_tmp, segment_tmp]);\n                }\n\n                [dist_tmp, segment_tmp] = Distance.point2arc(arc1.end, arc2);\n                if (segment_tmp.end.on(arc2)) {\n                    dist_and_segment.push([dist_tmp, segment_tmp]);\n                }\n\n                [dist_tmp, segment_tmp] = Distance.point2arc(arc2.start, arc1);\n                if (segment_tmp.end.on(arc1)) {\n                    dist_and_segment.push([dist_tmp, segment_tmp.reverse()]);\n                }\n\n                [dist_tmp, segment_tmp] = Distance.point2arc(arc2.end, arc1);\n                if (segment_tmp.end.on(arc1)) {\n                    dist_and_segment.push([dist_tmp, segment_tmp.reverse()]);\n                }\n\n                [dist_tmp, segment_tmp] = Distance.point2point(arc1.start, arc2.start);\n                dist_and_segment.push([dist_tmp, segment_tmp]);\n\n                [dist_tmp, segment_tmp] = Distance.point2point(arc1.start, arc2.end);\n                dist_and_segment.push([dist_tmp, segment_tmp]);\n\n                [dist_tmp, segment_tmp] = Distance.point2point(arc1.end, arc2.start);\n                dist_and_segment.push([dist_tmp, segment_tmp]);\n\n                [dist_tmp, segment_tmp] = Distance.point2point(arc1.end, arc2.end);\n                dist_and_segment.push([dist_tmp, segment_tmp]);\n\n                Distance.sort(dist_and_segment);\n\n                return dist_and_segment[0];\n            }\n        }\n\n        /**\n         * Calculate distance and shortest segment between point and polygon\n         * @param point\n         * @param polygon\n         * @returns {Number | Segment} - distance and shortest segment\n         */\n        static point2polygon(point, polygon) {\n            let min_dist_and_segment = [Number.POSITIVE_INFINITY, new Segment()];\n            for (let edge of polygon.edges) {\n                let [dist, shortest_segment] = (edge.shape instanceof Segment) ?\n                    Distance.point2segment(point, edge.shape) : Distance.point2arc(point, edge.shape);\n                if (Flatten.Utils.LT(dist, min_dist_and_segment[0])) {\n                    min_dist_and_segment = [dist, shortest_segment];\n                }\n            }\n            return min_dist_and_segment;\n        }\n\n        static shape2polygon(shape, polygon) {\n            let min_dist_and_segment = [Number.POSITIVE_INFINITY, new Segment()];\n            for (let edge of polygon.edges) {\n                let [dist, shortest_segment] = shape.distanceTo(edge.shape);\n                if (Flatten.Utils.LT(dist, min_dist_and_segment[0])) {\n                    min_dist_and_segment = [dist, shortest_segment];\n                }\n            }\n            return min_dist_and_segment;\n        }\n\n/*\n        static arc2polygon(arc, polygon) {\n            let ip = arc.intersect(polygon);\n            if (ip.length > 0) {\n                return [0, new Segment(ip[0], ip[0])];\n            }\n\n            let min_dist_and_segment = [Number.POSITIVE_INFINITY, new Segment()];\n            for (let edge of polygon.edges) {\n                let [dist, shortest_segment] = arc.distanceTo(edge.shape);\n                if (Flatten.Utils.LT(dist, min_dist_and_segment[0])) {\n                    min_dist_and_segment = [dist, shortest_segment];\n                }\n            }\n            return min_dist_and_segment;\n        }\n\n        static line2polygon(line, polygon) {\n            let ip = line.intersect(polygon);\n            if (ip.length > 0) {\n                return [0, new Segment(ip[0], ip[0])];\n            }\n\n            let min_dist_and_segment = [Number.POSITIVE_INFINITY, new Segment()];\n            for (let edge of polygon.edges) {\n                let [dist, shortest_segment] = line.distanceTo(edge.shape);\n                if (Flatten.Utils.LT(dist, min_dist_and_segment[0])) {\n                    min_dist_and_segment = [dist, shortest_segment];\n                }\n            }\n            return min_dist_and_segment;\n        }\n\n        static circle2polygon(circle, polygon) {\n            let ip = circle.intersect(polygon);\n            if (ip.length > 0) {\n                return [0, new Segment(ip[0], ip[0])];\n            }\n\n            let min_dist_and_segment = [Number.POSITIVE_INFINITY, new Segment()];\n            for (let edge of polygon.edges) {\n                let [dist, shortest_segment] = circle.distanceTo(edge.shape);\n                if (Flatten.Utils.LT(dist, min_dist_and_segment[0])) {\n                    min_dist_and_segment = [dist, shortest_segment];\n                }\n            }\n            return min_dist_and_segment;\n        }\n*/\n\n        /**\n         * Calculate distance and shortest segment between two polygons\n         * @param polygon1\n         * @param polygon2\n         * @returns {Number | Segment} - distance and shortest segment\n         */\n        static polygon2polygon(polygon1, polygon2) {\n            let min_dist_and_segment = [Number.POSITIVE_INFINITY, new Flatten.Segment()];\n            for (let edge1 of polygon1.edges) {\n                for (let edge2 of polygon2.edges) {\n                    let [dist, shortest_segment] = edge1.shape.distanceTo(edge2.shape);\n                    if (Flatten.Utils.LT(dist, min_dist_and_segment[0])) {\n                        min_dist_and_segment = [dist, shortest_segment];\n                    }\n                }\n            }\n            return min_dist_and_segment;\n        }\n\n        /**\n         * Returns [mindist, maxdist] array of squared minimal and maximal distance between boxes\n         * Minimal distance by x is\n         *    (box2.xmin - box1.xmax), if box1 is left to box2\n         *    (box1.xmin - box2.xmax), if box2 is left to box1\n         *    0,                       if box1 and box2 are intersected by x\n         * Minimal distance by y is defined in the same way\n         *\n         * Maximal distance is estimated as a sum of squared dimensions of the merged box\n         *\n         * @param box1\n         * @param box2\n         * @returns {Number | Number} - minimal and maximal distance\n         */\n        static box2box_minmax(box1, box2) {\n            let mindist_x = Math.max( Math.max(box1.xmin - box2.xmax, 0), Math.max(box2.xmin - box1.xmax, 0) );\n            let mindist_y = Math.max( Math.max(box1.ymin - box2.ymax, 0), Math.max(box2.ymin - box1.ymax, 0) );\n            let mindist = mindist_x*mindist_x + mindist_y*mindist_y;\n\n            let box = box1.merge(box2);\n            let dx = box.xmax - box.xmin;\n            let dy = box.ymax - box.ymin;\n            let maxdist = dx*dx + dy*dy;\n\n            return [mindist, maxdist];\n        }\n\n        static minmax_tree_process_level(shape, level, min_stop, tree) {\n            // Calculate minmax distance to each shape in current level\n            // Insert result into the interval tree for further processing\n            // update min_stop with maxdist, it will be the new stop distance\n            let mindist, maxdist;\n            for (let node of level) {\n\n                // [mindist, maxdist] = Distance.box2box_minmax(shape.box, node.max);\n                // if (Flatten.Utils.GT(mindist, min_stop))\n                //     continue;\n\n                // Estimate min-max dist to the shape stored in the node.item, using node.item.key which is shape's box\n                [mindist, maxdist] = Distance.box2box_minmax(shape.box, node.item.key);\n                if (node.item.value instanceof Flatten.Edge) {\n                    tree.insert([mindist, maxdist], node.item.value.shape);\n                }\n                else {\n                    tree.insert([mindist, maxdist], node.item.value);\n                }\n                if (Flatten.Utils.LT(maxdist, min_stop)) {\n                    min_stop = maxdist;                       // this will be the new distance estimation\n                }\n            }\n\n            if (level.length === 0)\n                return min_stop;\n\n            // Calculate new level from left and right children of the current\n            let new_level_left = level.map(node => node.left.isNil() ? undefined : node.left ).filter(node => node !== undefined);\n            let new_level_right = level.map(node => node.right.isNil() ? undefined : node.right).filter(node => node !== undefined);\n            // Merge left and right subtrees and leave only relevant subtrees\n            let new_level = [...new_level_left, ...new_level_right].filter( node => {\n                // Node subtree quick reject, node.max is a subtree box\n                let [mindist, maxdist] = Distance.box2box_minmax(shape.box, node.max);\n                return (Flatten.Utils.LE(mindist, min_stop));\n            });\n\n            min_stop = Distance.minmax_tree_process_level(shape, new_level, min_stop, tree);\n            return min_stop;\n        }\n\n        /**\n         * Calculates sorted tree of [mindist, maxdist] intervals between query shape\n         * and shapes of the planar set.\n         * @param shape\n         * @param set\n         */\n        static minmax_tree(shape, set, min_stop) {\n            let tree = new IntervalTree();\n            let level = [set.index.root];\n            let squared_min_stop = min_stop < Number.POSITIVE_INFINITY ? min_stop*min_stop : Number.POSITIVE_INFINITY;\n            squared_min_stop = Distance.minmax_tree_process_level(shape, level, squared_min_stop, tree);\n            return tree;\n        }\n\n        static minmax_tree_calc_distance(shape, node, min_dist_and_segment) {\n            let min_dist_and_segment_new, stop;\n            if (node != null && !node.isNil()) {\n                [min_dist_and_segment_new, stop] = Distance.minmax_tree_calc_distance(shape, node.left, min_dist_and_segment);\n\n                if (stop) {\n                    return [min_dist_and_segment_new, stop];\n                }\n\n                if (Flatten.Utils.LT(min_dist_and_segment_new[0], Math.sqrt(node.item.key.low))) {\n                    return [min_dist_and_segment_new, true];   // stop condition\n                }\n\n                let [dist, shortest_segment] = Distance.distance(shape, node.item.value);\n                // console.log(dist)\n                if (Flatten.Utils.LT(dist, min_dist_and_segment_new[0])) {\n                    min_dist_and_segment_new = [dist, shortest_segment];\n                }\n\n                [min_dist_and_segment_new, stop] = Distance.minmax_tree_calc_distance(shape, node.right, min_dist_and_segment_new);\n\n                return [min_dist_and_segment_new, stop];\n            }\n\n            return [min_dist_and_segment, false];\n        }\n\n        /**\n         * Calculates distance between shape and Planar Set of shapes\n         * @param shape\n         * @param {PlanarSet} set\n         * @param {Number} min_stop\n         * @returns {*}\n         */\n        static shape2planarSet(shape, set, min_stop = Number.POSITIVE_INFINITY) {\n            let min_dist_and_segment = [min_stop, new Flatten.Segment()];\n            let stop = false;\n            if (set instanceof Flatten.PlanarSet) {\n                let tree = Distance.minmax_tree(shape, set, min_stop);\n                [min_dist_and_segment, stop] = Distance.minmax_tree_calc_distance(shape, tree.root, min_dist_and_segment);\n            }\n            return min_dist_and_segment;\n        }\n\n        static sort(dist_and_segment) {\n            dist_and_segment.sort((d1, d2) => {\n                if (Flatten.Utils.LT(d1[0], d2[0])) {\n                    return -1;\n                }\n                if (Flatten.Utils.GT(d1[0], d2[0])) {\n                    return 1;\n                }\n                return 0;\n            });\n        }\n\n        static distance(shape1, shape2) {\n            return shape1.distanceTo(shape2);\n        }\n    }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/flatten-js/algorithms/distance.js\n// module id = 80\n// module chunks = 0","\n\"use strict\";\n\nmodule.exports = function(Flatten) {\n    let {Polygon, Point, Segment, Arc, Line, Ray} = Flatten;\n\n    Flatten.ray_shoot = function(polygon, point) {\n        let contains = undefined;\n\n        // if (!(polygon instanceof Polygon && point instanceof Point)) {\n        //     throw Flatten.Errors.ILLEGAL_PARAMETERS;\n        // }\n\n        // 1. Quick reject\n        if (polygon.box.notIntersect(point.box)) {\n            return Flatten.OUTSIDE;\n        }\n\n        let ray = new Ray(point);\n        let line = new Line(ray.pt, ray.norm);\n\n        // 2. Locate relevant edges of the polygon\n        let resp_edges = polygon.edges.search(ray.box);\n\n        if (resp_edges.length == 0) {\n            return Flatten.OUTSIDE;\n        }\n\n        // 3. Calculate intersections\n        let intersections = [];\n        for (let edge of resp_edges) {\n            for (let ip of ray.intersect(edge.shape)) {\n\n                // If intersection is equal to query point then point lays on boundary\n                if (ip.equalTo(point)) {\n                    return Flatten.BOUNDARY;\n                }\n\n                intersections.push({\n                    pt: ip,\n                    edge: edge\n                });\n            }\n        }\n\n        // 4. Sort intersection in x-ascending order\n        intersections.sort( (i1, i2) => {\n            if (Flatten.Utils.LT(i1.pt.x, i2.pt.x)) {\n                return -1;\n            }\n            if (Flatten.Utils.GT(i1.pt.x, i2.pt.x)) {\n                return 1;\n            }\n            return 0;\n        });\n\n        // 5. Count real intersections, exclude touching\n        let counter = 0;\n\n        for (let i=0; i < intersections.length; i++) {\n            let intersection = intersections[i];\n            if (intersection.pt.equalTo(intersection.edge.shape.start)) {\n                /* skip same point between same edges if already counted */\n                if (i > 0 && intersection.pt.equalTo(intersections[i-1].pt) &&\n                    intersection.edge.prev === intersections[i-1].edge) {\n                    continue;\n                }\n                let prev_edge = intersection.edge.prev;\n                let prev_tangent = prev_edge.shape.tangentInEnd();\n                let prev_point = intersection.pt.translate(prev_tangent);\n\n                let cur_tangent = intersection.edge.shape.tangentInStart();\n                let cur_point = intersection.pt.translate(cur_tangent);\n\n                let prev_on_the_left = prev_point.leftTo(line);\n                let cur_on_the_left = cur_point.leftTo(line);\n\n                if ( (prev_on_the_left && !cur_on_the_left) || (!prev_on_the_left && cur_on_the_left) ) {\n                    counter++;\n                }\n            }\n            else if (intersection.pt.equalTo(intersection.edge.shape.end)) {\n                /* skip same point between same edges if already counted */\n                if (i > 0 && intersection.pt.equalTo(intersections[i-1].pt) &&\n                    intersection.edge.next === intersections[i-1].edge) {\n                    continue;\n                }\n                let next_edge = intersection.edge.next;\n                let next_tangent = next_edge.shape.tangentInStart();\n                let next_point = intersection.pt.translate(next_tangent);\n\n                let cur_tangent = intersection.edge.shape.tangentInEnd();\n                let cur_point = intersection.pt.translate(cur_tangent);\n\n                let next_on_the_left = next_point.leftTo(line);\n                let cur_on_the_left = cur_point.leftTo(line);\n\n                if ( (next_on_the_left && !cur_on_the_left) || (!next_on_the_left && cur_on_the_left) ) {\n                    counter++;\n                }\n            }\n            else {        /* intersection point is not a coincident with a vertex */\n                if (intersection.edge.shape instanceof Segment) {\n                    counter++;\n                }\n                else {\n                    /* Check if ray does not touch the curve in the extremal (top or bottom) point */\n                    let box = intersection.edge.shape.box;\n                    if ( !(Flatten.Utils.EQ(intersection.pt.y, box.ymin) ||\n                            Flatten.Utils.EQ(intersection.pt.y, box.ymax)) ) {\n                        counter++;\n                    }\n                }\n            }\n        }\n\n        // 6. Odd or even?\n        contains = counter % 2 == 1 ? Flatten.INSIDE : Flatten.OUTSIDE;\n\n        return contains;\n    };\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/flatten-js/algorithms/ray_shooting.js\n// module id = 81\n// module chunks = 0","/**\n * Created by Alex Bol on 3/10/2017.\n */\n\n\"use strict\";\n\nmodule.exports = function(Flatten) {\n    /**\n     * Class representing a circular arc\n     * @type {Arc}\n     */\n    Flatten.Arc = class Arc {\n        /**\n         *\n         * @param {Point} pc - arc center\n         * @param {number} r - arc radius\n         * @param {number} startAngle - start angle in radians from 0 to 2*PI\n         * @param {number} endAngle - end angle in radians from 0 to 2*PI\n         * @param {boolean} counterClockwise - arc direction, true - clockwise (or {@link Flatten.CCW}), false - counter clockwise (or {@link Flatten.CW)}\n         */\n        constructor(pc=new Flatten.Point(), r=1, startAngle=0, endAngle=2*Math.PI, counterClockwise=true) {\n            this.pc = pc.clone();\n            this.r = r;\n            this.startAngle = startAngle;\n            this.endAngle = endAngle;\n            this.counterClockwise = counterClockwise;\n        }\n\n        /**\n         * Return new instance of arc\n         * @returns {Arc}\n         */\n        clone() {\n            return new Flatten.Arc(this.pc.clone(), this.r, this.startAngle, this.endAngle, this.counterClockwise);\n        }\n\n        /**\n         * Get sweep angle in radians. Sweep angle is non-negative number from 0 to 2*PI\n         * @returns {number}\n         */\n        get sweep() {\n            if (Flatten.Utils.EQ(this.startAngle, this.endAngle))\n                return 0.0;\n            if (Flatten.Utils.EQ(Math.abs(this.startAngle - this.endAngle), Flatten.PIx2)) {\n                return Flatten.PIx2;\n            }\n            let sweep;\n            if (this.counterClockwise) {\n                sweep = Flatten.Utils.GT(this.endAngle, this.startAngle) ?\n                    this.endAngle - this.startAngle : this.endAngle - this.startAngle + Flatten.PIx2;\n            } else {\n                sweep = Flatten.Utils.GT(this.startAngle, this.endAngle) ?\n                    this.startAngle - this.endAngle : this.startAngle - this.endAngle + Flatten.PIx2;\n            }\n\n            if ( Flatten.Utils.GT(sweep, Flatten.PIx2) ) {\n                sweep -= Flatten.PIx2;\n            }\n            if ( Flatten.Utils.LT(sweep, 0) ) {\n                sweep += Flatten.PIx2;\n            }\n            return sweep;\n        }\n\n        /**\n         * Get start point of arc\n         * @returns {Point}\n         */\n        get start() {\n            let p0 = new Flatten.Point(this.pc.x + this.r, this.pc.y);\n            return p0.rotate(this.startAngle, this.pc);\n        }\n\n        /**\n         * Get end point of arc\n         * @returns {Point}\n         */\n        get end() {\n            let p0 = new Flatten.Point(this.pc.x + this.r, this.pc.y);\n            return p0.rotate(this.endAngle, this.pc);\n        }\n\n        /**\n         * Get center of arc\n         * @returns {Point}\n         */\n        get center() {\n            return this.pc.clone();\n        }\n\n        get vertices() {\n            return [this.start.clone(), this.end.clone()];\n        }\n\n        /**\n         * Get arc length\n         * @returns {number}\n         */\n        get length() {\n            return Math.abs(this.sweep*this.r);\n        }\n\n        /**\n         * Get bounding box of the arc\n         * @returns {Box}\n         */\n        get box() {\n            let func_arcs = this.breakToFunctional();\n            let box = func_arcs.reduce( (acc, arc) => acc.merge(arc.start.box), new Flatten.Box() );\n            box = box.merge(this.end.box);\n            return box;\n        }\n\n        /**\n         * Returns true if arc contains point, false otherwise\n         * @param {Point} pt - point to test\n         * @returns {boolean}\n         */\n        contains(pt) {\n            // first check if  point on circle (pc,r)\n            if (!Flatten.Utils.EQ(this.pc.distanceTo(pt)[0], this.r))\n                return false;\n\n            // point on circle\n\n            if (pt.equalTo(this.start))\n                return true;\n\n            let angle = new Flatten.Vector(this.pc, pt).slope;\n            let test_arc = new Flatten.Arc(this.pc, this.r, this.startAngle, angle, this.counterClockwise);\n            return Flatten.Utils.LE(test_arc.length, this.length);\n        }\n\n        /**\n         * When given point belongs to arc, return array of two arcs split by this point. If points is incident\n         * to start or end point of the arc, return clone of the arc. If point does not belong to the arcs, return\n         * empty array.\n         * @param {Point} pt Query point\n         * @returns {Arc[]}\n         */\n        split(pt) {\n            if (!this.contains(pt))\n                return [];\n\n            if (Flatten.Utils.EQ_0(this.sweep))\n                return [this.clone()];\n\n            if (this.start.equalTo(pt) || this.end.equalTo(pt))\n                return [this.clone()];\n\n            let angle = new Flatten.Vector(this.pc, pt).slope;\n\n            return [\n                new Flatten.Arc(this.pc, this.r, this.startAngle, angle, this.counterClockwise),\n                new Flatten.Arc(this.pc, this.r, angle, this.endAngle, this.counterClockwise)\n            ]\n        }\n\n        /**\n         * Return middle point of the arc\n         * @returns {Point}\n         */\n        middle() {\n            let endAngle = this.counterClockwise === Flatten.CCW ? this.startAngle + this.sweep/2 : this.startAngle - this.sweep/2;\n            let arc = new Flatten.Arc(this.pc, this.r, this.startAngle, endAngle, this.counterClockwise);\n            return arc.end;\n        }\n\n        /**\n         * Returns chord height (\"sagitta\") of the arc\n         * @returns {number}\n         */\n        chordHeight() {\n            return  (1.0 - Math.cos(Math.abs(this.sweep/2.0))) * this.r;\n        }\n\n        /**\n         * Returns array of intersection points between arc and other shape\n         * @param {Shape} shape Shape of the one of supported types Line, Circle, Segment, Arc <br/>\n         * TODO: support Polygon and Planar Set\n         * @returns {Points[]}\n         */\n        intersect(shape) {\n            if (shape instanceof Flatten.Line) {\n                return shape.intersect(this);\n            }\n            if (shape instanceof Flatten.Circle) {\n                return Arc.intersectArc2Circle(this, shape);\n            }\n            if (shape instanceof Flatten.Segment) {\n                return shape.intersect(this);\n            }\n            if (shape instanceof Flatten.Arc) {\n                return Arc.intersectArc2Arc(this, shape);\n            }\n        }\n\n        /**\n         * Calculate distance and shortest segment from arc to shape and return array [distance, shortest segment]\n         * @param {Shape} shape Shape of the one of supported types Point, Line, Circle, Segment, Arc, Polygon or Planar Set\n         * @returns {number} distance from arc to shape\n         * @returns {Segment} shortest segment between arc and shape (started at arc, ended at shape)\n\n         */\n        distanceTo(shape) {\n            let {Distance} = Flatten;\n\n            if (shape instanceof Flatten.Point) {\n                let [dist, shortest_segment] = Distance.point2arc(shape, this);\n                shortest_segment = shortest_segment.reverse();\n                return [dist, shortest_segment];\n            }\n\n            if (shape instanceof Flatten.Circle) {\n                let [dist, shortest_segment] = Distance.arc2circle(this, shape);\n                return [dist, shortest_segment];\n            }\n\n            if (shape instanceof Flatten.Line) {\n                let [dist, shortest_segment] = Distance.arc2line(this, shape);\n                return [dist, shortest_segment];\n            }\n\n            if (shape instanceof Flatten.Segment) {\n                let [dist, shortest_segment] = Distance.segment2arc(shape, this);\n                shortest_segment = shortest_segment.reverse();\n                return [dist, shortest_segment];\n            }\n\n            if (shape instanceof Flatten.Arc) {\n                let [dist, shortest_segment] = Distance.arc2arc(this, shape);\n                return [dist, shortest_segment];\n            }\n\n            if (shape instanceof Flatten.Polygon) {\n                let [dist, shortest_segment] = Distance.shape2polygon(this, shape);\n                return [dist, shortest_segment];\n            }\n\n            if (shape instanceof Flatten.PlanarSet) {\n                let [dist, shortest_segment] = Distance.shape2planarSet(this, shape);\n                return [dist, shortest_segment];\n            }\n        }\n\n        /**\n         * Breaks arc in extreme point 0, pi/2, pi, 3*pi/2 and returns array of sub-arcs\n         * @returns {Arcs[]}\n         */\n        breakToFunctional() {\n            let func_arcs_array = [];\n            let angles = [0, Math.PI/2, 2*Math.PI/2, 3*Math.PI/2];\n            let pts = [\n                this.pc.translate(this.r,0),\n                this.pc.translate(0,this.r),\n                this.pc.translate(-this.r,0),\n                this.pc.translate(0,-this.r)\n            ];\n\n            // If arc contains extreme point,\n            // create test arc started at start point and ended at this extreme point\n            let test_arcs = [];\n            for (let i=0; i < 4; i++) {\n                if (pts[i].on(this)) {\n                    test_arcs.push(new Flatten.Arc(this.pc, this.r, this.startAngle, angles[i], this.counterClockwise));\n                }\n            }\n\n            if (test_arcs.length == 0) {                  // arc does contain any extreme point\n                func_arcs_array.push(this.clone());\n            }\n            else {                                        // arc passes extreme point\n                // sort these arcs by length\n                test_arcs.sort((arc1, arc2) => arc1.length - arc2.length);\n\n                for (let i = 0; i < test_arcs.length; i++) {\n                    let prev_arc = func_arcs_array.length > 0 ? func_arcs_array[func_arcs_array.length - 1] : undefined;\n                    let new_arc;\n                    if (prev_arc) {\n                        new_arc = new Flatten.Arc(this.pc, this.r, prev_arc.endAngle, test_arcs[i].endAngle, this.counterClockwise);\n                    }\n                    else {\n                        new_arc = new Flatten.Arc(this.pc, this.r, this.startAngle, test_arcs[i].endAngle, this.counterClockwise);\n                    }\n                    if (!Flatten.Utils.EQ_0(new_arc.length)) {\n                        func_arcs_array.push(new_arc.clone());\n                    }\n                }\n\n                // add last sub arc\n                let prev_arc = func_arcs_array.length > 0 ? func_arcs_array[func_arcs_array.length - 1] : undefined;\n                let new_arc;\n                if (prev_arc) {\n                    new_arc = new Flatten.Arc(this.pc, this.r, prev_arc.endAngle, this.endAngle, this.counterClockwise);\n                }\n                else {\n                    new_arc = new Flatten.Arc(this.pc, this.r, this.startAngle, this.endAngle, this.counterClockwise);\n                }\n                if (!Flatten.Utils.EQ_0(new_arc.length)) {\n                    func_arcs_array.push(new_arc.clone());\n                }\n            }\n            return func_arcs_array;\n        }\n\n        /**\n         * Return tangent unit vector in the start point in the direction from start to end\n         * @returns {Vector}\n         */\n        tangentInStart() {\n            let vec = new Flatten.Vector(this.pc, this.start);\n            let angle = this.counterClockwise ? Math.PI/2. : -Math.PI/2.;\n            let tangent = vec.rotate(angle).normalize();\n            return tangent;\n        }\n\n        /**\n         * Return tangent unit vector in the end point in the direction from end to start\n         * @returns {Vector}\n         */\n        tangentInEnd() {\n            let vec = new Flatten.Vector(this.pc, this.end);\n            let angle = this.counterClockwise ? -Math.PI/2. : Math.PI/2.;\n            let tangent = vec.rotate(angle).normalize();\n            return tangent;\n        }\n\n        /**\n         * Returns new arc with swapped start and end angles and reversed direction\n         * @returns {Arc}\n         */\n        reverse() {\n            return new Arc(this.pc, this.r, this.endAngle, this.startAngle, !this.counterClockwise);\n        }\n\n        /**\n         * Returns new arc translated by vector vec\n         * @param {Vector} vec\n         * @returns {Segment}\n         */\n        translate(vec) {\n            let arc = this.clone();\n            arc.pc = this.pc.translate(vec);\n            return arc;\n        }\n\n        /**\n         * Return new segment rotated by given angle around given point\n         * If point omitted, rotate around origin (0,0)\n         * Positive value of angle defines rotation counter clockwise, negative - clockwise\n         * @param {number} angle - rotation angle in radians\n         * @param {Point} center - center point, default is (0,0)\n         * @returns {Arc}\n         */\n        rotate(angle = 0, center = new Flatten.Point()) {\n            let m = new Flatten.Matrix();\n            m = m.translate(center.x, center.y).rotate(angle).translate(-center.x, -center.y);\n            return this.transform(m);\n        }\n\n        /**\n         * Return new arc transformed using affine transformation matrix <br/>\n         * Note, that non-equal scaling by x and y (matrix[0] != matrix[3]) produce illegal result\n         * TODO: support non-equal scaling arc to ellipse or throw exception ?\n         * @param {Matrix} matrix - affine transformation matrix\n         * @returns {Arc}\n         */\n        transform(matrix = new Flatten.Matrix()) {\n            let newStart = this.start.transform(matrix);\n            let newEnd = this.end.transform(matrix);\n            let newCenter = this.pc.transform(matrix);\n            let arc = Arc.arcSE(newCenter, newStart, newEnd, this.counterClockwise);\n            return arc;\n        }\n\n        static arcSE(center, start, end, counterClockwise) {\n            let {vector} = Flatten;\n            let startAngle = vector(center,start).slope;\n            let endAngle = vector(center, end).slope;\n            if (Flatten.Utils.EQ(startAngle, endAngle)) {\n                endAngle += 2*Math.PI;\n                counterClockwise = true;\n            }\n            let r = vector(center, start).length;\n\n            return new Arc(center, r, startAngle, endAngle, counterClockwise);\n        }\n\n        static intersectArc2Arc(arc1, arc2) {\n            var ip = [];\n\n            if (arc1.box.notIntersect(arc2.box)) {\n                return ip;\n            }\n\n            // Special case: overlapping arcs\n            // May return up to 4 intersection points\n            if (arc1.pc.equalTo(arc2.pc) && Flatten.Utils.EQ(arc1.r, arc2.r)) {\n                let pt;\n\n                pt = arc1.start;\n                if (pt.on(arc2))\n                    ip.push(pt);\n\n                pt = arc1.end;\n                if (pt.on(arc2))\n                    ip.push(pt);\n\n                pt = arc2.start;\n                if (pt.on(arc1)) ip.push(pt);\n\n                pt = arc2.end;\n                if (pt.on(arc1)) ip.push(pt);\n\n                return ip;\n            }\n\n            // Common case\n            let circle1 = new Flatten.Circle(arc1.pc, arc1.r);\n            let circle2 = new Flatten.Circle(arc2.pc, arc2.r);\n            let ip_tmp =  circle1.intersect(circle2);\n            for (let pt of ip_tmp) {\n                if (pt.on(arc1) && pt.on(arc2)) {\n                    ip.push(pt);\n                }\n            }\n            return ip;\n        }\n\n        static intersectArc2Circle(arc, circle) {\n            let ip = [];\n\n            if (arc.box.notIntersect(circle.box)) {\n                return ip;\n            }\n\n            // Case when arc center incident to circle center\n            // Return arc's end points as 2 intersection points\n            if (circle.pc.equalTo(arc.pc) && Flatten.Utils.EQ(circle.r, arc.r)) {\n                ip.push(arc.start);\n                ip.push(arc.end);\n                return ip;\n            }\n\n            // Common case\n            let circle1 = circle;\n            let circle2 = new Flatten.Circle(arc.pc, arc.r);\n            let ip_tmp = circle1.intersect(circle2);\n            for (let pt of ip_tmp) {\n                if (pt.on(arc)) {\n                    ip.push(pt);\n                }\n            }\n            return ip;\n        }\n\n        definiteIntegral(ymin=0) {\n            let f_arcs = this.breakToFunctional();\n            let area = f_arcs.reduce( (acc, arc) => acc + arc.circularSegmentDefiniteIntegral(ymin), 0.0 );\n            return area;\n        }\n\n        circularSegmentDefiniteIntegral(ymin) {\n            let line = new Flatten.Line(this.start, this.end);\n            let onLeftSide = this.pc.leftTo(line);\n            let segment = new Flatten.Segment(this.start, this.end);\n            let areaTrapez = segment.definiteIntegral(ymin);\n            let areaCircularSegment = this.circularSegmentArea();\n            let area = onLeftSide ? areaTrapez - areaCircularSegment : areaTrapez + areaCircularSegment;\n            return area;\n        }\n\n        circularSegmentArea() {\n            return (0.5*this.r*this.r*(this.sweep - Math.sin(this.sweep)))\n        }\n\n        /**\n         * Return string to draw arc in svg\n         * @param {Object} attrs - json structure with attributes of svg path element,\n         * like \"stroke\", \"strokeWidth\", \"fill\" <br/>\n         * Defaults are stroke:\"black\", strokeWidth:\"1\", fill:\"none\"\n         * @returns {string}\n         */\n        svg(attrs = {}) {\n            let largeArcFlag = this.sweep <= Math.PI ? \"0\" : \"1\";\n            let sweepFlag = this.counterClockwise ? \"1\" : \"0\";\n            let {stroke, strokeWidth, fill, id, className} = attrs;\n            // let rest_str = Object.keys(rest).reduce( (acc, key) => acc += ` ${key}=\"${rest[key]}\"`, \"\");\n            let id_str = (id && id.length > 0) ? `id=\"${id}\"` : \"\";\n            let class_str = (className && className.length > 0) ? `class=\"${className}\"` : \"\";\n\n            if (Flatten.Utils.EQ(this.sweep, 2*Math.PI)) {\n                let circle = new Flatten.Circle(this.pc, this.r);\n                return circle.svg(attrs);\n            }\n            else {\n                return `\\n<path d=\"M${this.start.x},${this.start.y}\n                             A${this.r},${this.r} 0 ${largeArcFlag},${sweepFlag} ${this.end.x},${this.end.y}\"\n                    stroke=\"${stroke || \"black\"}\" stroke-width=\"${strokeWidth || 1}\" fill=\"${fill || \"none\"}\" ${id_str} ${class_str} />`\n            }\n        }\n    };\n\n    /**\n     * Function to create arc equivalent to \"new\" constructor\n     * @param args\n     */\n    Flatten.arc = (...args) => new Flatten.Arc(...args);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/flatten-js/classes/arc.js\n// module id = 82\n// module chunks = 0","/**\n * Created by Alex Bol on 3/7/2017.\n */\n\"use strict\";\n\nmodule.exports = function(Flatten) {\n    /**\n     * Class Box represent bounding box of the shape\n     * @type {Box}\n     */\n    Flatten.Box = class Box {\n        /**\n         *\n         * @param {number} xmin - minimal x coordinate\n         * @param {number} ymin - minimal y coordinate\n         * @param {number} xmax - maximal x coordinate\n         * @param {number} ymax - maximal y coordinate\n         */\n        constructor(xmin=undefined, ymin=undefined, xmax=undefined, ymax=undefined) {\n            /**\n             * Minimal x coordinate\n             * @type {number}\n             */\n            this.xmin = xmin;\n            /**\n             * Minimal y coordinate\n             * @type {number}\n             */\n            this.ymin = ymin;\n            /**\n             * Maximal x coordinate\n             * @type {number}\n             */\n            this.xmax = xmax;\n            /**\n             * Maximal y coordinate\n             * @type {number}\n             */\n            this.ymax = ymax;\n        }\n\n        /**\n         * Clones and returns new instance of box\n         * @returns {Box}\n         */\n        clone() {\n            return new Box(this.xmin, this.ymin, this.xmax, this.ymax);\n        }\n\n        /**\n         * Property low need for interval tree interface\n         * @returns {Point}\n         */\n        get low() {\n            return new Flatten.Point(this.xmin, this.ymin);\n        }\n\n        /**\n         * Property high need for interval tree interface\n         * @returns {Point}\n         */\n        get high() {\n            return new Flatten.Point(this.xmax, this.ymax);\n        }\n\n        /**\n         * Property max returns the box itself !\n         * @returns {Box}\n         */\n        get max() {\n            return this.clone();\n        }\n\n        /**\n         * Return center of the box\n         * @returns {Point}\n         */\n        get center() {\n            return new Flatten.Point( (this.xmin + this.xmax)/2, (this.ymin + this.ymax)/2 );\n        }\n\n        /**\n         * Returns true if not intersected with other box\n         * @param {Box} other_box - other box to test\n         * @returns {boolean}\n         */\n        notIntersect(other_box) {\n            return (\n                this.xmax < other_box.xmin ||\n                this.xmin > other_box.xmax ||\n                this.ymax < other_box.ymin ||\n                this.ymin > other_box.ymax\n            );\n        }\n\n        /**\n         * Returns true if intersected with other box\n         * @param {Box} other_box - Query box\n         * @returns {boolean}\n         */\n        intersect(other_box) {\n            return !this.notIntersect(other_box);\n        }\n\n        /**\n         * Returns new box merged with other box\n         * @param {Box} other_box - Other box to merge with\n         * @returns {Box}\n         */\n        merge(other_box) {\n            return new Box(\n                this.xmin === undefined ? other_box.xmin : Math.min(this.xmin, other_box.xmin),\n                this.ymin === undefined ? other_box.ymin : Math.min(this.ymin, other_box.ymin),\n                this.xmax === undefined ? other_box.xmax : Math.max(this.xmax, other_box.xmax),\n                this.ymax === undefined ? other_box.ymax : Math.max(this.ymax, other_box.ymax)\n            );\n        }\n\n        /**\n         * Defines predicate \"less than\" between two boxes. Need for interval index\n         * @param {Box} other_box - other box\n         * @returns {boolean} - true if this box less than other box, false otherwise\n         */\n        less_than(other_box) {\n            if (this.low.lessThan(other_box.low))\n                return true;\n            if (this.low.equalTo(other_box.low) && this.high.lessThan(other_box.high))\n                return true;\n            return false;\n        }\n\n        /**\n         * Returns true if this box is equal to other box, false otherwise\n         * @param {Box} other_box - query box\n         * @returns {boolean}\n         */\n        equal_to(other_box) {\n            return (this.low.equalTo(other_box.low) && this.high.equalTo(other_box.high));\n        }\n\n        output() {\n            return this.clone();\n        }\n\n        maximal_val(box1, box2) {\n            // return pt1.lessThan(pt2) ? pt2.clone() : pt1.clone();\n            return box1.merge(box2);\n        }\n\n        val_less_than(pt1, pt2) {\n            return pt1.lessThan(pt2);\n        }\n\n        /**\n         * Set new values to the box object\n         * @param {number} xmin - miminal x coordinate\n         * @param {number} ymin - minimal y coordinate\n         * @param {number} xmax - maximal x coordinate\n         * @param {number} ymax - maximal y coordinate\n         */\n        set(xmin, ymin, xmax, ymax) {\n            this.xmin = xmin;\n            this.ymin = ymin;\n            this.xmax = xmax;\n            this.ymax = ymax;\n        }\n\n        /**\n         * Return string to draw circle in svg\n         * @param {Object} attrs - json structure with attributes of svg rectangle element,\n         * like \"stroke\", \"strokeWidth\", \"fill\" <br/>\n         * Defaults are stroke:\"black\", strokeWidth:\"1\", fill:\"none\"\n         * @returns {string}\n         */\n        svg(attrs = {}) {\n            let {stroke, strokeWidth, fill, id, className} = attrs;\n            // let rest_str = Object.keys(rest).reduce( (acc, key) => acc += ` ${key}=\"${rest[key]}\"`, \"\");\n            let id_str = (id && id.length > 0) ? `id=\"${id}\"` : \"\";\n            let class_str = (className && className.length > 0) ? `class=\"${className}\"` : \"\";\n            let width = this.xmax - this.xmin;\n            let height = this.ymax - this.ymin;\n\n            return `\\n<rect x=\"${this.xmin}\" y=\"${this.ymin}\" width=${width} height=${height} stroke=\"${stroke || \"black\"}\" stroke-width=\"${strokeWidth || 1}\" fill=\"${fill || \"none\"}\" ${id_str} ${class_str} />`;\n        }\n    };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/flatten-js/classes/box.js\n// module id = 83\n// module chunks = 0","/**\n * Created by Alex Bol on 3/6/2017.\n */\n\n\"use strict\";\n\nmodule.exports = function(Flatten) {\n    let {Arc,vector} = Flatten;\n    /**\n     * Class representing a circle\n     * @type {Circle}\n     */\n    Flatten.Circle = class Circle {\n        /**\n         *\n         * @param {Point} pc - circle center point\n         * @param {number} r - circle radius\n         */\n        constructor(pc, r) {\n            /**\n             * Circle center\n             * @type {Point}\n             */\n            this.pc = pc;\n            /**\n             * Circle radius\n             * @type {number}\n             */\n            this.r = r;\n        }\n\n        /**\n         * Method clone returns new instance of a Circle\n         * @returns {Circle}\n         */\n        clone() {\n            return new Flatten.Circle(this.pc.clone(), this.r);\n        }\n\n        /**\n         * Circle center\n         * @returns {Point}\n         */\n        get center() {\n            return this.pc;\n        }\n\n        /**\n         * Circle bounding box\n         * @returns {Box}\n         */\n        get box() {\n            return new Flatten.Box(\n                this.pc.x - this.r,\n                this.pc.y - this.r,\n                this.pc.x + this.r,\n                this.pc.y + this.r\n            );\n        }\n\n        /**\n         * Return true if circle contains point\n         * @param {Point} pt - test point\n         * @returns {boolean}\n         */\n        contains(pt) {\n            return Flatten.Utils.LE(pt.distanceTo(this.center)[0], this.r);\n        }\n\n        /**\n         * Transform circle to closed arc\n         * @param {boolean} counterclockwise\n         * @returns {Arc}\n         */\n        toArc(counterclockwise=true) {\n            return new Flatten.Arc(this.center, this.r, Math.PI, -Math.PI, counterclockwise);\n        }\n\n        /**\n         * Returns array of intersection points between circle and other shape\n         * @param {Shape} shape Shape of the one of supported types Point, Line, Circle, Segment, Arc\n         * @returns {Point[]}\n         */\n        intersect(shape) {\n            if (shape instanceof Flatten.Line) {\n                return shape.intersect(this);\n            }\n\n            if (shape instanceof Flatten.Segment) {\n                return shape.intersect(this);\n            }\n\n            if (shape instanceof Flatten.Circle) {\n                return Circle.intersectCirle2Circle(this, shape);\n            }\n\n            if (shape instanceof Flatten.Arc) {\n                return shape.intersect(this);\n            }\n        }\n\n        /**\n         * Calculate distance and shortest segment from circle to shape and return array [distance, shortest segment]\n         * @param {Shape} shape Shape of the one of supported types Point, Line, Circle, Segment, Arc, Polygon or Planar Set\n         * @returns {number} distance from circle to shape\n         * @returns {Segment} shortest segment between circle and shape (started at circle, ended at shape)\n\n         */\n        distanceTo(shape) {\n            let {Distance} = Flatten;\n            let {point2circle, circle2circle, circle2line, segment2circle, arc2circle} = Distance;\n\n            if (shape instanceof Flatten.Point) {\n                let [distance, shortest_segment] = point2circle(shape, this);\n                shortest_segment = shortest_segment.reverse();\n                return [distance, shortest_segment];\n            }\n\n            if (shape instanceof Flatten.Circle) {\n                let [distance, shortest_segment] = circle2circle(this, shape);\n                return [distance, shortest_segment];\n            }\n\n            if (shape instanceof Flatten.Line) {\n                let [distance, shortest_segment] = circle2line(this, shape);\n                return [distance, shortest_segment];\n            }\n\n            if (shape instanceof Flatten.Segment) {\n                let [distance, shortest_segment] = segment2circle(shape, this);\n                shortest_segment = shortest_segment.reverse();\n                return [distance, shortest_segment];\n            }\n\n            if (shape instanceof Flatten.Arc) {\n                let [distance, shortest_segment] = arc2circle(shape, this);\n                shortest_segment = shortest_segment.reverse();\n                return [distance, shortest_segment];\n            }\n\n            if (shape instanceof Flatten.Polygon) {\n                let [distance, shortest_segment] = Distance.shape2polygon(this, shape);\n                return [distance, shortest_segment];\n            }\n\n            if (shape instanceof Flatten.PlanarSet) {\n                let [dist, shortest_segment] = Distance.shape2planarSet(this, shape);\n                return [dist, shortest_segment];\n            }\n        }\n\n        static intersectCirle2Circle(circle1, circle2) {\n            let ip = [];\n\n            if (circle1.box.notIntersect(circle2.box)) {\n                return ip;\n            }\n\n            let vec = new Flatten.Vector(circle1.pc, circle2.pc);\n\n            let r1 = circle1.r;\n            let r2 = circle2.r;\n\n            // Degenerated circle\n            if (Flatten.Utils.EQ_0(r1) || Flatten.Utils.EQ_0(r2))\n                return ip;\n\n            // In case of equal circles return one leftmost point\n            if (Flatten.Utils.EQ_0(vec.x) && Flatten.Utils.EQ_0(vec.y) && Flatten.Utils.EQ(r1, r2)) {\n                ip.push(circle1.pc.translate(-r1, 0));\n                return ip;\n            }\n\n            let dist = circle1.pc.distanceTo(circle2.pc)[0];\n\n            if (Flatten.Utils.GT(dist, r1 + r2))               // circles too far, no intersections\n                return ip;\n\n            if (Flatten.Utils.LT(dist, Math.abs(r1 - r2)))     // one circle is contained within another, no intersections\n                return ip;\n\n            // Normalize vector.\n            vec.x /= dist;\n            vec.y /= dist;\n\n            let pt;\n\n            // Case of touching from outside or from inside - single intersection point\n            // TODO: check this specifically not sure if correct\n            if (Flatten.Utils.EQ(dist, r1 + r2) || Flatten.Utils.EQ(dist, Math.abs(r1 - r2))) {\n                pt = circle1.pc.translate(r1*vec.x, r1*vec.y);\n                ip.push(pt);\n                return ip;\n            }\n\n            // Case of two intersection points\n\n            // Distance from first center to center of common chord:\n            //   a = (r1^2 - r2^2 + d^2) / 2d\n            // Separate for better accuracy\n            let a = (r1*r1)/(2*dist) - (r2*r2)/(2*dist) + dist/2;\n\n            let mid_pt = circle1.pc.translate(a*vec.x, a*vec.y);\n            let h = Math.sqrt(r1*r1 - a*a);\n            // let norm;\n\n            // norm = vec.rotate90CCW().multiply(h);\n            pt = mid_pt.translate(vec.rotate90CCW().multiply(h));\n            ip.push(pt);\n\n            // norm = vec.rotate90CW();\n            pt = mid_pt.translate(vec.rotate90CW().multiply(h));\n            ip.push(pt);\n\n            return ip;\n        }\n\n        /**\n         * Return string to draw circle in svg\n         * @param {Object} attrs - json structure with attributes of svg circle element,\n         * like \"stroke\", \"strokeWidth\", \"fill\" <br/>\n         * Defaults are stroke:\"black\", strokeWidth:\"1\", fill:\"none\"\n         * @returns {string}\n         */\n        svg(attrs = {}) {\n            let {stroke, strokeWidth, fill, fillOpacity, id, className} = attrs;\n            // let rest_str = Object.keys(rest).reduce( (acc, key) => acc += ` ${key}=\"${rest[key]}\"`, \"\");\n            let id_str = (id && id.length > 0) ? `id=\"${id}\"` : \"\";\n            let class_str = (className && className.length > 0) ? `class=\"${className}\"` : \"\";\n\n            return `\\n<circle cx=\"${this.pc.x}\" cy=\"${this.pc.y}\" r=\"${this.r}\" stroke=\"${stroke || \"black\"}\" stroke-width=\"${strokeWidth || 1}\" fill=\"${fill || \"none\"}\" fill-opacity=\"${fillOpacity || 1.0}\" ${id_str} ${class_str} />`;\n        }\n    };\n\n    /**\n     * Shortcut to create new circle\n     * @param args\n     */\n    Flatten.circle = (...args) => new Flatten.Circle(...args);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/flatten-js/classes/circle.js\n// module id = 84\n// module chunks = 0","/**\n * Created by Alex Bol on 3/17/2017.\n */\n\nmodule.exports = function(Flatten) {\n    /**\n     * Class representing an edge of polygon. Edge shape may be Segment or Arc.\n     * Each edge contains references to the next and previous edges in the face of the polygon.\n     *\n     * @type {Edge}\n     */\n    Flatten.Edge = class Edge {\n        /**\n         * Construct new instance of edge\n         * @param {Shape} shape Shape of type Segment of Arc\n         */\n        constructor(shape) {\n            /**\n             * Shape of the edge: Segment or Arc\n             */\n            this.shape = shape;\n            /**\n             * Pointer to the next edge in the face\n             */\n            this.next;\n            /**\n             * Pointer to the previous edge in the face\n             */\n            this.prev;\n            /**\n             * Pointer to the face containing this edge\n             * @type {Face}\n             */\n            this.face;\n            /**\n             * \"Arc distance\" from the face start\n             * @type {number}\n             */\n            this.arc_length = 0;\n            /**\n             * Start inclusion flag (inside/outside/boundary)\n             * @type {Boolean}\n             */\n            this.bvStart = undefined;\n            /**\n             * End inclusion flag (inside/outside/boundary)\n             * @type {Boolean}\n             */\n            this.bvEnd = undefined;\n            /**\n             * Edge inclusion flag (Flatten.INSIDE, Flatten.OUTSIDE, Flatten.BOUNDARY)\n             * @type {*}\n             */\n            this.bv = undefined;\n            /**\n             * Overlap flag for boundary edge (Flatten.OVERLAP_SAME/Flatten.OVERLAP_OPPOSITE)\n             * @type {*}\n             */\n            this.overlap = undefined;\n        }\n\n        /**\n         * Get edge start point\n         */\n        get start() {\n            return this.shape.start;\n        }\n\n        /**\n         * Get edge end point\n         */\n        get end() {\n            return this.shape.end;\n        }\n\n        /**\n         * Get edge length\n         */\n        get length() {\n            return this.shape.length;\n        }\n\n        /**\n         * Get bounding box of the edge\n         * @returns {Box}\n         */\n        get box() {\n            return this.shape.box;\n        }\n\n        isSegment() {\n            return this.shape instanceof Flatten.Segment;\n        }\n\n        isArc() {\n            return this.shape instanceof Flatten.Arc;\n        }\n        /**\n         * Get middle point of the edge\n         * @returns {Point}\n         */\n        middle() {\n            return this.shape.middle();\n        }\n\n        /**\n         * Returns true if point belongs to the edge, false otherwise\n         * @param {Point} pt - test point\n         */\n        contains(pt) {\n            return this.shape.contains(pt);\n        }\n\n        /**\n         * Set inclusion flag of the edge with respect to another polygon\n         * Inclusion flag is one of Flatten.INSIDE, Flatten.OUTSIDE, Flatten.BOUNDARY\n         * @param polygon\n         */\n        setInclusion(polygon) {\n            if (this.bv !== undefined) return this.bv;\n\n            if (this.bvStart === undefined) {\n                this.bvStart = Flatten.ray_shoot(polygon, this.start);\n            }\n            if (this.bvEnd === undefined) {\n                this.bvEnd = Flatten.ray_shoot(polygon, this.end);\n            }\n            /* At least one end outside - the whole edge outside */\n            if (this.bvStart === Flatten.OUTSIDE || this.bvEnd == Flatten.OUTSIDE) {\n                this.bv = Flatten.OUTSIDE;\n            }\n            /* At least one end inside - the whole edge inside */\n            else if (this.bvStart === Flatten.INSIDE || this.bvEnd == Flatten.INSIDE) {\n                this.bv = Flatten.INSIDE;\n            }\n            /* Both are boundary - check the middle point */\n            else {\n                let bvMiddle = Flatten.ray_shoot(polygon, this.middle());\n                this.bv = bvMiddle;\n            }\n            return this.bv;\n        }\n\n        /**\n         * Set overlapping between two coincident boundary edges\n         * Overlapping flag is one of Flatten.OVERLAP_SAME or Flatten.OVERLAP_OPPOSITE\n         * @param edge\n         */\n        setOverlap(edge) {\n            let flag = undefined;\n            let shape1 = this.shape;\n            let shape2 = edge.shape;\n\n            if (shape1 instanceof Flatten.Segment && shape2 instanceof Flatten.Segment) {\n                if (shape1.start.equalTo(shape2.start) && shape1.end.equalTo(shape2.end)) {\n                    flag = Flatten.OVERLAP_SAME;\n                }\n                else if (shape1.start.equalTo(shape2.end) && shape1.end.equalTo(shape2.start)) {\n                    flag = Flatten.OVERLAP_OPPOSITE;\n                }\n            }\n            else if (shape1 instanceof Flatten.Arc && shape2 instanceof Flatten.Arc) {\n                if (shape1.start.equalTo(shape2.start) && shape1.end.equalTo(shape2.end) && shape1.counterClockwise === shape2.counterClockwise &&\n                    shape1.middle().equalTo(shape2.middle())) {\n                    flag = Flatten.OVERLAP_SAME;\n                }\n                else if (shape1.start.equalTo(shape2.end) && shape1.end.equalTo(shape2.start) && shape1.counterClockwise !== shape2.counterClockwise &&\n                    shape1.middle().equalTo(shape2.middle())) {\n                    flag = Flatten.OVERLAP_OPPOSITE;\n                }\n            }\n            else if (shape1 instanceof Flatten.Segment && shape2 instanceof Flatten.Arc ||\n                shape1 instanceof Flatten.Arc && shape2 instanceof Flatten.Segment) {\n                if (shape1.start.equalTo(shape2.start) && shape1.end.equalTo(shape2.end) && shape1.middle().equalTo(shape2.middle())) {\n                    flag = Flatten.OVERLAP_SAME;\n                }\n                else if (shape1.start.equalTo(shape2.end) && shape1.end.equalTo(shape2.start) && shape1.middle().equalTo(shape2.middle())) {\n                    flag = Flatten.OVERLAP_OPPOSITE;\n                }\n            }\n\n            /* Do not update overlap flag if already set on previous chain */\n            if (this.overlap === undefined) this.overlap = flag;\n            if (edge.overlap === undefined) edge.overlap = flag;\n        }\n\n        svg() {\n            if (this.shape instanceof Flatten.Segment) {\n                return ` L${this.shape.end.x},${this.shape.end.y}`;\n            }\n            else if (this.shape instanceof  Flatten.Arc) {\n                let arc = this.shape;\n                let largeArcFlag;\n                let sweepFlag = arc.counterClockwise ? \"1\" : \"0\";\n\n                // Draw full circe arc as special case: split it into two half-circles\n                if (Flatten.Utils.EQ(arc.sweep, 2*Math.PI)) {\n                    let sign = arc.counterClockwise ? 1 : -1;\n                    let halfArc1 = new Flatten.Arc(arc.pc, arc.r, arc.startAngle, arc.startAngle + sign*Math.PI, arc.counterClockwise);\n                    let halfArc2 = new Flatten.Arc(arc.pc, arc.r, arc.startAngle + sign*Math.PI, arc.endAngle, arc.counterClockwise);\n\n                    largeArcFlag = \"0\";\n\n                    return ` A${halfArc1.r},${halfArc1.r} 0 ${largeArcFlag},${sweepFlag} ${halfArc1.end.x},${halfArc1.end.y}\n                    A${halfArc2.r},${halfArc2.r} 0 ${largeArcFlag},${sweepFlag} ${halfArc2.end.x},${halfArc2.end.y}`\n                }\n                else {\n                    largeArcFlag = arc.sweep <= Math.PI ? \"0\" : \"1\";\n\n                    return ` A${arc.r},${arc.r} 0 ${largeArcFlag},${sweepFlag} ${arc.end.x},${arc.end.y}`;\n                }\n            }\n        }\n\n        toJSON() {\n            let json = this.shape.clone();\n            // json.name = this.shape.constructor.name;          // not pass webpack minification\n            json.name = this.shape instanceof  Flatten.Segment ? \"segment\" : \"arc\";\n            return json;\n        }\n    };\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/flatten-js/classes/edge.js\n// module id = 85\n// module chunks = 0","/**\n * Created by Alex Bol on 3/17/2017.\n */\n\n\"use strict\";\n\nmodule.exports = function (Flatten) {\n    let {Point, Segment, Arc, Box, Edge} = Flatten;\n    /**\n     * Class representing a face (closed loop) in a [polygon]{@link Flatten.Polygon} object.\n     * Face is a circular bidirectional linked list of [edges]{@link Flatten.Edge}.\n     * Face object cannot be instantiated with a constructor.\n     * Instead, use [polygon.addFace()]{@link Flatten.Polygon#addFace} method.\n     * <br/>\n     * Note, that face only set entry point to the linked list of edges but does not contain edges by itself.\n     * Container of edges is a property of the polygon object. <br/>\n     *\n     * @example\n     * // Face implements \"next\" iterator which enables to iterate edges in for loop:\n     * for (let edge of face) {\n     *      console.log(edge.shape.length)     // do something\n     * }\n     *\n     * // Instead, it is possible to iterate edges as linked list, starting from face.first:\n     * let edge = face.first;\n     * do {\n     *   console.log(edge.shape.length);   // do something\n     *   edge = edge.next;\n     * } while (edge != face.first)\n     */\n    Flatten.Face = class Face {\n        constructor(polygon, ...args) {\n            /**\n             * Reference to the first edge in face\n             */\n            this.first;\n            /**\n             * Reference to the last edge in face\n             */\n            this.last;\n\n            this._box = undefined;  // new Box();\n            this._orientation = undefined;\n\n            if (args.length == 0) {\n                return;\n            }\n\n            /* If passed an array it supposed to be:\n             1) array of shapes that performs close loop or\n             2) array of points that performs set of vertices\n             */\n            if (args.length == 1) {\n                if (args[0] instanceof Array) {\n                    // let argsArray = args[0];\n                    let shapes = args[0];  // argsArray[0];\n                    if (shapes.length == 0)\n                        return;\n\n                    if (shapes.every((shape) => {\n                            return shape instanceof Point\n                        })) {\n                        let segments = Face.points2segments(shapes);\n                        this.shapes2face(polygon.edges, segments);\n                    }\n                    else if (shapes.every((shape) => {\n                            return (shape instanceof Segment || shape instanceof Arc)\n                        })) {\n                        this.shapes2face(polygon.edges, shapes);\n                    }\n                    // this is from JSON.parse object\n                    else if (shapes.every((shape) => {\n                            return (shape.name === \"segment\" || shape.name === \"arc\")\n                        })) {\n                        let flattenShapes = [];\n                        for (let shape of shapes) {\n                            let flattenShape;\n                            if (shape.name === \"segment\") {\n                                flattenShape = new Segment(shape.ps.x, shape.ps.y, shape.pe.x, shape.pe.y);\n                            }\n                            else {\n                                flattenShape = new Arc(new Point(shape.pc.x, shape.pc.y),\n                                    shape.r, shape.startAngle, shape.endAngle, shape.counterClockwise);\n                            }\n                            flattenShapes.push(flattenShape);\n                        }\n                        this.shapes2face(polygon.edges, flattenShapes);\n                    }\n                }\n                /* Create new face and copy edges into polygon.edges set */\n                else if (args[0] instanceof Face) {\n                    let face = args[0];\n                    this.first = face.first;\n                    this.last = face.last;\n                    for (let edge of face) {\n                        polygon.edges.add(edge);\n                    }\n                }\n            }\n            /* If passed two edges, consider them as start and end of the face loop */\n            /* THIS METHOD WILL BE USED BY BOOLEAN OPERATIONS */\n            /* Assume that edges already copied to polygon.edges set in the clip algorithm !!! */\n            if (args.length == 2 && args[0] instanceof Edge && args[1] instanceof Edge) {\n                this.first = args[0];                          // first edge in face or undefined\n                this.last = args[1];                           // last edge in face or undefined\n                this.last.next = this.first;\n                this.first.prev = this.last;\n\n                // set arc length\n                this.setArcLength();\n                /*\n                 let edge = this.first;\n                 edge.arc_length = 0;\n                 edge = edge.next;\n                 while (edge !== this.first) {\n                 edge.arc_length = edge.prev.arc_length + edge.prev.length;\n                 edge = edge.next;\n                 }\n                 */\n\n                // this.box = this.getBox();\n                // this.orientation = this.getOrientation();      // face direction cw or ccw\n            }\n        }\n\n        [Symbol.iterator]() {\n            let edge = undefined;\n            return {\n                next: () => {\n                    let value = edge ? edge : this.first;\n                    let done = this.first ? (edge ? edge === this.first : false) : true;\n                    edge = value ? value.next : undefined;\n                    return {value: value, done: done};\n                }\n            };\n        };\n\n        /**\n         * Return array of edges from first to last\n         * @returns {Array}\n         */\n        get edges() {\n            let face_edges = [];\n            for (let edge of this) {\n                face_edges.push(edge);\n            }\n            return face_edges;\n        }\n\n        /**\n         * Return number of edges in the face\n         * @returns {number}\n         */\n        get size() {\n            let counter = 0;\n            for (let edge of this) {\n                counter++;\n            }\n            return counter;\n        }\n\n        /**\n         * Return bounding box of the face\n         * @returns {Box}\n         */\n        get box() {\n            if (this._box === undefined) {\n                let box = new Flatten.Box();\n                for (let edge of this) {\n                    box = box.merge(edge.box);\n                }\n                this._box = box;\n            }\n            return this._box;\n        }\n\n        static points2segments(points) {\n            let segments = [];\n            for (let i = 0; i < points.length; i++) {\n                segments.push(new Segment(points[i], points[(i + 1) % points.length]));\n            }\n            return segments;\n        }\n\n        shapes2face(edges, shapes) {\n            for (let shape of shapes) {\n                let edge = new Edge(shape);\n                this.append(edges, edge);\n                // this.box = this.box.merge(shape.box);\n                // edges.add(edge);\n            }\n            // this.orientation = this.getOrientation();              // face direction cw or ccw\n        }\n\n        /**\n         * Returns true if face is empty, false otherwise\n         * @returns {boolean}\n         */\n        isEmpty() {\n            return (this.first === undefined && this.last === undefined)\n        }\n\n        /**\n         * Append given edge after the last edge (and before the first edge). <br/>\n         * This method mutates current object and does not return any value\n         * @param {PlanarSet} edges - Container of edges\n         * @param {Edge} edge - Edge to be appended to the linked list\n         */\n        append(edges, edge) {\n            if (this.first === undefined) {\n                edge.prev = edge;\n                edge.next = edge;\n                this.first = edge;\n                this.last = edge;\n                edge.arc_length = 0;\n            }\n            else {\n                // append to end\n                edge.prev = this.last;\n                this.last.next = edge;\n\n                // update edge to be last\n                this.last = edge;\n\n                // restore circular links\n                this.last.next = this.first;\n                this.first.prev = this.last;\n\n                // set arc length\n                edge.arc_length = edge.prev.arc_length + edge.prev.length;\n            }\n            edge.face = this;\n\n            edges.add(edge);      // Add new edges into edges container\n        }\n\n        /**\n         * Insert edge newEdge into the linked list after the edge edgeBefore <br/>\n         * This method mutates current object and does not return any value\n         * @param {PlanarSet} edges - Container of edges\n         * @param {Edge} newEdge - Edge to be inserted into linked list\n         * @param {Edge} edgeBefore - Edge to insert newEdge after it\n         */\n        insert(edges, newEdge, edgeBefore) {\n            if (this.first === undefined) {\n                newEdge.prev = newEdge;\n                newEdge.next = newEdge;\n                this.first = newEdge;\n                this.last = newEdge;\n            }\n            else {\n                /* set links to new edge */\n                let edgeAfter = edgeBefore.next;\n                edgeBefore.next = newEdge;\n                edgeAfter.prev = newEdge;\n\n                /* set links from new edge */\n                newEdge.prev = edgeBefore;\n                newEdge.next = edgeAfter;\n\n                /* extend chain if new edge added after last edge */\n                if (this.last === edgeBefore)\n                    this.first = newEdge;\n            }\n            newEdge.face = this;\n\n            // set arc length\n            if (newEdge.prev === this.last) {\n                newEdge.arc_length = 0;\n            }\n            else {\n                newEdge.arc_length = newEdge.prev.arc_length + newEdge.prev.length;\n            }\n\n            edges.add(newEdge);      // Add new edges into edges container\n        }\n\n        /**\n         * Remove the given edge from the linked list of the face <br/>\n         * This method mutates current object and does not return any value\n         * @param {PlanarSet} edges - Container of edges\n         * @param {Edge} edge - Edge to be removed\n         */\n        remove(edges, edge) {\n            // special case if last edge removed\n            if (edge === this.first && edge === this.last) {\n                this.first = undefined;\n                this.last = undefined;\n            }\n            else {\n                // update linked list\n                edge.prev.next = edge.next;\n                edge.next.prev = edge.prev;\n                // update first if need\n                if (edge === this.first) {\n                    this.first = edge.next;\n                }\n                // update last if need\n                if (edge === this.last) {\n                    this.last = edge.prev;\n                }\n            }\n            edges.delete(edge);      // delete from PlanarSet of edges and update index\n        }\n\n        /**\n         * Reverse orientation of the face: first edge become last and vice a verse,\n         * all edges starts and ends swapped, direction of arcs inverted.\n         */\n        reverse() {\n            // collect edges in revert order with reverted shapes\n            let edges = [];\n            let edge_tmp = this.last;\n            do {\n                // reverse shape\n                edge_tmp.shape = edge_tmp.shape.reverse();\n                edges.push(edge_tmp);\n                edge_tmp = edge_tmp.prev;\n            } while (edge_tmp !== this.last);\n\n            // restore linked list\n            this.first = undefined;\n            this.last = undefined;\n            for (let edge of edges) {\n                if (this.first === undefined) {\n                    edge.prev = edge;\n                    edge.next = edge;\n                    this.first = edge;\n                    this.last = edge;\n                    edge.arc_length = 0;\n                }\n                else {\n                    // append to end\n                    edge.prev = this.last;\n                    this.last.next = edge;\n\n                    // update edge to be last\n                    this.last = edge;\n\n                    // restore circular links\n                    this.last.next = this.first;\n                    this.first.prev = this.last;\n\n                    // set arc length\n                    edge.arc_length = edge.prev.arc_length + edge.prev.length;\n                }\n            }\n\n            // Recalculate orientation, if set\n            if (this._orientation !== undefined) {\n                this._orientation = undefined;\n                this._orientation = this.orientation();\n            }\n        }\n\n\n        /**\n         * Set arc_length property for each of the edges in the face.\n         * Arc_length of the edge it the arc length from the first edge of the face\n         */\n        setArcLength() {\n            for (let edge of this) {\n                if (edge === this.first) {\n                    edge.arc_length = 0.0;\n                }\n                else {\n                    edge.arc_length = edge.prev.arc_length + edge.prev.length;\n                }\n                edge.face = this;\n            }\n        }\n\n        /**\n         * Returns the absolute value of the area of the face\n         * @returns {number}\n         */\n        area() {\n            return Math.abs(this.signedArea());\n        }\n\n        /**\n         * Returns signed area of the simple face.\n         * Face is simple if it has no self intersections that change its orientation.\n         * Then the area will be positive if the orientation of the face is clockwise,\n         * and negative if orientation is counterclockwise.\n         * It may be zero if polygon is degenerated.\n         * @returns {number}\n         */\n        signedArea() {\n            let sArea = 0;\n            for (let edge of this) {\n                sArea += edge.shape.definiteIntegral(this.box.ymin);\n            }\n            return sArea;\n        }\n\n        /**\n         * Return face orientation: one of Flatten.ORIENTATION.CCW, Flatten.ORIENTATION.CW, Flatten.ORIENTATION.NOT_ORIENTABLE <br/>\n         * According to Green theorem the area of a closed curve may be calculated as double integral,\n         * and the sign of the integral will be defined by the direction of the curve.\n         * When the integral (\"signed area\") will be negative, direction is counter clockwise,\n         * when positive - clockwise and when it is zero, polygon is not orientable.\n         * See {@link https://mathinsight.org/greens_theorem_find_area}\n         * @returns {number}\n         */\n        orientation() {\n            if (this._orientation === undefined) {\n                let area = this.signedArea();\n                if (Flatten.Utils.EQ_0(area)) {\n                    this._orientation = Flatten.ORIENTATION.NOT_ORIENTABLE;\n                }\n                else if (Flatten.Utils.LT(area, 0)) {\n                    this._orientation = Flatten.ORIENTATION.CCW;\n                }\n                else {\n                    this._orientation = Flatten.ORIENTATION.CW;\n                }\n            }\n            return this._orientation;\n        }\n\n        /**\n         * Check relation between face and other polygon\n         * on strong assumption that they are NOT INTERSECTED <br/>\n         * Then there are 4 options: <br/>\n         * face disjoint to polygon - Flatten.OUTSIDE <br/>\n         * face inside polygon - Flatten.INSIDE <br/>\n         * face contains polygon - Flatten.CONTAIN <br/>\n         * face interlaced with polygon: inside some face and contains other face - Flatten.INTERLACE <br/>\n         * @param {Polygon} polygon - Polygon to check relation\n         */\n        getRelation(polygon) {\n            this.first.bv = this.first.bvStart = this.first.bvEnd = undefined;\n            let bvThisInOther = this.first.setInclusion(polygon);\n            let resp = polygon.faces.search(this.box);\n            if (resp.length === 0) {\n                return bvThisInOther;        // OUTSIDE or INSIDE\n            }\n            else {                           // possible INTERLACE\n                let polyTmp = new Flatten.Polygon();\n                polyTmp.addFace(this);\n\n                let numInsideThis = 0;\n                for (let face of resp) {\n                    face.first.bv = face.first.bvStart = face.first.bvEnd = undefined;\n                    let bvOtherInThis = face.first.setInclusion(polyTmp);\n                    if (bvOtherInThis === Flatten.INSIDE) {\n                        numInsideThis++;\n                    }\n                }\n                if (bvThisInOther === Flatten.OUTSIDE) {\n                    if (numInsideThis === 0) {                   // none inside this - outside\n                        return Flatten.OUTSIDE;\n                    }\n                    else if (numInsideThis === resp.length) {      // all from resp inside this - contains or interlace\n                        if (resp.length === polygon.faces.size) {\n                            return Flatten.CONTAINS;               // all faces from polygon are in response - contains\n                        }\n                        else {\n                            return Flatten.INTERLACE;              // some faces inside - interlace\n                        }\n                    }\n                    else {\n                        return Flatten.INTERLACE;                  // some faces inside - interlace\n                    }\n                }\n                else if (bvThisInOther === Flatten.INSIDE) {\n                    return numInsideThis === 0 ? Flatten.INSIDE : Flatten.INTERLACE;\n                }\n            }\n        }\n\n        /**\n         * Returns true if face of the polygon is simple (no self-intersection points found)\n         * NOTE: this method is incomplete because it doe not exclude touching points\n         * Real self intersection inverts orientation of the polygon.\n         * But this is also good enough for the demonstration of the idea\n         * @param {Edges} edges - reference to polygon.edges to provide search index\n         * @returns {boolean}\n         */\n        isSimple(edges) {\n            let ip = Face.getSelfIntersections(this, edges, true);\n            return ip.length == 0;\n        }\n\n        static getSelfIntersections(face, edges, exitOnFirst = false) {\n            let int_points = [];\n\n            // calculate intersections\n            for (let edge1 of face) {\n\n                // request edges of polygon in the box of edge1\n                let resp = edges.search(edge1.box);\n\n                // for each edge2 in response\n                for (let edge2 of resp) {\n\n                    // Skip itself\n                    if (edge1 === edge2)\n                        continue;\n\n                    // Skip next and previous edge if both are segment (if one of them arc - calc intersection)\n                    if (edge1.shape instanceof Flatten.Segment && edge2.shape instanceof Flatten.Segment &&\n                        (edge1.next === edge2 || edge1.prev === edge2))\n                        continue;\n\n                    // calculate intersections between edge1 and edge2\n                    let ip = edge1.shape.intersect(edge2.shape);\n\n                    // for each intersection point\n                    for (let pt of ip) {\n\n                        // skip start-end connections\n                        if (pt.equalTo(edge1.start) && pt.equalTo(edge2.end) && edge2 === edge1.prev)\n                            continue;\n                        if (pt.equalTo(edge1.end) && pt.equalTo(edge2.start) && edge2 === edge1.next)\n                            continue;\n\n                        int_points.push(pt);\n\n                        if (exitOnFirst)\n                            break;\n                    }\n\n                    if (int_points.length > 0 && exitOnFirst)\n                        break;\n                }\n\n                if (int_points.length > 0 && exitOnFirst)\n                    break;\n\n            }\n            return int_points;\n        }\n\n        toJSON() {\n            return this.edges.map(edge => edge.toJSON());\n        }\n\n        svg() {\n            let svgStr = `\\nM${this.first.start.x},${this.first.start.y}`;\n\n            for (let edge of this) {\n                svgStr += edge.svg();\n            }\n\n            svgStr += ` z`;\n            return svgStr;\n        }\n\n    };\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/flatten-js/classes/face.js\n// module id = 86\n// module chunks = 0","/**\n * Created by Alex Bol on 2/20/2017.\n */\n\"use strict\";\n\nmodule.exports = function(Flatten) {\n    /**\n     * Class representing a line\n     * @type {Line}\n     */\n    Flatten.Line = class Line {\n        /**\n         * Line may be constructed by point and normal vector or by two points that a line passes through\n         * @param {Point} pt - point that a line passes through\n         * @param {Vector|Point} norm - normal vector to a line or second point a line passes through\n         */\n        constructor(...args) {\n            /**\n             * Point a line passes through\n             * @type {Point}\n             */\n            this.pt = new Flatten.Point();\n            /**\n             * Normal unit vector to a line\n             * @type {Vector}\n             */\n            this.norm = new Flatten.Vector(0,1);\n\n            if (args.length == 0) {\n                return;\n            }\n\n            if (args.length == 2) {\n                let a1 = args[0];\n                let a2 = args[1];\n\n                if (a1 instanceof Flatten.Point && a2 instanceof Flatten.Point) {\n                    this.pt = a1;\n                    this.norm = Line.points2norm(a1, a2);\n                    return;\n                }\n\n                if (a1 instanceof Flatten.Point && a2 instanceof Flatten.Vector) {\n                    if (Flatten.Utils.EQ_0(a2.x) && Flatten.Utils.EQ_0(a2.y)) {\n                        throw Flatten.Errors.ILLEGAL_PARAMETERS;\n                    }\n                    this.pt = a1.clone();\n                    this.norm = a2.clone();\n                    return;\n                }\n\n                if (a1 instanceof Flatten.Vector && a2 instanceof Flatten.Point) {\n                    if (Flatten.Utils.EQ_0(a1.x) && Flatten.Utils.EQ_0(a1.y)) {\n                        throw Flatten.Errors.ILLEGAL_PARAMETERS;\n                    }\n                    this.pt = a2.clone();\n                    this.norm = a1.clone();\n                    return;\n                }\n            }\n\n            throw Flatten.Errors.ILLEGAL_PARAMETERS;\n        }\n\n        /**\n         * Returns cloned new instance of a line\n         * @returns {Line}\n         */\n        clone() {\n            return new Flatten.Line(this.pt, this.norm);\n        }\n\n        /**\n         * Slope of the line - angle in radians between line and axe x from 0 to 2PI\n         * @returns {number} - slope of the line\n         */\n        get slope() {\n            let vec = new Flatten.Vector(this.norm.y, -this.norm.x);\n            return vec.slope;\n        }\n\n        /**\n         * Get coefficients [A,B,C] of a standard line equation in the form Ax + By = C\n         * @code [A, B, C] = line.standard\n         * @returns {number[]} - array of coefficients\n         */\n        get standard() {\n            let A = this.norm.x;\n            let B = this.norm.y;\n            let C = this.norm.dot(this.pt);\n\n            return [A,B,C];\n        }\n\n        /**\n         * Return true if parallel or incident to other line\n         * @param {Line} other_line - line to check\n         * @returns {boolean}\n         */\n        parallelTo(other_line) {\n            return Flatten.Utils.EQ_0(this.norm.cross(other_line.norm));\n        }\n\n        /**\n         * Returns true if incident to other line\n         * @param {Line} other_line - line to check\n         * @returns {boolean}\n         */\n        incidentTo(other_line) {\n            return this.parallelTo(other_line) && this.pt.on(other_line);\n        }\n\n        /**\n         * Returns true if point belongs to line\n         * @param {Point} pt Query point\n         * @returns {boolean}\n         */\n        contains(pt) {\n            if (this.pt.equalTo(pt)) {\n                return true;\n            }\n            /* Line contains point if vector to point is orthogonal to the line normal vector */\n            let vec = new Flatten.Vector(this.pt, pt);\n            return Flatten.Utils.EQ_0(this.norm.dot(vec));\n        }\n\n        /**\n         * Returns array of intersection points\n         * @param {Shape} shape - shape to intersect with of the type Line, Circle, Segment, Arc\n         * @returns {Point[]}\n         */\n        intersect(shape) {\n            if (shape instanceof Flatten.Line) {\n                return Line.intersectLine2Line(this, shape);\n            }\n\n            if (shape instanceof Flatten.Circle) {\n                return Line.intersectLine2Circle(this, shape);\n            }\n\n            if (shape instanceof Flatten.Segment) {\n                return shape.intersect(this);\n            }\n\n            if (shape instanceof Flatten.Arc) {\n                return Line.intersectLine2Arc(this, shape);\n            }\n        }\n\n        /**\n         * Calculate distance and shortest segment from line to shape and returns array [distance, shortest_segment]\n         * @param {Shape} shape Shape of the one of the types Point, Circle, Segment, Arc, Polygon\n         * @returns {Number}\n         * @returns {Segment}\n         */\n        distanceTo(shape) {\n            let {Distance} = Flatten;\n\n            if (shape instanceof Flatten.Point) {\n                let [distance, shortest_segment] = Distance.point2line(shape, this);\n                shortest_segment = shortest_segment.reverse();\n                return [distance, shortest_segment];\n            }\n\n            if (shape instanceof Flatten.Circle) {\n                let [distance, shortest_segment] = Distance.circle2line(shape, this);\n                shortest_segment = shortest_segment.reverse();\n                return [distance, shortest_segment];\n            }\n\n            if (shape instanceof Flatten.Segment) {\n                let [distance, shortest_segment] = Distance.segment2line(shape, this);\n                return [distance, shortest_segment.reverse()];\n            }\n\n            if (shape instanceof Flatten.Arc) {\n                let [distance, shortest_segment] = Distance.arc2line(shape, this);\n                return [distance, shortest_segment.reverse()];\n            }\n\n            if (shape instanceof Flatten.Polygon) {\n                let [distance, shortest_segment] = Distance.shape2polygon(this, shape);\n                return [distance, shortest_segment];\n            }\n        }\n\n        /**\n         * Return string to draw svg segment representing line inside given box\n         * @param {Box} box Box representing drawing area\n         * @param {Object} attrs - json structure with attributes of svg circle element\n         */\n        svg(box, attrs = {}) {\n            let ip = Line.intersectLine2Box(this, box);\n            if (ip.length === 0)\n                return \"\";\n            let ps = ip[0];\n            let pe = ip.length == 2 ? ip[1] : ip.find( pt => !pt.equalTo(ps) );\n            if (pe === undefined) pe = ps;\n            let segment = new Flatten.Segment(ps, pe);\n            return segment.svg(attrs);\n        }\n\n        static points2norm(pt1, pt2) {\n            if (pt1.equalTo(pt2)) {\n                throw Flatten.Errors.ILLEGAL_PARAMETERS;\n            }\n            let vec = new Flatten.Vector(pt1, pt2);\n            let unit = vec.normalize();\n            return unit.rotate90CCW();\n        }\n\n        static intersectLine2Line(line1, line2) {\n            let ip = [];\n\n            let [A1, B1, C1] = line1.standard;\n            let [A2, B2, C2] = line2.standard;\n\n            /* Cramer's rule */\n            let det = A1*B2 - B1*A2;\n            let detX = C1*B2 - B1*C2;\n            let detY = A1*C2 - C1*A2;\n\n            if (!Flatten.Utils.EQ_0(det)) {\n                let new_ip = new Flatten.Point( detX/det, detY/det );\n                ip.push(new_ip);\n            }\n            return ip;\n        }\n\n        static intersectLine2Circle(line, circle) {\n            let ip = [];\n            let prj = circle.pc.projectionOn(line);            // projection of circle center on line\n            let dist = circle.pc.distanceTo(prj)[0];              // distance from circle center to projection\n\n            if (Flatten.Utils.EQ(dist, circle.r)) {            // line tangent to circle - return single intersection point\n                ip.push(prj);\n            }\n            else if (Flatten.Utils.LT(dist, circle.r)) {       // return two intersection points\n                var delta = Math.sqrt(circle.r*circle.r - dist*dist);\n                var v_trans, pt;\n\n                v_trans = line.norm.rotate90CCW().multiply(delta);\n                pt = prj.translate(v_trans);\n                ip.push(pt);\n\n                v_trans = line.norm.rotate90CW().multiply(delta);\n                pt = prj.translate(v_trans);\n                ip.push(pt);\n            }\n            return ip;\n        }\n\n        static intersectLine2Box(line, box) {\n            let pts = [\n                new Flatten.Point(box.xmin, box.ymin),\n                new Flatten.Point(box.xmax, box.ymin),\n                new Flatten.Point(box.xmax, box.ymax),\n                new Flatten.Point(box.xmin, box.ymax)\n            ];\n            let segs = [\n                new Flatten.Segment(pts[0], pts[1]),\n                new Flatten.Segment(pts[1], pts[2]),\n                new Flatten.Segment(pts[2], pts[3]),\n                new Flatten.Segment(pts[3], pts[0])\n            ];\n\n            let ips =  [];\n\n            for(let seg of segs) {\n                let ips_tmp = seg.intersect(line);\n                for (let ip of ips_tmp) {\n                    ips.push(ip);\n                }\n            };\n            return ips;\n        }\n\n        static intersectLine2Arc(line, arc) {\n            let ip = [];\n\n            if (Line.intersectLine2Box(line, arc.box).length == 0) {\n                return ip;\n            }\n\n            let circle = new Flatten.Circle(arc.pc, arc.r);\n            let ip_tmp = line.intersect(circle);\n            for (let pt of ip_tmp) {\n                if (pt.on(arc)) {\n                    ip.push(pt);\n                }\n            }\n\n            return ip;\n        }\n    };\n\n    /**\n     * Function to create line equivalent to \"new\" constructor\n     * @param args\n     */\n    Flatten.line = (...args) => new Flatten.Line(...args);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/flatten-js/classes/line.js\n// module id = 87\n// module chunks = 0","\"use strict\";\n\nmodule.exports = function(Flatten) {\n    /**\n     * Class representing an affine transformation 3x3 matrix:\n     * <pre>\n     *      [ a  c  tx\n     * A =    b  d  ty\n     *        0  0  1  ]\n     * </pre\n     * @type {Matrix}\n     */\n    Flatten.Matrix = class Matrix {\n        /**\n         * Construct new instance of affine transformation matrix <br/>\n         * If parameters omitted, construct identity matrix a = 1, d = 1\n         * @param {number} a - position(0,0)   sx*cos(alpha)\n         * @param {number} b - position (0,1)  sx*sin(alpha)\n         * @param {number} c - position (1,0)  -sy*sin(alpha)\n         * @param {number} d - position (1,1)  sy*cos(alpha)\n         * @param {number} tx - position (2,0) translation by x\n         * @param {number} ty - position (2,1) translation by y\n         */\n        constructor(a=1,b=0,c=0,d=1,tx=0,ty=0) {\n            this.a = a;\n            this.b = b;\n            this.c = c;\n            this.d = d;\n            this.tx = tx;\n            this.ty = ty;\n        }\n\n        /**\n         * Returns a clone of the Matrix instance.\n         * @return {Matrix}\n         **/\n        clone() {\n            return new Matrix(this.a, this.b, this.c, this.d, this.tx, this.ty);\n        };\n\n        /**\n         * Transform vector [x,y] using transformation matrix. <br/>\n         * Vector [x,y] is an abstract array[2] of numbers and not a FlattenJS object <br/>\n         * The result is also an abstract vector [x',y'] = A * [x,y]:\n         * <code>\n         * [x'       [ ax + by + tx\n         *  y'   =     cx + dy + ty\n         *  1]                    1 ]\n         * </code>\n         * @param {number[]} vector - array[2] of numbers\n         * @returns {number[]} transformation result - array[2] of numbers\n         */\n        transform(vector) {\n            return [\n                vector[0]*this.a+vector[1]*this.c+this.tx,\n                vector[0]*this.b+vector[1]*this.d+this.ty\n            ]\n        };\n\n        /**\n         * Returns result of multiplication of this matrix by other matrix\n         * @param {Matrix} other_matrix - matrix to multiply by\n         * @returns {Matrix}\n         */\n        multiply(other_matrix) {\n            return new Matrix(\n                this.a*other_matrix.a + this.c*other_matrix.b,\n                this.b*other_matrix.a + this.d*other_matrix.b,\n                this.a*other_matrix.c + this.c*other_matrix.d,\n                this.b*other_matrix.c + this.d*other_matrix.d,\n                this.a*other_matrix.tx + this.c*other_matrix.ty + this.tx,\n                this.b*other_matrix.tx + this.d*other_matrix.ty + this.ty\n            )\n        };\n\n        /**\n         * Return new matrix as a result of multiplication of the current matrix\n         * by the matrix(1,0,0,1,tx,ty)\n         * @param {number} tx - translation by x\n         * @param {number} ty - translation by y\n         * @returns {Matrix}\n         */\n        translate(tx, ty) {\n            return this.multiply(new Matrix(1,0,0,1,tx,ty))\n        };\n\n        /**\n         * Return new matrix as a result of multiplication of the current matrix\n         * by the matrix that defines rotation by given angle (in radians) around\n         * point (0,0) in counter clockwise direction\n         * @param angle\n         * @returns {Matrix}\n         */\n        rotate(angle) {\n            let cos = Math.cos(angle);\n            let sin = Math.sin(angle);\n            return this.multiply(new Matrix(cos,sin,-sin,cos,0,0));\n        };\n\n        /**\n         * Return new matrix as result of mutiplication of the current matrix\n         * by the matrix (sx,0,0,sy,0,0) that defines scaling\n         * @param sx\n         * @param sy\n         * @returns {Matrix}\n         */\n        scale(sx, sy) {\n            return this.multiply(new Matrix(sx,0,0,sy,0,0));\n        };\n\n        /**\n         * Returns true if two matrix are equal parameter by parameter\n         * @param {Matrix} matrix - other matrix\n         * @returns {boolean} true if equal, false otherwise\n         */\n        equalTo(matrix) {\n            if (!Flatten.Utils.EQ(this.tx, matrix.tx)) return false;\n            if (!Flatten.Utils.EQ(this.ty, matrix.ty)) return false;\n            if (!Flatten.Utils.EQ(this.a, matrix.a)) return false;\n            if (!Flatten.Utils.EQ(this.b, matrix.b)) return false;\n            if (!Flatten.Utils.EQ(this.c, matrix.c)) return false;\n            if (!Flatten.Utils.EQ(this.d, matrix.d)) return false;\n            return true;\n        };\n    };\n\n    /**\n     * Function to create matrix equivalent to \"new\" constructor\n     * @param args\n     */\n    Flatten.matrix = (...args) => new Flatten.Matrix(...args);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/flatten-js/classes/matrix.js\n// module id = 88\n// module chunks = 0","/**\n * Created by Alex Bol on 2/18/2017.\n */\n\n/**\n *\n * @param Flatten\n */\nmodule.exports = function(Flatten) {\n    /**\n     *\n     * Class representing a point\n     * @type {Point}\n     */\n    Flatten.Point = class Point {\n        /**\n         *\n         * @param {number} x - x-coordinate (float number)\n         * @param {number} y - y-coordinate (float number)\n         */\n        constructor(x = 0, y = 0) {\n            /**\n             * x-coordinate (float number)\n             * @type {number}\n             */\n            this.x = Number.isNaN(x) ? 0 : x;\n            /**\n             * y-coordinate (float number)\n             * @type {number}\n             */\n            this.y = Number.isNaN(y) ? 0: y;\n        }\n\n        /**\n         * Returns bounding box of a point\n         * @returns {Box}\n         */\n        get box() {\n            return new Flatten.Box(this.x, this.y, this.x, this.y);\n        }\n\n        /**\n         * Method clone returns new copied instance of point\n         * @returns {Point}\n         */\n        clone() {\n            return new Flatten.Point(this.x, this.y);\n        }\n\n        get vertices() {\n            return [this.clone()];\n        }\n\n        /**\n         * Returns true if points are equal up to [Flatten.Utils.DP_TOL]{@link DP_TOL} tolerance\n         * @param {Point} pt Query point\n         * @returns {boolean}\n         */\n        equalTo(pt) {\n            return Flatten.Utils.EQ(this.x, pt.x) && Flatten.Utils.EQ(this.y, pt.y);\n        }\n\n        /**\n         * Defines predicate \"less than\" between points. Returns true if the point is less than query points, false otherwise <br/>\n         * By definition point1 < point2 if {point1.y < point2.y || point1.y == point2.y && point1.x < point2.y <br/>\n         * Numeric values compared with [Flatten.Utils.DP_TOL]{@link DP_TOL} tolerance\n         * @param {Point} pt Query point\n         * @returns {boolean}\n         */\n        lessThan(pt) {\n            if (Flatten.Utils.LT(this.y, pt.y))\n                return true;\n            if (Flatten.Utils.EQ(this.y, pt.y) && Flatten.Utils.LT(this.x, pt.x))\n                return true;\n            return false;\n        }\n\n        /**\n         * Returns new point rotated by given angle around given center point.\n         * If center point is omitted, rotates around zero point (0,0).\n         * Positive value of angle defines rotation in counter clockwise direction,\n         * negative angle defines rotation in clockwise clockwise direction\n         * @param {number} angle - angle in radians\n         * @param {Point} [center=(0,0)] center\n         * @returns {Point}\n         */\n        rotate(angle, center = {x:0, y:0}) {\n            var x_rot = center.x + (this.x - center.x) * Math.cos(angle) - (this.y - center.y) * Math.sin(angle);\n            var y_rot = center.y + (this.x - center.x) * Math.sin(angle) + (this.y - center.y) * Math.cos(angle);\n\n            return new Flatten.Point(x_rot, y_rot);\n        }\n\n        /**\n         * Returns new point translated by given vector.\n         * Translation vector may by also defined by a pair of numbers.\n         * @param {Vector} vector - Translation vector defined as Flatten.Vector or\n         * @param {number|number} - Translation vector defined as pair of numbers\n         * @returns {Point}\n         */\n        translate(...args) {\n            if (args.length == 1 && (args[0] instanceof Flatten.Vector)) {\n                return new Flatten.Point(this.x + args[0].x, this.y + args[0].y);\n            }\n\n            if (args.length == 2 && typeof(args[0]) == \"number\" && typeof(args[1]) == \"number\") {\n                return new Flatten.Point(this.x + args[0], this.y + args[1]);\n            }\n\n            throw Flatten.Errors.ILLEGAL_PARAMETERS;\n        }\n\n        /**\n         * Return new point transformed by affine transformation matrix m\n         * @param {Matrix} m - affine transformation matrix (a,b,c,d,tx,ty)\n         * @returns {Point}\n         */\n        transform(m) {\n            let [x,y] = m.transform([this.x,this.y]);\n            return new Flatten.Point(x,y)\n        }\n\n        /**\n         * Returns projection point on given line\n         * @param {Line} line Line this point be projected on\n         * @returns {Point}\n         */\n        projectionOn(line) {\n            if (this.equalTo(line.pt))                   // this point equal to line anchor point\n                return this.clone();\n\n            let vec = new Flatten.Vector(this, line.pt);\n            if (Flatten.Utils.EQ_0(vec.cross(line.norm)))    // vector to point from anchor point collinear to normal vector\n                return line.pt.clone();\n\n            let dist = vec.dot(line.norm);             // signed distance\n            let proj_vec = line.norm.multiply(dist);\n            return this.translate(proj_vec);\n        }\n\n        /**\n         * Returns true if point belongs to the \"left\" semi-plane, which means, point belongs to the same semi plane where line normal vector points to\n         * Return false if point belongs to the \"right\" semi-plane or to the line itself\n         * @param {Line} line Query line\n         * @returns {boolean}\n         */\n        leftTo(line) {\n            let vec = new Flatten.Vector(line.pt, this);\n            let onLeftSemiPlane = Flatten.Utils.GT(vec.dot(line.norm), 0);\n            return onLeftSemiPlane;\n        }\n\n        /**\n         * Calculate distance and shortest segment from point to shape and return as array [distance, shortest segment]\n         * @param {Shape} shape Shape of the one of supported types Point, Line, Circle, Segment, Arc, Polygon or Planar Set\n         * @returns {number} distance from point to shape\n         * @returns {Segment} shortest segment between point and shape (started at point, ended at shape)\n         */\n        distanceTo(shape) {\n            let {Distance} = Flatten;\n\n            if (shape instanceof Point) {\n                let dx = shape.x - this.x;\n                let dy = shape.y - this.y;\n                return [Math.sqrt(dx*dx + dy*dy), new Flatten.Segment(this, shape)];\n            }\n\n            if (shape instanceof Flatten.Line) {\n                return Distance.point2line(this, shape);\n            }\n\n            if (shape instanceof Flatten.Circle) {\n                return Distance.point2circle(this, shape);\n            }\n\n            if (shape instanceof Flatten.Segment) {\n                return Distance.point2segment(this, shape);\n            }\n\n            if (shape instanceof Flatten.Arc) {\n                // let [dist, ...rest] = Distance.point2arc(this, shape);\n                // return dist;\n                return Distance.point2arc(this, shape);\n            }\n\n            if (shape instanceof Flatten.Polygon) {\n                // let [dist, ...rest] = Distance.point2polygon(this, shape);\n                // return dist;\n                return Distance.point2polygon(this, shape);\n            }\n\n            if (shape instanceof Flatten.PlanarSet) {\n                return Distance.shape2planarSet(this, shape);\n            }\n        }\n\n        /**\n         * Returns true if point is on a shape, false otherwise\n         * @param {Shape} shape Shape of the one of supported types Point, Line, Circle, Segment, Arc, Polygon\n         * @returns {boolean}\n         */\n        on(shape) {\n            if (shape instanceof Flatten.Point) {\n                return this.equalTo(shape);\n            }\n\n            if (shape instanceof Flatten.Line) {\n                return shape.contains(this);\n            }\n\n            if (shape instanceof Flatten.Circle) {\n                return shape.contains(this);\n            }\n\n            if (shape instanceof  Flatten.Segment) {\n                return shape.contains(this);\n            }\n\n            if (shape instanceof Flatten.Arc) {\n                return shape.contains(this);\n            }\n\n            if (shape instanceof Flatten.Polygon) {\n                return shape.contains(this);\n            }\n        }\n\n        /**\n         * Return string to draw point in svg as circle with radius \"r\" <br/>\n         * Accept any valid attributes of svg elements as svg object\n         * Defaults attribues are: <br/>\n         * {\n         *    r:\"3\",\n         *    stroke:\"black\",\n         *    strokeWidth:\"1\",\n         *    fill:\"red\"\n         * }\n         * @param {Object} attrs - Any valid attributes of svg circle element, like \"r\", \"stroke\", \"strokeWidth\", \"fill\"\n         * @returns {String}\n         */\n        svg(attrs = {}) {\n            let {r, stroke, strokeWidth, fill, id, className} = attrs;\n            // let rest_str = Object.keys(rest).reduce( (acc, key) => acc += ` ${key}=\"${rest[key]}\"`, \"\");\n            let id_str = (id && id.length > 0) ? `id=\"${id}\"` : \"\";\n            let class_str = (className && className.length > 0) ? `class=\"${className}\"` : \"\";\n            return `\\n<circle cx=\"${this.x}\" cy=\"${this.y}\" r=\"${r || 3}\" stroke=\"${stroke || \"black\"}\" stroke-width=\"${strokeWidth || 1}\" fill=\"${fill || \"red\"}\" ${id_str} ${class_str} />`;\n        }\n\n    };\n\n    /**\n     * Function to create point equivalent to \"new\" constructor\n     * @param args\n     */\n    Flatten.point = (...args) => new Flatten.Point(...args);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/flatten-js/classes/point.js\n// module id = 89\n// module chunks = 0","/**\n * Created by Alex Bol on 3/15/2017.\n */\n\n\"use strict\";\n\nmodule.exports = function(Flatten) {\n    let {Edge, Face, PlanarSet, Box} = Flatten;\n    let {ray_shoot} = Flatten;\n    /**\n     * Class representing a polygon.<br/>\n     * Polygon in FlattenJS is a multipolygon comprised from a set of [faces]{@link Flatten.Face}. <br/>\n     * Face, in turn, is a closed loop of [edges]{@link Flatten.Edge}, where edge may be segment or circular arc<br/>\n     * @type {Polygon}\n     */\n    Flatten.Polygon = class Polygon {\n        /**\n         * Constructor creates new instance of polygon.<br/>\n         * New polygon is empty. Add face to the polygon using method <br/>\n         * <code>\n         *     polygon.addFace(Points[]|Segments[]|Arcs[])\n         * </code>\n         */\n        constructor() {\n            /**\n             * Container of faces (closed loops), may be empty\n             * @type {PlanarSet}\n             */\n            this.faces = new PlanarSet();\n            /**\n             * Container of edges\n             * @type {PlanarSet}\n             */\n            this.edges = new PlanarSet();\n        }\n\n        /**\n         * (Getter) Returns bounding box of the polygon\n         * @returns {Box}\n         */\n        get box() {\n            return [...this.faces].reduce( (acc, face) => acc.merge(face.box), new Box() );\n        }\n\n        /**\n         * (Getter) Returns array of vertices\n         * @returns {Array}\n         */\n        get vertices() {\n            return [...this.edges].map( edge => edge.start);\n        }\n\n        /**\n         * Add new face to polygon. Returns added face\n         * @param {Points[]|Segments[]|Arcs[]} args - list of points or list of shapes (segments and arcs)\n         * which comprise a closed loop\n         * @returns {Face}\n         */\n        addFace(...args) {\n            let face = new Face(this, ...args);\n            this.faces.add(face);\n            return face;\n        }\n\n        /**\n         * Delete existing face from polygon\n         * @param {Face} face Face to be deleted\n         * @returns {boolean}\n         */\n        deleteFace(face) {\n            for (let edge of face) {\n                let deleted = this.edges.delete(edge);\n            }\n            let deleted = this.faces.delete(face);\n            return deleted;\n        }\n\n        /**\n         * Delete chain of edges from the face.\n         * @param {Face} face Face to remove chain\n         * @param {Edge} edgeFrom Start of the chain of edges to be removed\n         * @param {Edge} edgeTo End of the chain of edges to be removed\n         */\n        removeChain(face, edgeFrom, edgeTo) {\n            // Special case: all edges removed\n            if (edgeTo.next === edgeFrom) {\n                this.deleteFace(face);\n                return;\n            }\n            for (let edge = edgeFrom; edge !== edgeTo.next; edge = edge.next ) {\n                face.remove(this.edges, edge);\n                // this.edges.delete(edge);      // delete from PlanarSet of edges and update index\n                if (face.isEmpty()) {\n                    this.deleteFace(face);    // delete from PlanarSet of faces and update index\n                    break;\n                }\n            }\n        }\n\n        /**\n         * Add point as a new vertex and split edge. Point supposed to belong to an edge.\n         * When edge is split, new edge created from the start of the edge to the new vertex\n         * and inserted before current edge.\n         * Current edge is trimmed and updated. Method returns new edge added.\n         * @param {Edge} edge Edge to be split with new vertex and then trimmed from start\n         * @param {Point} pt Point to be added as a new vertex\n         * @returns {Edge}\n         */\n        addVertex(pt, edge) {\n            let shapes = edge.shape.split(pt);\n            if (shapes.length < 2) return;\n            let newEdge = new Flatten.Edge(shapes[0]);\n            let edgeBefore = edge.prev;\n\n            /* Insert first split edge into linked list after edgeBefore */\n            edge.face.insert(this.edges, newEdge, edgeBefore);\n\n            // Remove old edge from edges container and 2d index\n            this.edges.delete(edge);\n\n            // Update edge shape with second split edge keeping links\n            edge.shape = shapes[1];\n\n            // Add updated edge to the edges container and 2d index\n            this.edges.add(edge);\n\n            return newEdge;\n        }\n\n        reverse() {\n            for (let face of this.faces) {\n                face.reverse();\n            }\n            return this;\n        }\n\n        /**\n         * Create new copied instance of the polygon\n         * @returns {Polygon}\n         */\n        clone() {\n            let polygon = new Polygon();\n            for (let face of this.faces) {\n                let shapes = [];\n                for (let edge of face) {\n                    shapes.push(edge.shape.clone());\n                }\n                polygon.addFace(shapes);\n            }\n            return polygon;\n        }\n\n        /**\n         * Returns area of the polygon. Area of an island will be added, area of a hole will be subtracted\n         * @returns {number}\n         */\n        area() {\n            let signedArea = [...this.faces].reduce((acc,face) => acc + face.signedArea(), 0);\n            return Math.abs(signedArea);\n        }\n\n        /**\n         * Returns true if polygon contains point, including polygon boundary, false otherwise\n         * Point in polygon test based on ray shooting algorithm\n         * @param {Point} point - test point\n         * @returns {boolean}\n         */\n        contains(point) {\n            let rel = ray_shoot(this, point);\n            return (rel == Flatten.INSIDE || rel == Flatten.BOUNDARY) ? true : false;\n        }\n\n        /**\n         * Return distance and shortest segment between polygon and other shape as array [distance, shortest_segment]\n         * @param {Shape} shape Shape of one of the types Point, Circle, Line, Segment, Arc or Polygon\n         * @returns {Number | Segment}\n         */\n        distanceTo(shape) {\n            let {Distance} = Flatten;\n\n            if (shape instanceof Flatten.Point) {\n                let [dist, shortest_segment] = Distance.point2polygon(shape, this);\n                shortest_segment = shortest_segment.reverse();\n                return [dist, shortest_segment];\n            }\n\n            if (shape instanceof Flatten.Circle ||\n            shape instanceof Flatten.Line ||\n            shape instanceof Flatten.Segment ||\n            shape instanceof Flatten.Arc) {\n                let [dist, shortest_segment] = Distance.shape2polygon(shape, this);\n                shortest_segment = shortest_segment.reverse();\n                return [dist, shortest_segment];\n            }\n\n            /* this method is bit faster */\n            if (shape instanceof  Flatten.Polygon) {\n                let min_dist_and_segment = [Number.POSITIVE_INFINITY, new Flatten.Segment()];\n                let dist, shortest_segment;\n\n                for (let edge of this.edges) {\n                    // let [dist, shortest_segment] = Distance.shape2polygon(edge.shape, shape);\n                    let min_stop = min_dist_and_segment[0];\n                    [dist, shortest_segment] = Distance.shape2planarSet(edge.shape, shape.edges, min_stop);\n                    if (Flatten.Utils.LT(dist, min_stop)) {\n                        min_dist_and_segment = [dist, shortest_segment];\n                    }\n                }\n                return min_dist_and_segment;\n            }\n        }\n\n        /**\n         * Return true if polygon is valid for boolean operations\n         * Polygon is valid if <br/>\n         * 1. All faces are simple polygons (there are no self-intersected polygons) <br/>\n         * 2. All faces are orientable and there is no island inside island or hole inside hole - TODO <br/>\n         * 3. There is no intersections between faces (excluding touching) - TODO <br/>\n         * @returns {boolean}\n         */\n        isValid() {\n            let valid = true;\n            // 1. Polygon is invalid if at least one face is not simple\n            for (let face of this.faces) {\n                if (!face.isSimple(this.edges)) {\n                    valid = false;\n                    break;\n                }\n            }\n            // 2. TODO: check if no island inside island and no hole inside hole\n            // 3. TODO: check the there is no intersection between faces\n            return valid;\n        }\n\n        /**\n         * Returns new polygon translated by vector vec\n         * @param {Vector} vec\n         * @returns {Polygon}\n         */\n        translate(vec) {\n            let newPolygon = new Polygon();\n            for (let face of this.faces) {\n                let shapes = [];\n                for (let edge of face) {\n                    shapes.push(edge.shape.translate(vec));\n                }\n                newPolygon.addFace(shapes);\n            }\n            return newPolygon;\n        }\n\n        /**\n         * Return new polygon rotated by given angle around given point\n         * If point omitted, rotate around origin (0,0)\n         * Positive value of angle defines rotation counter clockwise, negative - clockwise\n         * @param {number} angle - rotation angle in radians\n         * @param {Point} center - rotation center, default is (0,0)\n         * @returns {Polygon} - new rotated polygon\n         */\n        rotate(angle=0, center=new Flatten.Point()) {\n            let newPolygon = new Polygon();\n            for (let face of this.faces) {\n                let shapes = [];\n                for (let edge of face) {\n                    shapes.push(edge.shape.rotate(angle, center));\n                }\n                newPolygon.addFace(shapes);\n            }\n            return newPolygon;\n        }\n\n        /**\n         * Return new polygon transformed using affine transformation matrix\n         * @param {Matrix} matrix - affine transformation matrix\n         * @returns {Polygon} - new polygon\n         */\n        transform(matrix = new Flatten.Matrix()) {\n            let newPolygon = new Polygon();\n            for (let face of this.faces) {\n                let shapes = [];\n                for (let edge of face) {\n                    shapes.push(edge.shape.transform(matrix));\n                }\n                newPolygon.addFace(shapes);\n            }\n            return newPolygon;\n        }\n\n        /**\n         * Return string to draw polygon in svg\n         * @param attrs  - json structure with attributes for svg path element,\n         * like \"stroke\", \"strokeWidth\", \"fill\", \"fillRule\"\n         * Defaults are stroke:\"black\", strokeWidth:\"1\", fill:\"lightcyan\", fillRule:\"evenodd\"\n         * @returns {string}\n         */\n        svg(attrs = {}) {\n            let {stroke, strokeWidth, fill, fillRule, fillOpacity, id, className} = attrs;\n            // let restStr = Object.keys(rest).reduce( (acc, key) => acc += ` ${key}=\"${rest[key]}\"`, \"\");\n            let id_str = (id && id.length > 0) ? `id=\"${id}\"` : \"\";\n            let class_str = (className && className.length > 0) ? `class=\"${className}\"` : \"\";\n\n            let svgStr = `\\n<path stroke=\"${stroke || \"black\"}\" stroke-width=\"${strokeWidth || 1}\" fill=\"${fill || \"lightcyan\"}\" fill-rule=\"${fillRule || \"evenodd\"}\" fill-opacity=\"${fillOpacity || 1.0}\" ${id_str} ${class_str} d=\"`;\n            for (let face of this.faces) {\n                svgStr += face.svg();\n            }\n            svgStr += `\" >\\n</path>`;\n\n            return svgStr;\n        }\n\n        toJSON() {\n            return [...this.faces].map(face => face.toJSON());\n        }\n    }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/flatten-js/classes/polygon.js\n// module id = 90\n// module chunks = 0","\"use strict\";\n\nmodule.exports = function(Flatten) {\n    let {Point, Segment, Line, Circle, Arc, Box, Vector} = Flatten;\n    /**\n     * Class representing a horizontal ray, used by ray shooting algorithm\n     * @type {Ray}\n     */\n    Flatten.Ray = class Ray {\n        /**\n         * Construct ray by setting start point\n         * @param {Point} pt - start point\n         */\n        constructor(...args) {\n            this.pt = new Point();\n\n            if (args.length == 0) {\n                return;\n            }\n\n            if (args.length == 1 && args[0] instanceof Point) {\n                this.pt = args[0].clone();\n                return;\n            }\n\n            if (args.length == 2 && typeof(args[0]) == \"number\" && typeof(args[1]) == \"number\") {\n                this.pt = new Point(args[0], args[1]);\n                return;\n            }\n\n            throw Flatten.Errors.ILLEGAL_PARAMETERS;\n        }\n\n        /**\n         * Returns copied instance of the ray object\n         * @returns {Ray}\n         */\n        clone() {\n            return new Ray(this.pt);\n        }\n\n        /**\n         * Returns half-infinite bounding box of the ray\n         * @returns {Box} - bounding box\n         */\n        get box() {\n            return new Box(\n                this.pt.x,\n                this.pt.y,\n                Number.POSITIVE_INFINITY,\n                this.pt.y\n            )\n        }\n\n        /**\n         * Return ray start point\n         * @returns {Point} - ray start point\n         */\n        get start() {\n            return this.pt;\n        }\n\n        /**\n         * Return ray normal vector (0,1) - horizontal ray\n         * @returns {Vector} - ray normal vector\n         */\n        get norm() {\n            return new Vector(0,1);\n        }\n\n        /**\n         * Returns array of intersection points between ray and segment or arc\n         * @param {Segment|Arc} - Shape to intersect with ray\n         * @returns {Array} array of intersection points\n         */\n        intersect(shape) {\n            if (shape instanceof Segment) {\n                return this.intersectRay2Segment(this, shape);\n            }\n\n            if (shape instanceof Arc) {\n                return this.intersectRay2Arc(this, shape);\n            }\n        }\n\n        intersectRay2Segment(ray, segment) {\n            let ip = [];\n\n            if (ray.box.notIntersect(segment.box)) {\n                return ip;\n            }\n\n            let line = new Line(ray.start, ray.norm);\n            let ip_tmp = line.intersect(segment);\n\n            for (let pt of ip_tmp) {\n                if (Flatten.Utils.GE(pt.x, ray.start.x)) {\n                    ip.push(pt);\n                }\n            }\n\n            /* If there were two intersection points between line and ray,\n            and now there is exactly one left, it means ray starts between these points\n            and there is another intersection point - start of the ray */\n            if (ip_tmp.length == 2 && ip.length == 1 && ray.start.on(line)) {\n                ip.push(ray.start);\n            }\n\n            return ip;\n        }\n\n        intersectRay2Arc(ray, arc) {\n            let ip = [];\n\n            if (ray.box.notIntersect(arc.box)) {\n                return ip;\n            }\n\n            let line = new Line(ray.start, ray.norm);\n            let ip_tmp = line.intersect(arc);\n\n            for (let pt of ip_tmp) {\n                if (Flatten.Utils.GE(pt.x, ray.start.x)) {\n                    ip.push(pt);\n                }\n            }\n            return ip;\n        }\n    };\n\n    Flatten.ray = (...args) => new Flatten.Ray(...args);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/flatten-js/classes/ray.js\n// module id = 91\n// module chunks = 0","/**\n * Created by Alex Bol on 3/10/2017.\n */\n\n\"use strict\";\n\nmodule.exports = function (Flatten) {\n    /**\n     * Class representing a segment\n     * @type {Segment}\n     */\n    Flatten.Segment = class Segment {\n        /**\n         *\n         * @param {Point} ps - start point\n         * @param {Point} pe - end point\n         */\n        constructor(...args) {\n            /**\n             * Start point\n             * @type {Point}\n             */\n            this.ps = new Flatten.Point();\n            /**\n             * End Point\n             * @type {Point}\n             */\n            this.pe = new Flatten.Point();\n\n            if (args.length == 0) {\n                return;\n            }\n\n            if (args.length == 1 && args[0] instanceof Array && args[0].length == 4) {\n                let coords = args[0];\n                this.ps = new Flatten.Point(coords[0], coords[1]);\n                this.pe = new Flatten.Point(coords[2], coords[3]);\n                return;\n            }\n\n            if (args.length == 2 && args[0] instanceof Flatten.Point && args[1] instanceof Flatten.Point) {\n                this.ps = args[0].clone();\n                this.pe = args[1].clone();\n                return;\n            }\n\n            if (args.length == 4) {\n                this.ps = new Flatten.Point(args[0], args[1]);\n                this.pe = new Flatten.Point(args[2], args[3]);\n                return;\n            }\n\n            throw Flatten.Errors.ILLEGAL_PARAMETERS;\n        }\n\n        /**\n         * Method clone copies segment and returns a new instance\n         * @returns {Segment}\n         */\n        clone() {\n            return new Flatten.Segment(this.start, this.end);\n        }\n\n        /**\n         * Start point\n         * @returns {Point}\n         */\n        get start() {\n            return this.ps;\n        }\n\n        /**\n         * End point\n         * @returns {Point}\n         */\n        get end() {\n            return this.pe;\n        }\n\n\n        /**\n         * Returns array of start and end point\n         * @returns [Point,Point]\n         */\n        get vertices() {\n            return [this.ps.clone(), this.pe.clone()];\n        }\n\n        /**\n         * Length of a segment\n         * @returns {number}\n         */\n        get length() {\n            return this.start.distanceTo(this.end)[0];\n        }\n\n        /**\n         * Slope of the line - angle to axe x in radians from 0 to 2PI\n         * @returns {number}\n         */\n        get slope() {\n            let vec = new Flatten.Vector(this.start, this.end);\n            return vec.slope;\n        }\n\n        /**\n         * Bounding box\n         * @returns {Box}\n         */\n        get box() {\n            return new Flatten.Box(\n                Math.min(this.start.x, this.end.x),\n                Math.min(this.start.y, this.end.y),\n                Math.max(this.start.x, this.end.x),\n                Math.max(this.start.y, this.end.y)\n            )\n        }\n\n        /**\n         * Returns true if equals to query segment, false otherwise\n         * @param {Seg} seg - query segment\n         * @returns {boolean}\n         */\n        equalTo(seg) {\n            return this.ps.equalTo(seg.ps) && this.pe.equalTo(seg.pe);\n        }\n\n        /**\n         * Returns true if segment contains point\n         * @param {Point} pt Query point\n         * @returns {boolean}\n         */\n        contains(pt) {\n            return Flatten.Utils.EQ_0(this.distanceToPoint(pt));\n        }\n\n        /**\n         * Returns array of intersection points between segment and other shape\n         * @param {Shape} shape - Shape of the one of supported types Line, Circle, Segment, Arc <br/>\n         * TODO: support Polygon and Planar Set\n         * @returns {Point[]}\n         */\n        intersect(shape) {\n            if (shape instanceof Flatten.Line) {\n                return Segment.intersectSegment2Line(this, shape);\n            }\n\n            if (shape instanceof Flatten.Segment) {\n                return Segment.intersectSegment2Segment(this, shape);\n            }\n\n            if (shape instanceof Flatten.Circle) {\n                return Segment.intersectSegment2Circle(this, shape);\n            }\n\n            if (shape instanceof Flatten.Arc) {\n                return Segment.intersectSegment2Arc(this, shape);\n            }\n        }\n\n        /**\n         * Calculate distance and shortest segment from segment to shape and return as array [distance, shortest segment]\n         * @param {Shape} shape Shape of the one of supported types Point, Line, Circle, Segment, Arc, Polygon or Planar Set\n         * @returns {number} distance from segment to shape\n         * @returns {Segment} shortest segment between segment and shape (started at segment, ended at shape)\n         */\n        distanceTo(shape) {\n            let {Distance} = Flatten;\n\n            if (shape instanceof Flatten.Point) {\n                let [dist, shortest_segment] = Distance.point2segment(shape, this);\n                shortest_segment = shortest_segment.reverse();\n                return [dist, shortest_segment];\n            }\n\n            if (shape instanceof Flatten.Circle) {\n                let [dist, shortest_segment] = Distance.segment2circle(this, shape);\n                return [dist, shortest_segment];\n            }\n\n            if (shape instanceof Flatten.Line) {\n                let [dist, shortest_segment] = Distance.segment2line(this, shape);\n                return [dist, shortest_segment];\n            }\n\n            if (shape instanceof Flatten.Segment) {\n                let [dist, shortest_segment] = Distance.segment2segment(this, shape);\n                return [dist, shortest_segment];\n            }\n\n            if (shape instanceof Flatten.Arc) {\n                let [dist, shortest_segment] = Distance.segment2arc(this, shape);\n                return [dist, shortest_segment];\n            }\n\n            if (shape instanceof Flatten.Polygon) {\n                let [dist, shortest_segment] = Distance.shape2polygon(this, shape);\n                return [dist, shortest_segment];\n            }\n\n            if (shape instanceof Flatten.PlanarSet) {\n                let [dist, shortest_segment] = Distance.shape2planarSet(this, shape);\n                return [dist, shortest_segment];\n            }\n        }\n\n        /**\n         * Returns unit vector in the direction from start to end\n         * @returns {Vector}\n         */\n        tangentInStart() {\n            let vec = new Flatten.Vector(this.start, this.end);\n            return vec.normalize();\n        }\n\n        /**\n         * Return unit vector in the direction from end to start\n         * @returns {Vector}\n         */\n        tangentInEnd() {\n            let vec = new Flatten.Vector(this.end, this.start);\n            return vec.normalize();\n        }\n\n        /**\n         * Returns new segment with swapped start and end points\n         * @returns {Segment}\n         */\n        reverse() {\n            return new Segment(this.end, this.start);\n        }\n\n        /**\n         * When point belongs to segment, return array of two segments split by given point,\n         * if point is inside segment. Returns clone of this segment if query point is incident\n         * to start or end point of the segment. Returns empty array if point does not belong to segment\n         * @param {Point} pt Query point\n         * @returns {Segment[]}\n         */\n        split(pt) {\n            if (!this.contains(pt))\n                return [];\n\n            if (this.start.equalTo(this.end))\n                return [this.clone()];\n\n            if (this.start.equalTo(pt) || this.end.equalTo(pt))\n                return [this];\n\n            return [\n                new Flatten.Segment(this.start, pt),\n                new Flatten.Segment(pt, this.end)\n            ]\n        }\n\n        /**\n         * Return middle point of the segment\n         * @returns {Point}\n         */\n        middle() {\n            return new Flatten.Point((this.start.x + this.end.x)/2, (this.start.y + this.end.y)/2);\n        }\n\n        distanceToPoint(pt) {\n            let [dist, ...rest] = Flatten.Distance.point2segment(pt, this);\n            return dist;\n        };\n\n        definiteIntegral(ymin = 0.0) {\n            let dx = this.end.x - this.start.x;\n            let dy1 = this.start.y - ymin;\n            let dy2 = this.end.y - ymin;\n            return ( dx * (dy1 + dy2) / 2 );\n        }\n\n        /**\n         * Returns new segment translated by vector vec\n         * @param {Vector} vec\n         * @returns {Segment}\n         */\n        translate(vec) {\n            return new Segment(this.ps.translate(vec), this.pe.translate(vec));\n        }\n\n        /**\n         * Return new segment rotated by given angle around given point\n         * If point omitted, rotate around origin (0,0)\n         * Positive value of angle defines rotation counter clockwise, negative - clockwise\n         * @param {number} angle - rotation angle in radians\n         * @param {Point} center - center point, default is (0,0)\n         * @returns {Segment}\n         */\n        rotate(angle = 0, center = new Flatten.Point()) {\n            let m = new Flatten.Matrix();\n            m = m.translate(center.x, center.y).rotate(angle).translate(-center.x, -center.y);\n            return this.transform(m);\n        }\n\n        /**\n         * Return new segment transformed using affine transformation matrix\n         * @param {Matrix} matrix - affine transformation matrix\n         * @returns {Segment} - transformed segment\n         */\n        transform(matrix = new Flatten.Matrix()) {\n            return new Segment(this.ps.transform(matrix), this.pe.transform(matrix))\n        }\n\n        /**\n         * Returns true if segment start is equal to segment end up to DP_TOL\n         * @returns {boolean}\n         */\n        isZeroLength() {\n            return this.ps.equalTo(this.pe)\n        }\n\n        static intersectSegment2Line(seg, line) {\n            let ip = [];\n\n            // Boundary cases\n            if (seg.ps.on(line)) {\n                ip.push(seg.ps);\n            }\n            // If both ends lay on line, return two intersection points\n            if (seg.pe.on(line) && !seg.isZeroLength()) {\n                ip.push(seg.pe);\n            }\n\n            if (ip.length > 0) {\n                return ip;          // done, intersection found\n            }\n\n            // If zero-length segment and nothing found, return no intersections\n            if (seg.isZeroLength()) {\n                return ip;\n            }\n\n            // Not a boundary case, check if both points are on the same side and\n            // hence there is no intersection\n            if (seg.ps.leftTo(line) && seg.pe.leftTo(line) ||\n                !seg.ps.leftTo(line) && !seg.pe.leftTo(line)) {\n                return ip;\n            }\n\n            // Calculate intersection between lines\n            let line1 = new Flatten.Line(seg.ps, seg.pe);\n            return line1.intersect(line);\n        }\n\n        static intersectSegment2Segment(seg1, seg2) {\n            let ip = [];\n\n            // quick reject\n            if (seg1.box.notIntersect(seg2.box)) {\n                return ip;\n            }\n\n            // Special case of seg1 zero length\n            if (seg1.isZeroLength()) {\n                if (seg1.ps.on(seg2)) {\n                    ip.push(seg1.ps);\n                }\n                return ip;\n            }\n\n            // Special case of seg2 zero length\n            if (seg2.isZeroLength()) {\n                if (seg2.ps.on(seg1)) {\n                    ip.push(seg2.ps);\n                }\n                return ip;\n            }\n\n            // Neither seg1 nor seg2 is zero length\n            let line1 = new Flatten.Line(seg1.ps, seg1.pe);\n            let line2 = new Flatten.Line(seg2.ps, seg2.pe);\n\n            // Check overlapping between segments in case of incidence\n            // If segments touching, add one point. If overlapping, add two points\n            if (line1.incidentTo(line2)) {\n                if (seg1.ps.on(seg2)) {\n                    ip.push(seg1.ps);\n                }\n                if (seg1.pe.on(seg2)) {\n                    ip.push(seg1.pe);\n                }\n                if (seg2.ps.on(seg1) && !seg2.ps.equalTo(seg1.ps) && !seg2.ps.equalTo(seg1.pe)) {\n                    ip.push(seg2.ps);\n                }\n                if (seg2.pe.on(seg1) && !seg2.pe.equalTo(seg1.ps) && !seg2.pe.equalTo(seg1.pe)) {\n                    ip.push(seg2.pe);\n                }\n            }\n            else {                /* not incident - parallel or intersect */\n                // Calculate intersection between lines\n                let new_ip = line1.intersect(line2);\n                if (new_ip.length > 0 && new_ip[0].on(seg1) && new_ip[0].on(seg2)) {\n                    ip.push(new_ip[0]);\n                }\n            }\n\n            return ip;\n        }\n\n        static intersectSegment2Circle(segment, circle) {\n            let ips = [];\n\n            if (segment.box.notIntersect(circle.box)) {\n                return ips;\n            }\n\n            // Special case of zero length segment\n            if (segment.isZeroLength()) {\n                let [dist,shortest_segment] = segment.ps.distanceTo(circle.pc);\n                if (Flatten.Utils.EQ(dist, circle.r)) {\n                    ips.push(segment.ps);\n                }\n                return ips;\n            }\n\n            // Non zero-length segment\n            let line = new Flatten.Line(segment.ps, segment.pe);\n\n            let ips_tmp = line.intersect(circle);\n\n            for (let ip of ips_tmp) {\n                if (ip.on(segment)) {\n                    ips.push(ip);\n                }\n            }\n\n            return ips;\n        }\n\n        static intersectSegment2Arc(segment, arc) {\n            let ip = [];\n\n            if (segment.box.notIntersect(arc.box)) {\n                return ip;\n            }\n\n            // Special case of zero-length segment\n            if (segment.isZeroLength()) {\n                if (segment.ps.on(arc)) {\n                    ip.push(segment.ps);\n                }\n                return ip;\n            }\n\n            // Non-zero length segment\n            let line = new Flatten.Line(segment.ps, segment.pe);\n            let circle = new Flatten.Circle(arc.pc, arc.r);\n\n            let ip_tmp = line.intersect(circle);\n\n            for (let pt of ip_tmp) {\n                if (pt.on(segment) && pt.on(arc)) {\n                    ip.push(pt);\n                }\n            }\n            return ip;\n\n        }\n\n        /**\n         * Return string to draw segment in svg\n         * @param {Object} attrs - Object with attributes for svg path element,\n         * like \"stroke\", \"strokeWidth\" <br/>\n         * Defaults are stroke:\"black\", strokeWidth:\"1\"\n         * @returns {string}\n         */\n        svg(attrs = {}) {\n            let {stroke, strokeWidth, id, className} = attrs;\n            // let rest_str = Object.keys(rest).reduce( (acc, key) => acc += ` ${key}=\"${rest[key]}\"`, \"\");\n            let id_str = (id && id.length > 0) ? `id=\"${id}\"` : \"\";\n            let class_str = (className && className.length > 0) ? `class=\"${className}\"` : \"\";\n\n            return `\\n<line x1=\"${this.start.x}\" y1=\"${this.start.y}\" x2=\"${this.end.x}\" y2=\"${this.end.y}\" stroke=\"${stroke || \"black\"}\" stroke-width=\"${strokeWidth || 1}\" ${id_str} ${class_str} />`;\n\n        }\n    };\n\n    /**\n     * Shortcut method to create new segment\n     */\n    Flatten.segment = (...args) => new Flatten.Segment(...args);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/flatten-js/classes/segment.js\n// module id = 92\n// module chunks = 0","/**\n * Created by Alex Bol on 2/19/2017.\n */\n\n\"use strict\";\n\nmodule.exports = function(Flatten) {\n    /**\n     * Class representing a vector\n     * @type {Vector}\n     */\n    Flatten.Vector = class Vector {\n        /**\n         * Vector may be constructed by two points, or by two float numbers\n         * @param {Point} ps - start point\n         * @param {Point} pe - end point\n         */\n        constructor(...args) {\n            /**\n             * x-coordinate of a vector (float number)\n             * @type {number}\n             */\n            this.x = 0;\n            /**\n             * y-coordinate of a vector (float number)\n             * @type {number}\n             */\n            this.y = 0;\n\n            /* return zero vector */\n            if (args.length == 0) {\n                return;\n            }\n\n            if (args.length == 2) {\n                let a1 = args[0];\n                let a2 = args[1];\n\n                if (typeof(a1) == \"number\" && typeof(a2) == \"number\") {\n                    this.x = a1;\n                    this.y = a2;\n                    return;\n                }\n\n                if (a1 instanceof Flatten.Point && a2 instanceof Flatten.Point) {\n                    this.x = a2.x - a1.x;\n                    this.y = a2.y - a1.y;\n                    return;\n                }\n\n            }\n\n            throw Flatten.Errors.ILLEGAL_PARAMETERS;\n        }\n\n        /**\n         * Method clone returns new instance of Vector\n         * @returns {Vector}\n         */\n        clone() {\n            return new Vector(this.x, this.y);\n        }\n\n        /**\n         * Slope of the vector in radians from 0 to 2PI\n         * @returns {number}\n         */\n        get slope() {\n            let angle = Math.atan2(this.y, this.x);\n            if (angle<0) angle = 2*Math.PI + angle;\n            return angle;\n        }\n\n        /**\n         * Length of vector\n         * @returns {number}\n         */\n        get length() {\n            return Math.sqrt(this.dot(this));\n        }\n\n        /**\n         * Returns true if vectors are equal up to [DP_TOL]{@link http://localhost:63342/flatten-js/docs/global.html#DP_TOL}\n         * tolerance\n         * @param {Vector} v\n         * @returns {boolean}\n         */\n        equalTo(v) {\n            return Flatten.Utils.EQ(this.x, v.x) && Flatten.Utils.EQ(this.y, v.y);\n        }\n\n        /**\n         * Returns new vector multiplied by scalar\n         * @param {number} scalar\n         * @returns {Vector}\n         */\n        multiply(scalar) {\n            return ( new Vector(scalar * this.x, scalar * this.y) );\n        }\n\n        /**\n         * Returns scalar product (dot product) of two vectors <br/>\n         * <code>dot_product = (this * v)</code>\n         * @param {Vector} v Other vector\n         * @returns {number}\n         */\n        dot(v) {\n            return ( this.x * v.x + this.y * v.y );\n        }\n\n        /**\n         * Returns vector product (cross product) of two vectors <br/>\n         * <code>cross_product = (this x v)</code>\n         * @param {Vector} v Other vector\n         * @returns {number}\n         */\n        cross(v) {\n            return ( this.x * v.y - this.y * v.x );\n        }\n\n        /**\n         * Returns unit vector.<br/>\n         * Throw error if given vector has zero length\n         * @returns {Vector}\n         */\n        normalize() {\n            if (!Flatten.Utils.EQ_0(this.length)) {\n                return ( new Vector(this.x / this.length, this.y / this.length) );\n            }\n            throw Flatten.Errors.ZERO_DIVISION;\n        }\n\n        /**\n         * Returns new vector rotated by given angle,\n         * positive angle defines rotation in counter clockwise direction,\n         * negative - in clockwise direction\n         * @param {number} angle - Angle in radians\n         * @returns {Vector}\n         */\n        rotate(angle) {\n            let point = new Flatten.Point(this.x, this.y);\n            let rpoint = point.rotate(angle);\n            return new Flatten.Vector(rpoint.x, rpoint.y);\n        }\n\n        /**\n         * Returns vector rotated 90 degrees counter clockwise\n         * @returns {Vector}\n         */\n        rotate90CCW() {\n            return new Flatten.Vector(-this.y, this.x);\n        };\n\n        /**\n         * Returns vector rotated 90 degrees clockwise\n         * @returns {Vector}\n         */\n        rotate90CW() {\n            return new Flatten.Vector(this.y, -this.x);\n        };\n\n        /**\n         * Return inverted vector\n         * @returns {Vector}\n         */\n        invert() {\n            return new Flatten.Vector(-this.x, -this.y);\n        }\n\n        /**\n         * Return result of addition of other vector to this vector as a new vector\n         * @param {Vector} v Other vector\n         * @returns {Vector}\n         */\n        add(v) {\n            return new Flatten.Vector(this.x + v.x, this.y + v.y);\n        }\n\n        /**\n         * Return result of subtraction of other vector from current vector as a new vector\n         * @param {Vector} v Another vector\n         * @returns {Vector}\n         */\n        subtract(v) {\n            return new Flatten.Vector(this.x - v.x, this.y - v.y);\n        }\n\n        /**\n         * Return angle between this vector and other vector. <br/>\n         * Angle is measured from 0 to 2*PI in the counter clockwise direction\n         * from current vector to other.\n         * @param {Vector} v Another vector\n         * @returns {number}\n         */\n        angleTo(v) {\n            let norm1 = this.normalize();\n            let norm2 = v.normalize();\n            let angle = Math.atan2(norm1.cross(norm2), norm1.dot(norm2));\n            if (angle<0) angle += 2*Math.PI;\n            return angle;\n        }\n\n        /**\n         * Return vector projection of the current vector on another vector\n         * @param {Vector} v Another vector\n         * @returns {Vector}\n         */\n        projectionOn(v){\n            let n = v.normalize();\n            let d = this.dot(n);\n            return n.multiply(d);\n        }\n    };\n\n    /**\n     * Function to create vector equivalent to \"new\" constructor\n     * @param args\n     */\n    Flatten.vector = (...args) => new Flatten.Vector(...args);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/flatten-js/classes/vector.js\n// module id = 93\n// module chunks = 0","/**\n * Created by Alex Bol on 3/12/2017.\n */\n\n\"use strict\";\n\n// require(\"babel-polyfill\");\n\nlet IntervalTree = require('flatten-interval-tree');\n\nmodule.exports = function (Flatten) {\n    /**\n     * Class representing a planar set - a generic container with ability to keep and retrieve shapes and\n     * perform spatial queries. Planar set is an extension of Set container, so it supports\n     * Set properties and methods\n     */\n    Flatten.PlanarSet = class PlanarSet extends Set {\n        /**\n         * Create new empty instance of PlanarSet\n         */\n        constructor() {\n            super();\n            this.index = new IntervalTree();\n        }\n\n        /**\n         * Add new shape to planar set and to its spatial index.<br/>\n         * If shape already exist, it will not be added again.\n         * This happens with no error, it is possible to use <i>size</i> property to check if\n         * a shape was actually added.<br/>\n         * Method returns planar set object updated and may be chained\n         * @param {Shape} shape - shape to be added, should have valid <i>box</i> property\n         * @returns {PlanarSet}\n         */\n        add(shape) {\n            let size = this.size;\n            super.add(shape);\n            // size not changed - item not added, probably trying to add same item twice\n            if (this.size > size) {\n                let node = this.index.insert(shape.box, shape);\n            }\n            return this;         // in accordance to Set.add interface\n        }\n\n        /**\n         * Delete shape from planar set. Returns true if shape was actually deleted, false otherwise\n         * @param {Shape} shape - shape to be deleted\n         * @returns {boolean}\n         */\n        delete(shape) {\n            let deleted = super.delete(shape);\n            if (deleted) {\n                this.index.remove(shape.box, shape);\n            }\n            return deleted;\n        }\n\n        // update(shape) {\n        //     if (super.has(shape)) {\n        //         this.delete(shape);\n        //     }\n        //     this.add(shape);\n        //\n        //     return this;\n        // }\n\n        clear() {\n\n        }\n\n        /**\n         * 2d range search in planar set.<br/>\n         * Returns array of all shapes in planar set which bounding box is intersected with query box\n         * @param {Box} box - query box\n         * @returns {Shapes[]}\n         */\n        search(box) {\n            let resp = this.index.search(box);\n            return resp;\n        }\n\n        /**\n         * Point location test. Returns array of shapes which contains given point\n         * @param {Point} point - query point\n         * @returns {Array}\n         */\n        hit(point) {\n            let box = new Flatten.Box(point.x - 1, point.y - 1, point.x + 1, point.y + 1);\n            let resp = this.index.search(box);\n            return resp.filter((shape) => point.on(shape));\n        }\n\n        /**\n         * Returns svg string to draw all shapes in planar set\n         * @returns {String}\n         */\n        svg() {\n            let svgcontent = [...this].reduce((acc, shape) => acc + shape.svg(), \"\");\n            return svgcontent;\n        }\n    }\n};\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/flatten-js/data_structures/planar_set.js\n// module id = 94\n// module chunks = 0","/**\n * Created by Alex Bol on 2/19/2017.\n */\nmodule.exports = {\n    ILLEGAL_PARAMETERS: new ReferenceError('Illegal Parameters'),\n    ZERO_DIVISION: new Error('Zero division')\n};\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/flatten-js/utils/errors.js\n// module id = 95\n// module chunks = 0","/**\n * Created by Alex Bol on 2/18/2017.\n */\n\nconst DP_TOL = 0.000001;\nconst DECIMALS = 3;\n\nmodule.exports = {\n    DP_TOL: DP_TOL,\n    /**\n     * @return {boolean}\n     */\n    EQ_0: function(x) {\n        return ( (x) < DP_TOL && (x) > -DP_TOL );\n    },\n    /**\n     * @return {boolean}\n     */\n    EQ: function(x,y) {\n        return ( (x)-(y) <  DP_TOL && (x)-(y) > -DP_TOL );\n    },\n    /**\n     * @return {boolean}\n     */\n    GT: (x,y) => {\n        return ( (x)-(y) >  DP_TOL );\n    },\n    /**\n     * @return {boolean}\n     */\n    GE: (x,y) => {\n        return ( (x)-(y) > -DP_TOL );\n    },\n    /**\n     * @return {boolean}\n     */\n    LT: (x,y) => {\n        return ( (x)-(y) < -DP_TOL )\n    },\n    /**\n     * @return {boolean}\n     */\n    LE: (x,y) => {\n        return ( (x)-(y) <  DP_TOL );\n    }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/flatten-js/utils/utils.js\n// module id = 96\n// module chunks = 0","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseGetTag.js\n// module id = 97\n// module chunks = 0","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_freeGlobal.js\n// module id = 98\n// module chunks = 0","var overArg = require('./_overArg');\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nmodule.exports = getPrototype;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_getPrototype.js\n// module id = 99\n// module chunks = 0","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_getRawTag.js\n// module id = 100\n// module chunks = 0","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_objectToString.js\n// module id = 101\n// module chunks = 0","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_overArg.js\n// module id = 102\n// module chunks = 0","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_root.js\n// module id = 103\n// module chunks = 0","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/isObjectLike.js\n// module id = 104\n// module chunks = 0","'use strict';\n\n//This file contains the ES6 extensions to the core Promises/A+ API\n\nvar Promise = require('./core.js');\n\nmodule.exports = Promise;\n\n/* Static Functions */\n\nvar TRUE = valuePromise(true);\nvar FALSE = valuePromise(false);\nvar NULL = valuePromise(null);\nvar UNDEFINED = valuePromise(undefined);\nvar ZERO = valuePromise(0);\nvar EMPTYSTRING = valuePromise('');\n\nfunction valuePromise(value) {\n  var p = new Promise(Promise._61);\n  p._81 = 1;\n  p._65 = value;\n  return p;\n}\nPromise.resolve = function (value) {\n  if (value instanceof Promise) return value;\n\n  if (value === null) return NULL;\n  if (value === undefined) return UNDEFINED;\n  if (value === true) return TRUE;\n  if (value === false) return FALSE;\n  if (value === 0) return ZERO;\n  if (value === '') return EMPTYSTRING;\n\n  if (typeof value === 'object' || typeof value === 'function') {\n    try {\n      var then = value.then;\n      if (typeof then === 'function') {\n        return new Promise(then.bind(value));\n      }\n    } catch (ex) {\n      return new Promise(function (resolve, reject) {\n        reject(ex);\n      });\n    }\n  }\n  return valuePromise(value);\n};\n\nPromise.all = function (arr) {\n  var args = Array.prototype.slice.call(arr);\n\n  return new Promise(function (resolve, reject) {\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n    function res(i, val) {\n      if (val && (typeof val === 'object' || typeof val === 'function')) {\n        if (val instanceof Promise && val.then === Promise.prototype.then) {\n          while (val._81 === 3) {\n            val = val._65;\n          }\n          if (val._81 === 1) return res(i, val._65);\n          if (val._81 === 2) reject(val._65);\n          val.then(function (val) {\n            res(i, val);\n          }, reject);\n          return;\n        } else {\n          var then = val.then;\n          if (typeof then === 'function') {\n            var p = new Promise(then.bind(val));\n            p.then(function (val) {\n              res(i, val);\n            }, reject);\n            return;\n          }\n        }\n      }\n      args[i] = val;\n      if (--remaining === 0) {\n        resolve(args);\n      }\n    }\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\n\nPromise.reject = function (value) {\n  return new Promise(function (resolve, reject) {\n    reject(value);\n  });\n};\n\nPromise.race = function (values) {\n  return new Promise(function (resolve, reject) {\n    values.forEach(function(value){\n      Promise.resolve(value).then(resolve, reject);\n    });\n  });\n};\n\n/* Prototype Methods */\n\nPromise.prototype['catch'] = function (onRejected) {\n  return this.then(null, onRejected);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/promise/lib/es6-extensions.js\n// module id = 105\n// module chunks = 0","'use strict';\n\nvar Promise = require('./core');\n\nvar DEFAULT_WHITELIST = [\n  ReferenceError,\n  TypeError,\n  RangeError\n];\n\nvar enabled = false;\nexports.disable = disable;\nfunction disable() {\n  enabled = false;\n  Promise._10 = null;\n  Promise._97 = null;\n}\n\nexports.enable = enable;\nfunction enable(options) {\n  options = options || {};\n  if (enabled) disable();\n  enabled = true;\n  var id = 0;\n  var displayId = 0;\n  var rejections = {};\n  Promise._10 = function (promise) {\n    if (\n      promise._81 === 2 && // IS REJECTED\n      rejections[promise._72]\n    ) {\n      if (rejections[promise._72].logged) {\n        onHandled(promise._72);\n      } else {\n        clearTimeout(rejections[promise._72].timeout);\n      }\n      delete rejections[promise._72];\n    }\n  };\n  Promise._97 = function (promise, err) {\n    if (promise._45 === 0) { // not yet handled\n      promise._72 = id++;\n      rejections[promise._72] = {\n        displayId: null,\n        error: err,\n        timeout: setTimeout(\n          onUnhandled.bind(null, promise._72),\n          // For reference errors and type errors, this almost always\n          // means the programmer made a mistake, so log them after just\n          // 100ms\n          // otherwise, wait 2 seconds to see if they get handled\n          matchWhitelist(err, DEFAULT_WHITELIST)\n            ? 100\n            : 2000\n        ),\n        logged: false\n      };\n    }\n  };\n  function onUnhandled(id) {\n    if (\n      options.allRejections ||\n      matchWhitelist(\n        rejections[id].error,\n        options.whitelist || DEFAULT_WHITELIST\n      )\n    ) {\n      rejections[id].displayId = displayId++;\n      if (options.onUnhandled) {\n        rejections[id].logged = true;\n        options.onUnhandled(\n          rejections[id].displayId,\n          rejections[id].error\n        );\n      } else {\n        rejections[id].logged = true;\n        logError(\n          rejections[id].displayId,\n          rejections[id].error\n        );\n      }\n    }\n  }\n  function onHandled(id) {\n    if (rejections[id].logged) {\n      if (options.onHandled) {\n        options.onHandled(rejections[id].displayId, rejections[id].error);\n      } else if (!rejections[id].onUnhandled) {\n        console.warn(\n          'Promise Rejection Handled (id: ' + rejections[id].displayId + '):'\n        );\n        console.warn(\n          '  This means you can ignore any previous messages of the form \"Possible Unhandled Promise Rejection\" with id ' +\n          rejections[id].displayId + '.'\n        );\n      }\n    }\n  }\n}\n\nfunction logError(id, error) {\n  console.warn('Possible Unhandled Promise Rejection (id: ' + id + '):');\n  var errStr = (error && (error.stack || error)) + '';\n  errStr.split('\\n').forEach(function (line) {\n    console.warn('  ' + line);\n  });\n}\n\nfunction matchWhitelist(error, list) {\n  return list.some(function (cls) {\n    return error instanceof cls;\n  });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/promise/lib/rejection-tracking.js\n// module id = 106\n// module chunks = 0","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar emptyFunction = require('fbjs/lib/emptyFunction');\nvar invariant = require('fbjs/lib/invariant');\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    invariant(\n      false,\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim\n  };\n\n  ReactPropTypes.checkPropTypes = emptyFunction;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/prop-types/factoryWithThrowingShims.js\n// module id = 107\n// module chunks = 0","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var REACT_ELEMENT_TYPE = (typeof Symbol === 'function' &&\n    Symbol.for &&\n    Symbol.for('react.element')) ||\n    0xeac7;\n\n  var isValidElement = function(object) {\n    return typeof object === 'object' &&\n      object !== null &&\n      object.$$typeof === REACT_ELEMENT_TYPE;\n  };\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(isValidElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/prop-types/index.js\n// module id = 108\n// module chunks = 0","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/prop-types/lib/ReactPropTypesSecret.js\n// module id = 109\n// module chunks = 0","/*\n React v16.0.0\n react-dom.production.min.js\n\n Copyright (c) 2013-present, Facebook, Inc.\n\n This source code is licensed under the MIT license found in the\n LICENSE file in the root directory of this source tree.\n Modernizr 3.0.0pre (Custom Build) | MIT\n*/\n'use strict';var aa=require(\"react\");require(\"fbjs/lib/invariant\");var l=require(\"fbjs/lib/ExecutionEnvironment\"),n=require(\"object-assign\"),ba=require(\"fbjs/lib/EventListener\"),ca=require(\"fbjs/lib/emptyFunction\"),da=require(\"fbjs/lib/emptyObject\"),ea=require(\"fbjs/lib/shallowEqual\"),fa=require(\"fbjs/lib/containsNode\"),ha=require(\"fbjs/lib/focusNode\"),ia=require(\"fbjs/lib/getActiveElement\");\nfunction w(a){for(var b=arguments.length-1,c=\"Minified React error #\"+a+\"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant\\x3d\"+a,d=0;d<b;d++)c+=\"\\x26args[]\\x3d\"+encodeURIComponent(arguments[d+1]);b=Error(c+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\");b.name=\"Invariant Violation\";b.framesToPop=1;throw b;}aa?void 0:w(\"227\");\nfunction ja(a){switch(a){case \"svg\":return\"http://www.w3.org/2000/svg\";case \"math\":return\"http://www.w3.org/1998/Math/MathML\";default:return\"http://www.w3.org/1999/xhtml\"}}\nvar ka={Namespaces:{html:\"http://www.w3.org/1999/xhtml\",mathml:\"http://www.w3.org/1998/Math/MathML\",svg:\"http://www.w3.org/2000/svg\"},getIntrinsicNamespace:ja,getChildNamespace:function(a,b){return null==a||\"http://www.w3.org/1999/xhtml\"===a?ja(b):\"http://www.w3.org/2000/svg\"===a&&\"foreignObject\"===b?\"http://www.w3.org/1999/xhtml\":a}},la=null,oa={};\nfunction pa(){if(la)for(var a in oa){var b=oa[a],c=la.indexOf(a);-1<c?void 0:w(\"96\",a);if(!qa.plugins[c]){b.extractEvents?void 0:w(\"97\",a);qa.plugins[c]=b;c=b.eventTypes;for(var d in c){var e=void 0;var f=c[d],g=b,h=d;qa.eventNameDispatchConfigs.hasOwnProperty(h)?w(\"99\",h):void 0;qa.eventNameDispatchConfigs[h]=f;var k=f.phasedRegistrationNames;if(k){for(e in k)k.hasOwnProperty(e)&&ra(k[e],g,h);e=!0}else f.registrationName?(ra(f.registrationName,g,h),e=!0):e=!1;e?void 0:w(\"98\",d,a)}}}}\nfunction ra(a,b,c){qa.registrationNameModules[a]?w(\"100\",a):void 0;qa.registrationNameModules[a]=b;qa.registrationNameDependencies[a]=b.eventTypes[c].dependencies}\nvar qa={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:null,injectEventPluginOrder:function(a){la?w(\"101\"):void 0;la=Array.prototype.slice.call(a);pa()},injectEventPluginsByName:function(a){var b=!1,c;for(c in a)if(a.hasOwnProperty(c)){var d=a[c];oa.hasOwnProperty(c)&&oa[c]===d||(oa[c]?w(\"102\",c):void 0,oa[c]=d,b=!0)}b&&pa()}},sa=qa,ta={children:!0,dangerouslySetInnerHTML:!0,autoFocus:!0,defaultValue:!0,defaultChecked:!0,\ninnerHTML:!0,suppressContentEditableWarning:!0,style:!0};function ua(a,b){return(a&b)===b}\nvar wa={MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,HAS_STRING_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(a){var b=wa,c=a.Properties||{},d=a.DOMAttributeNamespaces||{},e=a.DOMAttributeNames||{};a=a.DOMMutationMethods||{};for(var f in c){xa.properties.hasOwnProperty(f)?w(\"48\",f):void 0;var g=f.toLowerCase(),h=c[f];g={attributeName:g,attributeNamespace:null,propertyName:f,mutationMethod:null,mustUseProperty:ua(h,b.MUST_USE_PROPERTY),\nhasBooleanValue:ua(h,b.HAS_BOOLEAN_VALUE),hasNumericValue:ua(h,b.HAS_NUMERIC_VALUE),hasPositiveNumericValue:ua(h,b.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:ua(h,b.HAS_OVERLOADED_BOOLEAN_VALUE),hasStringBooleanValue:ua(h,b.HAS_STRING_BOOLEAN_VALUE)};1>=g.hasBooleanValue+g.hasNumericValue+g.hasOverloadedBooleanValue?void 0:w(\"50\",f);e.hasOwnProperty(f)&&(g.attributeName=e[f]);d.hasOwnProperty(f)&&(g.attributeNamespace=d[f]);a.hasOwnProperty(f)&&(g.mutationMethod=a[f]);xa.properties[f]=\ng}}},xa={ID_ATTRIBUTE_NAME:\"data-reactid\",ROOT_ATTRIBUTE_NAME:\"data-reactroot\",ATTRIBUTE_NAME_START_CHAR:\":A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD\",ATTRIBUTE_NAME_CHAR:\":A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD\\\\-.0-9\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040\",\nproperties:{},shouldSetAttribute:function(a,b){if(xa.isReservedProp(a)||!(\"o\"!==a[0]&&\"O\"!==a[0]||\"n\"!==a[1]&&\"N\"!==a[1]))return!1;if(null===b)return!0;switch(typeof b){case \"boolean\":return xa.shouldAttributeAcceptBooleanValue(a);case \"undefined\":case \"number\":case \"string\":case \"object\":return!0;default:return!1}},getPropertyInfo:function(a){return xa.properties.hasOwnProperty(a)?xa.properties[a]:null},shouldAttributeAcceptBooleanValue:function(a){if(xa.isReservedProp(a))return!0;var b=xa.getPropertyInfo(a);\nif(b)return b.hasBooleanValue||b.hasStringBooleanValue||b.hasOverloadedBooleanValue;a=a.toLowerCase().slice(0,5);return\"data-\"===a||\"aria-\"===a},isReservedProp:function(a){return ta.hasOwnProperty(a)},injection:wa},A=xa,E={IndeterminateComponent:0,FunctionalComponent:1,ClassComponent:2,HostRoot:3,HostPortal:4,HostComponent:5,HostText:6,CoroutineComponent:7,CoroutineHandlerPhase:8,YieldComponent:9,Fragment:10},F={ELEMENT_NODE:1,TEXT_NODE:3,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_FRAGMENT_NODE:11},\nya=E.HostComponent,za=E.HostText,Aa=F.ELEMENT_NODE,Ba=F.COMMENT_NODE,Ea=A.ID_ATTRIBUTE_NAME,Fa={hasCachedChildNodes:1},Ga=Math.random().toString(36).slice(2),Ha=\"__reactInternalInstance$\"+Ga,Ia=\"__reactEventHandlers$\"+Ga;function La(a){for(var b;b=a._renderedComponent;)a=b;return a}function Ma(a,b){a=La(a);a._hostNode=b;b[Ha]=a}\nfunction Na(a,b){if(!(a._flags&Fa.hasCachedChildNodes)){var c=a._renderedChildren;b=b.firstChild;var d;a:for(d in c)if(c.hasOwnProperty(d)){var e=c[d],f=La(e)._domID;if(0!==f){for(;null!==b;b=b.nextSibling){var g=b,h=f;if(g.nodeType===Aa&&g.getAttribute(Ea)===\"\"+h||g.nodeType===Ba&&g.nodeValue===\" react-text: \"+h+\" \"||g.nodeType===Ba&&g.nodeValue===\" react-empty: \"+h+\" \"){Ma(e,b);continue a}}w(\"32\",f)}}a._flags|=Fa.hasCachedChildNodes}}\nfunction Oa(a){if(a[Ha])return a[Ha];for(var b=[];!a[Ha];)if(b.push(a),a.parentNode)a=a.parentNode;else return null;var c=a[Ha];if(c.tag===ya||c.tag===za)return c;for(;a&&(c=a[Ha]);a=b.pop()){var d=c;b.length&&Na(c,a)}return d}\nvar G={getClosestInstanceFromNode:Oa,getInstanceFromNode:function(a){var b=a[Ha];if(b)return b.tag===ya||b.tag===za?b:b._hostNode===a?b:null;b=Oa(a);return null!=b&&b._hostNode===a?b:null},getNodeFromInstance:function(a){if(a.tag===ya||a.tag===za)return a.stateNode;void 0===a._hostNode?w(\"33\"):void 0;if(a._hostNode)return a._hostNode;for(var b=[];!a._hostNode;)b.push(a),a._hostParent?void 0:w(\"34\"),a=a._hostParent;for(;b.length;a=b.pop())Na(a,a._hostNode);return a._hostNode},precacheChildNodes:Na,\nprecacheNode:Ma,uncacheNode:function(a){var b=a._hostNode;b&&(delete b[Ha],a._hostNode=null)},precacheFiberNode:function(a,b){b[Ha]=a},getFiberCurrentPropsFromNode:function(a){return a[Ia]||null},updateFiberProps:function(a,b){a[Ia]=b}},Pa={remove:function(a){a._reactInternalFiber=void 0},get:function(a){return a._reactInternalFiber},has:function(a){return void 0!==a._reactInternalFiber},set:function(a,b){a._reactInternalFiber=b}},Qa={ReactCurrentOwner:aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner};\nfunction Ra(a){if(\"function\"===typeof a.getName)return a.getName();if(\"number\"===typeof a.tag){a=a.type;if(\"string\"===typeof a)return a;if(\"function\"===typeof a)return a.displayName||a.name}return null}var J={NoEffect:0,PerformedWork:1,Placement:2,Update:4,PlacementAndUpdate:6,Deletion:8,ContentReset:16,Callback:32,Err:64,Ref:128},Sa=E.HostComponent,Ta=E.HostRoot,Ua=E.HostPortal,Va=E.HostText,Wa=J.NoEffect,Xa=J.Placement;\nfunction Za(a){var b=a;if(a.alternate)for(;b[\"return\"];)b=b[\"return\"];else{if((b.effectTag&Xa)!==Wa)return 1;for(;b[\"return\"];)if(b=b[\"return\"],(b.effectTag&Xa)!==Wa)return 1}return b.tag===Ta?2:3}function $a(a){2!==Za(a)?w(\"188\"):void 0}\nfunction ab(a){var b=a.alternate;if(!b)return b=Za(a),3===b?w(\"188\"):void 0,1===b?null:a;for(var c=a,d=b;;){var e=c[\"return\"],f=e?e.alternate:null;if(!e||!f)break;if(e.child===f.child){for(var g=e.child;g;){if(g===c)return $a(e),a;if(g===d)return $a(e),b;g=g.sibling}w(\"188\")}if(c[\"return\"]!==d[\"return\"])c=e,d=f;else{g=!1;for(var h=e.child;h;){if(h===c){g=!0;c=e;d=f;break}if(h===d){g=!0;d=e;c=f;break}h=h.sibling}if(!g){for(h=f.child;h;){if(h===c){g=!0;c=f;d=e;break}if(h===d){g=!0;d=f;c=e;break}h=h.sibling}g?\nvoid 0:w(\"189\")}}c.alternate!==d?w(\"190\"):void 0}c.tag!==Ta?w(\"188\"):void 0;return c.stateNode.current===c?a:b}\nvar bb={isFiberMounted:function(a){return 2===Za(a)},isMounted:function(a){return(a=Pa.get(a))?2===Za(a):!1},findCurrentFiberUsingSlowPath:ab,findCurrentHostFiber:function(a){a=ab(a);if(!a)return null;for(var b=a;;){if(b.tag===Sa||b.tag===Va)return b;if(b.child)b.child[\"return\"]=b,b=b.child;else{if(b===a)break;for(;!b.sibling;){if(!b[\"return\"]||b[\"return\"]===a)return null;b=b[\"return\"]}b.sibling[\"return\"]=b[\"return\"];b=b.sibling}}return null},findCurrentHostFiberWithNoPortals:function(a){a=ab(a);\nif(!a)return null;for(var b=a;;){if(b.tag===Sa||b.tag===Va)return b;if(b.child&&b.tag!==Ua)b.child[\"return\"]=b,b=b.child;else{if(b===a)break;for(;!b.sibling;){if(!b[\"return\"]||b[\"return\"]===a)return null;b=b[\"return\"]}b.sibling[\"return\"]=b[\"return\"];b=b.sibling}}return null}},K={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,injection:{injectErrorUtils:function(a){\"function\"!==typeof a.invokeGuardedCallback?w(\"197\"):void 0;cb=a.invokeGuardedCallback}},invokeGuardedCallback:function(a,\nb,c,d,e,f,g,h,k){cb.apply(K,arguments)},invokeGuardedCallbackAndCatchFirstError:function(a,b,c,d,e,f,g,h,k){K.invokeGuardedCallback.apply(this,arguments);if(K.hasCaughtError()){var p=K.clearCaughtError();K._hasRethrowError||(K._hasRethrowError=!0,K._rethrowError=p)}},rethrowCaughtError:function(){return db.apply(K,arguments)},hasCaughtError:function(){return K._hasCaughtError},clearCaughtError:function(){if(K._hasCaughtError){var a=K._caughtError;K._caughtError=null;K._hasCaughtError=!1;return a}w(\"198\")}};\nfunction cb(a,b,c,d,e,f,g,h,k){K._hasCaughtError=!1;K._caughtError=null;var p=Array.prototype.slice.call(arguments,3);try{b.apply(c,p)}catch(x){K._caughtError=x,K._hasCaughtError=!0}}function db(){if(K._hasRethrowError){var a=K._rethrowError;K._rethrowError=null;K._hasRethrowError=!1;throw a;}}var eb=K,fb;function gb(a,b,c,d){b=a.type||\"unknown-event\";a.currentTarget=hb.getNodeFromInstance(d);eb.invokeGuardedCallbackAndCatchFirstError(b,c,void 0,a);a.currentTarget=null}\nvar hb={isEndish:function(a){return\"topMouseUp\"===a||\"topTouchEnd\"===a||\"topTouchCancel\"===a},isMoveish:function(a){return\"topMouseMove\"===a||\"topTouchMove\"===a},isStartish:function(a){return\"topMouseDown\"===a||\"topTouchStart\"===a},executeDirectDispatch:function(a){var b=a._dispatchListeners,c=a._dispatchInstances;Array.isArray(b)?w(\"103\"):void 0;a.currentTarget=b?hb.getNodeFromInstance(c):null;b=b?b(a):null;a.currentTarget=null;a._dispatchListeners=null;a._dispatchInstances=null;return b},executeDispatchesInOrder:function(a,\nb){var c=a._dispatchListeners,d=a._dispatchInstances;if(Array.isArray(c))for(var e=0;e<c.length&&!a.isPropagationStopped();e++)gb(a,b,c[e],d[e]);else c&&gb(a,b,c,d);a._dispatchListeners=null;a._dispatchInstances=null},executeDispatchesInOrderStopAtTrue:function(a){a:{var b=a._dispatchListeners;var c=a._dispatchInstances;if(Array.isArray(b))for(var d=0;d<b.length&&!a.isPropagationStopped();d++){if(b[d](a,c[d])){b=c[d];break a}}else if(b&&b(a,c)){b=c;break a}b=null}a._dispatchInstances=null;a._dispatchListeners=\nnull;return b},hasDispatches:function(a){return!!a._dispatchListeners},getFiberCurrentPropsFromNode:function(a){return fb.getFiberCurrentPropsFromNode(a)},getInstanceFromNode:function(a){return fb.getInstanceFromNode(a)},getNodeFromInstance:function(a){return fb.getNodeFromInstance(a)},injection:{injectComponentTree:function(a){fb=a}}},ib=hb,jb=null,kb=null,lb=null;\nfunction mb(a){if(a=ib.getInstanceFromNode(a))if(\"number\"===typeof a.tag){jb&&\"function\"===typeof jb.restoreControlledState?void 0:w(\"194\");var b=ib.getFiberCurrentPropsFromNode(a.stateNode);jb.restoreControlledState(a.stateNode,a.type,b)}else\"function\"!==typeof a.restoreControlledState?w(\"195\"):void 0,a.restoreControlledState()}\nvar nb={injection:{injectFiberControlledHostComponent:function(a){jb=a}},enqueueStateRestore:function(a){kb?lb?lb.push(a):lb=[a]:kb=a},restoreStateIfNeeded:function(){if(kb){var a=kb,b=lb;lb=kb=null;mb(a);if(b)for(a=0;a<b.length;a++)mb(b[a])}}};function ob(a,b,c,d,e,f){return a(b,c,d,e,f)}function pb(a,b){return a(b)}function qb(a,b){return pb(a,b)}\nvar rb=!1,sb={batchedUpdates:function(a,b){if(rb)return ob(qb,a,b);rb=!0;try{return ob(qb,a,b)}finally{rb=!1,nb.restoreStateIfNeeded()}},injection:{injectStackBatchedUpdates:function(a){ob=a},injectFiberBatchedUpdates:function(a){pb=a}}},tb=F.TEXT_NODE;function ub(a){a=a.target||a.srcElement||window;a.correspondingUseElement&&(a=a.correspondingUseElement);return a.nodeType===tb?a.parentNode:a}var vb=E.HostRoot,wb=[];\nfunction xb(a){var b=a.targetInst;do{if(!b){a.ancestors.push(b);break}var c=b;if(\"number\"===typeof c.tag){for(;c[\"return\"];)c=c[\"return\"];c=c.tag!==vb?null:c.stateNode.containerInfo}else{for(;c._hostParent;)c=c._hostParent;c=G.getNodeFromInstance(c).parentNode}if(!c)break;a.ancestors.push(b);b=G.getClosestInstanceFromNode(c)}while(b);for(c=0;c<a.ancestors.length;c++)b=a.ancestors[c],yb._handleTopLevel(a.topLevelType,b,a.nativeEvent,ub(a.nativeEvent))}\nvar yb={_enabled:!0,_handleTopLevel:null,setHandleTopLevel:function(a){yb._handleTopLevel=a},setEnabled:function(a){yb._enabled=!!a},isEnabled:function(){return yb._enabled},trapBubbledEvent:function(a,b,c){return c?ba.listen(c,b,yb.dispatchEvent.bind(null,a)):null},trapCapturedEvent:function(a,b,c){return c?ba.capture(c,b,yb.dispatchEvent.bind(null,a)):null},dispatchEvent:function(a,b){if(yb._enabled){var c=ub(b);c=G.getClosestInstanceFromNode(c);null===c||\"number\"!==typeof c.tag||bb.isFiberMounted(c)||\n(c=null);if(wb.length){var d=wb.pop();d.topLevelType=a;d.nativeEvent=b;d.targetInst=c;a=d}else a={topLevelType:a,nativeEvent:b,targetInst:c,ancestors:[]};try{sb.batchedUpdates(xb,a)}finally{a.topLevelType=null,a.nativeEvent=null,a.targetInst=null,a.ancestors.length=0,10>wb.length&&wb.push(a)}}}},L=yb;function Cb(a,b){null==b?w(\"30\"):void 0;if(null==a)return b;if(Array.isArray(a)){if(Array.isArray(b))return a.push.apply(a,b),a;a.push(b);return a}return Array.isArray(b)?[a].concat(b):[a,b]}\nfunction Db(a,b,c){Array.isArray(a)?a.forEach(b,c):a&&b.call(c,a)}var Eb=null;function Fb(a,b){a&&(ib.executeDispatchesInOrder(a,b),a.isPersistent()||a.constructor.release(a))}function Gb(a){return Fb(a,!0)}function Hb(a){return Fb(a,!1)}\nfunction Ib(a,b,c){switch(a){case \"onClick\":case \"onClickCapture\":case \"onDoubleClick\":case \"onDoubleClickCapture\":case \"onMouseDown\":case \"onMouseDownCapture\":case \"onMouseMove\":case \"onMouseMoveCapture\":case \"onMouseUp\":case \"onMouseUpCapture\":return!(!c.disabled||\"button\"!==b&&\"input\"!==b&&\"select\"!==b&&\"textarea\"!==b);default:return!1}}\nvar Jb={injection:{injectEventPluginOrder:sa.injectEventPluginOrder,injectEventPluginsByName:sa.injectEventPluginsByName},getListener:function(a,b){if(\"number\"===typeof a.tag){var c=a.stateNode;if(!c)return null;var d=ib.getFiberCurrentPropsFromNode(c);if(!d)return null;c=d[b];if(Ib(b,a.type,d))return null}else{d=a._currentElement;if(\"string\"===typeof d||\"number\"===typeof d||!a._rootNodeID)return null;a=d.props;c=a[b];if(Ib(b,d.type,a))return null}c&&\"function\"!==typeof c?w(\"231\",b,typeof c):void 0;\nreturn c},extractEvents:function(a,b,c,d){for(var e,f=sa.plugins,g=0;g<f.length;g++){var h=f[g];h&&(h=h.extractEvents(a,b,c,d))&&(e=Cb(e,h))}return e},enqueueEvents:function(a){a&&(Eb=Cb(Eb,a))},processEventQueue:function(a){var b=Eb;Eb=null;a?Db(b,Gb):Db(b,Hb);Eb?w(\"95\"):void 0;eb.rethrowCaughtError()}},Kb;l.canUseDOM&&(Kb=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature(\"\",\"\"));\nfunction Lb(a,b){if(!l.canUseDOM||b&&!(\"addEventListener\"in document))return!1;b=\"on\"+a;var c=b in document;c||(c=document.createElement(\"div\"),c.setAttribute(b,\"return;\"),c=\"function\"===typeof c[b]);!c&&Kb&&\"wheel\"===a&&(c=document.implementation.hasFeature(\"Events.wheel\",\"3.0\"));return c}function Mb(a,b){var c={};c[a.toLowerCase()]=b.toLowerCase();c[\"Webkit\"+a]=\"webkit\"+b;c[\"Moz\"+a]=\"moz\"+b;c[\"ms\"+a]=\"MS\"+b;c[\"O\"+a]=\"o\"+b.toLowerCase();return c}\nvar Nb={animationend:Mb(\"Animation\",\"AnimationEnd\"),animationiteration:Mb(\"Animation\",\"AnimationIteration\"),animationstart:Mb(\"Animation\",\"AnimationStart\"),transitionend:Mb(\"Transition\",\"TransitionEnd\")},Ob={},Pb={};l.canUseDOM&&(Pb=document.createElement(\"div\").style,\"AnimationEvent\"in window||(delete Nb.animationend.animation,delete Nb.animationiteration.animation,delete Nb.animationstart.animation),\"TransitionEvent\"in window||delete Nb.transitionend.transition);\nfunction Qb(a){if(Ob[a])return Ob[a];if(!Nb[a])return a;var b=Nb[a],c;for(c in b)if(b.hasOwnProperty(c)&&c in Pb)return Ob[a]=b[c];return\"\"}\nvar Rb={topAbort:\"abort\",topAnimationEnd:Qb(\"animationend\")||\"animationend\",topAnimationIteration:Qb(\"animationiteration\")||\"animationiteration\",topAnimationStart:Qb(\"animationstart\")||\"animationstart\",topBlur:\"blur\",topCancel:\"cancel\",topCanPlay:\"canplay\",topCanPlayThrough:\"canplaythrough\",topChange:\"change\",topClick:\"click\",topClose:\"close\",topCompositionEnd:\"compositionend\",topCompositionStart:\"compositionstart\",topCompositionUpdate:\"compositionupdate\",topContextMenu:\"contextmenu\",topCopy:\"copy\",\ntopCut:\"cut\",topDoubleClick:\"dblclick\",topDrag:\"drag\",topDragEnd:\"dragend\",topDragEnter:\"dragenter\",topDragExit:\"dragexit\",topDragLeave:\"dragleave\",topDragOver:\"dragover\",topDragStart:\"dragstart\",topDrop:\"drop\",topDurationChange:\"durationchange\",topEmptied:\"emptied\",topEncrypted:\"encrypted\",topEnded:\"ended\",topError:\"error\",topFocus:\"focus\",topInput:\"input\",topKeyDown:\"keydown\",topKeyPress:\"keypress\",topKeyUp:\"keyup\",topLoadedData:\"loadeddata\",topLoad:\"load\",topLoadedMetadata:\"loadedmetadata\",topLoadStart:\"loadstart\",\ntopMouseDown:\"mousedown\",topMouseMove:\"mousemove\",topMouseOut:\"mouseout\",topMouseOver:\"mouseover\",topMouseUp:\"mouseup\",topPaste:\"paste\",topPause:\"pause\",topPlay:\"play\",topPlaying:\"playing\",topProgress:\"progress\",topRateChange:\"ratechange\",topScroll:\"scroll\",topSeeked:\"seeked\",topSeeking:\"seeking\",topSelectionChange:\"selectionchange\",topStalled:\"stalled\",topSuspend:\"suspend\",topTextInput:\"textInput\",topTimeUpdate:\"timeupdate\",topToggle:\"toggle\",topTouchCancel:\"touchcancel\",topTouchEnd:\"touchend\",topTouchMove:\"touchmove\",\ntopTouchStart:\"touchstart\",topTransitionEnd:Qb(\"transitionend\")||\"transitionend\",topVolumeChange:\"volumechange\",topWaiting:\"waiting\",topWheel:\"wheel\"},Sb={},Tb=0,Ub=\"_reactListenersID\"+(\"\"+Math.random()).slice(2);function Vb(a){Object.prototype.hasOwnProperty.call(a,Ub)||(a[Ub]=Tb++,Sb[a[Ub]]={});return Sb[a[Ub]]}\nvar M=n({},{handleTopLevel:function(a,b,c,d){a=Jb.extractEvents(a,b,c,d);Jb.enqueueEvents(a);Jb.processEventQueue(!1)}},{setEnabled:function(a){L&&L.setEnabled(a)},isEnabled:function(){return!(!L||!L.isEnabled())},listenTo:function(a,b){var c=Vb(b);a=sa.registrationNameDependencies[a];for(var d=0;d<a.length;d++){var e=a[d];c.hasOwnProperty(e)&&c[e]||(\"topWheel\"===e?Lb(\"wheel\")?L.trapBubbledEvent(\"topWheel\",\"wheel\",b):Lb(\"mousewheel\")?L.trapBubbledEvent(\"topWheel\",\"mousewheel\",b):L.trapBubbledEvent(\"topWheel\",\n\"DOMMouseScroll\",b):\"topScroll\"===e?L.trapCapturedEvent(\"topScroll\",\"scroll\",b):\"topFocus\"===e||\"topBlur\"===e?(L.trapCapturedEvent(\"topFocus\",\"focus\",b),L.trapCapturedEvent(\"topBlur\",\"blur\",b),c.topBlur=!0,c.topFocus=!0):\"topCancel\"===e?(Lb(\"cancel\",!0)&&L.trapCapturedEvent(\"topCancel\",\"cancel\",b),c.topCancel=!0):\"topClose\"===e?(Lb(\"close\",!0)&&L.trapCapturedEvent(\"topClose\",\"close\",b),c.topClose=!0):Rb.hasOwnProperty(e)&&L.trapBubbledEvent(e,Rb[e],b),c[e]=!0)}},isListeningToAllDependencies:function(a,\nb){b=Vb(b);a=sa.registrationNameDependencies[a];for(var c=0;c<a.length;c++){var d=a[c];if(!b.hasOwnProperty(d)||!b[d])return!1}return!0},trapBubbledEvent:function(a,b,c){return L.trapBubbledEvent(a,b,c)},trapCapturedEvent:function(a,b,c){return L.trapCapturedEvent(a,b,c)}}),Wb={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,\nflexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xb=[\"Webkit\",\"ms\",\"Moz\",\"O\"];\nObject.keys(Wb).forEach(function(a){Xb.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);Wb[b]=Wb[a]})});\nvar Yb={isUnitlessNumber:Wb,shorthandPropertyExpansions:{background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,\nborderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}}},Zb=Yb.isUnitlessNumber,$b=!1;if(l.canUseDOM){var ac=document.createElement(\"div\").style;try{ac.font=\"\"}catch(a){$b=!0}}\nvar bc={createDangerousStringForStyles:function(){},setValueForStyles:function(a,b){a=a.style;for(var c in b)if(b.hasOwnProperty(c)){var d=0===c.indexOf(\"--\");var e=c;var f=b[c];e=null==f||\"boolean\"===typeof f||\"\"===f?\"\":d||\"number\"!==typeof f||0===f||Zb.hasOwnProperty(e)&&Zb[e]?(\"\"+f).trim():f+\"px\";\"float\"===c&&(c=\"cssFloat\");if(d)a.setProperty(c,e);else if(e)a[c]=e;else if(d=$b&&Yb.shorthandPropertyExpansions[c])for(var g in d)a[g]=\"\";else a[c]=\"\"}}},cc=new RegExp(\"^[\"+A.ATTRIBUTE_NAME_START_CHAR+\n\"][\"+A.ATTRIBUTE_NAME_CHAR+\"]*$\"),dc={},ec={};function fc(a){if(ec.hasOwnProperty(a))return!0;if(dc.hasOwnProperty(a))return!1;if(cc.test(a))return ec[a]=!0;dc[a]=!0;return!1}\nvar gc={setAttributeForID:function(a,b){a.setAttribute(A.ID_ATTRIBUTE_NAME,b)},setAttributeForRoot:function(a){a.setAttribute(A.ROOT_ATTRIBUTE_NAME,\"\")},getValueForProperty:function(){},getValueForAttribute:function(){},setValueForProperty:function(a,b,c){var d=A.getPropertyInfo(b);if(d&&A.shouldSetAttribute(b,c)){var e=d.mutationMethod;e?e(a,c):null==c||d.hasBooleanValue&&!c||d.hasNumericValue&&isNaN(c)||d.hasPositiveNumericValue&&1>c||d.hasOverloadedBooleanValue&&!1===c?gc.deleteValueForProperty(a,\nb):d.mustUseProperty?a[d.propertyName]=c:(b=d.attributeName,(e=d.attributeNamespace)?a.setAttributeNS(e,b,\"\"+c):d.hasBooleanValue||d.hasOverloadedBooleanValue&&!0===c?a.setAttribute(b,\"\"):a.setAttribute(b,\"\"+c))}else gc.setValueForAttribute(a,b,A.shouldSetAttribute(b,c)?c:null)},setValueForAttribute:function(a,b,c){fc(b)&&(null==c?a.removeAttribute(b):a.setAttribute(b,\"\"+c))},deleteValueForAttribute:function(a,b){a.removeAttribute(b)},deleteValueForProperty:function(a,b){var c=A.getPropertyInfo(b);\nc?(b=c.mutationMethod)?b(a,void 0):c.mustUseProperty?a[c.propertyName]=c.hasBooleanValue?!1:\"\":a.removeAttribute(c.attributeName):a.removeAttribute(b)}},hc=gc,ic=Qa.ReactDebugCurrentFrame;function jc(){return null}\nvar kc={current:null,phase:null,resetCurrentFiber:function(){ic.getCurrentStack=null;kc.current=null;kc.phase=null},setCurrentFiber:function(a,b){ic.getCurrentStack=jc;kc.current=a;kc.phase=b},getCurrentFiberOwnerName:function(){return null},getCurrentFiberStackAddendum:jc},lc=kc,mc={getHostProps:function(a,b){var c=b.value,d=b.checked;return n({type:void 0,step:void 0,min:void 0,max:void 0},b,{defaultChecked:void 0,defaultValue:void 0,value:null!=c?c:a._wrapperState.initialValue,checked:null!=d?\nd:a._wrapperState.initialChecked})},initWrapperState:function(a,b){var c=b.defaultValue;a._wrapperState={initialChecked:null!=b.checked?b.checked:b.defaultChecked,initialValue:null!=b.value?b.value:c,controlled:\"checkbox\"===b.type||\"radio\"===b.type?null!=b.checked:null!=b.value}},updateWrapper:function(a,b){var c=b.checked;null!=c&&hc.setValueForProperty(a,\"checked\",c||!1);c=b.value;if(null!=c)if(0===c&&\"\"===a.value)a.value=\"0\";else if(\"number\"===b.type){if(b=parseFloat(a.value)||0,c!=b||c==b&&a.value!=\nc)a.value=\"\"+c}else a.value!==\"\"+c&&(a.value=\"\"+c);else null==b.value&&null!=b.defaultValue&&a.defaultValue!==\"\"+b.defaultValue&&(a.defaultValue=\"\"+b.defaultValue),null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)},postMountWrapper:function(a,b){switch(b.type){case \"submit\":case \"reset\":break;case \"color\":case \"date\":case \"datetime\":case \"datetime-local\":case \"month\":case \"time\":case \"week\":a.value=\"\";a.value=a.defaultValue;break;default:a.value=a.value}b=a.name;\"\"!==\nb&&(a.name=\"\");a.defaultChecked=!a.defaultChecked;a.defaultChecked=!a.defaultChecked;\"\"!==b&&(a.name=b)},restoreControlledState:function(a,b){mc.updateWrapper(a,b);var c=b.name;if(\"radio\"===b.type&&null!=c){for(b=a;b.parentNode;)b=b.parentNode;c=b.querySelectorAll(\"input[name\\x3d\"+JSON.stringify(\"\"+c)+'][type\\x3d\"radio\"]');for(b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=G.getFiberCurrentPropsFromNode(d);e?void 0:w(\"90\");mc.updateWrapper(d,e)}}}}},qc=mc;\nfunction rc(a){var b=\"\";aa.Children.forEach(a,function(a){null==a||\"string\"!==typeof a&&\"number\"!==typeof a||(b+=a)});return b}var sc={validateProps:function(){},postMountWrapper:function(a,b){null!=b.value&&a.setAttribute(\"value\",b.value)},getHostProps:function(a,b){a=n({children:void 0},b);if(b=rc(b.children))a.children=b;return a}};\nfunction tc(a,b,c){a=a.options;if(b){b={};for(var d=0;d<c.length;d++)b[\"$\"+c[d]]=!0;for(c=0;c<a.length;c++)d=b.hasOwnProperty(\"$\"+a[c].value),a[c].selected!==d&&(a[c].selected=d)}else{c=\"\"+c;b=null;for(d=0;d<a.length;d++){if(a[d].value===c){a[d].selected=!0;return}null!==b||a[d].disabled||(b=a[d])}null!==b&&(b.selected=!0)}}\nvar uc={getHostProps:function(a,b){return n({},b,{value:void 0})},initWrapperState:function(a,b){var c=b.value;a._wrapperState={initialValue:null!=c?c:b.defaultValue,wasMultiple:!!b.multiple}},postMountWrapper:function(a,b){a.multiple=!!b.multiple;var c=b.value;null!=c?tc(a,!!b.multiple,c):null!=b.defaultValue&&tc(a,!!b.multiple,b.defaultValue)},postUpdateWrapper:function(a,b){a._wrapperState.initialValue=void 0;var c=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!b.multiple;var d=b.value;\nnull!=d?tc(a,!!b.multiple,d):c!==!!b.multiple&&(null!=b.defaultValue?tc(a,!!b.multiple,b.defaultValue):tc(a,!!b.multiple,b.multiple?[]:\"\"))},restoreControlledState:function(a,b){var c=b.value;null!=c&&tc(a,!!b.multiple,c)}},vc={getHostProps:function(a,b){null!=b.dangerouslySetInnerHTML?w(\"91\"):void 0;return n({},b,{value:void 0,defaultValue:void 0,children:\"\"+a._wrapperState.initialValue})},initWrapperState:function(a,b){var c=b.value,d=c;null==c&&(c=b.defaultValue,b=b.children,null!=b&&(null!=c?\nw(\"92\"):void 0,Array.isArray(b)&&(1>=b.length?void 0:w(\"93\"),b=b[0]),c=\"\"+b),null==c&&(c=\"\"),d=c);a._wrapperState={initialValue:\"\"+d}},updateWrapper:function(a,b){var c=b.value;null!=c&&(c=\"\"+c,c!==a.value&&(a.value=c),null==b.defaultValue&&(a.defaultValue=c));null!=b.defaultValue&&(a.defaultValue=b.defaultValue)},postMountWrapper:function(a){var b=a.textContent;b===a._wrapperState.initialValue&&(a.value=b)},restoreControlledState:function(a,b){vc.updateWrapper(a,b)}},wc=vc,xc=n({menuitem:!0},{area:!0,\nbase:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yc(a,b){b&&(xc[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML?w(\"137\",a,\"\"):void 0),null!=b.dangerouslySetInnerHTML&&(null!=b.children?w(\"60\"):void 0,\"object\"===typeof b.dangerouslySetInnerHTML&&\"__html\"in b.dangerouslySetInnerHTML?void 0:w(\"61\")),null!=b.style&&\"object\"!==typeof b.style?w(\"62\",\"\"):void 0)}\nfunction zc(a){var b=a.type;return(a=a.nodeName)&&\"input\"===a.toLowerCase()&&(\"checkbox\"===b||\"radio\"===b)}\nfunction Ac(a){var b=zc(a)?\"checked\":\"value\",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,b),d=\"\"+a[b];if(!a.hasOwnProperty(b)&&\"function\"===typeof c.get&&\"function\"===typeof c.set)return Object.defineProperty(a,b,{enumerable:c.enumerable,configurable:!0,get:function(){return c.get.call(this)},set:function(a){d=\"\"+a;c.set.call(this,a)}}),{getValue:function(){return d},setValue:function(a){d=\"\"+a},stopTracking:function(){a._valueTracker=null;delete a[b]}}}\nvar Bc={_getTrackerFromNode:function(a){return a._valueTracker},track:function(a){a._valueTracker||(a._valueTracker=Ac(a))},updateValueIfChanged:function(a){if(!a)return!1;var b=a._valueTracker;if(!b)return!0;var c=b.getValue();var d=\"\";a&&(d=zc(a)?a.checked?\"true\":\"false\":a.value);a=d;return a!==c?(b.setValue(a),!0):!1},stopTracking:function(a){(a=a._valueTracker)&&a.stopTracking()}};\nfunction Cc(a,b){if(-1===a.indexOf(\"-\"))return\"string\"===typeof b.is;switch(a){case \"annotation-xml\":case \"color-profile\":case \"font-face\":case \"font-face-src\":case \"font-face-uri\":case \"font-face-format\":case \"font-face-name\":case \"missing-glyph\":return!1;default:return!0}}\nvar Dc=ka.Namespaces,Ec,Fc=function(a){return\"undefined\"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c,d,e)})}:a}(function(a,b){if(a.namespaceURI!==Dc.svg||\"innerHTML\"in a)a.innerHTML=b;else for(Ec=Ec||document.createElement(\"div\"),Ec.innerHTML=\"\\x3csvg\\x3e\"+b+\"\\x3c/svg\\x3e\",b=Ec.firstChild;b.firstChild;)a.appendChild(b.firstChild)}),Gc=/[\"'&<>]/,Hc=F.TEXT_NODE;\nfunction Ic(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===Hc){c.nodeValue=b;return}}a.textContent=b}\nl.canUseDOM&&(\"textContent\"in document.documentElement||(Ic=function(a,b){if(a.nodeType===Hc)a.nodeValue=b;else{if(\"boolean\"===typeof b||\"number\"===typeof b)b=\"\"+b;else{b=\"\"+b;var c=Gc.exec(b);if(c){var d=\"\",e,f=0;for(e=c.index;e<b.length;e++){switch(b.charCodeAt(e)){case 34:c=\"\\x26quot;\";break;case 38:c=\"\\x26amp;\";break;case 39:c=\"\\x26#x27;\";break;case 60:c=\"\\x26lt;\";break;case 62:c=\"\\x26gt;\";break;default:continue}f!==e&&(d+=b.substring(f,e));f=e+1;d+=c}b=f!==e?d+b.substring(f,e):d}}Fc(a,b)}}));\nvar Jc=Ic,Kc=lc.getCurrentFiberOwnerName,Lc=F.DOCUMENT_NODE,Mc=F.DOCUMENT_FRAGMENT_NODE,Nc=M.listenTo,Oc=sa.registrationNameModules,Pc=ka.Namespaces.html,Qc=ka.getIntrinsicNamespace;function Rc(a,b){Nc(b,a.nodeType===Lc||a.nodeType===Mc?a:a.ownerDocument)}\nvar Sc={topAbort:\"abort\",topCanPlay:\"canplay\",topCanPlayThrough:\"canplaythrough\",topDurationChange:\"durationchange\",topEmptied:\"emptied\",topEncrypted:\"encrypted\",topEnded:\"ended\",topError:\"error\",topLoadedData:\"loadeddata\",topLoadedMetadata:\"loadedmetadata\",topLoadStart:\"loadstart\",topPause:\"pause\",topPlay:\"play\",topPlaying:\"playing\",topProgress:\"progress\",topRateChange:\"ratechange\",topSeeked:\"seeked\",topSeeking:\"seeking\",topStalled:\"stalled\",topSuspend:\"suspend\",topTimeUpdate:\"timeupdate\",topVolumeChange:\"volumechange\",\ntopWaiting:\"waiting\"},N={createElement:function(a,b,c,d){c=c.nodeType===Lc?c:c.ownerDocument;d===Pc&&(d=Qc(a));d===Pc?\"script\"===a?(a=c.createElement(\"div\"),a.innerHTML=\"\\x3cscript\\x3e\\x3c/script\\x3e\",a=a.removeChild(a.firstChild)):a=\"string\"===typeof b.is?c.createElement(a,{is:b.is}):c.createElement(a):a=c.createElementNS(d,a);return a},createTextNode:function(a,b){return(b.nodeType===Lc?b:b.ownerDocument).createTextNode(a)},setInitialProperties:function(a,b,c,d){var e=Cc(b,c);switch(b){case \"iframe\":case \"object\":M.trapBubbledEvent(\"topLoad\",\n\"load\",a);var f=c;break;case \"video\":case \"audio\":for(f in Sc)Sc.hasOwnProperty(f)&&M.trapBubbledEvent(f,Sc[f],a);f=c;break;case \"source\":M.trapBubbledEvent(\"topError\",\"error\",a);f=c;break;case \"img\":case \"image\":M.trapBubbledEvent(\"topError\",\"error\",a);M.trapBubbledEvent(\"topLoad\",\"load\",a);f=c;break;case \"form\":M.trapBubbledEvent(\"topReset\",\"reset\",a);M.trapBubbledEvent(\"topSubmit\",\"submit\",a);f=c;break;case \"details\":M.trapBubbledEvent(\"topToggle\",\"toggle\",a);f=c;break;case \"input\":qc.initWrapperState(a,\nc);f=qc.getHostProps(a,c);M.trapBubbledEvent(\"topInvalid\",\"invalid\",a);Rc(d,\"onChange\");break;case \"option\":sc.validateProps(a,c);f=sc.getHostProps(a,c);break;case \"select\":uc.initWrapperState(a,c);f=uc.getHostProps(a,c);M.trapBubbledEvent(\"topInvalid\",\"invalid\",a);Rc(d,\"onChange\");break;case \"textarea\":wc.initWrapperState(a,c);f=wc.getHostProps(a,c);M.trapBubbledEvent(\"topInvalid\",\"invalid\",a);Rc(d,\"onChange\");break;default:f=c}yc(b,f,Kc);var g=f,h;for(h in g)if(g.hasOwnProperty(h)){var k=g[h];\"style\"===\nh?bc.setValueForStyles(a,k):\"dangerouslySetInnerHTML\"===h?(k=k?k.__html:void 0,null!=k&&Fc(a,k)):\"children\"===h?\"string\"===typeof k?Jc(a,k):\"number\"===typeof k&&Jc(a,\"\"+k):\"suppressContentEditableWarning\"!==h&&(Oc.hasOwnProperty(h)?null!=k&&Rc(d,h):e?hc.setValueForAttribute(a,h,k):null!=k&&hc.setValueForProperty(a,h,k))}switch(b){case \"input\":Bc.track(a);qc.postMountWrapper(a,c);break;case \"textarea\":Bc.track(a);wc.postMountWrapper(a,c);break;case \"option\":sc.postMountWrapper(a,c);break;case \"select\":uc.postMountWrapper(a,\nc);break;default:\"function\"===typeof f.onClick&&(a.onclick=ca)}},diffProperties:function(a,b,c,d,e){var f=null;switch(b){case \"input\":c=qc.getHostProps(a,c);d=qc.getHostProps(a,d);f=[];break;case \"option\":c=sc.getHostProps(a,c);d=sc.getHostProps(a,d);f=[];break;case \"select\":c=uc.getHostProps(a,c);d=uc.getHostProps(a,d);f=[];break;case \"textarea\":c=wc.getHostProps(a,c);d=wc.getHostProps(a,d);f=[];break;default:\"function\"!==typeof c.onClick&&\"function\"===typeof d.onClick&&(a.onclick=ca)}yc(b,d,Kc);\nvar g,h;a=null;for(g in c)if(!d.hasOwnProperty(g)&&c.hasOwnProperty(g)&&null!=c[g])if(\"style\"===g)for(h in b=c[g],b)b.hasOwnProperty(h)&&(a||(a={}),a[h]=\"\");else\"dangerouslySetInnerHTML\"!==g&&\"children\"!==g&&\"suppressContentEditableWarning\"!==g&&(Oc.hasOwnProperty(g)?f||(f=[]):(f=f||[]).push(g,null));for(g in d){var k=d[g];b=null!=c?c[g]:void 0;if(d.hasOwnProperty(g)&&k!==b&&(null!=k||null!=b))if(\"style\"===g)if(b){for(h in b)!b.hasOwnProperty(h)||k&&k.hasOwnProperty(h)||(a||(a={}),a[h]=\"\");for(h in k)k.hasOwnProperty(h)&&\nb[h]!==k[h]&&(a||(a={}),a[h]=k[h])}else a||(f||(f=[]),f.push(g,a)),a=k;else\"dangerouslySetInnerHTML\"===g?(k=k?k.__html:void 0,b=b?b.__html:void 0,null!=k&&b!==k&&(f=f||[]).push(g,\"\"+k)):\"children\"===g?b===k||\"string\"!==typeof k&&\"number\"!==typeof k||(f=f||[]).push(g,\"\"+k):\"suppressContentEditableWarning\"!==g&&(Oc.hasOwnProperty(g)?(null!=k&&Rc(e,g),f||b===k||(f=[])):(f=f||[]).push(g,k))}a&&(f=f||[]).push(\"style\",a);return f},updateProperties:function(a,b,c,d,e){Cc(c,d);d=Cc(c,e);for(var f=0;f<b.length;f+=\n2){var g=b[f],h=b[f+1];\"style\"===g?bc.setValueForStyles(a,h):\"dangerouslySetInnerHTML\"===g?Fc(a,h):\"children\"===g?Jc(a,h):d?null!=h?hc.setValueForAttribute(a,g,h):hc.deleteValueForAttribute(a,g):null!=h?hc.setValueForProperty(a,g,h):hc.deleteValueForProperty(a,g)}switch(c){case \"input\":qc.updateWrapper(a,e);Bc.updateValueIfChanged(a);break;case \"textarea\":wc.updateWrapper(a,e);break;case \"select\":uc.postUpdateWrapper(a,e)}},diffHydratedProperties:function(a,b,c,d,e){switch(b){case \"iframe\":case \"object\":M.trapBubbledEvent(\"topLoad\",\n\"load\",a);break;case \"video\":case \"audio\":for(var f in Sc)Sc.hasOwnProperty(f)&&M.trapBubbledEvent(f,Sc[f],a);break;case \"source\":M.trapBubbledEvent(\"topError\",\"error\",a);break;case \"img\":case \"image\":M.trapBubbledEvent(\"topError\",\"error\",a);M.trapBubbledEvent(\"topLoad\",\"load\",a);break;case \"form\":M.trapBubbledEvent(\"topReset\",\"reset\",a);M.trapBubbledEvent(\"topSubmit\",\"submit\",a);break;case \"details\":M.trapBubbledEvent(\"topToggle\",\"toggle\",a);break;case \"input\":qc.initWrapperState(a,c);M.trapBubbledEvent(\"topInvalid\",\n\"invalid\",a);Rc(e,\"onChange\");break;case \"option\":sc.validateProps(a,c);break;case \"select\":uc.initWrapperState(a,c);M.trapBubbledEvent(\"topInvalid\",\"invalid\",a);Rc(e,\"onChange\");break;case \"textarea\":wc.initWrapperState(a,c),M.trapBubbledEvent(\"topInvalid\",\"invalid\",a),Rc(e,\"onChange\")}yc(b,c,Kc);d=null;for(var g in c)c.hasOwnProperty(g)&&(f=c[g],\"children\"===g?\"string\"===typeof f?a.textContent!==f&&(d=[\"children\",f]):\"number\"===typeof f&&a.textContent!==\"\"+f&&(d=[\"children\",\"\"+f]):Oc.hasOwnProperty(g)&&\nnull!=f&&Rc(e,g));switch(b){case \"input\":Bc.track(a);qc.postMountWrapper(a,c);break;case \"textarea\":Bc.track(a);wc.postMountWrapper(a,c);break;case \"select\":case \"option\":break;default:\"function\"===typeof c.onClick&&(a.onclick=ca)}return d},diffHydratedText:function(a,b){return a.nodeValue!==b},warnForDeletedHydratableElement:function(){},warnForDeletedHydratableText:function(){},warnForInsertedHydratedElement:function(){},warnForInsertedHydratedText:function(){},restoreControlledState:function(a,\nb,c){switch(b){case \"input\":qc.restoreControlledState(a,c);break;case \"textarea\":wc.restoreControlledState(a,c);break;case \"select\":uc.restoreControlledState(a,c)}}},Tc=void 0;\nif(l.canUseDOM)if(\"function\"!==typeof requestIdleCallback){var Uc=null,Vc=null,Wc=!1,Xc=!1,Yc=0,Zc=33,$c=33,ad={timeRemaining:\"object\"===typeof performance&&\"function\"===typeof performance.now?function(){return Yc-performance.now()}:function(){return Yc-Date.now()}},bd=\"__reactIdleCallback$\"+Math.random().toString(36).slice(2);window.addEventListener(\"message\",function(a){a.source===window&&a.data===bd&&(Wc=!1,a=Vc,Vc=null,null!==a&&a(ad))},!1);var cd=function(a){Xc=!1;var b=a-Yc+$c;b<$c&&Zc<$c?(8>\nb&&(b=8),$c=b<Zc?Zc:b):Zc=b;Yc=a+$c;Wc||(Wc=!0,window.postMessage(bd,\"*\"));b=Uc;Uc=null;null!==b&&b(a)};Tc=function(a){Vc=a;Xc||(Xc=!0,requestAnimationFrame(cd));return 0}}else Tc=requestIdleCallback;else Tc=function(a){setTimeout(function(){a({timeRemaining:function(){return Infinity}})});return 0};\nvar dd={rIC:Tc},ed={enableAsyncSubtreeAPI:!0},Q={NoWork:0,SynchronousPriority:1,TaskPriority:2,HighPriority:3,LowPriority:4,OffscreenPriority:5},fd=J.Callback,gd=Q.NoWork,hd=Q.SynchronousPriority,id=Q.TaskPriority,jd=E.ClassComponent,kd=E.HostRoot,md=void 0,nd=void 0;function od(a,b){return a!==id&&a!==hd||b!==id&&b!==hd?a===gd&&b!==gd?-255:a!==gd&&b===gd?255:a-b:0}function pd(){return{first:null,last:null,hasForceUpdate:!1,callbackList:null}}\nfunction qd(a,b,c,d){null!==c?c.next=b:(b.next=a.first,a.first=b);null!==d?b.next=d:a.last=b}function rd(a,b){b=b.priorityLevel;var c=null;if(null!==a.last&&0>=od(a.last.priorityLevel,b))c=a.last;else for(a=a.first;null!==a&&0>=od(a.priorityLevel,b);)c=a,a=a.next;return c}\nfunction sd(a,b){var c=a.alternate,d=a.updateQueue;null===d&&(d=a.updateQueue=pd());null!==c?(a=c.updateQueue,null===a&&(a=c.updateQueue=pd())):a=null;md=d;nd=a!==d?a:null;var e=md;c=nd;var f=rd(e,b),g=null!==f?f.next:e.first;if(null===c)return qd(e,b,f,g),null;d=rd(c,b);a=null!==d?d.next:c.first;qd(e,b,f,g);if(g===a&&null!==g||f===d&&null!==f)return null===d&&(c.first=b),null===a&&(c.last=null),null;b={priorityLevel:b.priorityLevel,partialState:b.partialState,callback:b.callback,isReplace:b.isReplace,\nisForced:b.isForced,isTopLevelUnmount:b.isTopLevelUnmount,next:null};qd(c,b,d,a);return b}function td(a,b,c,d){a=a.partialState;return\"function\"===typeof a?a.call(b,c,d):a}\nvar ud={addUpdate:function(a,b,c,d){sd(a,{priorityLevel:d,partialState:b,callback:c,isReplace:!1,isForced:!1,isTopLevelUnmount:!1,next:null})},addReplaceUpdate:function(a,b,c,d){sd(a,{priorityLevel:d,partialState:b,callback:c,isReplace:!0,isForced:!1,isTopLevelUnmount:!1,next:null})},addForceUpdate:function(a,b,c){sd(a,{priorityLevel:c,partialState:null,callback:b,isReplace:!1,isForced:!0,isTopLevelUnmount:!1,next:null})},getUpdatePriority:function(a){var b=a.updateQueue;return null===b||a.tag!==\njd&&a.tag!==kd?gd:null!==b.first?b.first.priorityLevel:gd},addTopLevelUpdate:function(a,b,c,d){var e=null===b.element;b={priorityLevel:d,partialState:b,callback:c,isReplace:!1,isForced:!1,isTopLevelUnmount:e,next:null};a=sd(a,b);e&&(e=md,c=nd,null!==e&&null!==b.next&&(b.next=null,e.last=b),null!==c&&null!==a&&null!==a.next&&(a.next=null,c.last=b))},beginUpdateQueue:function(a,b,c,d,e,f,g){null!==a&&a.updateQueue===c&&(c=b.updateQueue={first:c.first,last:c.last,callbackList:null,hasForceUpdate:!1});\na=c.callbackList;for(var h=c.hasForceUpdate,k=!0,p=c.first;null!==p&&0>=od(p.priorityLevel,g);){c.first=p.next;null===c.first&&(c.last=null);var x;if(p.isReplace)e=td(p,d,e,f),k=!0;else if(x=td(p,d,e,f))e=k?n({},e,x):n(e,x),k=!1;p.isForced&&(h=!0);null===p.callback||p.isTopLevelUnmount&&null!==p.next||(a=null!==a?a:[],a.push(p.callback),b.effectTag|=fd);p=p.next}c.callbackList=a;c.hasForceUpdate=h;null!==c.first||null!==a||h||(b.updateQueue=null);return e},commitCallbacks:function(a,b,c){a=b.callbackList;\nif(null!==a)for(b.callbackList=null,b=0;b<a.length;b++){var d=a[b];\"function\"!==typeof d?w(\"191\",d):void 0;d.call(c)}}},vd=[],wd=-1,xd={createCursor:function(a){return{current:a}},isEmpty:function(){return-1===wd},pop:function(a){0>wd||(a.current=vd[wd],vd[wd]=null,wd--)},push:function(a,b){wd++;vd[wd]=a.current;a.current=b},reset:function(){for(;-1<wd;)vd[wd]=null,wd--}},yd=bb.isFiberMounted,zd=E.ClassComponent,Ad=E.HostRoot,Bd=xd.createCursor,Cd=xd.pop,Dd=xd.push,Ed=Bd(da),Fd=Bd(!1),Ld=da;\nfunction Md(a,b,c){a=a.stateNode;a.__reactInternalMemoizedUnmaskedChildContext=b;a.__reactInternalMemoizedMaskedChildContext=c}function Nd(a){return a.tag===zd&&null!=a.type.childContextTypes}function Od(a,b){var c=a.stateNode,d=a.type.childContextTypes;if(\"function\"!==typeof c.getChildContext)return b;c=c.getChildContext();for(var e in c)e in d?void 0:w(\"108\",Ra(a)||\"Unknown\",e);return n({},b,c)}\nvar R={getUnmaskedContext:function(a){return Nd(a)?Ld:Ed.current},cacheContext:Md,getMaskedContext:function(a,b){var c=a.type.contextTypes;if(!c)return da;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var e={},f;for(f in c)e[f]=b[f];d&&Md(a,b,e);return e},hasContextChanged:function(){return Fd.current},isContextConsumer:function(a){return a.tag===zd&&null!=a.type.contextTypes},isContextProvider:Nd,popContextProvider:function(a){Nd(a)&&\n(Cd(Fd,a),Cd(Ed,a))},popTopLevelContextObject:function(a){Cd(Fd,a);Cd(Ed,a)},pushTopLevelContextObject:function(a,b,c){null!=Ed.cursor?w(\"168\"):void 0;Dd(Ed,b,a);Dd(Fd,c,a)},processChildContext:Od,pushContextProvider:function(a){if(!Nd(a))return!1;var b=a.stateNode;b=b&&b.__reactInternalMemoizedMergedChildContext||da;Ld=Ed.current;Dd(Ed,b,a);Dd(Fd,Fd.current,a);return!0},invalidateContextProvider:function(a,b){var c=a.stateNode;c?void 0:w(\"169\");if(b){var d=Od(a,Ld,!0);c.__reactInternalMemoizedMergedChildContext=\nd;Cd(Fd,a);Cd(Ed,a);Dd(Ed,d,a)}else Cd(Fd,a);Dd(Fd,b,a)},resetContext:function(){Ld=da;Ed.current=da;Fd.current=!1},findCurrentUnmaskedContext:function(a){for(yd(a)&&a.tag===zd?void 0:w(\"170\");a.tag!==Ad;){if(Nd(a))return a.stateNode.__reactInternalMemoizedMergedChildContext;(a=a[\"return\"])?void 0:w(\"171\")}return a.stateNode.context}},Pd={NoContext:0,AsyncUpdates:1},Qd=E.IndeterminateComponent,Rd=E.ClassComponent,Sd=E.HostRoot,Td=E.HostComponent,Ud=E.HostText,Vd=E.HostPortal,Wd=E.CoroutineComponent,\nXd=E.YieldComponent,Yd=E.Fragment,Zd=Q.NoWork,$d=Pd.NoContext,ae=J.NoEffect;function be(a,b,c){this.tag=a;this.key=b;this.stateNode=this.type=null;this.sibling=this.child=this[\"return\"]=null;this.index=0;this.memoizedState=this.updateQueue=this.memoizedProps=this.pendingProps=this.ref=null;this.internalContextTag=c;this.effectTag=ae;this.lastEffect=this.firstEffect=this.nextEffect=null;this.pendingWorkPriority=Zd;this.alternate=null}\nfunction ce(a,b,c){var d=void 0;\"function\"===typeof a?(d=a.prototype&&a.prototype.isReactComponent?new be(Rd,b,c):new be(Qd,b,c),d.type=a):\"string\"===typeof a?(d=new be(Td,b,c),d.type=a):\"object\"===typeof a&&null!==a&&\"number\"===typeof a.tag?d=a:w(\"130\",null==a?a:typeof a,\"\");return d}\nvar de={createWorkInProgress:function(a,b){var c=a.alternate;null===c?(c=new be(a.tag,a.key,a.internalContextTag),c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.effectTag=ae,c.nextEffect=null,c.firstEffect=null,c.lastEffect=null);c.pendingWorkPriority=b;c.child=a.child;c.memoizedProps=a.memoizedProps;c.memoizedState=a.memoizedState;c.updateQueue=a.updateQueue;c.sibling=a.sibling;c.index=a.index;c.ref=a.ref;return c},createHostRootFiber:function(){return new be(Sd,null,$d)},\ncreateFiberFromElement:function(a,b,c){b=ce(a.type,a.key,b,null);b.pendingProps=a.props;b.pendingWorkPriority=c;return b},createFiberFromFragment:function(a,b,c){b=new be(Yd,null,b);b.pendingProps=a;b.pendingWorkPriority=c;return b},createFiberFromText:function(a,b,c){b=new be(Ud,null,b);b.pendingProps=a;b.pendingWorkPriority=c;return b},createFiberFromElementType:ce,createFiberFromHostInstanceForDeletion:function(){var a=new be(Td,null,$d);a.type=\"DELETED\";return a},createFiberFromCoroutine:function(a,\nb,c){b=new be(Wd,a.key,b);b.type=a.handler;b.pendingProps=a;b.pendingWorkPriority=c;return b},createFiberFromYield:function(a,b){return new be(Xd,null,b)},createFiberFromPortal:function(a,b,c){b=new be(Vd,a.key,b);b.pendingProps=a.children||[];b.pendingWorkPriority=c;b.stateNode={containerInfo:a.containerInfo,implementation:a.implementation};return b},largerPriority:function(a,b){return a!==Zd&&(b===Zd||b>a)?a:b}},ee=de.createHostRootFiber,fe=E.IndeterminateComponent,ge=E.FunctionalComponent,he=E.ClassComponent,\nie=E.HostComponent,je,ke;\"function\"===typeof Symbol&&Symbol[\"for\"]?(je=Symbol[\"for\"](\"react.coroutine\"),ke=Symbol[\"for\"](\"react.yield\")):(je=60104,ke=60105);\nvar le={createCoroutine:function(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:je,key:null==d?null:\"\"+d,children:a,handler:b,props:c}},createYield:function(a){return{$$typeof:ke,value:a}},isCoroutine:function(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===je},isYield:function(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===ke},REACT_YIELD_TYPE:ke,REACT_COROUTINE_TYPE:je},me=\"function\"===typeof Symbol&&Symbol[\"for\"]&&Symbol[\"for\"](\"react.portal\")||\n60106,ne={createPortal:function(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:me,key:null==d?null:\"\"+d,children:a,containerInfo:b,implementation:c}},isPortal:function(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===me},REACT_PORTAL_TYPE:me},oe=le.REACT_COROUTINE_TYPE,pe=le.REACT_YIELD_TYPE,qe=ne.REACT_PORTAL_TYPE,re=de.createWorkInProgress,se=de.createFiberFromElement,te=de.createFiberFromFragment,ue=de.createFiberFromText,ve=de.createFiberFromCoroutine,\nwe=de.createFiberFromYield,xe=de.createFiberFromPortal,ye=Array.isArray,ze=E.FunctionalComponent,Ae=E.ClassComponent,Be=E.HostText,Ce=E.HostPortal,De=E.CoroutineComponent,Ee=E.YieldComponent,Fe=E.Fragment,Ge=J.NoEffect,He=J.Placement,Ie=J.Deletion,Je=\"function\"===typeof Symbol&&Symbol.iterator,Ke=\"function\"===typeof Symbol&&Symbol[\"for\"]&&Symbol[\"for\"](\"react.element\")||60103;\nfunction Le(a){if(null===a||\"undefined\"===typeof a)return null;a=Je&&a[Je]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}\nfunction Me(a,b){var c=b.ref;if(null!==c&&\"function\"!==typeof c){if(b._owner){b=b._owner;var d=void 0;b&&(\"number\"===typeof b.tag?(b.tag!==Ae?w(\"110\"):void 0,d=b.stateNode):d=b.getPublicInstance());d?void 0:w(\"147\",c);var e=\"\"+c;if(null!==a&&null!==a.ref&&a.ref._stringRef===e)return a.ref;a=function(a){var b=d.refs===da?d.refs={}:d.refs;null===a?delete b[e]:b[e]=a};a._stringRef=e;return a}\"string\"!==typeof c?w(\"148\"):void 0;b._owner?void 0:w(\"149\",c)}return c}\nfunction Ne(a,b){\"textarea\"!==a.type&&w(\"31\",\"[object Object]\"===Object.prototype.toString.call(b)?\"object with keys {\"+Object.keys(b).join(\", \")+\"}\":b,\"\")}\nfunction Oe(a,b){function c(c,d){if(b){if(!a){if(null===d.alternate)return;d=d.alternate}var m=c.lastEffect;null!==m?(m.nextEffect=d,c.lastEffect=d):c.firstEffect=c.lastEffect=d;d.nextEffect=null;d.effectTag=Ie}}function d(a,d){if(!b)return null;for(;null!==d;)c(a,d),d=d.sibling;return null}function e(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function f(b,c){if(a)return b=re(b,c),b.index=0,b.sibling=null,b;b.pendingWorkPriority=c;b.effectTag=Ge;\nb.index=0;b.sibling=null;return b}function g(a,c,d){a.index=d;if(!b)return c;d=a.alternate;if(null!==d)return d=d.index,d<c?(a.effectTag=He,c):d;a.effectTag=He;return c}function h(a){b&&null===a.alternate&&(a.effectTag=He);return a}function k(a,b,c,d){if(null===b||b.tag!==Be)return c=ue(c,a.internalContextTag,d),c[\"return\"]=a,c;b=f(b,d);b.pendingProps=c;b[\"return\"]=a;return b}function p(a,b,c,d){if(null===b||b.type!==c.type)return d=se(c,a.internalContextTag,d),d.ref=Me(b,c),d[\"return\"]=a,d;d=f(b,\nd);d.ref=Me(b,c);d.pendingProps=c.props;d[\"return\"]=a;return d}function x(a,b,c,d){if(null===b||b.tag!==De)return c=ve(c,a.internalContextTag,d),c[\"return\"]=a,c;b=f(b,d);b.pendingProps=c;b[\"return\"]=a;return b}function S(a,b,c,d){if(null===b||b.tag!==Ee)return b=we(c,a.internalContextTag,d),b.type=c.value,b[\"return\"]=a,b;b=f(b,d);b.type=c.value;b[\"return\"]=a;return b}function D(a,b,c,d){if(null===b||b.tag!==Ce||b.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==c.implementation)return c=\nxe(c,a.internalContextTag,d),c[\"return\"]=a,c;b=f(b,d);b.pendingProps=c.children||[];b[\"return\"]=a;return b}function y(a,b,c,d){if(null===b||b.tag!==Fe)return c=te(c,a.internalContextTag,d),c[\"return\"]=a,c;b=f(b,d);b.pendingProps=c;b[\"return\"]=a;return b}function B(a,b,c){if(\"string\"===typeof b||\"number\"===typeof b)return b=ue(\"\"+b,a.internalContextTag,c),b[\"return\"]=a,b;if(\"object\"===typeof b&&null!==b){switch(b.$$typeof){case Ke:return c=se(b,a.internalContextTag,c),c.ref=Me(null,b),c[\"return\"]=\na,c;case oe:return b=ve(b,a.internalContextTag,c),b[\"return\"]=a,b;case pe:return c=we(b,a.internalContextTag,c),c.type=b.value,c[\"return\"]=a,c;case qe:return b=xe(b,a.internalContextTag,c),b[\"return\"]=a,b}if(ye(b)||Le(b))return b=te(b,a.internalContextTag,c),b[\"return\"]=a,b;Ne(a,b)}return null}function H(a,b,c,d){var e=null!==b?b.key:null;if(\"string\"===typeof c||\"number\"===typeof c)return null!==e?null:k(a,b,\"\"+c,d);if(\"object\"===typeof c&&null!==c){switch(c.$$typeof){case Ke:return c.key===e?p(a,\nb,c,d):null;case oe:return c.key===e?x(a,b,c,d):null;case pe:return null===e?S(a,b,c,d):null;case qe:return c.key===e?D(a,b,c,d):null}if(ye(c)||Le(c))return null!==e?null:y(a,b,c,d);Ne(a,c)}return null}function C(a,b,c,d,e){if(\"string\"===typeof d||\"number\"===typeof d)return a=a.get(c)||null,k(b,a,\"\"+d,e);if(\"object\"===typeof d&&null!==d){switch(d.$$typeof){case Ke:return a=a.get(null===d.key?c:d.key)||null,p(b,a,d,e);case oe:return a=a.get(null===d.key?c:d.key)||null,x(b,a,d,e);case pe:return a=a.get(c)||\nnull,S(b,a,d,e);case qe:return a=a.get(null===d.key?c:d.key)||null,D(b,a,d,e)}if(ye(d)||Le(d))return a=a.get(c)||null,y(b,a,d,e);Ne(b,d)}return null}function Ca(a,f,h,k){for(var m=null,t=null,q=f,r=f=0,p=null;null!==q&&r<h.length;r++){q.index>r?(p=q,q=null):p=q.sibling;var v=H(a,q,h[r],k);if(null===v){null===q&&(q=p);break}b&&q&&null===v.alternate&&c(a,q);f=g(v,f,r);null===t?m=v:t.sibling=v;t=v;q=p}if(r===h.length)return d(a,q),m;if(null===q){for(;r<h.length;r++)if(q=B(a,h[r],k))f=g(q,f,r),null===\nt?m=q:t.sibling=q,t=q;return m}for(q=e(a,q);r<h.length;r++)if(p=C(q,a,r,h[r],k)){if(b&&null!==p.alternate)q[\"delete\"](null===p.key?r:p.key);f=g(p,f,r);null===t?m=p:t.sibling=p;t=p}b&&q.forEach(function(b){return c(a,b)});return m}function r(a,f,h,r){var m=Le(h);\"function\"!==typeof m?w(\"150\"):void 0;h=m.call(h);null==h?w(\"151\"):void 0;for(var t=m=null,q=f,k=f=0,p=null,v=h.next();null!==q&&!v.done;k++,v=h.next()){q.index>k?(p=q,q=null):p=q.sibling;var V=H(a,q,v.value,r);if(null===V){q||(q=p);break}b&&\nq&&null===V.alternate&&c(a,q);f=g(V,f,k);null===t?m=V:t.sibling=V;t=V;q=p}if(v.done)return d(a,q),m;if(null===q){for(;!v.done;k++,v=h.next())v=B(a,v.value,r),null!==v&&(f=g(v,f,k),null===t?m=v:t.sibling=v,t=v);return m}for(q=e(a,q);!v.done;k++,v=h.next())if(v=C(q,a,k,v.value,r),null!==v){if(b&&null!==v.alternate)q[\"delete\"](null===v.key?k:v.key);f=g(v,f,k);null===t?m=v:t.sibling=v;t=v}b&&q.forEach(function(b){return c(a,b)});return m}return function(a,b,e,g){var m=\"object\"===typeof e&&null!==e;if(m)switch(e.$$typeof){case Ke:a:{var C=\ne.key;for(m=b;null!==m;){if(m.key===C)if(m.type===e.type){d(a,m.sibling);b=f(m,g);b.ref=Me(m,e);b.pendingProps=e.props;b[\"return\"]=a;a=b;break a}else{d(a,m);break}else c(a,m);m=m.sibling}g=se(e,a.internalContextTag,g);g.ref=Me(b,e);g[\"return\"]=a;a=g}return h(a);case oe:a:{for(m=e.key;null!==b;){if(b.key===m)if(b.tag===De){d(a,b.sibling);b=f(b,g);b.pendingProps=e;b[\"return\"]=a;a=b;break a}else{d(a,b);break}else c(a,b);b=b.sibling}e=ve(e,a.internalContextTag,g);e[\"return\"]=a;a=e}return h(a);case pe:a:{if(null!==\nb)if(b.tag===Ee){d(a,b.sibling);b=f(b,g);b.type=e.value;b[\"return\"]=a;a=b;break a}else d(a,b);b=we(e,a.internalContextTag,g);b.type=e.value;b[\"return\"]=a;a=b}return h(a);case qe:a:{for(m=e.key;null!==b;){if(b.key===m)if(b.tag===Ce&&b.stateNode.containerInfo===e.containerInfo&&b.stateNode.implementation===e.implementation){d(a,b.sibling);b=f(b,g);b.pendingProps=e.children||[];b[\"return\"]=a;a=b;break a}else{d(a,b);break}else c(a,b);b=b.sibling}e=xe(e,a.internalContextTag,g);e[\"return\"]=a;a=e}return h(a)}if(\"string\"===\ntypeof e||\"number\"===typeof e)return e=\"\"+e,null!==b&&b.tag===Be?(d(a,b.sibling),b=f(b,g),b.pendingProps=e,b[\"return\"]=a,a=b):(d(a,b),e=ue(e,a.internalContextTag,g),e[\"return\"]=a,a=e),h(a);if(ye(e))return Ca(a,b,e,g);if(Le(e))return r(a,b,e,g);m&&Ne(a,e);if(\"undefined\"===typeof e)switch(a.tag){case Ae:case ze:e=a.type,w(\"152\",e.displayName||e.name||\"Component\")}return d(a,b)}}\nvar Pe=Oe(!0,!0),Qe=Oe(!1,!0),Re=Oe(!1,!1),Se={reconcileChildFibers:Pe,reconcileChildFibersInPlace:Qe,mountChildFibersInPlace:Re,cloneChildFibers:function(a,b){null!==a&&b.child!==a.child?w(\"153\"):void 0;if(null!==b.child){a=b.child;var c=re(a,a.pendingWorkPriority);c.pendingProps=a.pendingProps;b.child=c;for(c[\"return\"]=b;null!==a.sibling;)a=a.sibling,c=c.sibling=re(a,a.pendingWorkPriority),c.pendingProps=a.pendingProps,c[\"return\"]=b;c.sibling=null}}},Te=J.Update,Ue=Pd.AsyncUpdates,Ve=R.cacheContext,\nWe=R.getMaskedContext,Xe=R.getUnmaskedContext,Ye=R.isContextConsumer,Ze=ud.addUpdate,$e=ud.addReplaceUpdate,af=ud.addForceUpdate,bf=ud.beginUpdateQueue,cf=R.hasContextChanged,df=bb.isMounted;\nfunction ef(a,b,c,d){function e(a,b){b.updater=f;a.stateNode=b;Pa.set(b,a)}var f={isMounted:df,enqueueSetState:function(c,d,e){c=Pa.get(c);var f=b(c,!1);Ze(c,d,void 0===e?null:e,f);a(c,f)},enqueueReplaceState:function(c,d,e){c=Pa.get(c);var f=b(c,!1);$e(c,d,void 0===e?null:e,f);a(c,f)},enqueueForceUpdate:function(c,d){c=Pa.get(c);var e=b(c,!1);af(c,void 0===d?null:d,e);a(c,e)}};return{adoptClassInstance:e,constructClassInstance:function(a,b){var c=a.type,d=Xe(a),f=Ye(a),g=f?We(a,d):da;b=new c(b,g);\ne(a,b);f&&Ve(a,d,g);return b},mountClassInstance:function(a,b){var c=a.alternate,d=a.stateNode,e=d.state||null,g=a.pendingProps;g?void 0:w(\"158\");var h=Xe(a);d.props=g;d.state=e;d.refs=da;d.context=We(a,h);ed.enableAsyncSubtreeAPI&&null!=a.type&&null!=a.type.prototype&&!0===a.type.prototype.unstable_isAsyncReactComponent&&(a.internalContextTag|=Ue);\"function\"===typeof d.componentWillMount&&(h=d.state,d.componentWillMount(),h!==d.state&&f.enqueueReplaceState(d,d.state,null),h=a.updateQueue,null!==\nh&&(d.state=bf(c,a,h,d,e,g,b)));\"function\"===typeof d.componentDidMount&&(a.effectTag|=Te)},updateClassInstance:function(a,b,e){var g=b.stateNode;g.props=b.memoizedProps;g.state=b.memoizedState;var h=b.memoizedProps,k=b.pendingProps;k||(k=h,null==k?w(\"159\"):void 0);var D=g.context,y=Xe(b);y=We(b,y);\"function\"!==typeof g.componentWillReceiveProps||h===k&&D===y||(D=g.state,g.componentWillReceiveProps(k,y),g.state!==D&&f.enqueueReplaceState(g,g.state,null));D=b.memoizedState;e=null!==b.updateQueue?bf(a,\nb,b.updateQueue,g,D,k,e):D;if(!(h!==k||D!==e||cf()||null!==b.updateQueue&&b.updateQueue.hasForceUpdate))return\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&D===a.memoizedState||(b.effectTag|=Te),!1;var B=k;if(null===h||null!==b.updateQueue&&b.updateQueue.hasForceUpdate)B=!0;else{var H=b.stateNode,C=b.type;B=\"function\"===typeof H.shouldComponentUpdate?H.shouldComponentUpdate(B,e,y):C.prototype&&C.prototype.isPureReactComponent?!ea(h,B)||!ea(D,e):!0}B?(\"function\"===typeof g.componentWillUpdate&&\ng.componentWillUpdate(k,e,y),\"function\"===typeof g.componentDidUpdate&&(b.effectTag|=Te)):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&D===a.memoizedState||(b.effectTag|=Te),c(b,k),d(b,e));g.props=k;g.state=e;g.context=y;return B}}}\nvar ff=Se.mountChildFibersInPlace,gf=Se.reconcileChildFibers,hf=Se.reconcileChildFibersInPlace,jf=Se.cloneChildFibers,kf=ud.beginUpdateQueue,lf=R.getMaskedContext,mf=R.getUnmaskedContext,nf=R.hasContextChanged,of=R.pushContextProvider,pf=R.pushTopLevelContextObject,qf=R.invalidateContextProvider,rf=E.IndeterminateComponent,sf=E.FunctionalComponent,tf=E.ClassComponent,uf=E.HostRoot,wf=E.HostComponent,xf=E.HostText,yf=E.HostPortal,zf=E.CoroutineComponent,Af=E.CoroutineHandlerPhase,Bf=E.YieldComponent,\nCf=E.Fragment,Df=Q.NoWork,Ef=Q.OffscreenPriority,Ff=J.PerformedWork,Gf=J.Placement,Hf=J.ContentReset,If=J.Err,Jf=J.Ref,Kf=Qa.ReactCurrentOwner;\nfunction Lf(a,b,c,d,e){function f(a,b,c){g(a,b,c,b.pendingWorkPriority)}function g(a,b,c,d){b.child=null===a?ff(b,b.child,c,d):a.child===b.child?gf(b,b.child,c,d):hf(b,b.child,c,d)}function h(a,b){var c=b.ref;null===c||a&&a.ref===c||(b.effectTag|=Jf)}function k(a,b,c,d){h(a,b);if(!c)return d&&qf(b,!1),x(a,b);c=b.stateNode;Kf.current=b;var e=c.render();b.effectTag|=Ff;f(a,b,e);b.memoizedState=c.state;b.memoizedProps=c.props;d&&qf(b,!0);return b.child}function p(a){var b=a.stateNode;b.pendingContext?\npf(a,b.pendingContext,b.pendingContext!==b.context):b.context&&pf(a,b.context,!1);C(a,b.containerInfo)}function x(a,b){jf(a,b);return b.child}function S(a,b){switch(b.tag){case uf:p(b);break;case tf:of(b);break;case yf:C(b,b.stateNode.containerInfo)}return null}var D=a.shouldSetTextContent,y=a.useSyncScheduling,B=a.shouldDeprioritizeSubtree,H=b.pushHostContext,C=b.pushHostContainer,Ca=c.enterHydrationState,r=c.resetHydrationState,m=c.tryToClaimNextHydratableInstance;a=ef(d,e,function(a,b){a.memoizedProps=\nb},function(a,b){a.memoizedState=b});var t=a.adoptClassInstance,v=a.constructClassInstance,V=a.mountClassInstance,ld=a.updateClassInstance;return{beginWork:function(a,b,c){if(b.pendingWorkPriority===Df||b.pendingWorkPriority>c)return S(a,b);switch(b.tag){case rf:null!==a?w(\"155\"):void 0;var d=b.type,e=b.pendingProps,g=mf(b);g=lf(b,g);d=d(e,g);b.effectTag|=Ff;\"object\"===typeof d&&null!==d&&\"function\"===typeof d.render?(b.tag=tf,e=of(b),t(b,d),V(b,c),b=k(a,b,!0,e)):(b.tag=sf,f(a,b,d),b.memoizedProps=\ne,b=b.child);return b;case sf:a:{e=b.type;c=b.pendingProps;d=b.memoizedProps;if(nf())null===c&&(c=d);else if(null===c||d===c){b=x(a,b);break a}d=mf(b);d=lf(b,d);e=e(c,d);b.effectTag|=Ff;f(a,b,e);b.memoizedProps=c;b=b.child}return b;case tf:return e=of(b),d=void 0,null===a?b.stateNode?w(\"153\"):(v(b,b.pendingProps),V(b,c),d=!0):d=ld(a,b,c),k(a,b,d,e);case uf:return p(b),d=b.updateQueue,null!==d?(e=b.memoizedState,d=kf(a,b,d,null,e,null,c),e===d?(r(),b=x(a,b)):(e=d.element,null!==a&&null!==a.child||\n!Ca(b)?(r(),f(a,b,e)):(b.effectTag|=Gf,b.child=ff(b,b.child,e,c)),b.memoizedState=d,b=b.child)):(r(),b=x(a,b)),b;case wf:H(b);null===a&&m(b);e=b.type;var q=b.memoizedProps;d=b.pendingProps;null===d&&(d=q,null===d?w(\"154\"):void 0);g=null!==a?a.memoizedProps:null;nf()||null!==d&&q!==d?(q=d.children,D(e,d)?q=null:g&&D(e,g)&&(b.effectTag|=Hf),h(a,b),c!==Ef&&!y&&B(e,d)?(b.pendingWorkPriority=Ef,b=null):(f(a,b,q),b.memoizedProps=d,b=b.child)):b=x(a,b);return b;case xf:return null===a&&m(b),a=b.pendingProps,\nnull===a&&(a=b.memoizedProps),b.memoizedProps=a,null;case Af:b.tag=zf;case zf:c=b.pendingProps;if(nf())null===c&&(c=a&&a.memoizedProps,null===c?w(\"154\"):void 0);else if(null===c||b.memoizedProps===c)c=b.memoizedProps;e=c.children;d=b.pendingWorkPriority;b.stateNode=null===a?ff(b,b.stateNode,e,d):a.child===b.child?gf(b,b.stateNode,e,d):hf(b,b.stateNode,e,d);b.memoizedProps=c;return b.stateNode;case Bf:return null;case yf:a:{C(b,b.stateNode.containerInfo);c=b.pendingWorkPriority;e=b.pendingProps;if(nf())null===\ne&&(e=a&&a.memoizedProps,null==e?w(\"154\"):void 0);else if(null===e||b.memoizedProps===e){b=x(a,b);break a}null===a?b.child=hf(b,b.child,e,c):f(a,b,e);b.memoizedProps=e;b=b.child}return b;case Cf:a:{c=b.pendingProps;if(nf())null===c&&(c=b.memoizedProps);else if(null===c||b.memoizedProps===c){b=x(a,b);break a}f(a,b,c);b.memoizedProps=c;b=b.child}return b;default:w(\"156\")}},beginFailedWork:function(a,b,c){switch(b.tag){case tf:of(b);break;case uf:p(b);break;default:w(\"157\")}b.effectTag|=If;null===a?\nb.child=null:b.child!==a.child&&(b.child=a.child);if(b.pendingWorkPriority===Df||b.pendingWorkPriority>c)return S(a,b);b.firstEffect=null;b.lastEffect=null;g(a,b,null,c);b.tag===tf&&(a=b.stateNode,b.memoizedProps=a.props,b.memoizedState=a.state);return b.child}}}\nvar Mf=Se.reconcileChildFibers,Nf=R.popContextProvider,Of=R.popTopLevelContextObject,Pf=E.IndeterminateComponent,Qf=E.FunctionalComponent,Rf=E.ClassComponent,Sf=E.HostRoot,Tf=E.HostComponent,Uf=E.HostText,Vf=E.HostPortal,Wf=E.CoroutineComponent,Xf=E.CoroutineHandlerPhase,Yf=E.YieldComponent,Zf=E.Fragment,ag=J.Placement,bg=J.Ref,cg=J.Update,dg=Q.OffscreenPriority;\nfunction eg(a,b,c){var d=a.createInstance,e=a.createTextInstance,f=a.appendInitialChild,g=a.finalizeInitialChildren,h=a.prepareUpdate,k=b.getRootHostContainer,p=b.popHostContext,x=b.getHostContext,S=b.popHostContainer,D=c.prepareToHydrateHostInstance,y=c.prepareToHydrateHostTextInstance,B=c.popHydrationState;return{completeWork:function(a,b,c){var r=b.pendingProps;if(null===r)r=b.memoizedProps;else if(b.pendingWorkPriority!==dg||c===dg)b.pendingProps=null;switch(b.tag){case Qf:return null;case Rf:return Nf(b),\nnull;case Sf:S(b);Of(b);r=b.stateNode;r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null);if(null===a||null===a.child)B(b),b.effectTag&=~ag;return null;case Tf:p(b);c=k();var m=b.type;if(null!==a&&null!=b.stateNode){var t=a.memoizedProps,C=b.stateNode,V=x();r=h(C,m,t,r,c,V);if(b.updateQueue=r)b.effectTag|=cg;a.ref!==b.ref&&(b.effectTag|=bg)}else{if(!r)return null===b.stateNode?w(\"166\"):void 0,null;a=x();if(B(b))D(b,c,a)&&(b.effectTag|=cg);else{a=d(m,r,c,a,b);a:for(t=b.child;null!==\nt;){if(t.tag===Tf||t.tag===Uf)f(a,t.stateNode);else if(t.tag!==Vf&&null!==t.child){t=t.child;continue}if(t===b)break a;for(;null===t.sibling;){if(null===t[\"return\"]||t[\"return\"]===b)break a;t=t[\"return\"]}t=t.sibling}g(a,m,r,c)&&(b.effectTag|=cg);b.stateNode=a}null!==b.ref&&(b.effectTag|=bg)}return null;case Uf:if(a&&null!=b.stateNode)a.memoizedProps!==r&&(b.effectTag|=cg);else{if(\"string\"!==typeof r)return null===b.stateNode?w(\"166\"):void 0,null;a=k();c=x();B(b)?y(b)&&(b.effectTag|=cg):b.stateNode=\ne(r,a,c,b)}return null;case Wf:(r=b.memoizedProps)?void 0:w(\"165\");b.tag=Xf;c=[];a:for((m=b.stateNode)&&(m[\"return\"]=b);null!==m;){if(m.tag===Tf||m.tag===Uf||m.tag===Vf)w(\"164\");else if(m.tag===Yf)c.push(m.type);else if(null!==m.child){m.child[\"return\"]=m;m=m.child;continue}for(;null===m.sibling;){if(null===m[\"return\"]||m[\"return\"]===b)break a;m=m[\"return\"]}m.sibling[\"return\"]=m[\"return\"];m=m.sibling}m=r.handler;r=m(r.props,c);b.child=Mf(b,null!==a?a.child:null,r,b.pendingWorkPriority);return b.child;\ncase Xf:return b.tag=Wf,null;case Yf:return null;case Zf:return null;case Vf:return b.effectTag|=cg,S(b),null;case Pf:w(\"167\");default:w(\"156\")}}}}var fg=null,gg=null;function hg(a){return function(b){try{return a(b)}catch(c){}}}\nvar ig={injectInternals:function(a){if(\"undefined\"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var b=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!b.supportsFiber)return!0;try{var c=b.inject(a);fg=hg(function(a){return b.onCommitFiberRoot(c,a)});gg=hg(function(a){return b.onCommitFiberUnmount(c,a)})}catch(d){}return!0},onCommitRoot:function(a){\"function\"===typeof fg&&fg(a)},onCommitUnmount:function(a){\"function\"===typeof gg&&gg(a)}},jg=E.ClassComponent,kg=E.HostRoot,lg=E.HostComponent,mg=E.HostText,ng=\nE.HostPortal,og=E.CoroutineComponent,pg=ud.commitCallbacks,qg=ig.onCommitUnmount,rg=J.Placement,sg=J.Update,tg=J.Callback,ug=J.ContentReset;\nfunction vg(a,b){function c(a){var c=a.ref;if(null!==c)try{c(null)}catch(t){b(a,t)}}function d(a){return a.tag===lg||a.tag===kg||a.tag===ng}function e(a){for(var b=a;;)if(g(b),null!==b.child&&b.tag!==ng)b.child[\"return\"]=b,b=b.child;else{if(b===a)break;for(;null===b.sibling;){if(null===b[\"return\"]||b[\"return\"]===a)return;b=b[\"return\"]}b.sibling[\"return\"]=b[\"return\"];b=b.sibling}}function f(a){for(var b=a,c=!1,d=void 0,f=void 0;;){if(!c){c=b[\"return\"];a:for(;;){null===c?w(\"160\"):void 0;switch(c.tag){case lg:d=\nc.stateNode;f=!1;break a;case kg:d=c.stateNode.containerInfo;f=!0;break a;case ng:d=c.stateNode.containerInfo;f=!0;break a}c=c[\"return\"]}c=!0}if(b.tag===lg||b.tag===mg)e(b),f?C(d,b.stateNode):H(d,b.stateNode);else if(b.tag===ng?d=b.stateNode.containerInfo:g(b),null!==b.child){b.child[\"return\"]=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b[\"return\"]||b[\"return\"]===a)return;b=b[\"return\"];b.tag===ng&&(c=!1)}b.sibling[\"return\"]=b[\"return\"];b=b.sibling}}function g(a){\"function\"===\ntypeof qg&&qg(a);switch(a.tag){case jg:c(a);var d=a.stateNode;if(\"function\"===typeof d.componentWillUnmount)try{d.props=a.memoizedProps,d.state=a.memoizedState,d.componentWillUnmount()}catch(t){b(a,t)}break;case lg:c(a);break;case og:e(a.stateNode);break;case ng:f(a)}}var h=a.commitMount,k=a.commitUpdate,p=a.resetTextContent,x=a.commitTextUpdate,S=a.appendChild,D=a.appendChildToContainer,y=a.insertBefore,B=a.insertInContainerBefore,H=a.removeChild,C=a.removeChildFromContainer,Ca=a.getPublicInstance;\nreturn{commitPlacement:function(a){a:{for(var b=a[\"return\"];null!==b;){if(d(b)){var c=b;break a}b=b[\"return\"]}w(\"160\");c=void 0}var e=b=void 0;switch(c.tag){case lg:b=c.stateNode;e=!1;break;case kg:b=c.stateNode.containerInfo;e=!0;break;case ng:b=c.stateNode.containerInfo;e=!0;break;default:w(\"161\")}c.effectTag&ug&&(p(b),c.effectTag&=~ug);a:b:for(c=a;;){for(;null===c.sibling;){if(null===c[\"return\"]||d(c[\"return\"])){c=null;break a}c=c[\"return\"]}c.sibling[\"return\"]=c[\"return\"];for(c=c.sibling;c.tag!==\nlg&&c.tag!==mg;){if(c.effectTag&rg)continue b;if(null===c.child||c.tag===ng)continue b;else c.child[\"return\"]=c,c=c.child}if(!(c.effectTag&rg)){c=c.stateNode;break a}}for(var f=a;;){if(f.tag===lg||f.tag===mg)c?e?B(b,f.stateNode,c):y(b,f.stateNode,c):e?D(b,f.stateNode):S(b,f.stateNode);else if(f.tag!==ng&&null!==f.child){f.child[\"return\"]=f;f=f.child;continue}if(f===a)break;for(;null===f.sibling;){if(null===f[\"return\"]||f[\"return\"]===a)return;f=f[\"return\"]}f.sibling[\"return\"]=f[\"return\"];f=f.sibling}},\ncommitDeletion:function(a){f(a);a[\"return\"]=null;a.child=null;a.alternate&&(a.alternate.child=null,a.alternate[\"return\"]=null)},commitWork:function(a,b){switch(b.tag){case jg:break;case lg:var c=b.stateNode;if(null!=c){var d=b.memoizedProps;a=null!==a?a.memoizedProps:d;var e=b.type,f=b.updateQueue;b.updateQueue=null;null!==f&&k(c,f,e,a,d,b)}break;case mg:null===b.stateNode?w(\"162\"):void 0;c=b.memoizedProps;x(b.stateNode,null!==a?a.memoizedProps:c,c);break;case kg:break;case ng:break;default:w(\"163\")}},\ncommitLifeCycles:function(a,b){switch(b.tag){case jg:var c=b.stateNode;if(b.effectTag&sg)if(null===a)c.props=b.memoizedProps,c.state=b.memoizedState,c.componentDidMount();else{var d=a.memoizedProps;a=a.memoizedState;c.props=b.memoizedProps;c.state=b.memoizedState;c.componentDidUpdate(d,a)}b.effectTag&tg&&null!==b.updateQueue&&pg(b,b.updateQueue,c);break;case kg:a=b.updateQueue;null!==a&&pg(b,a,b.child&&b.child.stateNode);break;case lg:c=b.stateNode;null===a&&b.effectTag&sg&&h(c,b.type,b.memoizedProps,\nb);break;case mg:break;case ng:break;default:w(\"163\")}},commitAttachRef:function(a){var b=a.ref;if(null!==b){var c=a.stateNode;switch(a.tag){case lg:b(Ca(c));break;default:b(c)}}},commitDetachRef:function(a){a=a.ref;null!==a&&a(null)}}}var wg=xd.createCursor,xg=xd.pop,yg=xd.push,zg={};\nfunction Ag(a){function b(a){a===zg?w(\"174\"):void 0;return a}var c=a.getChildHostContext,d=a.getRootHostContext,e=wg(zg),f=wg(zg),g=wg(zg);return{getHostContext:function(){return b(e.current)},getRootHostContainer:function(){return b(g.current)},popHostContainer:function(a){xg(e,a);xg(f,a);xg(g,a)},popHostContext:function(a){f.current===a&&(xg(e,a),xg(f,a))},pushHostContainer:function(a,b){yg(g,b,a);b=d(b);yg(f,a,a);yg(e,b,a)},pushHostContext:function(a){var d=b(g.current),h=b(e.current);d=c(h,a.type,\nd);h!==d&&(yg(f,a,a),yg(e,d,a))},resetHostContainer:function(){e.current=zg;g.current=zg}}}var Bg=E.HostComponent,Cg=E.HostText,Dg=E.HostRoot,Eg=J.Deletion,Fg=J.Placement,Gg=de.createFiberFromHostInstanceForDeletion;\nfunction Hg(a){function b(a,b){var c=Gg();c.stateNode=b;c[\"return\"]=a;c.effectTag=Eg;null!==a.lastEffect?(a.lastEffect.nextEffect=c,a.lastEffect=c):a.firstEffect=a.lastEffect=c}function c(a,b){switch(a.tag){case Bg:return f(b,a.type,a.pendingProps);case Cg:return g(b,a.pendingProps);default:return!1}}function d(a){for(a=a[\"return\"];null!==a&&a.tag!==Bg&&a.tag!==Dg;)a=a[\"return\"];y=a}var e=a.shouldSetTextContent,f=a.canHydrateInstance,g=a.canHydrateTextInstance,h=a.getNextHydratableSibling,k=a.getFirstHydratableChild,\np=a.hydrateInstance,x=a.hydrateTextInstance,S=a.didNotHydrateInstance,D=a.didNotFindHydratableInstance;a=a.didNotFindHydratableTextInstance;if(!(f&&g&&h&&k&&p&&x&&S&&D&&a))return{enterHydrationState:function(){return!1},resetHydrationState:function(){},tryToClaimNextHydratableInstance:function(){},prepareToHydrateHostInstance:function(){w(\"175\")},prepareToHydrateHostTextInstance:function(){w(\"176\")},popHydrationState:function(){return!1}};var y=null,B=null,H=!1;return{enterHydrationState:function(a){B=\nk(a.stateNode.containerInfo);y=a;return H=!0},resetHydrationState:function(){B=y=null;H=!1},tryToClaimNextHydratableInstance:function(a){if(H){var d=B;if(d){if(!c(a,d)){d=h(d);if(!d||!c(a,d)){a.effectTag|=Fg;H=!1;y=a;return}b(y,B)}a.stateNode=d;y=a;B=k(d)}else a.effectTag|=Fg,H=!1,y=a}},prepareToHydrateHostInstance:function(a,b,c){b=p(a.stateNode,a.type,a.memoizedProps,b,c,a);a.updateQueue=b;return null!==b?!0:!1},prepareToHydrateHostTextInstance:function(a){return x(a.stateNode,a.memoizedProps,a)},\npopHydrationState:function(a){if(a!==y)return!1;if(!H)return d(a),H=!0,!1;var c=a.type;if(a.tag!==Bg||\"head\"!==c&&\"body\"!==c&&!e(c,a.memoizedProps))for(c=B;c;)b(a,c),c=h(c);d(a);B=y?h(a.stateNode):null;return!0}}}\nvar Ig=R.popContextProvider,Jg=xd.reset,Kg=Qa.ReactCurrentOwner,Lg=de.createWorkInProgress,Mg=de.largerPriority,Ng=ig.onCommitRoot,T=Q.NoWork,Og=Q.SynchronousPriority,U=Q.TaskPriority,Pg=Q.HighPriority,Qg=Q.LowPriority,Rg=Q.OffscreenPriority,Sg=Pd.AsyncUpdates,Tg=J.PerformedWork,Ug=J.Placement,Vg=J.Update,Wg=J.PlacementAndUpdate,Xg=J.Deletion,Yg=J.ContentReset,Zg=J.Callback,$g=J.Err,ah=J.Ref,bh=E.HostRoot,ch=E.HostComponent,dh=E.HostPortal,eh=E.ClassComponent,fh=ud.getUpdatePriority,gh=R.resetContext;\nfunction hh(a){function b(){for(;null!==ma&&ma.current.pendingWorkPriority===T;){ma.isScheduled=!1;var a=ma.nextScheduledRoot;ma.nextScheduledRoot=null;if(ma===zb)return zb=ma=null,z=T,null;ma=a}a=ma;for(var b=null,c=T;null!==a;)a.current.pendingWorkPriority!==T&&(c===T||c>a.current.pendingWorkPriority)&&(c=a.current.pendingWorkPriority,b=a),a=a.nextScheduledRoot;null!==b?(z=c,Jg(),gh(),t(),I=Lg(b.current,c),b!==nc&&(oc=0,nc=b)):(z=T,nc=I=null)}function c(c){Hd=!0;na=null;var d=c.stateNode;d.current===\nc?w(\"177\"):void 0;z!==Og&&z!==U||oc++;Kg.current=null;if(c.effectTag>Tg)if(null!==c.lastEffect){c.lastEffect.nextEffect=c;var e=c.firstEffect}else e=c;else e=c.firstEffect;Ui();for(u=e;null!==u;){var f=!1,g=void 0;try{for(;null!==u;){var h=u.effectTag;h&Yg&&a.resetTextContent(u.stateNode);if(h&ah){var k=u.alternate;null!==k&&Ph(k)}switch(h&~(Zg|$g|Yg|ah|Tg)){case Ug:q(u);u.effectTag&=~Ug;break;case Wg:q(u);u.effectTag&=~Ug;vf(u.alternate,u);break;case Vg:vf(u.alternate,u);break;case Xg:Id=!0,Mh(u),\nId=!1}u=u.nextEffect}}catch(Jd){f=!0,g=Jd}f&&(null===u?w(\"178\"):void 0,x(u,g),null!==u&&(u=u.nextEffect))}Vi();d.current=c;for(u=e;null!==u;){d=!1;e=void 0;try{for(;null!==u;){var Gd=u.effectTag;Gd&(Vg|Zg)&&Nh(u.alternate,u);Gd&ah&&Oh(u);if(Gd&$g)switch(f=u,g=void 0,null!==P&&(g=P.get(f),P[\"delete\"](f),null==g&&null!==f.alternate&&(f=f.alternate,g=P.get(f),P[\"delete\"](f))),null==g?w(\"184\"):void 0,f.tag){case eh:f.stateNode.componentDidCatch(g.error,{componentStack:g.componentStack});break;case bh:null===\nJa&&(Ja=g.error);break;default:w(\"157\")}var m=u.nextEffect;u.nextEffect=null;u=m}}catch(Jd){d=!0,e=Jd}d&&(null===u?w(\"178\"):void 0,x(u,e),null!==u&&(u=u.nextEffect))}Hd=!1;\"function\"===typeof Ng&&Ng(c.stateNode);va&&(va.forEach(H),va=null);b()}function d(a){for(;;){var b=Lh(a.alternate,a,z),c=a[\"return\"],d=a.sibling;var e=a;if(!(e.pendingWorkPriority!==T&&e.pendingWorkPriority>z)){for(var f=fh(e),g=e.child;null!==g;)f=Mg(f,g.pendingWorkPriority),g=g.sibling;e.pendingWorkPriority=f}if(null!==b)return b;\nnull!==c&&(null===c.firstEffect&&(c.firstEffect=a.firstEffect),null!==a.lastEffect&&(null!==c.lastEffect&&(c.lastEffect.nextEffect=a.firstEffect),c.lastEffect=a.lastEffect),a.effectTag>Tg&&(null!==c.lastEffect?c.lastEffect.nextEffect=a:c.firstEffect=a,c.lastEffect=a));if(null!==d)return d;if(null!==c)a=c;else{na=a;break}}return null}function e(a){var b=V(a.alternate,a,z);null===b&&(b=d(a));Kg.current=null;return b}function f(a){var b=ld(a.alternate,a,z);null===b&&(b=d(a));Kg.current=null;return b}\nfunction g(a){p(Rg,a)}function h(){if(null!==P&&0<P.size&&z===U)for(;null!==I;){var a=I;I=null!==P&&(P.has(a)||null!==a.alternate&&P.has(a.alternate))?f(I):e(I);if(null===I&&(null===na?w(\"179\"):void 0,O=U,c(na),O=z,null===P||0===P.size||z!==U))break}}function k(a,d){null!==na?(O=U,c(na),h()):null===I&&b();if(!(z===T||z>a)){O=z;a:do{if(z<=U)for(;null!==I&&!(I=e(I),null===I&&(null===na?w(\"179\"):void 0,O=U,c(na),O=z,h(),z===T||z>a||z>U)););else if(null!==d)for(;null!==I&&!Ab;)if(1<d.timeRemaining()){if(I=\ne(I),null===I)if(null===na?w(\"179\"):void 0,1<d.timeRemaining()){if(O=U,c(na),O=z,h(),z===T||z>a||z<Pg)break}else Ab=!0}else Ab=!0;switch(z){case Og:case U:if(z<=a)continue a;break a;case Pg:case Qg:case Rg:if(null===d)break a;if(!Ab&&z<=a)continue a;break a;case T:break a;default:w(\"181\")}}while(1)}}function p(a,b){Da?w(\"182\"):void 0;Da=!0;var c=O,d=!1,e=null;try{k(a,b)}catch(Kd){d=!0,e=Kd}for(;d;){if(Ya){Ja=e;break}var h=I;if(null===h)Ya=!0;else{var p=x(h,e);null===p?w(\"183\"):void 0;if(!Ya){try{d=\np;e=a;p=b;for(var q=d;null!==h;){switch(h.tag){case eh:Ig(h);break;case ch:m(h);break;case bh:r(h);break;case dh:r(h)}if(h===q||h.alternate===q)break;h=h[\"return\"]}I=f(d);k(e,p)}catch(Kd){d=!0;e=Kd;continue}break}}}O=c;null!==b&&(Bb=!1);z>U&&!Bb&&($f(g),Bb=!0);a=Ja;Ya=Ab=Da=!1;nc=Ka=P=Ja=null;oc=0;if(null!==a)throw a;}function x(a,b){var c=Kg.current=null,d=!1,e=!1,f=null;if(a.tag===bh)c=a,S(a)&&(Ya=!0);else for(var g=a[\"return\"];null!==g&&null===c;){g.tag===eh?\"function\"===typeof g.stateNode.componentDidCatch&&\n(d=!0,f=Ra(g),c=g,e=!0):g.tag===bh&&(c=g);if(S(g)){if(Id||null!==va&&(va.has(g)||null!==g.alternate&&va.has(g.alternate)))return null;c=null;e=!1}g=g[\"return\"]}if(null!==c){null===Ka&&(Ka=new Set);Ka.add(c);var h=\"\";g=a;do{a:switch(g.tag){case fe:case ge:case he:case ie:var k=g._debugOwner,m=g._debugSource;var p=Ra(g);var q=null;k&&(q=Ra(k));k=m;p=\"\\n    in \"+(p||\"Unknown\")+(k?\" (at \"+k.fileName.replace(/^.*[\\\\\\/]/,\"\")+\":\"+k.lineNumber+\")\":q?\" (created by \"+q+\")\":\"\");break a;default:p=\"\"}h+=p;g=g[\"return\"]}while(g);\ng=h;a=Ra(a);null===P&&(P=new Map);b={componentName:a,componentStack:g,error:b,errorBoundary:d?c.stateNode:null,errorBoundaryFound:d,errorBoundaryName:f,willRetry:e};P.set(c,b);try{console.error(b.error)}catch(Wi){console.error(Wi)}Hd?(null===va&&(va=new Set),va.add(c)):H(c);return c}null===Ja&&(Ja=b);return null}function S(a){return null!==Ka&&(Ka.has(a)||null!==a.alternate&&Ka.has(a.alternate))}function D(a,b){return y(a,b,!1)}function y(a,b){oc>Xi&&(Ya=!0,w(\"185\"));!Da&&b<=z&&(I=null);for(var c=\n!0;null!==a&&c;){c=!1;if(a.pendingWorkPriority===T||a.pendingWorkPriority>b)c=!0,a.pendingWorkPriority=b;null!==a.alternate&&(a.alternate.pendingWorkPriority===T||a.alternate.pendingWorkPriority>b)&&(c=!0,a.alternate.pendingWorkPriority=b);if(null===a[\"return\"])if(a.tag===bh){var d=a.stateNode;b===T||d.isScheduled||(d.isScheduled=!0,zb?zb.nextScheduledRoot=d:ma=d,zb=d);if(!Da)switch(b){case Og:pc?p(Og,null):p(U,null);break;case U:W?void 0:w(\"186\");break;default:Bb||($f(g),Bb=!0)}}else break;a=a[\"return\"]}}\nfunction B(a,b){var c=O;c===T&&(c=!Yi||a.internalContextTag&Sg||b?Qg:Og);return c===Og&&(Da||W)?U:c}function H(a){y(a,U,!0)}var C=Ag(a),Ca=Hg(a),r=C.popHostContainer,m=C.popHostContext,t=C.resetHostContainer,v=Lf(a,C,Ca,D,B),V=v.beginWork,ld=v.beginFailedWork,Lh=eg(a,C,Ca).completeWork;C=vg(a,x);var q=C.commitPlacement,Mh=C.commitDeletion,vf=C.commitWork,Nh=C.commitLifeCycles,Oh=C.commitAttachRef,Ph=C.commitDetachRef,$f=a.scheduleDeferredCallback,Yi=a.useSyncScheduling,Ui=a.prepareForCommit,Vi=a.resetAfterCommit,\nO=T,Da=!1,Ab=!1,W=!1,pc=!1,I=null,z=T,u=null,na=null,ma=null,zb=null,Bb=!1,P=null,Ka=null,va=null,Ja=null,Ya=!1,Hd=!1,Id=!1,Xi=1E3,oc=0,nc=null;return{scheduleUpdate:D,getPriorityContext:B,batchedUpdates:function(a,b){var c=W;W=!0;try{return a(b)}finally{W=c,Da||W||p(U,null)}},unbatchedUpdates:function(a){var b=pc,c=W;pc=W;W=!1;try{return a()}finally{W=c,pc=b}},flushSync:function(a){var b=W,c=O;W=!0;O=Og;try{return a()}finally{W=b,O=c,Da?w(\"187\"):void 0,p(U,null)}},deferredUpdates:function(a){var b=\nO;O=Qg;try{return a()}finally{O=b}}}}function ih(){w(\"196\")}function jh(a){if(!a)return da;a=Pa.get(a);return\"number\"===typeof a.tag?ih(a):a._processChildContext(a._context)}jh._injectFiber=function(a){ih=a};var kh=ud.addTopLevelUpdate,lh=R.findCurrentUnmaskedContext,mh=R.isContextProvider,nh=R.processChildContext,oh=E.HostComponent,ph=bb.findCurrentHostFiber,qh=bb.findCurrentHostFiberWithNoPortals;jh._injectFiber(function(a){var b=lh(a);return mh(a)?nh(a,b,!1):b});var rh=F.TEXT_NODE;\nfunction sh(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function th(a,b){var c=sh(a);a=0;for(var d;c;){if(c.nodeType===rh){d=a+c.textContent.length;if(a<=b&&d>=b)return{node:c,offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=sh(c)}}var uh=null;function vh(){!uh&&l.canUseDOM&&(uh=\"textContent\"in document.documentElement?\"textContent\":\"innerText\");return uh}\nvar wh={getOffsets:function(a){var b=window.getSelection&&window.getSelection();if(!b||0===b.rangeCount)return null;var c=b.anchorNode,d=b.anchorOffset,e=b.focusNode,f=b.focusOffset,g=b.getRangeAt(0);try{g.startContainer.nodeType,g.endContainer.nodeType}catch(k){return null}b=b.anchorNode===b.focusNode&&b.anchorOffset===b.focusOffset?0:g.toString().length;var h=g.cloneRange();h.selectNodeContents(a);h.setEnd(g.startContainer,g.startOffset);a=h.startContainer===h.endContainer&&h.startOffset===h.endOffset?\n0:h.toString().length;g=a+b;b=document.createRange();b.setStart(c,d);b.setEnd(e,f);c=b.collapsed;return{start:c?g:a,end:c?a:g}},setOffsets:function(a,b){if(window.getSelection){var c=window.getSelection(),d=a[vh()].length,e=Math.min(b.start,d);b=void 0===b.end?e:Math.min(b.end,d);!c.extend&&e>b&&(d=b,b=e,e=d);d=th(a,e);a=th(a,b);if(d&&a){var f=document.createRange();f.setStart(d.node,d.offset);c.removeAllRanges();e>b?(c.addRange(f),c.extend(a.node,a.offset)):(f.setEnd(a.node,a.offset),c.addRange(f))}}}},\nxh=F.ELEMENT_NODE,yh={hasSelectionCapabilities:function(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&(\"input\"===b&&\"text\"===a.type||\"textarea\"===b||\"true\"===a.contentEditable)},getSelectionInformation:function(){var a=ia();return{focusedElem:a,selectionRange:yh.hasSelectionCapabilities(a)?yh.getSelection(a):null}},restoreSelection:function(a){var b=ia(),c=a.focusedElem;a=a.selectionRange;if(b!==c&&fa(document.documentElement,c)){yh.hasSelectionCapabilities(c)&&yh.setSelection(c,a);b=\n[];for(a=c;a=a.parentNode;)a.nodeType===xh&&b.push({element:a,left:a.scrollLeft,top:a.scrollTop});ha(c);for(c=0;c<b.length;c++)a=b[c],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}},getSelection:function(a){return(\"selectionStart\"in a?{start:a.selectionStart,end:a.selectionEnd}:wh.getOffsets(a))||{start:0,end:0}},setSelection:function(a,b){var c=b.start,d=b.end;void 0===d&&(d=c);\"selectionStart\"in a?(a.selectionStart=c,a.selectionEnd=Math.min(d,a.value.length)):wh.setOffsets(a,b)}},zh=yh,\nAh=F.ELEMENT_NODE;function Bh(){w(\"211\")}function Ch(){w(\"212\")}function Dh(a){if(null==a)return null;if(a.nodeType===Ah)return a;var b=Pa.get(a);if(b)return\"number\"===typeof b.tag?Bh(b):Ch(b);\"function\"===typeof a.render?w(\"188\"):w(\"213\",Object.keys(a))}Dh._injectFiber=function(a){Bh=a};Dh._injectStack=function(a){Ch=a};var Eh=E.HostComponent;function Fh(a){if(void 0!==a._hostParent)return a._hostParent;if(\"number\"===typeof a.tag){do a=a[\"return\"];while(a&&a.tag!==Eh);if(a)return a}return null}\nfunction Gh(a,b){for(var c=0,d=a;d;d=Fh(d))c++;d=0;for(var e=b;e;e=Fh(e))d++;for(;0<c-d;)a=Fh(a),c--;for(;0<d-c;)b=Fh(b),d--;for(;c--;){if(a===b||a===b.alternate)return a;a=Fh(a);b=Fh(b)}return null}\nvar Hh={isAncestor:function(a,b){for(;b;){if(a===b||a===b.alternate)return!0;b=Fh(b)}return!1},getLowestCommonAncestor:Gh,getParentInstance:function(a){return Fh(a)},traverseTwoPhase:function(a,b,c){for(var d=[];a;)d.push(a),a=Fh(a);for(a=d.length;0<a--;)b(d[a],\"captured\",c);for(a=0;a<d.length;a++)b(d[a],\"bubbled\",c)},traverseEnterLeave:function(a,b,c,d,e){for(var f=a&&b?Gh(a,b):null,g=[];a&&a!==f;)g.push(a),a=Fh(a);for(a=[];b&&b!==f;)a.push(b),b=Fh(b);for(b=0;b<g.length;b++)c(g[b],\"bubbled\",d);for(b=\na.length;0<b--;)c(a[b],\"captured\",e)}},Ih=Jb.getListener;function Jh(a,b,c){if(b=Ih(a,c.dispatchConfig.phasedRegistrationNames[b]))c._dispatchListeners=Cb(c._dispatchListeners,b),c._dispatchInstances=Cb(c._dispatchInstances,a)}function Kh(a){a&&a.dispatchConfig.phasedRegistrationNames&&Hh.traverseTwoPhase(a._targetInst,Jh,a)}function Qh(a){if(a&&a.dispatchConfig.phasedRegistrationNames){var b=a._targetInst;b=b?Hh.getParentInstance(b):null;Hh.traverseTwoPhase(b,Jh,a)}}\nfunction Rh(a,b,c){a&&c&&c.dispatchConfig.registrationName&&(b=Ih(a,c.dispatchConfig.registrationName))&&(c._dispatchListeners=Cb(c._dispatchListeners,b),c._dispatchInstances=Cb(c._dispatchInstances,a))}function Sh(a){a&&a.dispatchConfig.registrationName&&Rh(a._targetInst,null,a)}\nvar Th={accumulateTwoPhaseDispatches:function(a){Db(a,Kh)},accumulateTwoPhaseDispatchesSkipTarget:function(a){Db(a,Qh)},accumulateDirectDispatches:function(a){Db(a,Sh)},accumulateEnterLeaveDispatches:function(a,b,c,d){Hh.traverseEnterLeave(c,d,Rh,a,b)}},X={_root:null,_startText:null,_fallbackText:null},Uh={initialize:function(a){X._root=a;X._startText=Uh.getText();return!0},reset:function(){X._root=null;X._startText=null;X._fallbackText=null},getData:function(){if(X._fallbackText)return X._fallbackText;\nvar a,b=X._startText,c=b.length,d,e=Uh.getText(),f=e.length;for(a=0;a<c&&b[a]===e[a];a++);var g=c-a;for(d=1;d<=g&&b[c-d]===e[f-d];d++);X._fallbackText=e.slice(a,1<d?1-d:void 0);return X._fallbackText},getText:function(){return\"value\"in X._root?X._root.value:X._root[vh()]}},Vh=Uh,Wh=\"dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances\".split(\" \"),Xh={type:null,target:null,currentTarget:ca.thatReturnsNull,eventPhase:null,bubbles:null,\ncancelable:null,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};\nfunction Y(a,b,c,d){this.dispatchConfig=a;this._targetInst=b;this.nativeEvent=c;a=this.constructor.Interface;for(var e in a)a.hasOwnProperty(e)&&((b=a[e])?this[e]=b(c):\"target\"===e?this.target=d:this[e]=c[e]);this.isDefaultPrevented=(null!=c.defaultPrevented?c.defaultPrevented:!1===c.returnValue)?ca.thatReturnsTrue:ca.thatReturnsFalse;this.isPropagationStopped=ca.thatReturnsFalse;return this}\nn(Y.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():\"unknown\"!==typeof a.returnValue&&(a.returnValue=!1),this.isDefaultPrevented=ca.thatReturnsTrue)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():\"unknown\"!==typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=ca.thatReturnsTrue)},persist:function(){this.isPersistent=ca.thatReturnsTrue},isPersistent:ca.thatReturnsFalse,\ndestructor:function(){var a=this.constructor.Interface,b;for(b in a)this[b]=null;for(a=0;a<Wh.length;a++)this[Wh[a]]=null}});Y.Interface=Xh;Y.augmentClass=function(a,b){function c(){}c.prototype=this.prototype;var d=new c;n(d,a.prototype);a.prototype=d;a.prototype.constructor=a;a.Interface=n({},this.Interface,b);a.augmentClass=this.augmentClass;Yh(a)};Yh(Y);function Zh(a,b,c,d){if(this.eventPool.length){var e=this.eventPool.pop();this.call(e,a,b,c,d);return e}return new this(a,b,c,d)}\nfunction $h(a){a instanceof this?void 0:w(\"223\");a.destructor();10>this.eventPool.length&&this.eventPool.push(a)}function Yh(a){a.eventPool=[];a.getPooled=Zh;a.release=$h}function ai(a,b,c,d){return Y.call(this,a,b,c,d)}Y.augmentClass(ai,{data:null});function bi(a,b,c,d){return Y.call(this,a,b,c,d)}Y.augmentClass(bi,{data:null});var ci=[9,13,27,32],di=l.canUseDOM&&\"CompositionEvent\"in window,ei=null;l.canUseDOM&&\"documentMode\"in document&&(ei=document.documentMode);var fi;\nif(fi=l.canUseDOM&&\"TextEvent\"in window&&!ei){var gi=window.opera;fi=!(\"object\"===typeof gi&&\"function\"===typeof gi.version&&12>=parseInt(gi.version(),10))}\nvar hi=fi,ii=l.canUseDOM&&(!di||ei&&8<ei&&11>=ei),ji=String.fromCharCode(32),ki={beforeInput:{phasedRegistrationNames:{bubbled:\"onBeforeInput\",captured:\"onBeforeInputCapture\"},dependencies:[\"topCompositionEnd\",\"topKeyPress\",\"topTextInput\",\"topPaste\"]},compositionEnd:{phasedRegistrationNames:{bubbled:\"onCompositionEnd\",captured:\"onCompositionEndCapture\"},dependencies:\"topBlur topCompositionEnd topKeyDown topKeyPress topKeyUp topMouseDown\".split(\" \")},compositionStart:{phasedRegistrationNames:{bubbled:\"onCompositionStart\",\ncaptured:\"onCompositionStartCapture\"},dependencies:\"topBlur topCompositionStart topKeyDown topKeyPress topKeyUp topMouseDown\".split(\" \")},compositionUpdate:{phasedRegistrationNames:{bubbled:\"onCompositionUpdate\",captured:\"onCompositionUpdateCapture\"},dependencies:\"topBlur topCompositionUpdate topKeyDown topKeyPress topKeyUp topMouseDown\".split(\" \")}},li=!1;\nfunction mi(a,b){switch(a){case \"topKeyUp\":return-1!==ci.indexOf(b.keyCode);case \"topKeyDown\":return 229!==b.keyCode;case \"topKeyPress\":case \"topMouseDown\":case \"topBlur\":return!0;default:return!1}}function ni(a){a=a.detail;return\"object\"===typeof a&&\"data\"in a?a.data:null}var oi=!1;function pi(a,b){switch(a){case \"topCompositionEnd\":return ni(b);case \"topKeyPress\":if(32!==b.which)return null;li=!0;return ji;case \"topTextInput\":return a=b.data,a===ji&&li?null:a;default:return null}}\nfunction qi(a,b){if(oi)return\"topCompositionEnd\"===a||!di&&mi(a,b)?(a=Vh.getData(),Vh.reset(),oi=!1,a):null;switch(a){case \"topPaste\":return null;case \"topKeyPress\":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case \"topCompositionEnd\":return ii?null:b.data;default:return null}}\nvar ri={eventTypes:ki,extractEvents:function(a,b,c,d){var e;if(di)b:{switch(a){case \"topCompositionStart\":var f=ki.compositionStart;break b;case \"topCompositionEnd\":f=ki.compositionEnd;break b;case \"topCompositionUpdate\":f=ki.compositionUpdate;break b}f=void 0}else oi?mi(a,c)&&(f=ki.compositionEnd):\"topKeyDown\"===a&&229===c.keyCode&&(f=ki.compositionStart);f?(ii&&(oi||f!==ki.compositionStart?f===ki.compositionEnd&&oi&&(e=Vh.getData()):oi=Vh.initialize(d)),f=ai.getPooled(f,b,c,d),e?f.data=e:(e=ni(c),\nnull!==e&&(f.data=e)),Th.accumulateTwoPhaseDispatches(f),e=f):e=null;(a=hi?pi(a,c):qi(a,c))?(b=bi.getPooled(ki.beforeInput,b,c,d),b.data=a,Th.accumulateTwoPhaseDispatches(b)):b=null;return[e,b]}},si={color:!0,date:!0,datetime:!0,\"datetime-local\":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ti(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return\"input\"===b?!!si[a.type]:\"textarea\"===b?!0:!1}\nvar ui={change:{phasedRegistrationNames:{bubbled:\"onChange\",captured:\"onChangeCapture\"},dependencies:\"topBlur topChange topClick topFocus topInput topKeyDown topKeyUp topSelectionChange\".split(\" \")}};function vi(a,b,c){a=Y.getPooled(ui.change,a,b,c);a.type=\"change\";nb.enqueueStateRestore(c);Th.accumulateTwoPhaseDispatches(a);return a}var wi=null,xi=null;function yi(a){Jb.enqueueEvents(a);Jb.processEventQueue(!1)}\nfunction zi(a){var b=G.getNodeFromInstance(a);if(Bc.updateValueIfChanged(b))return a}function Ai(a,b){if(\"topChange\"===a)return b}var Bi=!1;l.canUseDOM&&(Bi=Lb(\"input\")&&(!document.documentMode||9<document.documentMode));function Ci(){wi&&(wi.detachEvent(\"onpropertychange\",Di),xi=wi=null)}function Di(a){\"value\"===a.propertyName&&zi(xi)&&(a=vi(xi,a,ub(a)),sb.batchedUpdates(yi,a))}function Ei(a,b,c){\"topFocus\"===a?(Ci(),wi=b,xi=c,wi.attachEvent(\"onpropertychange\",Di)):\"topBlur\"===a&&Ci()}\nfunction Fi(a){if(\"topSelectionChange\"===a||\"topKeyUp\"===a||\"topKeyDown\"===a)return zi(xi)}function Gi(a,b){if(\"topClick\"===a)return zi(b)}function Hi(a,b){if(\"topInput\"===a||\"topChange\"===a)return zi(b)}\nvar Ii={eventTypes:ui,_isInputEventSupported:Bi,extractEvents:function(a,b,c,d){var e=b?G.getNodeFromInstance(b):window,f=e.nodeName&&e.nodeName.toLowerCase();if(\"select\"===f||\"input\"===f&&\"file\"===e.type)var g=Ai;else if(ti(e))if(Bi)g=Hi;else{g=Fi;var h=Ei}else f=e.nodeName,!f||\"input\"!==f.toLowerCase()||\"checkbox\"!==e.type&&\"radio\"!==e.type||(g=Gi);if(g&&(g=g(a,b)))return vi(g,c,d);h&&h(a,e,b);\"topBlur\"===a&&null!=b&&(a=b._wrapperState||e._wrapperState)&&a.controlled&&\"number\"===e.type&&(a=\"\"+e.value,\ne.getAttribute(\"value\")!==a&&e.setAttribute(\"value\",a))}};function Ji(a,b,c,d){return Y.call(this,a,b,c,d)}Y.augmentClass(Ji,{view:function(a){if(a.view)return a.view;a=ub(a);return a.window===a?a:(a=a.ownerDocument)?a.defaultView||a.parentWindow:window},detail:function(a){return a.detail||0}});var Ki={Alt:\"altKey\",Control:\"ctrlKey\",Meta:\"metaKey\",Shift:\"shiftKey\"};function Li(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):(a=Ki[a])?!!b[a]:!1}function Mi(){return Li}\nfunction Ni(a,b,c,d){return Y.call(this,a,b,c,d)}Ji.augmentClass(Ni,{screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Mi,button:null,buttons:null,relatedTarget:function(a){return a.relatedTarget||(a.fromElement===a.srcElement?a.toElement:a.fromElement)}});\nvar Oi={mouseEnter:{registrationName:\"onMouseEnter\",dependencies:[\"topMouseOut\",\"topMouseOver\"]},mouseLeave:{registrationName:\"onMouseLeave\",dependencies:[\"topMouseOut\",\"topMouseOver\"]}},Pi={eventTypes:Oi,extractEvents:function(a,b,c,d){if(\"topMouseOver\"===a&&(c.relatedTarget||c.fromElement)||\"topMouseOut\"!==a&&\"topMouseOver\"!==a)return null;var e=d.window===d?d:(e=d.ownerDocument)?e.defaultView||e.parentWindow:window;\"topMouseOut\"===a?(a=b,b=(b=c.relatedTarget||c.toElement)?G.getClosestInstanceFromNode(b):\nnull):a=null;if(a===b)return null;var f=null==a?e:G.getNodeFromInstance(a);e=null==b?e:G.getNodeFromInstance(b);var g=Ni.getPooled(Oi.mouseLeave,a,c,d);g.type=\"mouseleave\";g.target=f;g.relatedTarget=e;c=Ni.getPooled(Oi.mouseEnter,b,c,d);c.type=\"mouseenter\";c.target=e;c.relatedTarget=f;Th.accumulateEnterLeaveDispatches(g,c,a,b);return[g,c]}},Qi=F.DOCUMENT_NODE,Ri=l.canUseDOM&&\"documentMode\"in document&&11>=document.documentMode,Si={select:{phasedRegistrationNames:{bubbled:\"onSelect\",captured:\"onSelectCapture\"},\ndependencies:\"topBlur topContextMenu topFocus topKeyDown topKeyUp topMouseDown topMouseUp topSelectionChange\".split(\" \")}},Ti=null,Zi=null,$i=null,aj=!1,bj=M.isListeningToAllDependencies;\nfunction cj(a,b){if(aj||null==Ti||Ti!==ia())return null;var c=Ti;\"selectionStart\"in c&&zh.hasSelectionCapabilities(c)?c={start:c.selectionStart,end:c.selectionEnd}:window.getSelection?(c=window.getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}):c=void 0;return $i&&ea($i,c)?null:($i=c,a=Y.getPooled(Si.select,Zi,a,b),a.type=\"select\",a.target=Ti,Th.accumulateTwoPhaseDispatches(a),a)}\nvar dj={eventTypes:Si,extractEvents:function(a,b,c,d){var e=d.window===d?d.document:d.nodeType===Qi?d:d.ownerDocument;if(!e||!bj(\"onSelect\",e))return null;e=b?G.getNodeFromInstance(b):window;switch(a){case \"topFocus\":if(ti(e)||\"true\"===e.contentEditable)Ti=e,Zi=b,$i=null;break;case \"topBlur\":$i=Zi=Ti=null;break;case \"topMouseDown\":aj=!0;break;case \"topContextMenu\":case \"topMouseUp\":return aj=!1,cj(c,d);case \"topSelectionChange\":if(Ri)break;case \"topKeyDown\":case \"topKeyUp\":return cj(c,d)}return null}};\nfunction ej(a,b,c,d){return Y.call(this,a,b,c,d)}Y.augmentClass(ej,{animationName:null,elapsedTime:null,pseudoElement:null});function fj(a,b,c,d){return Y.call(this,a,b,c,d)}Y.augmentClass(fj,{clipboardData:function(a){return\"clipboardData\"in a?a.clipboardData:window.clipboardData}});function gj(a,b,c,d){return Y.call(this,a,b,c,d)}Ji.augmentClass(gj,{relatedTarget:null});function hj(a){var b=a.keyCode;\"charCode\"in a?(a=a.charCode,0===a&&13===b&&(a=13)):a=b;return 32<=a||13===a?a:0}\nvar ij={Esc:\"Escape\",Spacebar:\" \",Left:\"ArrowLeft\",Up:\"ArrowUp\",Right:\"ArrowRight\",Down:\"ArrowDown\",Del:\"Delete\",Win:\"OS\",Menu:\"ContextMenu\",Apps:\"ContextMenu\",Scroll:\"ScrollLock\",MozPrintableKey:\"Unidentified\"},jj={8:\"Backspace\",9:\"Tab\",12:\"Clear\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",\n116:\"F5\",117:\"F6\",118:\"F7\",119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",144:\"NumLock\",145:\"ScrollLock\",224:\"Meta\"};function kj(a,b,c,d){return Y.call(this,a,b,c,d)}\nJi.augmentClass(kj,{key:function(a){if(a.key){var b=ij[a.key]||a.key;if(\"Unidentified\"!==b)return b}return\"keypress\"===a.type?(a=hj(a),13===a?\"Enter\":String.fromCharCode(a)):\"keydown\"===a.type||\"keyup\"===a.type?jj[a.keyCode]||\"Unidentified\":\"\"},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Mi,charCode:function(a){return\"keypress\"===a.type?hj(a):0},keyCode:function(a){return\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0},which:function(a){return\"keypress\"===\na.type?hj(a):\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0}});function lj(a,b,c,d){return Y.call(this,a,b,c,d)}Ni.augmentClass(lj,{dataTransfer:null});function mj(a,b,c,d){return Y.call(this,a,b,c,d)}Ji.augmentClass(mj,{touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Mi});function nj(a,b,c,d){return Y.call(this,a,b,c,d)}Y.augmentClass(nj,{propertyName:null,elapsedTime:null,pseudoElement:null});\nfunction oj(a,b,c,d){return Y.call(this,a,b,c,d)}Ni.augmentClass(oj,{deltaX:function(a){return\"deltaX\"in a?a.deltaX:\"wheelDeltaX\"in a?-a.wheelDeltaX:0},deltaY:function(a){return\"deltaY\"in a?a.deltaY:\"wheelDeltaY\"in a?-a.wheelDeltaY:\"wheelDelta\"in a?-a.wheelDelta:0},deltaZ:null,deltaMode:null});var pj={},qj={};\n\"abort animationEnd animationIteration animationStart blur cancel canPlay canPlayThrough click close contextMenu copy cut doubleClick drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error focus input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing progress rateChange reset scroll seeked seeking stalled submit suspend timeUpdate toggle touchCancel touchEnd touchMove touchStart transitionEnd volumeChange waiting wheel\".split(\" \").forEach(function(a){var b=a[0].toUpperCase()+\na.slice(1),c=\"on\"+b;b=\"top\"+b;c={phasedRegistrationNames:{bubbled:c,captured:c+\"Capture\"},dependencies:[b]};pj[a]=c;qj[b]=c});\nvar rj={eventTypes:pj,extractEvents:function(a,b,c,d){var e=qj[a];if(!e)return null;switch(a){case \"topAbort\":case \"topCancel\":case \"topCanPlay\":case \"topCanPlayThrough\":case \"topClose\":case \"topDurationChange\":case \"topEmptied\":case \"topEncrypted\":case \"topEnded\":case \"topError\":case \"topInput\":case \"topInvalid\":case \"topLoad\":case \"topLoadedData\":case \"topLoadedMetadata\":case \"topLoadStart\":case \"topPause\":case \"topPlay\":case \"topPlaying\":case \"topProgress\":case \"topRateChange\":case \"topReset\":case \"topSeeked\":case \"topSeeking\":case \"topStalled\":case \"topSubmit\":case \"topSuspend\":case \"topTimeUpdate\":case \"topToggle\":case \"topVolumeChange\":case \"topWaiting\":var f=Y;\nbreak;case \"topKeyPress\":if(0===hj(c))return null;case \"topKeyDown\":case \"topKeyUp\":f=kj;break;case \"topBlur\":case \"topFocus\":f=gj;break;case \"topClick\":if(2===c.button)return null;case \"topDoubleClick\":case \"topMouseDown\":case \"topMouseMove\":case \"topMouseUp\":case \"topMouseOut\":case \"topMouseOver\":case \"topContextMenu\":f=Ni;break;case \"topDrag\":case \"topDragEnd\":case \"topDragEnter\":case \"topDragExit\":case \"topDragLeave\":case \"topDragOver\":case \"topDragStart\":case \"topDrop\":f=lj;break;case \"topTouchCancel\":case \"topTouchEnd\":case \"topTouchMove\":case \"topTouchStart\":f=\nmj;break;case \"topAnimationEnd\":case \"topAnimationIteration\":case \"topAnimationStart\":f=ej;break;case \"topTransitionEnd\":f=nj;break;case \"topScroll\":f=Ji;break;case \"topWheel\":f=oj;break;case \"topCopy\":case \"topCut\":case \"topPaste\":f=fj}f?void 0:w(\"86\",a);a=f.getPooled(e,b,c,d);Th.accumulateTwoPhaseDispatches(a);return a}};L.setHandleTopLevel(M.handleTopLevel);Jb.injection.injectEventPluginOrder(\"ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin\".split(\" \"));\nib.injection.injectComponentTree(G);Jb.injection.injectEventPluginsByName({SimpleEventPlugin:rj,EnterLeaveEventPlugin:Pi,ChangeEventPlugin:Ii,SelectEventPlugin:dj,BeforeInputEventPlugin:ri});\nvar sj=A.injection.MUST_USE_PROPERTY,Z=A.injection.HAS_BOOLEAN_VALUE,tj=A.injection.HAS_NUMERIC_VALUE,uj=A.injection.HAS_POSITIVE_NUMERIC_VALUE,vj=A.injection.HAS_STRING_BOOLEAN_VALUE,wj={Properties:{allowFullScreen:Z,allowTransparency:vj,async:Z,autoPlay:Z,capture:Z,checked:sj|Z,cols:uj,contentEditable:vj,controls:Z,\"default\":Z,defer:Z,disabled:Z,download:A.injection.HAS_OVERLOADED_BOOLEAN_VALUE,draggable:vj,formNoValidate:Z,hidden:Z,loop:Z,multiple:sj|Z,muted:sj|Z,noValidate:Z,open:Z,playsInline:Z,\nreadOnly:Z,required:Z,reversed:Z,rows:uj,rowSpan:tj,scoped:Z,seamless:Z,selected:sj|Z,size:uj,start:tj,span:uj,spellCheck:vj,style:0,itemScope:Z,acceptCharset:0,className:0,htmlFor:0,httpEquiv:0,value:vj},DOMAttributeNames:{acceptCharset:\"accept-charset\",className:\"class\",htmlFor:\"for\",httpEquiv:\"http-equiv\"},DOMMutationMethods:{value:function(a,b){if(null==b)return a.removeAttribute(\"value\");\"number\"!==a.type||!1===a.hasAttribute(\"value\")?a.setAttribute(\"value\",\"\"+b):a.validity&&!a.validity.badInput&&\na.ownerDocument.activeElement!==a&&a.setAttribute(\"value\",\"\"+b)}}},xj=A.injection.HAS_STRING_BOOLEAN_VALUE,yj={xlink:\"http://www.w3.org/1999/xlink\",xml:\"http://www.w3.org/XML/1998/namespace\"},zj={Properties:{autoReverse:xj,externalResourcesRequired:xj,preserveAlpha:xj},DOMAttributeNames:{autoReverse:\"autoReverse\",externalResourcesRequired:\"externalResourcesRequired\",preserveAlpha:\"preserveAlpha\"},DOMAttributeNamespaces:{xlinkActuate:yj.xlink,xlinkArcrole:yj.xlink,xlinkHref:yj.xlink,xlinkRole:yj.xlink,\nxlinkShow:yj.xlink,xlinkTitle:yj.xlink,xlinkType:yj.xlink,xmlBase:yj.xml,xmlLang:yj.xml,xmlSpace:yj.xml}},Aj=/[\\-\\:]([a-z])/g;function Bj(a){return a[1].toUpperCase()}\n\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode x-height xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xmlns:xlink xml:lang xml:space\".split(\" \").forEach(function(a){var b=a.replace(Aj,\nBj);zj.Properties[b]=0;zj.DOMAttributeNames[b]=a});A.injection.injectDOMPropertyConfig(wj);A.injection.injectDOMPropertyConfig(zj);\nvar Cj=ig.injectInternals,Dj=F.ELEMENT_NODE,Ej=F.TEXT_NODE,Fj=F.COMMENT_NODE,Gj=F.DOCUMENT_NODE,Hj=F.DOCUMENT_FRAGMENT_NODE,Ij=A.ROOT_ATTRIBUTE_NAME,Jj=ka.getChildNamespace,Kj=N.createElement,Lj=N.createTextNode,Mj=N.setInitialProperties,Nj=N.diffProperties,Oj=N.updateProperties,Pj=N.diffHydratedProperties,Qj=N.diffHydratedText,Rj=N.warnForDeletedHydratableElement,Sj=N.warnForDeletedHydratableText,Tj=N.warnForInsertedHydratedElement,Uj=N.warnForInsertedHydratedText,Vj=G.precacheFiberNode,Wj=G.updateFiberProps;\nnb.injection.injectFiberControlledHostComponent(N);Dh._injectFiber(function(a){return Xj.findHostInstance(a)});var Yj=null,Zj=null;function ak(a){return!(!a||a.nodeType!==Dj&&a.nodeType!==Gj&&a.nodeType!==Hj&&(a.nodeType!==Fj||\" react-mount-point-unstable \"!==a.nodeValue))}function bk(a){a=a?a.nodeType===Gj?a.documentElement:a.firstChild:null;return!(!a||a.nodeType!==Dj||!a.hasAttribute(Ij))}\nvar Xj=function(a){var b=a.getPublicInstance;a=hh(a);var c=a.scheduleUpdate,d=a.getPriorityContext;return{createContainer:function(a){var b=ee();a={current:b,containerInfo:a,isScheduled:!1,nextScheduledRoot:null,context:null,pendingContext:null};return b.stateNode=a},updateContainer:function(a,b,g,h){var e=b.current;g=jh(g);null===b.context?b.context=g:b.pendingContext=g;b=h;h=d(e,ed.enableAsyncSubtreeAPI&&null!=a&&null!=a.type&&null!=a.type.prototype&&!0===a.type.prototype.unstable_isAsyncReactComponent);\na={element:a};kh(e,a,void 0===b?null:b,h);c(e,h)},batchedUpdates:a.batchedUpdates,unbatchedUpdates:a.unbatchedUpdates,deferredUpdates:a.deferredUpdates,flushSync:a.flushSync,getPublicRootInstance:function(a){a=a.current;if(!a.child)return null;switch(a.child.tag){case oh:return b(a.child.stateNode);default:return a.child.stateNode}},findHostInstance:function(a){a=ph(a);return null===a?null:a.stateNode},findHostInstanceWithNoPortals:function(a){a=qh(a);return null===a?null:a.stateNode}}}({getRootHostContext:function(a){if(a.nodeType===\nGj)a=(a=a.documentElement)?a.namespaceURI:Jj(null,\"\");else{var b=a.nodeType===Fj?a.parentNode:a;a=b.namespaceURI||null;b=b.tagName;a=Jj(a,b)}return a},getChildHostContext:function(a,b){return Jj(a,b)},getPublicInstance:function(a){return a},prepareForCommit:function(){Yj=M.isEnabled();Zj=zh.getSelectionInformation();M.setEnabled(!1)},resetAfterCommit:function(){zh.restoreSelection(Zj);Zj=null;M.setEnabled(Yj);Yj=null},createInstance:function(a,b,c,d,e){a=Kj(a,b,c,d);Vj(e,a);Wj(a,b);return a},appendInitialChild:function(a,\nb){a.appendChild(b)},finalizeInitialChildren:function(a,b,c,d){Mj(a,b,c,d);a:{switch(b){case \"button\":case \"input\":case \"select\":case \"textarea\":a=!!c.autoFocus;break a}a=!1}return a},prepareUpdate:function(a,b,c,d,e){return Nj(a,b,c,d,e)},commitMount:function(a){a.focus()},commitUpdate:function(a,b,c,d,e){Wj(a,e);Oj(a,b,c,d,e)},shouldSetTextContent:function(a,b){return\"textarea\"===a||\"string\"===typeof b.children||\"number\"===typeof b.children||\"object\"===typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&\n\"string\"===typeof b.dangerouslySetInnerHTML.__html},resetTextContent:function(a){a.textContent=\"\"},shouldDeprioritizeSubtree:function(a,b){return!!b.hidden},createTextInstance:function(a,b,c,d){a=Lj(a,b);Vj(d,a);return a},commitTextUpdate:function(a,b,c){a.nodeValue=c},appendChild:function(a,b){a.appendChild(b)},appendChildToContainer:function(a,b){a.nodeType===Fj?a.parentNode.insertBefore(b,a):a.appendChild(b)},insertBefore:function(a,b,c){a.insertBefore(b,c)},insertInContainerBefore:function(a,\nb,c){a.nodeType===Fj?a.parentNode.insertBefore(b,c):a.insertBefore(b,c)},removeChild:function(a,b){a.removeChild(b)},removeChildFromContainer:function(a,b){a.nodeType===Fj?a.parentNode.removeChild(b):a.removeChild(b)},canHydrateInstance:function(a,b){return a.nodeType===Dj&&b===a.nodeName.toLowerCase()},canHydrateTextInstance:function(a,b){return\"\"===b?!1:a.nodeType===Ej},getNextHydratableSibling:function(a){for(a=a.nextSibling;a&&a.nodeType!==Dj&&a.nodeType!==Ej;)a=a.nextSibling;return a},getFirstHydratableChild:function(a){for(a=\na.firstChild;a&&a.nodeType!==Dj&&a.nodeType!==Ej;)a=a.nextSibling;return a},hydrateInstance:function(a,b,c,d,e,f){Vj(f,a);Wj(a,c);return Pj(a,b,c,e,d)},hydrateTextInstance:function(a,b,c){Vj(c,a);return Qj(a,b)},didNotHydrateInstance:function(a,b){1===b.nodeType?Rj(a,b):Sj(a,b)},didNotFindHydratableInstance:function(a,b,c){Tj(a,b,c)},didNotFindHydratableTextInstance:function(a,b){Uj(a,b)},scheduleDeferredCallback:dd.rIC,useSyncScheduling:!0});sb.injection.injectFiberBatchedUpdates(Xj.batchedUpdates);\nfunction ck(a,b,c,d,e){ak(c)?void 0:w(\"200\");var f=c._reactRootContainer;if(f)Xj.updateContainer(b,f,a,e);else{if(!d&&!bk(c))for(d=void 0;d=c.lastChild;)c.removeChild(d);var g=Xj.createContainer(c);f=c._reactRootContainer=g;Xj.unbatchedUpdates(function(){Xj.updateContainer(b,g,a,e)})}return Xj.getPublicRootInstance(f)}function dk(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;ak(b)?void 0:w(\"200\");return ne.createPortal(a,b,null,c)}\nvar ek={createPortal:dk,hydrate:function(a,b,c){return ck(null,a,b,!0,c)},render:function(a,b,c){return ck(null,a,b,!1,c)},unstable_renderSubtreeIntoContainer:function(a,b,c,d){null!=a&&Pa.has(a)?void 0:w(\"38\");return ck(a,b,c,!1,d)},unmountComponentAtNode:function(a){ak(a)?void 0:w(\"40\");return a._reactRootContainer?(Xj.unbatchedUpdates(function(){ck(null,null,a,!1,function(){a._reactRootContainer=null})}),!0):!1},findDOMNode:Dh,unstable_createPortal:dk,unstable_batchedUpdates:sb.batchedUpdates,\nunstable_deferredUpdates:Xj.deferredUpdates,flushSync:Xj.flushSync,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:Jb,EventPluginRegistry:sa,EventPropagators:Th,ReactControlledComponent:nb,ReactDOMComponentTree:G,ReactDOMEventListener:L}};Cj({findFiberByHostInstance:G.getClosestInstanceFromNode,findHostInstanceByFiber:Xj.findHostInstance,bundleType:0,version:\"16.0.0\",rendererPackageName:\"react-dom\"});module.exports=ek;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-dom/cjs/react-dom.production.min.js\n// module id = 110\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  position: 'absolute',\n  width: '1px',\n  height: '1px',\n  padding: '0px',\n  margin: '-1px',\n  overflow: 'hidden',\n  clip: 'rect(0px, 0px, 0px, 0px)',\n  border: '0px'\n};\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-fontawesome/lib/screen-reader-styles.js\n// module id = 111\n// module chunks = 0","// @remove-on-eject-begin\n/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n// @remove-on-eject-end\n'use strict';\n\nif (typeof Promise === 'undefined') {\n  // Rejection tracking prevents a common issue where React gets into an\n  // inconsistent state due to an error, but it gets swallowed by a Promise,\n  // and the user has no idea what causes React's erratic future behavior.\n  require('promise/lib/rejection-tracking').enable();\n  window.Promise = require('promise/lib/es6-extensions.js');\n}\n\n// fetch() polyfill for making API calls.\nrequire('whatwg-fetch');\n\n// Object.assign() is commonly used with React.\n// It will use the native implementation if it's present and isn't buggy.\nObject.assign = require('object-assign');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-scripts/config/polyfills.js\n// module id = 112\n// module chunks = 0","(function(self) {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob()\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ]\n\n    var isDataView = function(obj) {\n      return obj && DataView.prototype.isPrototypeOf(obj)\n    }\n\n    var isArrayBufferView = ArrayBuffer.isView || function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift()\n        return {done: value === undefined, value: value}\n      }\n    }\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      }\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var oldValue = this.map[name]\n    this.map[name] = oldValue ? oldValue+','+value : value\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name)\n    return this.has(name) ? this.map[name] : null\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value)\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this)\n      }\n    }\n  }\n\n  Headers.prototype.keys = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push(name) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.values = function() {\n    var items = []\n    this.forEach(function(value) { items.push(value) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.entries = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push([name, value]) })\n    return iteratorFor(items)\n  }\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsArrayBuffer(blob)\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsText(blob)\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf)\n    var chars = new Array(view.length)\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i])\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength)\n      view.set(new Uint8Array(buf))\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (!body) {\n        this._bodyText = ''\n      } else if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString()\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer)\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer])\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body)\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8')\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type)\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n        }\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      }\n    }\n\n    this.text = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = String(input)\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, { body: this._bodyInit })\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers()\n    rawHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':')\n      var key = parts.shift().trim()\n      if (key) {\n        var value = parts.join(':').trim()\n        headers.append(key, value)\n      }\n    })\n    return headers\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this.type = 'default'\n    this.status = 'status' in options ? options.status : 200\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = 'statusText' in options ? options.statusText : 'OK'\n    this.headers = new Headers(options.headers)\n    this.url = options.url || ''\n    this._initBody(bodyInit)\n  }\n\n  Body.call(Response.prototype)\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  }\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''})\n    response.type = 'error'\n    return response\n  }\n\n  var redirectStatuses = [301, 302, 303, 307, 308]\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  }\n\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init)\n      var xhr = new XMLHttpRequest()\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        }\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n        var body = 'response' in xhr ? xhr.response : xhr.responseText\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})(typeof self !== 'undefined' ? self : this);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-scripts/~/whatwg-fetch/fetch.js\n// module id = 113\n// module chunks = 0","/*\n React v16.0.0\n react.production.min.js\n\n Copyright (c) 2013-present, Facebook, Inc.\n\n This source code is licensed under the MIT license found in the\n LICENSE file in the root directory of this source tree.\n*/\n'use strict';var f=require(\"object-assign\"),p=require(\"fbjs/lib/emptyObject\");require(\"fbjs/lib/invariant\");var r=require(\"fbjs/lib/emptyFunction\");\nfunction t(a){for(var b=arguments.length-1,d=\"Minified React error #\"+a+\"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant\\x3d\"+a,e=0;e<b;e++)d+=\"\\x26args[]\\x3d\"+encodeURIComponent(arguments[e+1]);b=Error(d+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\");b.name=\"Invariant Violation\";b.framesToPop=1;throw b;}\nvar u={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};function v(a,b,d){this.props=a;this.context=b;this.refs=p;this.updater=d||u}v.prototype.isReactComponent={};v.prototype.setState=function(a,b){\"object\"!==typeof a&&\"function\"!==typeof a&&null!=a?t(\"85\"):void 0;this.updater.enqueueSetState(this,a,b,\"setState\")};v.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,\"forceUpdate\")};\nfunction w(a,b,d){this.props=a;this.context=b;this.refs=p;this.updater=d||u}function x(){}x.prototype=v.prototype;var y=w.prototype=new x;y.constructor=w;f(y,v.prototype);y.isPureReactComponent=!0;function z(a,b,d){this.props=a;this.context=b;this.refs=p;this.updater=d||u}var A=z.prototype=new x;A.constructor=z;f(A,v.prototype);A.unstable_isAsyncReactComponent=!0;A.render=function(){return this.props.children};\nvar B={Component:v,PureComponent:w,AsyncComponent:z},C={current:null},D=Object.prototype.hasOwnProperty,E=\"function\"===typeof Symbol&&Symbol[\"for\"]&&Symbol[\"for\"](\"react.element\")||60103,F={key:!0,ref:!0,__self:!0,__source:!0};function G(a,b,d,e,c,g,k){return{$$typeof:E,type:a,key:b,ref:d,props:k,_owner:g}}\nG.createElement=function(a,b,d){var e,c={},g=null,k=null,m=null,q=null;if(null!=b)for(e in void 0!==b.ref&&(k=b.ref),void 0!==b.key&&(g=\"\"+b.key),m=void 0===b.__self?null:b.__self,q=void 0===b.__source?null:b.__source,b)D.call(b,e)&&!F.hasOwnProperty(e)&&(c[e]=b[e]);var l=arguments.length-2;if(1===l)c.children=d;else if(1<l){for(var h=Array(l),n=0;n<l;n++)h[n]=arguments[n+2];c.children=h}if(a&&a.defaultProps)for(e in l=a.defaultProps,l)void 0===c[e]&&(c[e]=l[e]);return G(a,g,k,m,q,C.current,c)};\nG.createFactory=function(a){var b=G.createElement.bind(null,a);b.type=a;return b};G.cloneAndReplaceKey=function(a,b){return G(a.type,b,a.ref,a._self,a._source,a._owner,a.props)};\nG.cloneElement=function(a,b,d){var e=f({},a.props),c=a.key,g=a.ref,k=a._self,m=a._source,q=a._owner;if(null!=b){void 0!==b.ref&&(g=b.ref,q=C.current);void 0!==b.key&&(c=\"\"+b.key);if(a.type&&a.type.defaultProps)var l=a.type.defaultProps;for(h in b)D.call(b,h)&&!F.hasOwnProperty(h)&&(e[h]=void 0===b[h]&&void 0!==l?l[h]:b[h])}var h=arguments.length-2;if(1===h)e.children=d;else if(1<h){l=Array(h);for(var n=0;n<h;n++)l[n]=arguments[n+2];e.children=l}return G(a.type,c,g,k,m,q,e)};\nG.isValidElement=function(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===E};var H=\"function\"===typeof Symbol&&Symbol.iterator,I=\"function\"===typeof Symbol&&Symbol[\"for\"]&&Symbol[\"for\"](\"react.element\")||60103;function escape(a){var b={\"\\x3d\":\"\\x3d0\",\":\":\"\\x3d2\"};return\"$\"+(\"\"+a).replace(/[=:]/g,function(a){return b[a]})}var J=/\\/+/g,K=[];\nfunction L(a,b,d,e){if(K.length){var c=K.pop();c.result=a;c.keyPrefix=b;c.func=d;c.context=e;c.count=0;return c}return{result:a,keyPrefix:b,func:d,context:e,count:0}}function M(a){a.result=null;a.keyPrefix=null;a.func=null;a.context=null;a.count=0;10>K.length&&K.push(a)}\nfunction N(a,b,d,e){var c=typeof a;if(\"undefined\"===c||\"boolean\"===c)a=null;if(null===a||\"string\"===c||\"number\"===c||\"object\"===c&&a.$$typeof===I)return d(e,a,\"\"===b?\".\"+O(a,0):b),1;var g=0;b=\"\"===b?\".\":b+\":\";if(Array.isArray(a))for(var k=0;k<a.length;k++){c=a[k];var m=b+O(c,k);g+=N(c,m,d,e)}else if(m=H&&a[H]||a[\"@@iterator\"],\"function\"===typeof m)for(a=m.call(a),k=0;!(c=a.next()).done;)c=c.value,m=b+O(c,k++),g+=N(c,m,d,e);else\"object\"===c&&(d=\"\"+a,t(\"31\",\"[object Object]\"===d?\"object with keys {\"+\nObject.keys(a).join(\", \")+\"}\":d,\"\"));return g}function O(a,b){return\"object\"===typeof a&&null!==a&&null!=a.key?escape(a.key):b.toString(36)}function P(a,b){a.func.call(a.context,b,a.count++)}function Q(a,b,d){var e=a.result,c=a.keyPrefix;a=a.func.call(a.context,b,a.count++);Array.isArray(a)?R(a,e,d,r.thatReturnsArgument):null!=a&&(G.isValidElement(a)&&(a=G.cloneAndReplaceKey(a,c+(!a.key||b&&b.key===a.key?\"\":(\"\"+a.key).replace(J,\"$\\x26/\")+\"/\")+d)),e.push(a))}\nfunction R(a,b,d,e,c){var g=\"\";null!=d&&(g=(\"\"+d).replace(J,\"$\\x26/\")+\"/\");b=L(b,g,e,c);null==a||N(a,\"\",Q,b);M(b)}var S={forEach:function(a,b,d){if(null==a)return a;b=L(null,null,b,d);null==a||N(a,\"\",P,b);M(b)},map:function(a,b,d){if(null==a)return a;var e=[];R(a,e,null,b,d);return e},count:function(a){return null==a?0:N(a,\"\",r.thatReturnsNull,null)},toArray:function(a){var b=[];R(a,b,null,r.thatReturnsArgument);return b}};\nmodule.exports={Children:{map:S.map,forEach:S.forEach,count:S.count,toArray:S.toArray,only:function(a){G.isValidElement(a)?void 0:t(\"143\");return a}},Component:B.Component,PureComponent:B.PureComponent,unstable_AsyncComponent:B.AsyncComponent,createElement:G.createElement,cloneElement:G.cloneElement,isValidElement:G.isValidElement,createFactory:G.createFactory,version:\"16.0.0\",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:C,assign:f}};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react/cjs/react.production.min.js\n// module id = 114\n// module chunks = 0","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports['default'] = applyMiddleware;\n\nvar _compose = require('./compose');\n\nvar _compose2 = _interopRequireDefault(_compose);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function (reducer, preloadedState, enhancer) {\n      var store = createStore(reducer, preloadedState, enhancer);\n      var _dispatch = store.dispatch;\n      var chain = [];\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch(action) {\n          return _dispatch(action);\n        }\n      };\n      chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = _compose2['default'].apply(undefined, chain)(store.dispatch);\n\n      return _extends({}, store, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/redux/lib/applyMiddleware.js\n// module id = 115\n// module chunks = 0","'use strict';\n\nexports.__esModule = true;\nexports['default'] = bindActionCreators;\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(undefined, arguments));\n  };\n}\n\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass a single function as the first argument,\n * and get a function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error('bindActionCreators expected an object or a function, instead received ' + (actionCreators === null ? 'null' : typeof actionCreators) + '. ' + 'Did you write \"import ActionCreators from\" instead of \"import * as ActionCreators from\"?');\n  }\n\n  var keys = Object.keys(actionCreators);\n  var boundActionCreators = {};\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var actionCreator = actionCreators[key];\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n  return boundActionCreators;\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/redux/lib/bindActionCreators.js\n// module id = 116\n// module chunks = 0","'use strict';\n\nexports.__esModule = true;\nexports['default'] = combineReducers;\n\nvar _createStore = require('./createStore');\n\nvar _isPlainObject = require('lodash/isPlainObject');\n\nvar _isPlainObject2 = _interopRequireDefault(_isPlainObject);\n\nvar _warning = require('./utils/warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction getUndefinedStateErrorMessage(key, action) {\n  var actionType = action && action.type;\n  var actionName = actionType && '\"' + actionType.toString() + '\"' || 'an action';\n\n  return 'Given action ' + actionName + ', reducer \"' + key + '\" returned undefined. ' + 'To ignore an action, you must explicitly return the previous state. ' + 'If you want this reducer to hold no value, you can return null instead of undefined.';\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === _createStore.ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!(0, _isPlainObject2['default'])(inputState)) {\n    return 'The ' + argumentName + ' has unexpected type of \"' + {}.toString.call(inputState).match(/\\s([a-z|A-Z]+)/)[1] + '\". Expected argument to be an object with the following ' + ('keys: \"' + reducerKeys.join('\", \"') + '\"');\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n\n  if (unexpectedKeys.length > 0) {\n    return 'Unexpected ' + (unexpectedKeys.length > 1 ? 'keys' : 'key') + ' ' + ('\"' + unexpectedKeys.join('\", \"') + '\" found in ' + argumentName + '. ') + 'Expected to find one of the known reducer keys instead: ' + ('\"' + reducerKeys.join('\", \"') + '\". Unexpected keys will be ignored.');\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, { type: _createStore.ActionTypes.INIT });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error('Reducer \"' + key + '\" returned undefined during initialization. ' + 'If the state passed to the reducer is undefined, you must ' + 'explicitly return the initial state. The initial state may ' + 'not be undefined. If you don\\'t want to set a value for this reducer, ' + 'you can use null instead of undefined.');\n    }\n\n    var type = '@@redux/PROBE_UNKNOWN_ACTION_' + Math.random().toString(36).substring(7).split('').join('.');\n    if (typeof reducer(undefined, { type: type }) === 'undefined') {\n      throw new Error('Reducer \"' + key + '\" returned undefined when probed with a random type. ' + ('Don\\'t try to handle ' + _createStore.ActionTypes.INIT + ' or other actions in \"redux/*\" ') + 'namespace. They are considered private. Instead, you must return the ' + 'current state for any unknown actions, unless it is undefined, ' + 'in which case you must return the initial state, regardless of the ' + 'action type. The initial state may not be undefined, but can be null.');\n    }\n  });\n}\n\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        (0, _warning2['default'])('No reducer provided for key \"' + key + '\"');\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n  var finalReducerKeys = Object.keys(finalReducers);\n\n  var unexpectedKeyCache = void 0;\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError = void 0;\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination() {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var action = arguments[1];\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n      if (warningMessage) {\n        (0, _warning2['default'])(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n      if (typeof nextStateForKey === 'undefined') {\n        var errorMessage = getUndefinedStateErrorMessage(_key, action);\n        throw new Error(errorMessage);\n      }\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n    return hasChanged ? nextState : state;\n  };\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/redux/lib/combineReducers.js\n// module id = 117\n// module chunks = 0","module.exports = require('./lib/index');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/symbol-observable/index.js\n// module id = 118\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _ponyfill = require('./ponyfill');\n\nvar _ponyfill2 = _interopRequireDefault(_ponyfill);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar root; /* global window */\n\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (typeof module !== 'undefined') {\n  root = module;\n} else {\n  root = Function('return this')();\n}\n\nvar result = (0, _ponyfill2['default'])(root);\nexports['default'] = result;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/symbol-observable/lib/index.js\n// module id = 119\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports['default'] = symbolObservablePonyfill;\nfunction symbolObservablePonyfill(root) {\n\tvar result;\n\tvar _Symbol = root.Symbol;\n\n\tif (typeof _Symbol === 'function') {\n\t\tif (_Symbol.observable) {\n\t\t\tresult = _Symbol.observable;\n\t\t} else {\n\t\t\tresult = _Symbol('observable');\n\t\t\t_Symbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/symbol-observable/lib/ponyfill.js\n// module id = 120\n// module chunks = 0","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo3MEYwOEQ4MDMwMzJFNDExOUZGN0MyRjAwQkZFNDkwMSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo4NkNFODE2MzMyM0QxMUU0OTc2NkEyNzVGRDRDQUREMiIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo4NkNFODE2MjMyM0QxMUU0OTc2NkEyNzVGRDRDQUREMiIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjM3Q0UwRDg3MzgzMkU0MTE5RkY3QzJGMDBCRkU0OTAxIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjcwRjA4RDgwMzAzMkU0MTE5RkY3QzJGMDBCRkU0OTAxIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+nXk3UAAAAjtJREFUeNrU1ktIVFEcx/FRhExEei0kULQkiijMKduo0RNCEHuQRohgggsVJbRSNy2qRSK4qIjohRARk5YgGvmoVSEWRe9EzHJVkFZEoInT9w+/gXGasjngwgMf7uDcOeee/+Nco/x+v2cuR7RnjkdM4MPh+jOBj+moxVYsxnvcQhO+Bf/48umjEe+gAHcxgM1YgkNIxGOsjHQHUYEcsIP1XHqQg7dIk36Mo8JugxfTf5swdFfBO6jDSU1+CvdRrRDdwFn8wB7XJG9XrFejCOvQhgnkoxE+3ee0gMX7E1bgmfLRgG0qBrvuwiKnKmJ8xCol0ybLxBaUoBcH8QqjrjvwKZGf8QAJeI0NWsRC9Ut/b3SpIgvRUyX6Es4rD7sxhevqgyOqtj71yz+rKThEY9iJOziAVtX9S31vE5ZhEjvwSCU9gi8K4+3QEg5ttEFYP1zBRnzVwtYHVZp8IZoRiyTE4Y2+f4KU2c6iKdV9qXaSgYfoVPwvahEr57VYjmTtxh6sW/fNzEGYM2lGrnAOWYjHGizFBZWuR6EtxFV8IAcnIjlN7SnKdbXfLECL+sXK+Ttytah1/D6X49omH1a8LVzZCmUHjqt/NuEdUl3fB2MKxXMtaP1ioWhXTuwBlqk4nBawA3CvwnVPlWRHygtcUxXuV8n+0Qf/M27qfCpGnp7WynlIrMRr9LIKX0XhRkhlpakUu1RZg3oh2ZMfQ6UdO4FOdnknDwU1ocX+p15KXh2SvrBn0bz9r+K3AAMAvVSdlmlN6ucAAAAASUVORK5CYII=\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/icons/WidthOn.png\n// module id = 121\n// module chunks = 0","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAAB3RJTUUH1AgfBgU3vDbVaQAAAAlwSFlzAAAPPAAADzwBFzqfWQAAAwBQTFRFAAAA////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////Bz0LCAAAAAJ0Uk5T/wDltzBKAAAARUlEQVR42mNgxAIYsPEYkMUZoGwGJNVwNoLAUIWmngHVNFQ2iitQnQQTZACqRkfYVaJrg1qFUE20IMnehGtFNZhIQSAAABhlAUeIwcHOAAAAAElFTkSuQmCC\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/icons/editContourVertextOnOff.png\n// module id = 122\n// module chunks = 0","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAACWUExURezp2L3CsAAAAH91jbamy9Sx1NXVxL2u0MvA2yEeEZy460hBJUU/JAC+ACQhE4qi2Zaw5JCp3se72Ap3Hsi82cq+2qK/8XeKtWNfTb+x0nSEsG19pH6QtWFfU8S31nt1Wpax5Xp0WoeeynBrVMm92WhkVsGz02JfU21oU5m06Mq/2se62MS21bmqzsW517ipzbyu0P///wUDcXkAAAAydFJOU/////////////////////////////////////////////////////////////////8ADVCY7wAAAO1JREFUeNpiMMQCAAKIAZsgQABhFQQIIAZDeW5uZTgXwgEIIAZFKX5+aQk2iBiUAxBADDwCClyCfIwQQSgHIICAglxigny8wmAI4TACBBCDhoymkrg6KwMIsEI4jAABxGCoyskpy8gEFmSCcNgAAojBkI2RkZENqhLIMWRkMwQIIKg7YSohACCAoIIwlRAAEEBYVQIEEFaVAAHEwIwJDAECiIGZg4NJSAiE5OSYJCWZWFiYGAECCCgowi6qwi6iza6jxs6uywISBAggoKCoFoeoioiemoE+CxgwMQIEEAMzEwZgBAggBkNGTAAQYABIRSX4H75PxQAAAABJRU5ErkJggg==\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/icons/measureContour.png\n// module id = 123\n// module chunks = 0","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAABOUExURezp2AAAAH91jb3CsE9PT83C3CQhE7amy9Sx1ImFdL2u0AC+AMq+2si82Qp3Hsm92cvA28Gz07ipzcq/2se62LmqzsS21cW517yu0P///44+OfEAAAAadFJOU/////////////////////////////////8AFCIA2gAAAMxJREFUeNpikMQCAAKIAZsgQABhFQQIIAYWFklJTjYoD8oBCCAGIAMuJgnlAAQQUDsLG5JOMAcggBiAykGaoADCAQggBqByDhYWbj4w5GTjAJkLEEAg2xkZEIARpB4ggECCHEiCHCBBgADCqhIggLCqBAggrCoBAgirSoAAYmDCBJIAAcTAxMrKiIy4uBiZAQIIKMjLxcPPxSvCJSbIxSXKzs7OyAwQQAxMAjzCAjz8vOKCEkLsYMDIDBBADEyMGIAZIIAYJJkxAUCAAQCiZRN3sUCgAwAAAABJRU5ErkJggg==\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/icons/measurePoints.png\n// module id = 124\n// module chunks = 0","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tmodule.children = [];\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/module.js\n// module id = 125\n// module chunks = 0"],"sourceRoot":""}